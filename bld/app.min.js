webpackJsonp([0],{"./node_modules/babel-polyfill/lib/index.js":function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[i](e,t,{writable:!0,configurable:!0,value:n})}if(n("./node_modules/core-js/shim.js"),n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/fn/regexp/escape.js"),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-n(e)}function o(e){var t,i,o,r,s,a,l=e.length;s=n(e),a=new c(3*l/4-s),o=s>0?l-4:l;var d=0;for(t=0,i=0;t<o;t+=4,i+=3)r=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],a[d++]=r>>16&255,a[d++]=r>>8&255,a[d++]=255&r;return 2===s?(r=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,a[d++]=255&r):1===s&&(r=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,a[d++]=r>>8&255,a[d++]=255&r),a}function r(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var i,o=[],s=t;s<n;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(r(i));return o.join("")}function a(e){for(var t,n=e.length,i=n%3,o="",r=[],a=16383,u=0,c=n-i;u<c;u+=a)r.push(s(e,u,u+a>c?c:u+a));return 1===i?(t=e[n-1],o+=l[t>>2],o+=l[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=l[t>>10],o+=l[t>>4&63],o+=l[t<<2&63],o+="="),r.push(o),r.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=a;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=d.length;h<m;++h)l[h]=d[h],u[d.charCodeAt(h)]=h;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,n){"use strict";(function(e,i){function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function r(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,n){if(r()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,i){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,i);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,n,i)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,i):"string"==typeof t?d(e,t,n):p(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,i){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}function c(t,n){if(l(n),t=s(t,n<0?0:0|f(n)),!e.TYPED_ARRAY_SUPPORT)for(var i=0;i<n;++i)t[i]=0;return t}function d(t,n,i){if("string"==typeof i&&""!==i||(i="utf8"),!e.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var o=0|g(n,i);t=s(t,o);var r=t.write(n,i);return r!==o&&(t=t.slice(0,r)),t}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function m(t,n,i,o){if(n.byteLength,i<0||n.byteLength<i)throw new RangeError("'offset' is out of bounds");if(n.byteLength<i+(o||0))throw new RangeError("'length' is out of bounds");return n=void 0===i&&void 0===o?new Uint8Array(n):void 0===o?new Uint8Array(n,i):new Uint8Array(n,i,o),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=h(t,n),t}function p(t,n){if(e.isBuffer(n)){var i=0|f(n.length);return t=s(t,i),0===t.length?t:(n.copy(t,0,0,i),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||X(n.length)?s(t,0):h(t,n);if("Buffer"===n.type&&$(n.data))return h(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function _(t){return+t!=t&&(t=0),e.alloc(+t)}function g(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(t).length;default:if(o)return q(t).length;n=(""+n).toLowerCase(),o=!0}}function v(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function b(t,n,i,o,r){if(0===t.length)return-1;if("string"==typeof i?(o=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof n&&(n=e.from(n,o)),e.isBuffer(n))return 0===n.length?-1:w(t,n,i,o,r);if("number"==typeof n)return n&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,n,i):Uint8Array.prototype.lastIndexOf.call(t,n,i):w(t,[n],i,o,r);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,i,o){function r(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}var u;if(o){var c=-1;for(u=n;u<a;u++)if(r(e,u)===r(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*s}else c!==-1&&(u-=u-c),c=-1}else for(n+l>a&&(n=a-l),u=n;u>=0;u--){for(var d=!0,h=0;h<l;h++)if(r(e,u+h)!==r(t,h)){d=!1;break}if(d)return u}return-1}function C(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i),i>o&&(i=o)):i=o;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function E(e,t,n,i){return Y(q(t,e.length-n),e,n,i)}function S(e,t,n,i){return Y(J(t),e,n,i)}function I(e,t,n,i){return S(e,t,n,i)}function x(e,t,n,i){return Y(G(t),e,n,i)}function j(e,t,n,i){return Y(K(t,e.length-n),e,n,i)}function k(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var r=e[o],s=null,a=r>239?4:r>223?3:r>191?2:1;if(o+a<=n){var l,u,c,d;switch(a){case 1:r<128&&(s=r);break;case 2:l=e[o+1],128===(192&l)&&(d=(31&r)<<6|63&l,d>127&&(s=d));break;case 3:l=e[o+1],u=e[o+2],128===(192&l)&&128===(192&u)&&(d=(15&r)<<12|(63&l)<<6|63&u,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:l=e[o+1],u=e[o+2],c=e[o+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(d=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&c,d>65535&&d<1114112&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),o+=a}return T(i)}function T(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ee));return n}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}function M(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=t;r<n;++r)o+=U(e[r]);return o}function D(e,t,n){for(var i=e.slice(t,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,n,i,o,r,s){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>r||n<s)throw new RangeError('"value" argument is out of bounds');if(i+o>t.length)throw new RangeError("Index out of range")}function B(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function F(e,t,n,i,o,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,i,o){return o||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,i,23,4),n+4}function H(e,t,n,i,o){return o||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,i,52,8),n+8}function W(e){if(e=V(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,i=e.length,o=null,r=[],s=0;s<i;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,i,o,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),i=n>>8,o=n%256,r.push(o),r.push(i);return r}function G(e){return Z.toByteArray(W(e))}function Y(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function X(e){return e!==e}var Z=n("./node_modules/base64-js/index.js"),Q=n("./node_modules/ieee754/index.js"),$=n("./node_modules/isarray/index.js");t.Buffer=e,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=r(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return a(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return u(null,e,t,n)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,o=n.length,r=0,s=Math.min(i,o);r<s;++r)if(t[r]!==n[r]){i=t[r],o=n[r];break}return i<o?-1:o<i?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var o=e.allocUnsafe(n),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!e.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,r),r+=s.length}return o},e.byteLength=g,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,i,o,r){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),n<0||i>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&n>=i)return 0;if(o>=r)return-1;if(n>=i)return 1;if(n>>>=0,i>>>=0,o>>>=0,r>>>=0,this===t)return 0;for(var s=r-o,a=i-n,l=Math.min(s,a),u=this.slice(o,r),c=t.slice(n,i),d=0;d<l;++d)if(u[d]!==c[d]){s=u[d],a=c[d];break}return s<a?-1:a<s?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},e.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),n<t&&(n=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=this.subarray(t,n),o.__proto__=e.prototype;else{var r=n-t;o=new e(r,void 0);for(var s=0;s<r;++s)o[s]=this[s+t]}return o},e.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i},e.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var i=t,o=1,r=this[e+--i];i>0&&(o*=256);)r+=this[e+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;N(this,e,t,n,o,0)}var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;N(this,e,t,n,o,0)}var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):B(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):B(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):R(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var r=0,s=1,a=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var r=n-1,s=1,a=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):B(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):B(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):R(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n|=0,i||N(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,o){if(i||(i=0),o||0===o||(o=this.length),n>=t.length&&(n=t.length),n||(n=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-n<o-i&&(o=t.length-n+i);var r,s=o-i;if(this===t&&i<n&&n<o)for(r=s-1;r>=0;--r)t[r+n]=this[r+i];else if(s<1e3||!e.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+n]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),n);return s},e.prototype.fill=function(t,n,i,o){if("string"==typeof t){if("string"==typeof n?(o=n,n=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!e.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var s;if("number"==typeof t)for(s=n;s<i;++s)this[s]=t;else{var a=e.isBuffer(t)?t:q(new e(t,o).toString()),l=a.length;for(s=0;s<i-n;++s)this[s+n]=a[s%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n("./node_modules/buffer/index.js").Buffer,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/cookies-js/dist/cookies.js":function(e,t,n){var i;!function(o,r){"use strict";var s=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return n===r?r:decodeURIComponent(n)},t.set=function(e,n,i){return i=t._getExtendedOptions(i),i.expires=t._getExpiresDate(n===r?-1:i.expires),t._document.cookie=t._generateCookieString(e,n,i),t},t.expire=function(e,n){return t.set(e,r,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==r?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},i=e?e.split("; "):[],o=0;o<i.length;o++){var s=t._getKeyValuePairFromCookieString(i[o]);n[t._cacheKeyPrefix+s.key]===r&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,i=e.substr(0,t);try{n=decodeURIComponent(i)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+i+'"',e)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},a=o&&"object"==typeof o.document?s(o):s;i=function(){return a}.call(t,n,t,e),!(i!==r&&(e.exports=i))}("undefined"==typeof window?this:window)},"./node_modules/core-js/fn/regexp/escape.js":function(e,t,n){n("./node_modules/core-js/modules/core.regexp.escape.js"),e.exports=n("./node_modules/core-js/modules/_core.js").RegExp.escape},"./node_modules/core-js/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_a-number-value.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_cof.js");e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_wks.js")("unscopables"),o=Array.prototype;void 0==o[i]&&n("./node_modules/core-js/modules/_hide.js")(o,i,{}),e.exports=function(e){o[i][e]=!0}},"./node_modules/core-js/modules/_an-instance.js":function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-copy-within.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_to-object.js"),o=n("./node_modules/core-js/modules/_to-index.js"),r=n("./node_modules/core-js/modules/_to-length.js");e.exports=[].copyWithin||function(e,t){var n=i(this),s=r(n.length),a=o(e,s),l=o(t,s),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?s:o(u,s))-l,s-a),d=1;for(l<a&&a<l+c&&(d=-1,l+=c-1,a+=c-1);c-- >0;)l in n?n[a]=n[l]:delete n[a],a+=d,l+=d;return n}},"./node_modules/core-js/modules/_array-fill.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_to-object.js"),o=n("./node_modules/core-js/modules/_to-index.js"),r=n("./node_modules/core-js/modules/_to-length.js");e.exports=function(e){for(var t=i(this),n=r(t.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:o(l,n);u>a;)t[a++]=e;return t}},"./node_modules/core-js/modules/_array-from-iterable.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_for-of.js");e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},"./node_modules/core-js/modules/_array-includes.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-iobject.js"),o=n("./node_modules/core-js/modules/_to-length.js"),r=n("./node_modules/core-js/modules/_to-index.js");e.exports=function(e){return function(t,n,s){var a,l=i(t),u=o(l.length),c=r(s,u);if(e&&n!=n){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},"./node_modules/core-js/modules/_array-methods.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_ctx.js"),o=n("./node_modules/core-js/modules/_iobject.js"),r=n("./node_modules/core-js/modules/_to-object.js"),s=n("./node_modules/core-js/modules/_to-length.js"),a=n("./node_modules/core-js/modules/_array-species-create.js");e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,m=t||a;return function(t,a,p){for(var f,_,g=r(t),v=o(g),y=i(a,p,3),b=s(v.length),w=0,C=n?m(t,b):l?m(t,0):void 0;b>w;w++)if((h||w in v)&&(f=v[w],_=y(f,w,g),e))if(n)C[w]=_;else if(_)switch(e){case 3:return!0;case 5:return f;case 6:return w;case 2:C.push(f)}else if(c)return!1;return d?-1:u||c?c:C}}},"./node_modules/core-js/modules/_array-reduce.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_a-function.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_iobject.js"),s=n("./node_modules/core-js/modules/_to-length.js");e.exports=function(e,t,n,a,l){i(t);var u=o(e),c=r(u),d=s(u.length),h=l?d-1:0,m=l?-1:1;if(n<2)for(;;){if(h in c){a=c[h],h+=m;break}if(h+=m,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=m)h in c&&(a=t(a,c[h],h,u));return a}},"./node_modules/core-js/modules/_array-species-constructor.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_is-array.js"),r=n("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),i(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},"./node_modules/core-js/modules/_array-species-create.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_array-species-constructor.js");e.exports=function(e,t){return new(i(e))(t)}},"./node_modules/core-js/modules/_bind.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_a-function.js"),o=n("./node_modules/core-js/modules/_is-object.js"),r=n("./node_modules/core-js/modules/_invoke.js"),s=[].slice,a={},l=function(e,t,n){if(!(t in a)){for(var i=[],o=0;o<t;o++)i[o]="a["+o+"]";a[t]=Function("F,a","return new F("+i.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?l(t,i.length,i):r(t,i,e)};return o(t.prototype)&&(a.prototype=t.prototype),a}},"./node_modules/core-js/modules/_classof.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_cof.js"),o=n("./node_modules/core-js/modules/_wks.js")("toStringTag"),r="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:r?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},"./node_modules/core-js/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_collection-strong.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_object-dp.js").f,o=n("./node_modules/core-js/modules/_object-create.js"),r=n("./node_modules/core-js/modules/_redefine-all.js"),s=n("./node_modules/core-js/modules/_ctx.js"),a=n("./node_modules/core-js/modules/_an-instance.js"),l=n("./node_modules/core-js/modules/_defined.js"),u=n("./node_modules/core-js/modules/_for-of.js"),c=n("./node_modules/core-js/modules/_iter-define.js"),d=n("./node_modules/core-js/modules/_iter-step.js"),h=n("./node_modules/core-js/modules/_set-species.js"),m=n("./node_modules/core-js/modules/_descriptors.js"),p=n("./node_modules/core-js/modules/_meta.js").fastKey,f=m?"_s":"size",_=function(e,t){var n,i=p(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var d=e(function(e,i){a(e,d,t,"_i"),e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=i&&u(i,n,e[c],e)});return r(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var t=this,n=_(t,e);if(n){var i=n.n,o=n.p;delete t._i[n.i],
n.r=!0,o&&(o.n=i),i&&(i.p=o),t._f==n&&(t._f=i),t._l==n&&(t._l=o),t[f]--}return!!n},forEach:function(e){a(this,d,"forEach");for(var t,n=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!_(this,e)}}),m&&i(d.prototype,"size",{get:function(){return l(this[f])}}),d},def:function(e,t,n){var i,o,r=_(e,t);return r?r.v=n:(e._l=r={i:o=p(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=r),i&&(i.n=r),e[f]++,"F"!==o&&(e._i[o]=r)),e},getEntry:_,setStrong:function(e,t,n){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),h(t)}}},"./node_modules/core-js/modules/_collection-to-json.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_classof.js"),o=n("./node_modules/core-js/modules/_array-from-iterable.js");e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},"./node_modules/core-js/modules/_collection-weak.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_redefine-all.js"),o=n("./node_modules/core-js/modules/_meta.js").getWeak,r=n("./node_modules/core-js/modules/_an-object.js"),s=n("./node_modules/core-js/modules/_is-object.js"),a=n("./node_modules/core-js/modules/_an-instance.js"),l=n("./node_modules/core-js/modules/_for-of.js"),u=n("./node_modules/core-js/modules/_array-methods.js"),c=n("./node_modules/core-js/modules/_has.js"),d=u(5),h=u(6),m=0,p=function(e){return e._l||(e._l=new f)},f=function(){this.a=[]},_=function(e,t){return d(e.a,function(e){return e[0]===t})};f.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var u=e(function(e,i){a(e,u,t,"_i"),e._i=m++,e._l=void 0,void 0!=i&&l(i,n,e[r],e)});return i(u.prototype,{delete:function(e){if(!s(e))return!1;var t=o(e);return t===!0?p(this).delete(e):t&&c(t,this._i)&&delete t[this._i]},has:function(e){if(!s(e))return!1;var t=o(e);return t===!0?p(this).has(e):t&&c(t,this._i)}}),u},def:function(e,t,n){var i=o(r(t),!0);return i===!0?p(e).set(t,n):i[e._i]=n,e},ufstore:p}},"./node_modules/core-js/modules/_collection.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_redefine.js"),s=n("./node_modules/core-js/modules/_redefine-all.js"),a=n("./node_modules/core-js/modules/_meta.js"),l=n("./node_modules/core-js/modules/_for-of.js"),u=n("./node_modules/core-js/modules/_an-instance.js"),c=n("./node_modules/core-js/modules/_is-object.js"),d=n("./node_modules/core-js/modules/_fails.js"),h=n("./node_modules/core-js/modules/_iter-detect.js"),m=n("./node_modules/core-js/modules/_set-to-string-tag.js"),p=n("./node_modules/core-js/modules/_inherit-if-required.js");e.exports=function(e,t,n,f,_,g){var v=i[e],y=v,b=_?"set":"add",w=y&&y.prototype,C={},E=function(e){var t=w[e];r(w,e,"delete"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(g||w.forEach&&!d(function(){(new y).entries().next()}))){var S=new y,I=S[b](g?{}:-0,1)!=S,x=d(function(){S.has(1)}),j=h(function(e){new y(e)}),k=!g&&d(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});j||(y=t(function(t,n){u(t,y,e);var i=p(new v,t,y);return void 0!=n&&l(n,_,i[b],i),i}),y.prototype=w,w.constructor=y),(x||k)&&(E("delete"),E("has"),_&&E("get")),(k||I)&&E(b),g&&w.clear&&delete w.clear}else y=f.getConstructor(t,e,_,b),s(y.prototype,n),a.NEED=!0;return m(y,e),C[e]=y,o(o.G+o.W+o.F*(y!=v),C),g||f.setStrong(y,e,_),y}},"./node_modules/core-js/modules/_core.js":function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},"./node_modules/core-js/modules/_create-property.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_property-desc.js");e.exports=function(e,t,n){t in e?i.f(e,t,o(0,n)):e[t]=n}},"./node_modules/core-js/modules/_ctx.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_date-to-primitive.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_to-primitive.js"),r="number";e.exports=function(e){if("string"!==e&&e!==r&&"default"!==e)throw TypeError("Incorrect hint");return o(i(this),e!=r)}},"./node_modules/core-js/modules/_defined.js":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_global.js").document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_enum-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-keys.js"),o=n("./node_modules/core-js/modules/_object-gops.js"),r=n("./node_modules/core-js/modules/_object-pie.js");e.exports=function(e){var t=i(e),n=o.f;if(n)for(var s,a=n(e),l=r.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},"./node_modules/core-js/modules/_export.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_core.js"),r=n("./node_modules/core-js/modules/_hide.js"),s=n("./node_modules/core-js/modules/_redefine.js"),a=n("./node_modules/core-js/modules/_ctx.js"),l="prototype",u=function(e,t,n){var c,d,h,m,p=e&u.F,f=e&u.G,_=e&u.S,g=e&u.P,v=e&u.B,y=f?i:_?i[t]||(i[t]={}):(i[t]||{})[l],b=f?o:o[t]||(o[t]={}),w=b[l]||(b[l]={});f&&(n=t);for(c in n)d=!p&&y&&void 0!==y[c],h=(d?y:n)[c],m=v&&d?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,y&&s(y,c,h,e&u.U),b[c]!=h&&r(b,c,m),g&&w[c]!=h&&(w[c]=h)};i.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"./node_modules/core-js/modules/_fails-is-regexp.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},"./node_modules/core-js/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_fix-re-wks.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_hide.js"),o=n("./node_modules/core-js/modules/_redefine.js"),r=n("./node_modules/core-js/modules/_fails.js"),s=n("./node_modules/core-js/modules/_defined.js"),a=n("./node_modules/core-js/modules/_wks.js");e.exports=function(e,t,n){var l=a(e),u=n(s,l,""[e]),c=u[0],d=u[1];r(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,c),i(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},"./node_modules/core-js/modules/_flags.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_an-object.js");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"./node_modules/core-js/modules/_for-of.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_ctx.js"),o=n("./node_modules/core-js/modules/_iter-call.js"),r=n("./node_modules/core-js/modules/_is-array-iter.js"),s=n("./node_modules/core-js/modules/_an-object.js"),a=n("./node_modules/core-js/modules/_to-length.js"),l=n("./node_modules/core-js/modules/core.get-iterator-method.js"),u={},c={},t=e.exports=function(e,t,n,d,h){var m,p,f,_,g=h?function(){return e}:l(e),v=i(n,d,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(r(g)){for(m=a(e.length);m>y;y++)if(_=t?v(s(p=e[y])[0],p[1]):v(e[y]),_===u||_===c)return _}else for(f=g.call(e);!(p=f.next()).done;)if(_=o(f,v,p.value,t),_===u||_===c)return _};t.BREAK=u,t.RETURN=c},"./node_modules/core-js/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/core-js/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/modules/_hide.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_property-desc.js");e.exports=n("./node_modules/core-js/modules/_descriptors.js")?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/modules/_html.js":function(e,t,n){e.exports=n("./node_modules/core-js/modules/_global.js").document&&document.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/core-js/modules/_descriptors.js")&&!n("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(n("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_inherit-if-required.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_set-proto.js").set;e.exports=function(e,t,n){var r,s=t.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&i(r)&&o&&o(e,r),e}},"./node_modules/core-js/modules/_invoke.js":function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"./node_modules/core-js/modules/_iobject.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-array-iter.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_iterators.js"),o=n("./node_modules/core-js/modules/_wks.js")("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},"./node_modules/core-js/modules/_is-array.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"./node_modules/core-js/modules/_is-integer.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&o(e)===e}},"./node_modules/core-js/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_is-regexp.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_cof.js"),r=n("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},"./node_modules/core-js/modules/_iter-call.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_an-object.js");e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},"./node_modules/core-js/modules/_iter-create.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_object-create.js"),o=n("./node_modules/core-js/modules/_property-desc.js"),r=n("./node_modules/core-js/modules/_set-to-string-tag.js"),s={};n("./node_modules/core-js/modules/_hide.js")(s,n("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:o(1,n)}),r(e,t+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_library.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_redefine.js"),s=n("./node_modules/core-js/modules/_hide.js"),a=n("./node_modules/core-js/modules/_has.js"),l=n("./node_modules/core-js/modules/_iterators.js"),u=n("./node_modules/core-js/modules/_iter-create.js"),c=n("./node_modules/core-js/modules/_set-to-string-tag.js"),d=n("./node_modules/core-js/modules/_object-gpo.js"),h=n("./node_modules/core-js/modules/_wks.js")("iterator"),m=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",_="values",g=function(){return this};e.exports=function(e,t,n,v,y,b,w){u(n,t,v);var C,E,S,I=function(e){if(!m&&e in P)return P[e];switch(e){case f:return function(){return new n(this,e)};case _:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",j=y==_,k=!1,P=e.prototype,T=P[h]||P[p]||y&&P[y],O=T||I(y),A=y?j?I("entries"):O:void 0,M="Array"==t?P.entries||T:T;if(M&&(S=d(M.call(new e)),S!==Object.prototype&&(c(S,x,!0),i||a(S,h)||s(S,h,g))),j&&T&&T.name!==_&&(k=!0,O=function(){return T.call(this)}),i&&!w||!m&&!k&&P[h]||s(P,h,O),l[t]=O,l[x]=g,y)if(C={values:j?O:I(_),keys:b?O:I(f),entries:A},w)for(E in C)E in P||r(P,E,C[E]);else o(o.P+o.F*(m||k),t,C);return C}},"./node_modules/core-js/modules/_iter-detect.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_wks.js")("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],s=r[i]();s.next=function(){return{done:n=!0}},r[i]=function(){return s},e(r)}catch(e){}return n}},"./node_modules/core-js/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/modules/_keyof.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-keys.js"),o=n("./node_modules/core-js/modules/_to-iobject.js");e.exports=function(e,t){for(var n,r=o(e),s=i(r),a=s.length,l=0;a>l;)if(r[n=s[l++]]===t)return n}},"./node_modules/core-js/modules/_library.js":function(e,t){e.exports=!1},"./node_modules/core-js/modules/_math-expm1.js":function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},"./node_modules/core-js/modules/_math-log1p.js":function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},"./node_modules/core-js/modules/_math-sign.js":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"./node_modules/core-js/modules/_meta.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_uid.js")("meta"),o=n("./node_modules/core-js/modules/_is-object.js"),r=n("./node_modules/core-js/modules/_has.js"),s=n("./node_modules/core-js/modules/_object-dp.js").f,a=0,l=Object.isExtensible||function(){return!0},u=!n("./node_modules/core-js/modules/_fails.js")(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},h=function(e,t){if(!r(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},m=function(e){return u&&p.NEED&&l(e)&&!r(e,i)&&c(e),e},p=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:m}},"./node_modules/core-js/modules/_metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/es6.map.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_shared.js")("metadata"),s=r.store||(r.store=new(n("./node_modules/core-js/modules/es6.weak-map.js"))),a=function(e,t,n){var o=s.get(e);if(!o){if(!n)return;s.set(e,o=new i)}var r=o.get(t);if(!r){if(!n)return;o.set(t,r=new i)}return r},l=function(e,t,n){var i=a(t,n,!1);return void 0!==i&&i.has(e)},u=function(e,t,n){var i=a(t,n,!1);return void 0===i?void 0:i.get(e)},c=function(e,t,n,i){a(n,i,!0).set(e,t)},d=function(e,t){var n=a(e,t,!1),i=[];return n&&n.forEach(function(e,t){i.push(t)}),i},h=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},m=function(e){o(o.S,"Reflect",e)};e.exports={store:s,map:a,has:l,get:u,set:c,keys:d,key:h,exp:m}},"./node_modules/core-js/modules/_microtask.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_task.js").set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n("./node_modules/core-js/modules/_cof.js")(s);e.exports=function(){var e,t,n,u=function(){var i,o;for(l&&(i=s.domain)&&i.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(r){var c=!0,d=document.createTextNode("");new r(u).observe(d,{characterData:!0}),n=function(){d.data=c=!c}}else if(a&&a.resolve){var h=a.resolve();n=function(){h.then(u)}}else n=function(){o.call(i,u)};return function(i){var o={fn:i,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},"./node_modules/core-js/modules/_object-assign.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_object-keys.js"),o=n("./node_modules/core-js/modules/_object-gops.js"),r=n("./node_modules/core-js/modules/_object-pie.js"),s=n("./node_modules/core-js/modules/_to-object.js"),a=n("./node_modules/core-js/modules/_iobject.js"),l=Object.assign;e.exports=!l||n("./node_modules/core-js/modules/_fails.js")(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=s(e),l=arguments.length,u=1,c=o.f,d=r.f;l>u;)for(var h,m=a(arguments[u++]),p=c?i(m).concat(c(m)):i(m),f=p.length,_=0;f>_;)d.call(m,h=p[_++])&&(n[h]=m[h]);return n}:l},"./node_modules/core-js/modules/_object-create.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_object-dps.js"),r=n("./node_modules/core-js/modules/_enum-bug-keys.js"),s=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),a=function(){},l="prototype",u=function(){var e,t=n("./node_modules/core-js/modules/_dom-create.js")("iframe"),i=r.length,o="<",s=">";for(t.style.display="none",n("./node_modules/core-js/modules/_html.js").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+s+"document.F=Object"+o+"/script"+s),e.close(),u=e.F;i--;)delete u[l][r[i]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[l]=i(e),n=new a,a[l]=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},"./node_modules/core-js/modules/_object-dp.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_ie8-dom-define.js"),r=n("./node_modules/core-js/modules/_to-primitive.js"),s=Object.defineProperty;t.f=n("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=n("./node_modules/core-js/modules/_object-keys.js");e.exports=n("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var n,s=r(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},"./node_modules/core-js/modules/_object-forced-pam.js":function(e,t,n){e.exports=n("./node_modules/core-js/modules/_library.js")||!n("./node_modules/core-js/modules/_fails.js")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n("./node_modules/core-js/modules/_global.js")[e]})},"./node_modules/core-js/modules/_object-gopd.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-pie.js"),o=n("./node_modules/core-js/modules/_property-desc.js"),r=n("./node_modules/core-js/modules/_to-iobject.js"),s=n("./node_modules/core-js/modules/_to-primitive.js"),a=n("./node_modules/core-js/modules/_has.js"),l=n("./node_modules/core-js/modules/_ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=n("./node_modules/core-js/modules/_descriptors.js")?u:function(e,t){if(e=r(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return o(!i.f.call(e,t),e[t])}},"./node_modules/core-js/modules/_object-gopn-ext.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-iobject.js"),o=n("./node_modules/core-js/modules/_object-gopn.js").f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?a(e):o(i(e))}},"./node_modules/core-js/modules/_object-gopn.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/modules/_enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},"./node_modules/core-js/modules/_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/modules/_object-gpo.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_has.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_has.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),r=n("./node_modules/core-js/modules/_array-includes.js")(!1),s=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,a=o(e),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~r(u,n)||u.push(n));return u}},"./node_modules/core-js/modules/_object-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return i(e,o)}},"./node_modules/core-js/modules/_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/modules/_object-sap.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_core.js"),r=n("./node_modules/core-js/modules/_fails.js");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},"./node_modules/core-js/modules/_object-to-array.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-keys.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),r=n("./node_modules/core-js/modules/_object-pie.js").f;e.exports=function(e){return function(t){for(var n,s=o(t),a=i(s),l=a.length,u=0,c=[];l>u;)r.call(s,n=a[u++])&&c.push(e?[n,s[n]]:s[n]);return c}}},"./node_modules/core-js/modules/_own-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-gopn.js"),o=n("./node_modules/core-js/modules/_object-gops.js"),r=n("./node_modules/core-js/modules/_an-object.js"),s=n("./node_modules/core-js/modules/_global.js").Reflect;e.exports=s&&s.ownKeys||function(e){var t=i.f(r(e)),n=o.f;return n?t.concat(n(e)):t}},"./node_modules/core-js/modules/_parse-float.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js").parseFloat,o=n("./node_modules/core-js/modules/_string-trim.js").trim;e.exports=1/i(n("./node_modules/core-js/modules/_string-ws.js")+"-0")!==-(1/0)?function(e){var t=o(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},"./node_modules/core-js/modules/_parse-int.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js").parseInt,o=n("./node_modules/core-js/modules/_string-trim.js").trim,r=n("./node_modules/core-js/modules/_string-ws.js"),s=/^[\-+]?0[xX]/;e.exports=8!==i(r+"08")||22!==i(r+"0x16")?function(e,t){var n=o(String(e),3);return i(n,t>>>0||(s.test(n)?16:10))}:i},"./node_modules/core-js/modules/_partial.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_path.js"),o=n("./node_modules/core-js/modules/_invoke.js"),r=n("./node_modules/core-js/modules/_a-function.js");e.exports=function(){for(var e=r(this),t=arguments.length,n=Array(t),s=0,a=i._,l=!1;t>s;)(n[s]=arguments[s++])===a&&(l=!0);return function(){var i,r=this,s=arguments.length,u=0,c=0;if(!l&&!s)return o(e,n,r);if(i=n.slice(),l)for(;t>u;u++)i[u]===a&&(i[u]=arguments[c++]);for(;s>c;)i.push(arguments[c++]);return o(e,i,r)}}},"./node_modules/core-js/modules/_path.js":function(e,t,n){e.exports=n("./node_modules/core-js/modules/_global.js")},"./node_modules/core-js/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine-all.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_redefine.js");e.exports=function(e,t,n){for(var o in t)i(e,o,t[o],n);return e}},"./node_modules/core-js/modules/_redefine.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_hide.js"),r=n("./node_modules/core-js/modules/_has.js"),s=n("./node_modules/core-js/modules/_uid.js")("src"),a="toString",l=Function[a],u=(""+l).split(a);n("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(r(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(r(n,s)||o(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},"./node_modules/core-js/modules/_replacer.js":function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},"./node_modules/core-js/modules/_same-value.js":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"./node_modules/core-js/modules/_set-proto.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n("./node_modules/core-js/modules/_ctx.js")(Function.call,n("./node_modules/core-js/modules/_object-gopd.js").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},"./node_modules/core-js/modules/_set-species.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_object-dp.js"),r=n("./node_modules/core-js/modules/_descriptors.js"),s=n("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var t=i[e];r&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-dp.js").f,o=n("./node_modules/core-js/modules/_has.js"),r=n("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared-key.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_shared.js")("keys"),o=n("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return i[e]||(i[e]=o(e))}},"./node_modules/core-js/modules/_shared.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o="__core-js_shared__",r=i[o]||(i[o]={});e.exports=function(e){return r[e]||(r[e]={})}},"./node_modules/core-js/modules/_species-constructor.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_a-function.js"),r=n("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[r])?t:o(n)}},"./node_modules/core-js/modules/_strict-method.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_fails.js");e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},"./node_modules/core-js/modules/_string-at.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-integer.js"),o=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return function(t,n){var r,s,a=String(o(t)),l=i(n),u=a.length;return l<0||l>=u?e?"":void 0:(r=a.charCodeAt(l),r<55296||r>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):r:e?a.slice(l,l+2):(r-55296<<10)+(s-56320)+65536)}}},"./node_modules/core-js/modules/_string-context.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-regexp.js"),o=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},"./node_modules/core-js/modules/_string-html.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_fails.js"),r=n("./node_modules/core-js/modules/_defined.js"),s=/"/g,a=function(e,t,n,i){var o=String(r(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(a),i(i.P+i.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},"./node_modules/core-js/modules/_string-pad.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-length.js"),o=n("./node_modules/core-js/modules/_string-repeat.js"),r=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e,t,n,s){var a=String(r(e)),l=a.length,u=void 0===n?" ":String(n),c=i(t);if(c<=l||""==u)return a;var d=c-l,h=o.call(u,Math.ceil(d/u.length));return h.length>d&&(h=h.slice(0,d)),s?h+a:a+h}},"./node_modules/core-js/modules/_string-repeat.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_to-integer.js"),o=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},"./node_modules/core-js/modules/_string-trim.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_defined.js"),r=n("./node_modules/core-js/modules/_fails.js"),s=n("./node_modules/core-js/modules/_string-ws.js"),a="["+s+"]",l="​",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),d=function(e,t,n){
var o={},a=r(function(){return!!s[e]()||l[e]()!=l}),u=o[e]=a?t(h):s[e];n&&(o[n]=u),i(i.P+i.F*a,"String",o)},h=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},"./node_modules/core-js/modules/_string-ws.js":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"./node_modules/core-js/modules/_task.js":function(e,t,n){var i,o,r,s=n("./node_modules/core-js/modules/_ctx.js"),a=n("./node_modules/core-js/modules/_invoke.js"),l=n("./node_modules/core-js/modules/_html.js"),u=n("./node_modules/core-js/modules/_dom-create.js"),c=n("./node_modules/core-js/modules/_global.js"),d=c.process,h=c.setImmediate,m=c.clearImmediate,p=c.MessageChannel,f=0,_={},g="onreadystatechange",v=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){v.call(e.data)};h&&m||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++f]=function(){a("function"==typeof e?e:Function(e),t)},i(f),f},m=function(e){delete _[e]},"process"==n("./node_modules/core-js/modules/_cof.js")(d)?i=function(e){d.nextTick(s(v,e,1))}:p?(o=new p,r=o.port2,o.port1.onmessage=y,i=s(r.postMessage,r,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):i=g in u("script")?function(e){l.appendChild(u("script"))[g]=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:h,clear:m}},"./node_modules/core-js/modules/_to-index.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-integer.js"),o=Math.max,r=Math.min;e.exports=function(e,t){return e=i(e),e<0?o(e+t,0):r(e,t)}},"./node_modules/core-js/modules/_to-integer.js":function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_iobject.js"),o=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return i(o(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(i(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_typed-array.js":function(e,t,n){"use strict";if(n("./node_modules/core-js/modules/_descriptors.js")){var i=n("./node_modules/core-js/modules/_library.js"),o=n("./node_modules/core-js/modules/_global.js"),r=n("./node_modules/core-js/modules/_fails.js"),s=n("./node_modules/core-js/modules/_export.js"),a=n("./node_modules/core-js/modules/_typed.js"),l=n("./node_modules/core-js/modules/_typed-buffer.js"),u=n("./node_modules/core-js/modules/_ctx.js"),c=n("./node_modules/core-js/modules/_an-instance.js"),d=n("./node_modules/core-js/modules/_property-desc.js"),h=n("./node_modules/core-js/modules/_hide.js"),m=n("./node_modules/core-js/modules/_redefine-all.js"),p=n("./node_modules/core-js/modules/_to-integer.js"),f=n("./node_modules/core-js/modules/_to-length.js"),_=n("./node_modules/core-js/modules/_to-index.js"),g=n("./node_modules/core-js/modules/_to-primitive.js"),v=n("./node_modules/core-js/modules/_has.js"),y=n("./node_modules/core-js/modules/_same-value.js"),b=n("./node_modules/core-js/modules/_classof.js"),w=n("./node_modules/core-js/modules/_is-object.js"),C=n("./node_modules/core-js/modules/_to-object.js"),E=n("./node_modules/core-js/modules/_is-array-iter.js"),S=n("./node_modules/core-js/modules/_object-create.js"),I=n("./node_modules/core-js/modules/_object-gpo.js"),x=n("./node_modules/core-js/modules/_object-gopn.js").f,j=n("./node_modules/core-js/modules/core.get-iterator-method.js"),k=n("./node_modules/core-js/modules/_uid.js"),P=n("./node_modules/core-js/modules/_wks.js"),T=n("./node_modules/core-js/modules/_array-methods.js"),O=n("./node_modules/core-js/modules/_array-includes.js"),A=n("./node_modules/core-js/modules/_species-constructor.js"),M=n("./node_modules/core-js/modules/es6.array.iterator.js"),D=n("./node_modules/core-js/modules/_iterators.js"),L=n("./node_modules/core-js/modules/_iter-detect.js"),N=n("./node_modules/core-js/modules/_set-species.js"),B=n("./node_modules/core-js/modules/_array-fill.js"),R=n("./node_modules/core-js/modules/_array-copy-within.js"),F=n("./node_modules/core-js/modules/_object-dp.js"),z=n("./node_modules/core-js/modules/_object-gopd.js"),H=F.f,W=z.f,V=o.RangeError,U=o.TypeError,q=o.Uint8Array,J="ArrayBuffer",K="Shared"+J,G="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],Z=l.ArrayBuffer,Q=l.DataView,$=T(0),ee=T(2),te=T(3),ne=T(4),ie=T(5),oe=T(6),re=O(!0),se=O(!1),ae=M.values,le=M.keys,ue=M.entries,ce=X.lastIndexOf,de=X.reduce,he=X.reduceRight,me=X.join,pe=X.sort,fe=X.slice,_e=X.toString,ge=X.toLocaleString,ve=P("iterator"),ye=P("toStringTag"),be=k("typed_constructor"),we=k("def_constructor"),Ce=a.CONSTR,Ee=a.TYPED,Se=a.VIEW,Ie="Wrong length!",xe=T(1,function(e,t){return Ae(A(e,e[we]),t)}),je=r(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),ke=!!q&&!!q[Y].set&&r(function(){new q(1).set({})}),Pe=function(e,t){if(void 0===e)throw U(Ie);var n=+e,i=f(e);if(t&&!y(n,i))throw V(Ie);return i},Te=function(e,t){var n=p(e);if(n<0||n%t)throw V("Wrong offset!");return n},Oe=function(e){if(w(e)&&Ee in e)return e;throw U(e+" is not a typed array!")},Ae=function(e,t){if(!(w(e)&&be in e))throw U("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return De(A(e,e[we]),t)},De=function(e,t){for(var n=0,i=t.length,o=Ae(e,i);i>n;)o[n]=t[n++];return o},Le=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,i,o,r,s,a=C(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,h=j(a);if(void 0!=h&&!E(h)){for(s=h.call(a),i=[],t=0;!(r=s.next()).done;t++)i.push(r.value);a=i}for(d&&l>2&&(c=u(c,arguments[2],2)),t=0,n=f(a.length),o=Ae(this,n);n>t;t++)o[t]=d?c(a[t],t):a[t];return o},Be=function(){for(var e=0,t=arguments.length,n=Ae(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!q&&r(function(){ge.call(new q(1))}),Fe=function(){return ge.apply(Re?fe.call(Oe(this)):Oe(this),arguments)},ze={copyWithin:function(e,t){return R.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Oe(this),arguments)},filter:function(e){return Me(this,ee(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return se(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return me.apply(Oe(this),arguments)},lastIndexOf:function(e){return ce.apply(Oe(this),arguments)},map:function(e){return xe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return de.apply(Oe(this),arguments)},reduceRight:function(e){return he.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,i=Math.floor(n/2),o=0;o<i;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),i=n.length,o=_(e,i);return new(A(n,n[we]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,f((void 0===t?i:_(t,i))-o))}},He=function(e,t){return Me(this,fe.call(Oe(this),e,t))},We=function(e){Oe(this);var t=Te(arguments[1],1),n=this.length,i=C(e),o=f(i.length),r=0;if(o+t>n)throw V(Ie);for(;r<o;)this[t+r]=i[r++]},Ve={entries:function(){return ue.call(Oe(this))},keys:function(){return le.call(Oe(this))},values:function(){return ae.call(Oe(this))}},Ue=function(e,t){return w(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Ue(e,t=g(t,!0))?d(2,e[t]):W(e,t)},Je=function(e,t,n){return!(Ue(e,t=g(t,!0))&&w(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};Ce||(z.f=qe,F.f=Je),s(s.S+s.F*!Ce,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Je}),r(function(){_e.call({})})&&(_e=ge=function(){return me.call(this)});var Ke=m({},ze);m(Ke,Ve),h(Ke,ve,Ve.values),m(Ke,{slice:He,set:We,constructor:function(){},toString:_e,toLocaleString:Fe}),Le(Ke,"buffer","b"),Le(Ke,"byteOffset","o"),Le(Ke,"byteLength","l"),Le(Ke,"length","e"),H(Ke,ye,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,l){l=!!l;var u=e+(l?"Clamped":"")+"Array",d="Uint8Array"!=u,m="get"+e,p="set"+e,_=o[u],g=_||{},v=_&&I(_),y=!_||!a.ABV,C={},E=_&&_[Y],j=function(e,n){var i=e._d;return i.v[m](n*t+i.o,je)},k=function(e,n,i){var o=e._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[p](n*t+o.o,i,je)},P=function(e,t){H(e,t,{get:function(){return j(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};y?(_=n(function(e,n,i,o){c(e,_,u,"_d");var r,s,a,l,d=0,m=0;if(w(n)){if(!(n instanceof Z||(l=b(n))==J||l==K))return Ee in n?De(_,n):Ne.call(_,n);r=n,m=Te(i,t);var p=n.byteLength;if(void 0===o){if(p%t)throw V(Ie);if(s=p-m,s<0)throw V(Ie)}else if(s=f(o)*t,s+m>p)throw V(Ie);a=s/t}else a=Pe(n,!0),s=a*t,r=new Z(s);for(h(e,"_d",{b:r,o:m,l:s,e:a,v:new Q(r)});d<a;)P(e,d++)}),E=_[Y]=S(Ke),h(E,"constructor",_)):L(function(e){new _(null),new _(e)},!0)||(_=n(function(e,n,i,o){c(e,_,u);var r;return w(n)?n instanceof Z||(r=b(n))==J||r==K?void 0!==o?new g(n,Te(i,t),o):void 0!==i?new g(n,Te(i,t)):new g(n):Ee in n?De(_,n):Ne.call(_,n):new g(Pe(n,d))}),$(v!==Function.prototype?x(g).concat(x(v)):x(g),function(e){e in _||h(_,e,g[e])}),_[Y]=E,i||(E.constructor=_));var T=E[ve],O=!!T&&("values"==T.name||void 0==T.name),A=Ve.values;h(_,be,!0),h(E,Ee,u),h(E,Se,!0),h(E,we,_),(l?new _(1)[ye]==u:ye in E)||H(E,ye,{get:function(){return u}}),C[u]=_,s(s.G+s.W+s.F*(_!=g),C),s(s.S,u,{BYTES_PER_ELEMENT:t,from:Ne,of:Be}),G in E||h(E,G,t),s(s.P,u,ze),N(u),s(s.P+s.F*ke,u,{set:We}),s(s.P+s.F*!O,u,Ve),s(s.P+s.F*(E.toString!=_e),u,{toString:_e}),s(s.P+s.F*r(function(){new _(1).slice()}),u,{slice:He}),s(s.P+s.F*(r(function(){return[1,2].toLocaleString()!=new _([1,2]).toLocaleString()})||!r(function(){E.toLocaleString.call([1,2])})),u,{toLocaleString:Fe}),D[u]=O?T:A,i||O||h(E,ve,A)}}else e.exports=function(){}},"./node_modules/core-js/modules/_typed-buffer.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_descriptors.js"),r=n("./node_modules/core-js/modules/_library.js"),s=n("./node_modules/core-js/modules/_typed.js"),a=n("./node_modules/core-js/modules/_hide.js"),l=n("./node_modules/core-js/modules/_redefine-all.js"),u=n("./node_modules/core-js/modules/_fails.js"),c=n("./node_modules/core-js/modules/_an-instance.js"),d=n("./node_modules/core-js/modules/_to-integer.js"),h=n("./node_modules/core-js/modules/_to-length.js"),m=n("./node_modules/core-js/modules/_object-gopn.js").f,p=n("./node_modules/core-js/modules/_object-dp.js").f,f=n("./node_modules/core-js/modules/_array-fill.js"),_=n("./node_modules/core-js/modules/_set-to-string-tag.js"),g="ArrayBuffer",v="DataView",y="prototype",b="Wrong length!",w="Wrong index!",C=i[g],E=i[v],S=i.Math,I=i.RangeError,x=i.Infinity,j=C,k=S.abs,P=S.pow,T=S.floor,O=S.log,A=S.LN2,M="buffer",D="byteLength",L="byteOffset",N=o?"_b":M,B=o?"_l":D,R=o?"_o":L,F=function(e,t,n){var i,o,r,s=Array(n),a=8*n-t-1,l=(1<<a)-1,u=l>>1,c=23===t?P(2,-24)-P(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for(e=k(e),e!=e||e===x?(o=e!=e?1:0,i=l):(i=T(O(e)/A),e*(r=P(2,-i))<1&&(i--,r*=2),e+=i+u>=1?c/r:c*P(2,1-u),e*r>=2&&(i++,r/=2),i+u>=l?(o=0,i=l):i+u>=1?(o=(e*r-1)*P(2,t),i+=u):(o=e*P(2,u-1)*P(2,t),i=0));t>=8;s[d++]=255&o,o/=256,t-=8);for(i=i<<t|o,a+=t;a>0;s[d++]=255&i,i/=256,a-=8);return s[--d]|=128*h,s},z=function(e,t,n){var i,o=8*n-t-1,r=(1<<o)-1,s=r>>1,a=o-7,l=n-1,u=e[l--],c=127&u;for(u>>=7;a>0;c=256*c+e[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=t;a>0;i=256*i+e[l],l--,a-=8);if(0===c)c=1-s;else{if(c===r)return i?NaN:u?-x:x;i+=P(2,t),c-=s}return(u?-1:1)*i*P(2,c-t)},H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},W=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},q=function(e){return F(e,52,8)},J=function(e){return F(e,23,4)},K=function(e,t,n){p(e[y],t,{get:function(){return this[n]}})},G=function(e,t,n,i){var o=+n,r=d(o);if(o!=r||r<0||r+t>e[B])throw I(w);var s=e[N]._b,a=r+e[R],l=s.slice(a,a+t);return i?l:l.reverse()},Y=function(e,t,n,i,o,r){var s=+n,a=d(s);if(s!=a||a<0||a+t>e[B])throw I(w);for(var l=e[N]._b,u=a+e[R],c=i(+o),h=0;h<t;h++)l[u+h]=c[r?h:t-h-1]},X=function(e,t){c(e,C,g);var n=+t,i=h(n);if(n!=i)throw I(b);return i};if(s.ABV){if(!u(function(){new C})||!u(function(){new C(.5)})){C=function(e){return new j(X(this,e))};for(var Z,Q=C[y]=j[y],$=m(j),ee=0;$.length>ee;)(Z=$[ee++])in C||a(C,Z,j[Z]);r||(Q.constructor=C)}var te=new E(new C(2)),ne=E[y].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||l(E[y],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else C=function(e){var t=X(this,e);this._b=f.call(Array(t),0),this[B]=t},E=function(e,t,n){c(this,E,v),c(e,C,v);var i=e[B],o=d(t);if(o<0||o>i)throw I("Wrong offset!");if(n=void 0===n?i-o:h(n),o+n>i)throw I(b);this[N]=e,this[R]=o,this[B]=n},o&&(K(C,D,"_l"),K(E,M,"_b"),K(E,D,"_l"),K(E,L,"_o")),l(E[y],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return H(G(this,4,e,arguments[1]))},getUint32:function(e){return H(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return z(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return z(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Y(this,1,e,W,t)},setUint8:function(e,t){Y(this,1,e,W,t)},setInt16:function(e,t){Y(this,2,e,V,t,arguments[2])},setUint16:function(e,t){Y(this,2,e,V,t,arguments[2])},setInt32:function(e,t){Y(this,4,e,U,t,arguments[2])},setUint32:function(e,t){Y(this,4,e,U,t,arguments[2])},setFloat32:function(e,t){Y(this,4,e,J,t,arguments[2])},setFloat64:function(e,t){Y(this,8,e,q,t,arguments[2])}});_(C,g),_(E,v),a(E[y],s.VIEW,!0),t[g]=C,t[v]=E},"./node_modules/core-js/modules/_typed.js":function(e,t,n){for(var i,o=n("./node_modules/core-js/modules/_global.js"),r=n("./node_modules/core-js/modules/_hide.js"),s=n("./node_modules/core-js/modules/_uid.js"),a=s("typed_array"),l=s("view"),u=!(!o.ArrayBuffer||!o.DataView),c=u,d=0,h=9,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<h;)(i=o[m[d++]])?(r(i.prototype,a,!0),r(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},"./node_modules/core-js/modules/_uid.js":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},"./node_modules/core-js/modules/_wks-define.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_core.js"),r=n("./node_modules/core-js/modules/_library.js"),s=n("./node_modules/core-js/modules/_wks-ext.js"),a=n("./node_modules/core-js/modules/_object-dp.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},"./node_modules/core-js/modules/_wks-ext.js":function(e,t,n){t.f=n("./node_modules/core-js/modules/_wks.js")},"./node_modules/core-js/modules/_wks.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_shared.js")("wks"),o=n("./node_modules/core-js/modules/_uid.js"),r=n("./node_modules/core-js/modules/_global.js").Symbol,s="function"==typeof r,a=e.exports=function(e){return i[e]||(i[e]=s&&r[e]||(s?r:o)("Symbol."+e))};a.store=i},"./node_modules/core-js/modules/core.get-iterator-method.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_classof.js"),o=n("./node_modules/core-js/modules/_wks.js")("iterator"),r=n("./node_modules/core-js/modules/_iterators.js");e.exports=n("./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[i(e)]}},"./node_modules/core-js/modules/core.regexp.escape.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_replacer.js")(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return o(e)}})},"./node_modules/core-js/modules/es6.array.copy-within.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P,"Array",{copyWithin:n("./node_modules/core-js/modules/_array-copy-within.js")}),n("./node_modules/core-js/modules/_add-to-unscopables.js")("copyWithin")},"./node_modules/core-js/modules/es6.array.every.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(4);i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.fill.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P,"Array",{fill:n("./node_modules/core-js/modules/_array-fill.js")}),n("./node_modules/core-js/modules/_add-to-unscopables.js")("fill")},"./node_modules/core-js/modules/es6.array.filter.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(2);i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.find-index.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(6),r="findIndex",s=!0;r in[]&&Array(1)[r](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("./node_modules/core-js/modules/_add-to-unscopables.js")(r)},"./node_modules/core-js/modules/es6.array.find.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(5),r="find",s=!0;r in[]&&Array(1)[r](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("./node_modules/core-js/modules/_add-to-unscopables.js")(r)},"./node_modules/core-js/modules/es6.array.for-each.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(0),r=n("./node_modules/core-js/modules/_strict-method.js")([].forEach,!0);i(i.P+i.F*!r,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.from.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_ctx.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_to-object.js"),s=n("./node_modules/core-js/modules/_iter-call.js"),a=n("./node_modules/core-js/modules/_is-array-iter.js"),l=n("./node_modules/core-js/modules/_to-length.js"),u=n("./node_modules/core-js/modules/_create-property.js"),c=n("./node_modules/core-js/modules/core.get-iterator-method.js");o(o.S+o.F*!n("./node_modules/core-js/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,h=r(e),m="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,_=void 0!==f,g=0,v=c(h);if(_&&(f=i(f,p>2?arguments[2]:void 0,2)),void 0==v||m==Array&&a(v))for(t=l(h.length),n=new m(t);t>g;g++)u(n,g,_?f(h[g],g):h[g]);else for(d=v.call(h),n=new m;!(o=d.next()).done;g++)u(n,g,_?s(d,f,[o.value,g],!0):o.value);return n.length=g,n}})},"./node_modules/core-js/modules/es6.array.index-of.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-includes.js")(!1),r=[].indexOf,s=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n("./node_modules/core-js/modules/_strict-method.js")(r)),"Array",{indexOf:function(e){return s?r.apply(this,arguments)||0:o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.is-array.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Array",{isArray:n("./node_modules/core-js/modules/_is-array.js")})},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_add-to-unscopables.js"),o=n("./node_modules/core-js/modules/_iter-step.js"),r=n("./node_modules/core-js/modules/_iterators.js"),s=n("./node_modules/core-js/modules/_to-iobject.js");e.exports=n("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},"./node_modules/core-js/modules/es6.array.join.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),r=[].join;i(i.P+i.F*(n("./node_modules/core-js/modules/_iobject.js")!=Object||!n("./node_modules/core-js/modules/_strict-method.js")(r)),"Array",{join:function(e){return r.call(o(this),void 0===e?",":e)}})},"./node_modules/core-js/modules/es6.array.last-index-of.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),r=n("./node_modules/core-js/modules/_to-integer.js"),s=n("./node_modules/core-js/modules/_to-length.js"),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n("./node_modules/core-js/modules/_strict-method.js")(a)),"Array",{lastIndexOf:function(e){if(l)return a.apply(this,arguments)||0;var t=o(this),n=s(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,r(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},"./node_modules/core-js/modules/es6.array.map.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(1);i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.of.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_create-property.js");i(i.S+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},"./node_modules/core-js/modules/es6.array.reduce-right.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-reduce.js");i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},"./node_modules/core-js/modules/es6.array.reduce.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-reduce.js");i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},"./node_modules/core-js/modules/es6.array.slice.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_html.js"),r=n("./node_modules/core-js/modules/_cof.js"),s=n("./node_modules/core-js/modules/_to-index.js"),a=n("./node_modules/core-js/modules/_to-length.js"),l=[].slice;i(i.P+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){o&&l.call(o)}),"Array",{slice:function(e,t){var n=a(this.length),i=r(this);if(t=void 0===t?n:t,"Array"==i)return l.call(this,e,t);for(var o=s(e,n),u=s(t,n),c=a(u-o),d=Array(c),h=0;h<c;h++)d[h]="String"==i?this.charAt(o+h):this[o+h];return d}})},"./node_modules/core-js/modules/es6.array.some.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-methods.js")(3);i(i.P+i.F*!n("./node_modules/core-js/modules/_strict-method.js")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},"./node_modules/core-js/modules/es6.array.sort.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_a-function.js"),r=n("./node_modules/core-js/modules/_to-object.js"),s=n("./node_modules/core-js/modules/_fails.js"),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!n("./node_modules/core-js/modules/_strict-method.js")(a)),"Array",{sort:function(e){return void 0===e?a.call(r(this)):a.call(r(this),o(e))}})},"./node_modules/core-js/modules/es6.array.species.js":function(e,t,n){n("./node_modules/core-js/modules/_set-species.js")("Array")},"./node_modules/core-js/modules/es6.date.now.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},"./node_modules/core-js/modules/es6.date.to-iso-string.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_fails.js"),r=Date.prototype.getTime,s=function(e){return e>9?e:"0"+e};i(i.P+i.F*(o(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!o(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}})},"./node_modules/core-js/modules/es6.date.to-json.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_to-primitive.js");i(i.P+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=r(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},"./node_modules/core-js/modules/es6.date.to-primitive.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_wks.js")("toPrimitive"),o=Date.prototype;i in o||n("./node_modules/core-js/modules/_hide.js")(o,i,n("./node_modules/core-js/modules/_date-to-primitive.js"))},"./node_modules/core-js/modules/es6.date.to-string.js":function(e,t,n){var i=Date.prototype,o="Invalid Date",r="toString",s=i[r],a=i.getTime;new Date(NaN)+""!=o&&n("./node_modules/core-js/modules/_redefine.js")(i,r,function(){var e=a.call(this);return e===e?s.call(this):o})},"./node_modules/core-js/modules/es6.function.bind.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P,"Function",{bind:n("./node_modules/core-js/modules/_bind.js")})},"./node_modules/core-js/modules/es6.function.has-instance.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_object-gpo.js"),r=n("./node_modules/core-js/modules/_wks.js")("hasInstance"),s=Function.prototype;r in s||n("./node_modules/core-js/modules/_object-dp.js").f(s,r,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},"./node_modules/core-js/modules/es6.function.name.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-dp.js").f,o=n("./node_modules/core-js/modules/_property-desc.js"),r=n("./node_modules/core-js/modules/_has.js"),s=Function.prototype,a=/^\s*function ([^ (]*)/,l="name",u=Object.isExtensible||function(){return!0};l in s||n("./node_modules/core-js/modules/_descriptors.js")&&i(s,l,{configurable:!0,get:function(){try{var e=this,t=(""+e).match(a)[1];return r(e,l)||!u(e)||i(e,l,o(5,t)),t}catch(e){return""}}})},"./node_modules/core-js/modules/es6.map.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_collection-strong.js");e.exports=n("./node_modules/core-js/modules/_collection.js")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(this,e);return t&&t.v},set:function(e,t){return i.def(this,0===e?0:e,t)}},i,!0)},"./node_modules/core-js/modules/es6.math.acosh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-log1p.js"),r=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+r(e-1)*r(e+1))}})},"./node_modules/core-js/modules/es6.math.asinh.js":function(e,t,n){function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n("./node_modules/core-js/modules/_export.js"),r=Math.asinh;o(o.S+o.F*!(r&&1/r(0)>0),"Math",{asinh:i})},"./node_modules/core-js/modules/es6.math.atanh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=Math.atanh;i(i.S+i.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},"./node_modules/core-js/modules/es6.math.cbrt.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-sign.js");i(i.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},"./node_modules/core-js/modules/es6.math.clz32.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},"./node_modules/core-js/modules/es6.math.cosh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=Math.exp;i(i.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},"./node_modules/core-js/modules/es6.math.expm1.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-expm1.js");i(i.S+i.F*(o!=Math.expm1),"Math",{expm1:o})},"./node_modules/core-js/modules/es6.math.fround.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-sign.js"),r=Math.pow,s=r(2,-52),a=r(2,-23),l=r(2,127)*(2-a),u=r(2,-126),c=function(e){return e+1/s-1/s};i(i.S,"Math",{fround:function(e){var t,n,i=Math.abs(e),r=o(e);return i<u?r*c(i/u/a)*u*a:(t=(1+a/s)*i,n=t-(t-i),n>l||n!=n?r*(1/0):r*n)}})},"./node_modules/core-js/modules/es6.math.hypot.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=Math.abs;
i(i.S,"Math",{hypot:function(e,t){for(var n,i,r=0,s=0,a=arguments.length,l=0;s<a;)n=o(arguments[s++]),l<n?(i=l/n,r=r*i*i+1,l=n):n>0?(i=n/l,r+=i*i):r+=n;return l===1/0?1/0:l*Math.sqrt(r)}})},"./node_modules/core-js/modules/es6.math.imul.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=Math.imul;i(i.S+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){return o(4294967295,5)!=-5||2!=o.length}),"Math",{imul:function(e,t){var n=65535,i=+e,o=+t,r=n&i,s=n&o;return 0|r*s+((n&i>>>16)*s+r*(n&o>>>16)<<16>>>0)}})},"./node_modules/core-js/modules/es6.math.log10.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},"./node_modules/core-js/modules/es6.math.log1p.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{log1p:n("./node_modules/core-js/modules/_math-log1p.js")})},"./node_modules/core-js/modules/es6.math.log2.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},"./node_modules/core-js/modules/es6.math.sign.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{sign:n("./node_modules/core-js/modules/_math-sign.js")})},"./node_modules/core-js/modules/es6.math.sinh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-expm1.js"),r=Math.exp;i(i.S+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},"./node_modules/core-js/modules/es6.math.tanh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_math-expm1.js"),r=Math.exp;i(i.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(r(e)+r(-e))}})},"./node_modules/core-js/modules/es6.math.trunc.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},"./node_modules/core-js/modules/es6.number.constructor.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_has.js"),r=n("./node_modules/core-js/modules/_cof.js"),s=n("./node_modules/core-js/modules/_inherit-if-required.js"),a=n("./node_modules/core-js/modules/_to-primitive.js"),l=n("./node_modules/core-js/modules/_fails.js"),u=n("./node_modules/core-js/modules/_object-gopn.js").f,c=n("./node_modules/core-js/modules/_object-gopd.js").f,d=n("./node_modules/core-js/modules/_object-dp.js").f,h=n("./node_modules/core-js/modules/_string-trim.js").trim,m="Number",p=i[m],f=p,_=p.prototype,g=r(n("./node_modules/core-js/modules/_object-create.js")(_))==m,v="trim"in String.prototype,y=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():h(t,3);var n,i,o,r=t.charCodeAt(0);if(43===r||45===r){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(var s,l=t.slice(2),u=0,c=l.length;u<c;u++)if(s=l.charCodeAt(u),s<48||s>o)return NaN;return parseInt(l,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?l(function(){_.valueOf.call(n)}):r(n)!=m)?s(new f(y(t)),n,p):y(t)};for(var b,w=n("./node_modules/core-js/modules/_descriptors.js")?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;w.length>C;C++)o(f,b=w[C])&&!o(p,b)&&d(p,b,c(f,b));p.prototype=_,_.constructor=p,n("./node_modules/core-js/modules/_redefine.js")(i,m,p)}},"./node_modules/core-js/modules/es6.number.epsilon.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},"./node_modules/core-js/modules/es6.number.is-finite.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_global.js").isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},"./node_modules/core-js/modules/es6.number.is-integer.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Number",{isInteger:n("./node_modules/core-js/modules/_is-integer.js")})},"./node_modules/core-js/modules/es6.number.is-nan.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Number",{isNaN:function(e){return e!=e}})},"./node_modules/core-js/modules/es6.number.is-safe-integer.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_is-integer.js"),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return o(e)&&r(e)<=9007199254740991}})},"./node_modules/core-js/modules/es6.number.max-safe-integer.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"./node_modules/core-js/modules/es6.number.min-safe-integer.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},"./node_modules/core-js/modules/es6.number.parse-float.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_parse-float.js");i(i.S+i.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},"./node_modules/core-js/modules/es6.number.parse-int.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_parse-int.js");i(i.S+i.F*(Number.parseInt!=o),"Number",{parseInt:o})},"./node_modules/core-js/modules/es6.number.to-fixed.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-integer.js"),r=n("./node_modules/core-js/modules/_a-number-value.js"),s=n("./node_modules/core-js/modules/_string-repeat.js"),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d="0",h=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*u[n],u[n]=i%1e7,i=l(i/1e7)},m=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=l(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+s.call(d,7-n.length)+n}return t},f=function(e,t,n){return 0===t?n:t%2===1?f(e,t-1,n*e):f(e*e,t/2,n)},_=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n("./node_modules/core-js/modules/_fails.js")(function(){a.call({})})),"Number",{toFixed:function(e){var t,n,i,a,l=r(this,c),u=o(e),g="",v=d;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(t=_(l*f(2,69,1))-69,n=t<0?l*f(2,-t,1):l/f(2,t,1),n*=4503599627370496,t=52-t,t>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(f(10,i,1),0),i=t-1;i>=23;)m(1<<23),i-=23;m(1<<i),h(1,1),m(2),v=p()}else h(0,n),h(1<<-t,0),v=p()+s.call(d,u);return u>0?(a=v.length,v=g+(a<=u?"0."+s.call(d,u-a)+v:v.slice(0,a-u)+"."+v.slice(a-u))):v=g+v,v}})},"./node_modules/core-js/modules/es6.number.to-precision.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_fails.js"),r=n("./node_modules/core-js/modules/_a-number-value.js"),s=1..toPrecision;i(i.P+i.F*(o(function(){return"1"!==s.call(1,void 0)})||!o(function(){s.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},"./node_modules/core-js/modules/es6.object.assign.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S+i.F,"Object",{assign:n("./node_modules/core-js/modules/_object-assign.js")})},"./node_modules/core-js/modules/es6.object.create.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Object",{create:n("./node_modules/core-js/modules/_object-create.js")})},"./node_modules/core-js/modules/es6.object.define-properties.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S+i.F*!n("./node_modules/core-js/modules/_descriptors.js"),"Object",{defineProperties:n("./node_modules/core-js/modules/_object-dps.js")})},"./node_modules/core-js/modules/es6.object.define-property.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S+i.F*!n("./node_modules/core-js/modules/_descriptors.js"),"Object",{defineProperty:n("./node_modules/core-js/modules/_object-dp.js").f})},"./node_modules/core-js/modules/es6.object.freeze.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_meta.js").onFreeze;n("./node_modules/core-js/modules/_object-sap.js")("freeze",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},"./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-iobject.js"),o=n("./node_modules/core-js/modules/_object-gopd.js").f;n("./node_modules/core-js/modules/_object-sap.js")("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},"./node_modules/core-js/modules/es6.object.get-own-property-names.js":function(e,t,n){n("./node_modules/core-js/modules/_object-sap.js")("getOwnPropertyNames",function(){return n("./node_modules/core-js/modules/_object-gopn-ext.js").f})},"./node_modules/core-js/modules/es6.object.get-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-object.js"),o=n("./node_modules/core-js/modules/_object-gpo.js");n("./node_modules/core-js/modules/_object-sap.js")("getPrototypeOf",function(){return function(e){return o(i(e))}})},"./node_modules/core-js/modules/es6.object.is-extensible.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js");n("./node_modules/core-js/modules/_object-sap.js")("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},"./node_modules/core-js/modules/es6.object.is-frozen.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js");n("./node_modules/core-js/modules/_object-sap.js")("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},"./node_modules/core-js/modules/es6.object.is-sealed.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js");n("./node_modules/core-js/modules/_object-sap.js")("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},"./node_modules/core-js/modules/es6.object.is.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Object",{is:n("./node_modules/core-js/modules/_same-value.js")})},"./node_modules/core-js/modules/es6.object.keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_to-object.js"),o=n("./node_modules/core-js/modules/_object-keys.js");n("./node_modules/core-js/modules/_object-sap.js")("keys",function(){return function(e){return o(i(e))}})},"./node_modules/core-js/modules/es6.object.prevent-extensions.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_meta.js").onFreeze;n("./node_modules/core-js/modules/_object-sap.js")("preventExtensions",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},"./node_modules/core-js/modules/es6.object.seal.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_meta.js").onFreeze;n("./node_modules/core-js/modules/_object-sap.js")("seal",function(e){return function(t){return e&&i(t)?e(o(t)):t}})},"./node_modules/core-js/modules/es6.object.set-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Object",{setPrototypeOf:n("./node_modules/core-js/modules/_set-proto.js").set})},"./node_modules/core-js/modules/es6.object.to-string.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_classof.js"),o={};o[n("./node_modules/core-js/modules/_wks.js")("toStringTag")]="z",o+""!="[object z]"&&n("./node_modules/core-js/modules/_redefine.js")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},"./node_modules/core-js/modules/es6.parse-float.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_parse-float.js");i(i.G+i.F*(parseFloat!=o),{parseFloat:o})},"./node_modules/core-js/modules/es6.parse-int.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_parse-int.js");i(i.G+i.F*(parseInt!=o),{parseInt:o})},"./node_modules/core-js/modules/es6.promise.js":function(e,t,n){"use strict";var i,o,r,s=n("./node_modules/core-js/modules/_library.js"),a=n("./node_modules/core-js/modules/_global.js"),l=n("./node_modules/core-js/modules/_ctx.js"),u=n("./node_modules/core-js/modules/_classof.js"),c=n("./node_modules/core-js/modules/_export.js"),d=n("./node_modules/core-js/modules/_is-object.js"),h=n("./node_modules/core-js/modules/_a-function.js"),m=n("./node_modules/core-js/modules/_an-instance.js"),p=n("./node_modules/core-js/modules/_for-of.js"),f=n("./node_modules/core-js/modules/_species-constructor.js"),_=n("./node_modules/core-js/modules/_task.js").set,g=n("./node_modules/core-js/modules/_microtask.js")(),v="Promise",y=a.TypeError,b=a.process,w=a[v],b=a.process,C="process"==u(b),E=function(){},S=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[n("./node_modules/core-js/modules/_wks.js")("species")]=function(e){e(E,E)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),I=function(e,t){return e===t||e===w&&t===r},x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},j=function(e){return I(w,e)?new k(e):new o(e)},k=o=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw y("Bad Promise constructor");t=e,n=i}),this.resolve=h(t),this.reject=h(n)},P=function(e){try{e()}catch(e){return{error:e}}},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var i=e._v,o=1==e._s,r=0,s=function(t){var n,r,s=o?t.ok:t.fail,a=t.resolve,l=t.reject,u=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),s===!0?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===t.promise?l(y("Promise-chain cycle")):(r=x(n))?r.call(n,a,l):a(n)):l(i)}catch(e){l(e)}};n.length>r;)s(n[r++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){_.call(a,function(){var t,n,i,o=e._v;if(A(e)&&(t=P(function(){C?b.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",o)}),e._h=C||A(e)?2:1),e._a=void 0,t)throw t.error})},A=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!A(t.promise))return!1;return!0},M=function(e){_.call(a,function(){var t;C?b.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=x(e))?g(function(){var i={_w:n,_d:!1};try{t.call(e,l(L,i,1),l(D,i,1))}catch(e){D.call(i,e)}}):(n._v=e,n._s=1,T(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};S||(w=function(e){m(this,w,v,"_h"),h(e),i.call(this);try{e(l(L,this,1),l(D,this,1))}catch(e){D.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("./node_modules/core-js/modules/_redefine-all.js")(w.prototype,{then:function(e,t){var n=j(f(this,w));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),k=function(){var e=new i;this.promise=e,this.resolve=l(L,e,1),this.reject=l(D,e,1)}),c(c.G+c.W+c.F*!S,{Promise:w}),n("./node_modules/core-js/modules/_set-to-string-tag.js")(w,v),n("./node_modules/core-js/modules/_set-species.js")(v),r=n("./node_modules/core-js/modules/_core.js")[v],c(c.S+c.F*!S,v,{reject:function(e){var t=j(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(s||!S),v,{resolve:function(e){if(e instanceof w&&I(e.constructor,this))return e;var t=j(this),n=t.resolve;return n(e),t.promise}}),c(c.S+c.F*!(S&&n("./node_modules/core-js/modules/_iter-detect.js")(function(e){w.all(e).catch(E)})),v,{all:function(e){var t=this,n=j(t),i=n.resolve,o=n.reject,r=P(function(){var n=[],r=0,s=1;p(e,!1,function(e){var a=r++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[a]=e,--s||i(n))},o)}),--s||i(n)});return r&&o(r.error),n.promise},race:function(e){var t=this,n=j(t),i=n.reject,o=P(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return o&&i(o.error),n.promise}})},"./node_modules/core-js/modules/es6.reflect.apply.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_a-function.js"),r=n("./node_modules/core-js/modules/_an-object.js"),s=(n("./node_modules/core-js/modules/_global.js").Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n("./node_modules/core-js/modules/_fails.js")(function(){s(function(){})}),"Reflect",{apply:function(e,t,n){var i=o(e),l=r(n);return s?s(i,t,l):a.call(i,t,l)}})},"./node_modules/core-js/modules/es6.reflect.construct.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_object-create.js"),r=n("./node_modules/core-js/modules/_a-function.js"),s=n("./node_modules/core-js/modules/_an-object.js"),a=n("./node_modules/core-js/modules/_is-object.js"),l=n("./node_modules/core-js/modules/_fails.js"),u=n("./node_modules/core-js/modules/_bind.js"),c=(n("./node_modules/core-js/modules/_global.js").Reflect||{}).construct,d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),h=!l(function(){c(function(){})});i(i.S+i.F*(d||h),"Reflect",{construct:function(e,t){r(e),s(t);var n=arguments.length<3?e:r(arguments[2]);if(h&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(u.apply(e,i))}var l=n.prototype,m=o(a(l)?l:Object.prototype),p=Function.apply.call(e,m,t);return a(p)?p:m}})},"./node_modules/core-js/modules/es6.reflect.define-property.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_an-object.js"),s=n("./node_modules/core-js/modules/_to-primitive.js");o(o.S+o.F*n("./node_modules/core-js/modules/_fails.js")(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){r(e),t=s(t,!0),r(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},"./node_modules/core-js/modules/es6.reflect.delete-property.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_object-gopd.js").f,r=n("./node_modules/core-js/modules/_an-object.js");i(i.S,"Reflect",{deleteProperty:function(e,t){var n=o(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},"./node_modules/core-js/modules/es6.reflect.enumerate.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n("./node_modules/core-js/modules/_iter-create.js")(r,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new r(e)}})},"./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_object-gopd.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_an-object.js");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(r(e),t)}})},"./node_modules/core-js/modules/es6.reflect.get-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_object-gpo.js"),r=n("./node_modules/core-js/modules/_an-object.js");i(i.S,"Reflect",{getPrototypeOf:function(e){return o(r(e))}})},"./node_modules/core-js/modules/es6.reflect.get.js":function(e,t,n){function i(e,t){var n,a,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(n=o.f(e,t))?s(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:l(a=r(e))?i(a,t,c):void 0}var o=n("./node_modules/core-js/modules/_object-gopd.js"),r=n("./node_modules/core-js/modules/_object-gpo.js"),s=n("./node_modules/core-js/modules/_has.js"),a=n("./node_modules/core-js/modules/_export.js"),l=n("./node_modules/core-js/modules/_is-object.js"),u=n("./node_modules/core-js/modules/_an-object.js");a(a.S,"Reflect",{get:i})},"./node_modules/core-js/modules/es6.reflect.has.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Reflect",{has:function(e,t){return t in e}})},"./node_modules/core-js/modules/es6.reflect.is-extensible.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return o(e),!r||r(e)}})},"./node_modules/core-js/modules/es6.reflect.own-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Reflect",{ownKeys:n("./node_modules/core-js/modules/_own-keys.js")})},"./node_modules/core-js/modules/es6.reflect.prevent-extensions.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){o(e);try{return r&&r(e),!0}catch(e){return!1}}})},"./node_modules/core-js/modules/es6.reflect.set-prototype-of.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_set-proto.js");o&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},"./node_modules/core-js/modules/es6.reflect.set.js":function(e,t,n){function i(e,t,n){var l,h,m=arguments.length<4?e:arguments[3],p=r.f(c(e),t);if(!p){if(d(h=s(e)))return i(h,t,n,m);p=u(0)}return a(p,"value")?!(p.writable===!1||!d(m))&&(l=r.f(m,t)||u(0),l.value=n,o.f(m,t,l),!0):void 0!==p.set&&(p.set.call(m,n),!0)}var o=n("./node_modules/core-js/modules/_object-dp.js"),r=n("./node_modules/core-js/modules/_object-gopd.js"),s=n("./node_modules/core-js/modules/_object-gpo.js"),a=n("./node_modules/core-js/modules/_has.js"),l=n("./node_modules/core-js/modules/_export.js"),u=n("./node_modules/core-js/modules/_property-desc.js"),c=n("./node_modules/core-js/modules/_an-object.js"),d=n("./node_modules/core-js/modules/_is-object.js");l(l.S,"Reflect",{set:i})},"./node_modules/core-js/modules/es6.regexp.constructor.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_inherit-if-required.js"),r=n("./node_modules/core-js/modules/_object-dp.js").f,s=n("./node_modules/core-js/modules/_object-gopn.js").f,a=n("./node_modules/core-js/modules/_is-regexp.js"),l=n("./node_modules/core-js/modules/_flags.js"),u=i.RegExp,c=u,d=u.prototype,h=/a/g,m=/a/g,p=new u(h)!==h;if(n("./node_modules/core-js/modules/_descriptors.js")&&(!p||n("./node_modules/core-js/modules/_fails.js")(function(){return m[n("./node_modules/core-js/modules/_wks.js")("match")]=!1,u(h)!=h||u(m)==m||"/a/i"!=u(h,"i")}))){u=function(e,t){var n=this instanceof u,i=a(e),r=void 0===t;return!n&&i&&e.constructor===u&&r?e:o(p?new c(i&&!r?e.source:e,t):c((i=e instanceof u)?e.source:e,i&&r?l.call(e):t),n?this:d,u)};for(var f=(function(e){e in u||r(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}),_=s(c),g=0;_.length>g;)f(_[g++]);d.constructor=u,u.prototype=d,n("./node_modules/core-js/modules/_redefine.js")(i,"RegExp",u)}n("./node_modules/core-js/modules/_set-species.js")("RegExp")},"./node_modules/core-js/modules/es6.regexp.flags.js":function(e,t,n){n("./node_modules/core-js/modules/_descriptors.js")&&"g"!=/./g.flags&&n("./node_modules/core-js/modules/_object-dp.js").f(RegExp.prototype,"flags",{configurable:!0,get:n("./node_modules/core-js/modules/_flags.js")})},"./node_modules/core-js/modules/es6.regexp.match.js":function(e,t,n){n("./node_modules/core-js/modules/_fix-re-wks.js")("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i):new RegExp(n)[t](String(i))},n]})},"./node_modules/core-js/modules/es6.regexp.replace.js":function(e,t,n){n("./node_modules/core-js/modules/_fix-re-wks.js")("replace",2,function(e,t,n){return[function(i,o){"use strict";var r=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,r,o):n.call(String(r),i,o)},n]})},"./node_modules/core-js/modules/es6.regexp.search.js":function(e,t,n){n("./node_modules/core-js/modules/_fix-re-wks.js")("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i):new RegExp(n)[t](String(i))},n]})},"./node_modules/core-js/modules/es6.regexp.split.js":function(e,t,n){n("./node_modules/core-js/modules/_fix-re-wks.js")("split",2,function(e,t,i){"use strict";var o=n("./node_modules/core-js/modules/_is-regexp.js"),r=i,s=[].push,a="split",l="length",u="lastIndex";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[l]||2!="ab"[a](/(?:ab)*/)[l]||4!="."[a](/(.?)(.?)/)[l]||"."[a](/()()/)[l]>1||""[a](/.?/)[l]){var c=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return r.call(n,e,t);var i,a,d,h,m,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,g=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,f+"g");for(c||(i=new RegExp("^"+v.source+"$(?!\\s)",f));(a=v.exec(n))&&(d=a.index+a[0][l],!(d>_&&(p.push(n.slice(_,a.index)),!c&&a[l]>1&&a[0].replace(i,function(){for(m=1;m<arguments[l]-2;m++)void 0===arguments[m]&&(a[m]=void 0)}),a[l]>1&&a.index<n[l]&&s.apply(p,a.slice(1)),h=a[0][l],_=d,p[l]>=g)));)v[u]===a.index&&v[u]++;return _===n[l]?!h&&v.test("")||p.push(""):p.push(n.slice(_)),p[l]>g?p.slice(0,g):p}}else"0"[a](void 0,0)[l]&&(i=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(n,o){var r=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,r,o):i.call(String(r),n,o)},i]})},"./node_modules/core-js/modules/es6.regexp.to-string.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.flags.js");var i=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_flags.js"),r=n("./node_modules/core-js/modules/_descriptors.js"),s="toString",a=/./[s],l=function(e){n("./node_modules/core-js/modules/_redefine.js")(RegExp.prototype,s,e,!0)};n("./node_modules/core-js/modules/_fails.js")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?l(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?o.call(e):void 0)}):a.name!=s&&l(function(){return a.call(this)})},"./node_modules/core-js/modules/es6.set.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_collection-strong.js");e.exports=n("./node_modules/core-js/modules/_collection.js")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(this,e=0===e?0:e,e)}},i)},"./node_modules/core-js/modules/es6.string.anchor.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},"./node_modules/core-js/modules/es6.string.big.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("big",function(e){return function(){return e(this,"big","","")}})},"./node_modules/core-js/modules/es6.string.blink.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("blink",function(e){return function(){return e(this,"blink","","")}})},"./node_modules/core-js/modules/es6.string.bold.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("bold",function(e){return function(){return e(this,"b","","")}})},"./node_modules/core-js/modules/es6.string.code-point-at.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_string-at.js")(!1);i(i.P,"String",{codePointAt:function(e){return o(this,e)}})},"./node_modules/core-js/modules/es6.string.ends-with.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-length.js"),r=n("./node_modules/core-js/modules/_string-context.js"),s="endsWith",a=""[s];i(i.P+i.F*n("./node_modules/core-js/modules/_fails-is-regexp.js")(s),"String",{endsWith:function(e){var t=r(this,e,s),n=arguments.length>1?arguments[1]:void 0,i=o(t.length),l=void 0===n?i:Math.min(o(n),i),u=String(e);return a?a.call(t,u,l):t.slice(l-u.length,l)===u}})},"./node_modules/core-js/modules/es6.string.fixed.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("fixed",function(e){return function(){return e(this,"tt","","")}})},"./node_modules/core-js/modules/es6.string.fontcolor.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},"./node_modules/core-js/modules/es6.string.fontsize.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},"./node_modules/core-js/modules/es6.string.from-code-point.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-index.js"),r=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,s=0;i>s;){if(t=+arguments[s++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?r(t):r(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},"./node_modules/core-js/modules/es6.string.includes.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_string-context.js"),r="includes";i(i.P+i.F*n("./node_modules/core-js/modules/_fails-is-regexp.js")(r),"String",{includes:function(e){return!!~o(this,e,r).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es6.string.italics.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("italics",function(e){return function(){return e(this,"i","","")}})},"./node_modules/core-js/modules/es6.string.iterator.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_string-at.js")(!0);n("./node_modules/core-js/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/modules/es6.string.link.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("link",function(e){return function(t){return e(this,"a","href",t)}})},"./node_modules/core-js/modules/es6.string.raw.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),r=n("./node_modules/core-js/modules/_to-length.js");
i(i.S,"String",{raw:function(e){for(var t=o(e.raw),n=r(t.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(t[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},"./node_modules/core-js/modules/es6.string.repeat.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P,"String",{repeat:n("./node_modules/core-js/modules/_string-repeat.js")})},"./node_modules/core-js/modules/es6.string.small.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("small",function(e){return function(){return e(this,"small","","")}})},"./node_modules/core-js/modules/es6.string.starts-with.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-length.js"),r=n("./node_modules/core-js/modules/_string-context.js"),s="startsWith",a=""[s];i(i.P+i.F*n("./node_modules/core-js/modules/_fails-is-regexp.js")(s),"String",{startsWith:function(e){var t=r(this,e,s),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},"./node_modules/core-js/modules/es6.string.strike.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("strike",function(e){return function(){return e(this,"strike","","")}})},"./node_modules/core-js/modules/es6.string.sub.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("sub",function(e){return function(){return e(this,"sub","","")}})},"./node_modules/core-js/modules/es6.string.sup.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-html.js")("sup",function(e){return function(){return e(this,"sup","","")}})},"./node_modules/core-js/modules/es6.string.trim.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-trim.js")("trim",function(e){return function(){return e(this,3)}})},"./node_modules/core-js/modules/es6.symbol.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_has.js"),r=n("./node_modules/core-js/modules/_descriptors.js"),s=n("./node_modules/core-js/modules/_export.js"),a=n("./node_modules/core-js/modules/_redefine.js"),l=n("./node_modules/core-js/modules/_meta.js").KEY,u=n("./node_modules/core-js/modules/_fails.js"),c=n("./node_modules/core-js/modules/_shared.js"),d=n("./node_modules/core-js/modules/_set-to-string-tag.js"),h=n("./node_modules/core-js/modules/_uid.js"),m=n("./node_modules/core-js/modules/_wks.js"),p=n("./node_modules/core-js/modules/_wks-ext.js"),f=n("./node_modules/core-js/modules/_wks-define.js"),_=n("./node_modules/core-js/modules/_keyof.js"),g=n("./node_modules/core-js/modules/_enum-keys.js"),v=n("./node_modules/core-js/modules/_is-array.js"),y=n("./node_modules/core-js/modules/_an-object.js"),b=n("./node_modules/core-js/modules/_to-iobject.js"),w=n("./node_modules/core-js/modules/_to-primitive.js"),C=n("./node_modules/core-js/modules/_property-desc.js"),E=n("./node_modules/core-js/modules/_object-create.js"),S=n("./node_modules/core-js/modules/_object-gopn-ext.js"),I=n("./node_modules/core-js/modules/_object-gopd.js"),x=n("./node_modules/core-js/modules/_object-dp.js"),j=n("./node_modules/core-js/modules/_object-keys.js"),k=I.f,P=x.f,T=S.f,O=i.Symbol,A=i.JSON,M=A&&A.stringify,D="prototype",L=m("_hidden"),N=m("toPrimitive"),B={}.propertyIsEnumerable,R=c("symbol-registry"),F=c("symbols"),z=c("op-symbols"),H=Object[D],W="function"==typeof O,V=i.QObject,U=!V||!V[D]||!V[D].findChild,q=r&&u(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=k(H,t);i&&delete H[t],P(e,t,n),i&&e!==H&&P(H,t,i)}:P,J=function(e){var t=F[e]=E(O[D]);return t._k=e,t},K=W&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},G=function(e,t,n){return e===H&&G(z,t,n),y(e),t=w(t,!0),y(n),o(F,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=E(n,{enumerable:C(0,!1)})):(o(e,L)||P(e,L,C(1,{})),e[L][t]=!0),q(e,t,n)):P(e,t,n)},Y=function(e,t){y(e);for(var n,i=g(t=b(t)),o=0,r=i.length;r>o;)G(e,n=i[o++],t[n]);return e},X=function(e,t){return void 0===t?E(e):Y(E(e),t)},Z=function(e){var t=B.call(this,e=w(e,!0));return!(this===H&&o(F,e)&&!o(z,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=b(e),t=w(t,!0),e!==H||!o(F,t)||o(z,t)){var n=k(e,t);return!n||!o(F,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=T(b(e)),i=[],r=0;n.length>r;)o(F,t=n[r++])||t==L||t==l||i.push(t);return i},ee=function(e){for(var t,n=e===H,i=T(n?z:b(e)),r=[],s=0;i.length>s;)!o(F,t=i[s++])||n&&!o(H,t)||r.push(F[t]);return r};W||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(z,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),q(this,e,C(1,n))};return r&&U&&q(H,e,{configurable:!0,set:t}),J(e)},a(O[D],"toString",function(){return this._k}),I.f=Q,x.f=G,n("./node_modules/core-js/modules/_object-gopn.js").f=S.f=$,n("./node_modules/core-js/modules/_object-pie.js").f=Z,n("./node_modules/core-js/modules/_object-gops.js").f=ee,r&&!n("./node_modules/core-js/modules/_library.js")&&a(H,"propertyIsEnumerable",Z,!0),p.f=function(e){return J(m(e))}),s(s.G+s.W+s.F*!W,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)m(te[ne++]);for(var te=j(m.store),ne=0;te.length>ne;)f(te[ne++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return o(R,e+="")?R[e]:R[e]=O(e)},keyFor:function(e){if(K(e))return _(R,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!W,"Object",{create:X,defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),A&&s(s.S+s.F*(!W||u(function(){var e=O();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);return t=i[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!K(t))return t}),i[1]=t,M.apply(A,i)}}}),O[D][N]||n("./node_modules/core-js/modules/_hide.js")(O[D],N,O[D].valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},"./node_modules/core-js/modules/es6.typed.array-buffer.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_typed.js"),r=n("./node_modules/core-js/modules/_typed-buffer.js"),s=n("./node_modules/core-js/modules/_an-object.js"),a=n("./node_modules/core-js/modules/_to-index.js"),l=n("./node_modules/core-js/modules/_to-length.js"),u=n("./node_modules/core-js/modules/_is-object.js"),c=n("./node_modules/core-js/modules/_global.js").ArrayBuffer,d=n("./node_modules/core-js/modules/_species-constructor.js"),h=r.ArrayBuffer,m=r.DataView,p=o.ABV&&c.isView,f=h.prototype.slice,_=o.VIEW,g="ArrayBuffer";i(i.G+i.W+i.F*(c!==h),{ArrayBuffer:h}),i(i.S+i.F*!o.CONSTR,g,{isView:function(e){return p&&p(e)||u(e)&&_ in e}}),i(i.P+i.U+i.F*n("./node_modules/core-js/modules/_fails.js")(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(s(this),e);for(var n=s(this).byteLength,i=a(e,n),o=a(void 0===t?n:t,n),r=new(d(this,h))(l(o-i)),u=new m(this),c=new m(r),p=0;i<o;)c.setUint8(p++,u.getUint8(i++));return r}}),n("./node_modules/core-js/modules/_set-species.js")(g)},"./node_modules/core-js/modules/es6.typed.data-view.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.G+i.W+i.F*!n("./node_modules/core-js/modules/_typed.js").ABV,{DataView:n("./node_modules/core-js/modules/_typed-buffer.js").DataView})},"./node_modules/core-js/modules/es6.typed.float32-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.float64-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.int16-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.int32-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.int8-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.uint16-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.uint32-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.uint8-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},"./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js":function(e,t,n){n("./node_modules/core-js/modules/_typed-array.js")("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},"./node_modules/core-js/modules/es6.weak-map.js":function(e,t,n){"use strict";var i,o=n("./node_modules/core-js/modules/_array-methods.js")(0),r=n("./node_modules/core-js/modules/_redefine.js"),s=n("./node_modules/core-js/modules/_meta.js"),a=n("./node_modules/core-js/modules/_object-assign.js"),l=n("./node_modules/core-js/modules/_collection-weak.js"),u=n("./node_modules/core-js/modules/_is-object.js"),c=s.getWeak,d=Object.isExtensible,h=l.ufstore,m={},p=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},f={get:function(e){if(u(e)){var t=c(e);return t===!0?h(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(this,e,t)}},_=e.exports=n("./node_modules/core-js/modules/_collection.js")("WeakMap",p,f,l,!0,!0);7!=(new _).set((Object.freeze||Object)(m),7).get(m)&&(i=l.getConstructor(p),a(i.prototype,f),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=_.prototype,n=t[e];r(t,e,function(t,o){if(u(t)&&!d(t)){this._f||(this._f=new i);var r=this._f[e](t,o);return"set"==e?this:r}return n.call(this,t,o)})}))},"./node_modules/core-js/modules/es6.weak-set.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_collection-weak.js");n("./node_modules/core-js/modules/_collection.js")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(this,e,!0)}},i,!1,!0)},"./node_modules/core-js/modules/es7.array.includes.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_array-includes.js")(!0);i(i.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("./node_modules/core-js/modules/_add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es7.asap.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_microtask.js")(),r=n("./node_modules/core-js/modules/_global.js").process,s="process"==n("./node_modules/core-js/modules/_cof.js")(r);i(i.G,{asap:function(e){var t=s&&r.domain;o(t?t.bind(e):e)}})},"./node_modules/core-js/modules/es7.error.is-error.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_cof.js");i(i.S,"Error",{isError:function(e){return"Error"===o(e)}})},"./node_modules/core-js/modules/es7.map.to-json.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P+i.R,"Map",{toJSON:n("./node_modules/core-js/modules/_collection-to-json.js")("Map")})},"./node_modules/core-js/modules/es7.math.iaddh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{iaddh:function(e,t,n,i){var o=e>>>0,r=t>>>0,s=n>>>0;return r+(i>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0}})},"./node_modules/core-js/modules/es7.math.imulh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{imulh:function(e,t){var n=65535,i=+e,o=+t,r=i&n,s=o&n,a=i>>16,l=o>>16,u=(a*s>>>0)+(r*s>>>16);return a*l+(u>>16)+((r*l>>>0)+(u&n)>>16)}})},"./node_modules/core-js/modules/es7.math.isubh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{isubh:function(e,t,n,i){var o=e>>>0,r=t>>>0,s=n>>>0;return r-(i>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0}})},"./node_modules/core-js/modules/es7.math.umulh.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"Math",{umulh:function(e,t){var n=65535,i=+e,o=+t,r=i&n,s=o&n,a=i>>>16,l=o>>>16,u=(a*s>>>0)+(r*s>>>16);return a*l+(u>>>16)+((r*l>>>0)+(u&n)>>>16)}})},"./node_modules/core-js/modules/es7.object.define-getter.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_a-function.js"),s=n("./node_modules/core-js/modules/_object-dp.js");n("./node_modules/core-js/modules/_descriptors.js")&&i(i.P+n("./node_modules/core-js/modules/_object-forced-pam.js"),"Object",{__defineGetter__:function(e,t){s.f(o(this),e,{get:r(t),enumerable:!0,configurable:!0})}})},"./node_modules/core-js/modules/es7.object.define-setter.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_a-function.js"),s=n("./node_modules/core-js/modules/_object-dp.js");n("./node_modules/core-js/modules/_descriptors.js")&&i(i.P+n("./node_modules/core-js/modules/_object-forced-pam.js"),"Object",{__defineSetter__:function(e,t){s.f(o(this),e,{set:r(t),enumerable:!0,configurable:!0})}})},"./node_modules/core-js/modules/es7.object.entries.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_object-to-array.js")(!0);i(i.S,"Object",{entries:function(e){return o(e)}})},"./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_own-keys.js"),r=n("./node_modules/core-js/modules/_to-iobject.js"),s=n("./node_modules/core-js/modules/_object-gopd.js"),a=n("./node_modules/core-js/modules/_create-property.js");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=r(e),i=s.f,l=o(n),u={},c=0;l.length>c;)a(u,t=l[c++],i(n,t));return u}})},"./node_modules/core-js/modules/es7.object.lookup-getter.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_to-primitive.js"),s=n("./node_modules/core-js/modules/_object-gpo.js"),a=n("./node_modules/core-js/modules/_object-gopd.js").f;n("./node_modules/core-js/modules/_descriptors.js")&&i(i.P+n("./node_modules/core-js/modules/_object-forced-pam.js"),"Object",{__lookupGetter__:function(e){var t,n=o(this),i=r(e,!0);do if(t=a(n,i))return t.get;while(n=s(n))}})},"./node_modules/core-js/modules/es7.object.lookup-setter.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_to-object.js"),r=n("./node_modules/core-js/modules/_to-primitive.js"),s=n("./node_modules/core-js/modules/_object-gpo.js"),a=n("./node_modules/core-js/modules/_object-gopd.js").f;n("./node_modules/core-js/modules/_descriptors.js")&&i(i.P+n("./node_modules/core-js/modules/_object-forced-pam.js"),"Object",{__lookupSetter__:function(e){var t,n=o(this),i=r(e,!0);do if(t=a(n,i))return t.set;while(n=s(n))}})},"./node_modules/core-js/modules/es7.object.values.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_object-to-array.js")(!1);i(i.S,"Object",{values:function(e){return o(e)}})},"./node_modules/core-js/modules/es7.observable.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_global.js"),r=n("./node_modules/core-js/modules/_core.js"),s=n("./node_modules/core-js/modules/_microtask.js")(),a=n("./node_modules/core-js/modules/_wks.js")("observable"),l=n("./node_modules/core-js/modules/_a-function.js"),u=n("./node_modules/core-js/modules/_an-object.js"),c=n("./node_modules/core-js/modules/_an-instance.js"),d=n("./node_modules/core-js/modules/_redefine-all.js"),h=n("./node_modules/core-js/modules/_hide.js"),m=n("./node_modules/core-js/modules/_for-of.js"),p=m.RETURN,f=function(e){return null==e?void 0:l(e)},_=function(e){var t=e._c;t&&(e._c=void 0,t())},g=function(e){return void 0===e._o},v=function(e){g(e)||(e._o=void 0,_(e))},y=function(e,t){u(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&_(this)};y.prototype=d({},{unsubscribe:function(){v(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function(e){var t=this._s;if(!g(t)){var n=t._o;try{var i=f(n.next);if(i)return i.call(n,e)}catch(e){try{v(t)}finally{throw e}}}},error:function(e){var t=this._s;if(g(t))throw e;var n=t._o;t._o=void 0;try{var i=f(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{_(t)}finally{throw e}}return _(t),e},complete:function(e){var t=this._s;if(!g(t)){var n=t._o;t._o=void 0;try{var i=f(n.complete);e=i?i.call(n,e):void 0}catch(e){try{_(t)}finally{throw e}}return _(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=l(e)};d(w.prototype,{subscribe:function(e){return new y(e,this._f)},forEach:function(e){var t=this;return new(r.Promise||o.Promise)(function(n,i){l(e);var o=t.subscribe({next:function(t){try{return e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:n})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,n=f(u(e)[a]);if(n){var i=u(n.call(e));return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}return new t(function(t){var n=!1;return s(function(){if(!n){try{if(m(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return s(function(){if(!t){for(var i=0;i<n.length;++i)if(e.next(n[i]),t)return;e.complete()}}),function(){t=!0}})}}),h(w.prototype,a,function(){return this}),i(i.G,{Observable:w}),n("./node_modules/core-js/modules/_set-species.js")("Observable")},"./node_modules/core-js/modules/es7.reflect.define-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=i.key,s=i.set;i.exp({defineMetadata:function(e,t,n,i){s(e,t,o(n),r(i))}})},"./node_modules/core-js/modules/es7.reflect.delete-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:r(arguments[2]),i=s(o(t),n,!1);if(void 0===i||!i.delete(e))return!1;if(i.size)return!0;var l=a.get(t);return l.delete(n),!!l.size||a.delete(t)}})},"./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/es6.set.js"),o=n("./node_modules/core-js/modules/_array-from-iterable.js"),r=n("./node_modules/core-js/modules/_metadata.js"),s=n("./node_modules/core-js/modules/_an-object.js"),a=n("./node_modules/core-js/modules/_object-gpo.js"),l=r.keys,u=r.key,c=function(e,t){var n=l(e,t),r=a(e);if(null===r)return n;var s=c(r,t);return s.length?n.length?o(new i(n.concat(s))):s:n};r.exp({getMetadataKeys:function(e){return c(s(e),arguments.length<2?void 0:u(arguments[1]))}})},"./node_modules/core-js/modules/es7.reflect.get-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=n("./node_modules/core-js/modules/_object-gpo.js"),s=i.has,a=i.get,l=i.key,u=function(e,t,n){var i=s(e,t,n);if(i)return a(e,t,n);var o=r(t);return null!==o?u(e,o,n):void 0};i.exp({getMetadata:function(e,t){return u(e,o(t),arguments.length<3?void 0:l(arguments[2]))}})},"./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(e){return r(o(e),arguments.length<2?void 0:s(arguments[1]))}})},"./node_modules/core-js/modules/es7.reflect.get-own-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=i.get,s=i.key;i.exp({getOwnMetadata:function(e,t){return r(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},"./node_modules/core-js/modules/es7.reflect.has-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=n("./node_modules/core-js/modules/_object-gpo.js"),s=i.has,a=i.key,l=function(e,t,n){var i=s(e,t,n);if(i)return!0;var o=r(t);return null!==o&&l(e,o,n)};i.exp({hasMetadata:function(e,t){return l(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},"./node_modules/core-js/modules/es7.reflect.has-own-metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=i.has,s=i.key;i.exp({hasOwnMetadata:function(e,t){return r(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},"./node_modules/core-js/modules/es7.reflect.metadata.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_metadata.js"),o=n("./node_modules/core-js/modules/_an-object.js"),r=n("./node_modules/core-js/modules/_a-function.js"),s=i.key,a=i.set;i.exp({metadata:function(e,t){return function(n,i){a(e,t,(void 0!==i?o:r)(n),s(i))}}})},"./node_modules/core-js/modules/es7.set.to-json.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.P+i.R,"Set",{toJSON:n("./node_modules/core-js/modules/_collection-to-json.js")("Set")})},"./node_modules/core-js/modules/es7.string.at.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_string-at.js")(!0);i(i.P,"String",{at:function(e){return o(this,e)}})},"./node_modules/core-js/modules/es7.string.match-all.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_defined.js"),r=n("./node_modules/core-js/modules/_to-length.js"),s=n("./node_modules/core-js/modules/_is-regexp.js"),a=n("./node_modules/core-js/modules/_flags.js"),l=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n("./node_modules/core-js/modules/_iter-create.js")(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(o(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):a.call(e),i=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=r(e.lastIndex),new u(i,t)}})},"./node_modules/core-js/modules/es7.string.pad-end.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_string-pad.js");i(i.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},"./node_modules/core-js/modules/es7.string.pad-start.js":function(e,t,n){"use strict";var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_string-pad.js");i(i.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},"./node_modules/core-js/modules/es7.string.trim-left.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-trim.js")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},"./node_modules/core-js/modules/es7.string.trim-right.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/_string-trim.js")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},"./node_modules/core-js/modules/es7.symbol.async-iterator.js":function(e,t,n){n("./node_modules/core-js/modules/_wks-define.js")("asyncIterator")},"./node_modules/core-js/modules/es7.symbol.observable.js":function(e,t,n){n("./node_modules/core-js/modules/_wks-define.js")("observable")},"./node_modules/core-js/modules/es7.system.global.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js");i(i.S,"System",{global:n("./node_modules/core-js/modules/_global.js")})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,t,n){for(var i=n("./node_modules/core-js/modules/es6.array.iterator.js"),o=n("./node_modules/core-js/modules/_redefine.js"),r=n("./node_modules/core-js/modules/_global.js"),s=n("./node_modules/core-js/modules/_hide.js"),a=n("./node_modules/core-js/modules/_iterators.js"),l=n("./node_modules/core-js/modules/_wks.js"),u=l("iterator"),c=l("toStringTag"),d=a.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],m=0;m<5;m++){var p,f=h[m],_=r[f],g=_&&_.prototype;if(g){g[u]||s(g,u,d),g[c]||s(g,c,f),a[f]=d;for(p in i)g[p]||o(g,p,i[p],!0)}}},"./node_modules/core-js/modules/web.immediate.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_export.js"),o=n("./node_modules/core-js/modules/_task.js");i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},"./node_modules/core-js/modules/web.timers.js":function(e,t,n){var i=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_export.js"),r=n("./node_modules/core-js/modules/_invoke.js"),s=n("./node_modules/core-js/modules/_partial.js"),a=i.navigator,l=!!a&&/MSIE .\./.test(a.userAgent),u=function(e){return l?function(t,n){return e(r(s,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};o(o.G+o.B+o.F*l,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},"./node_modules/core-js/shim.js":function(e,t,n){n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/core-js/modules/es6.object.create.js"),n("./node_modules/core-js/modules/es6.object.define-property.js"),n("./node_modules/core-js/modules/es6.object.define-properties.js"),n("./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es6.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es6.object.keys.js"),n("./node_modules/core-js/modules/es6.object.get-own-property-names.js"),n("./node_modules/core-js/modules/es6.object.freeze.js"),n("./node_modules/core-js/modules/es6.object.seal.js"),n("./node_modules/core-js/modules/es6.object.prevent-extensions.js"),n("./node_modules/core-js/modules/es6.object.is-frozen.js"),n("./node_modules/core-js/modules/es6.object.is-sealed.js"),n("./node_modules/core-js/modules/es6.object.is-extensible.js"),n("./node_modules/core-js/modules/es6.object.assign.js"),n("./node_modules/core-js/modules/es6.object.is.js"),n("./node_modules/core-js/modules/es6.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es6.object.to-string.js"),n("./node_modules/core-js/modules/es6.function.bind.js"),n("./node_modules/core-js/modules/es6.function.name.js"),n("./node_modules/core-js/modules/es6.function.has-instance.js"),n("./node_modules/core-js/modules/es6.parse-int.js"),n("./node_modules/core-js/modules/es6.parse-float.js"),n("./node_modules/core-js/modules/es6.number.constructor.js"),n("./node_modules/core-js/modules/es6.number.to-fixed.js"),n("./node_modules/core-js/modules/es6.number.to-precision.js"),n("./node_modules/core-js/modules/es6.number.epsilon.js"),n("./node_modules/core-js/modules/es6.number.is-finite.js"),n("./node_modules/core-js/modules/es6.number.is-integer.js"),n("./node_modules/core-js/modules/es6.number.is-nan.js"),n("./node_modules/core-js/modules/es6.number.is-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.max-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.min-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.parse-float.js"),n("./node_modules/core-js/modules/es6.number.parse-int.js"),n("./node_modules/core-js/modules/es6.math.acosh.js"),n("./node_modules/core-js/modules/es6.math.asinh.js"),n("./node_modules/core-js/modules/es6.math.atanh.js"),n("./node_modules/core-js/modules/es6.math.cbrt.js"),n("./node_modules/core-js/modules/es6.math.clz32.js"),n("./node_modules/core-js/modules/es6.math.cosh.js"),n("./node_modules/core-js/modules/es6.math.expm1.js"),n("./node_modules/core-js/modules/es6.math.fround.js"),n("./node_modules/core-js/modules/es6.math.hypot.js"),n("./node_modules/core-js/modules/es6.math.imul.js"),n("./node_modules/core-js/modules/es6.math.log10.js"),n("./node_modules/core-js/modules/es6.math.log1p.js"),n("./node_modules/core-js/modules/es6.math.log2.js"),n("./node_modules/core-js/modules/es6.math.sign.js"),n("./node_modules/core-js/modules/es6.math.sinh.js"),n("./node_modules/core-js/modules/es6.math.tanh.js"),n("./node_modules/core-js/modules/es6.math.trunc.js"),n("./node_modules/core-js/modules/es6.string.from-code-point.js"),n("./node_modules/core-js/modules/es6.string.raw.js"),n("./node_modules/core-js/modules/es6.string.trim.js"),n("./node_modules/core-js/modules/es6.string.iterator.js"),n("./node_modules/core-js/modules/es6.string.code-point-at.js"),n("./node_modules/core-js/modules/es6.string.ends-with.js"),n("./node_modules/core-js/modules/es6.string.includes.js"),n("./node_modules/core-js/modules/es6.string.repeat.js"),n("./node_modules/core-js/modules/es6.string.starts-with.js"),n("./node_modules/core-js/modules/es6.string.anchor.js"),n("./node_modules/core-js/modules/es6.string.big.js"),n("./node_modules/core-js/modules/es6.string.blink.js"),n("./node_modules/core-js/modules/es6.string.bold.js"),n("./node_modules/core-js/modules/es6.string.fixed.js"),n("./node_modules/core-js/modules/es6.string.fontcolor.js"),n("./node_modules/core-js/modules/es6.string.fontsize.js"),n("./node_modules/core-js/modules/es6.string.italics.js"),n("./node_modules/core-js/modules/es6.string.link.js"),n("./node_modules/core-js/modules/es6.string.small.js"),n("./node_modules/core-js/modules/es6.string.strike.js"),n("./node_modules/core-js/modules/es6.string.sub.js"),n("./node_modules/core-js/modules/es6.string.sup.js"),n("./node_modules/core-js/modules/es6.date.now.js"),n("./node_modules/core-js/modules/es6.date.to-json.js"),n("./node_modules/core-js/modules/es6.date.to-iso-string.js"),n("./node_modules/core-js/modules/es6.date.to-string.js"),n("./node_modules/core-js/modules/es6.date.to-primitive.js"),n("./node_modules/core-js/modules/es6.array.is-array.js"),n("./node_modules/core-js/modules/es6.array.from.js"),n("./node_modules/core-js/modules/es6.array.of.js"),n("./node_modules/core-js/modules/es6.array.join.js"),n("./node_modules/core-js/modules/es6.array.slice.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.array.for-each.js"),n("./node_modules/core-js/modules/es6.array.map.js"),n("./node_modules/core-js/modules/es6.array.filter.js"),n("./node_modules/core-js/modules/es6.array.some.js"),n("./node_modules/core-js/modules/es6.array.every.js"),n("./node_modules/core-js/modules/es6.array.reduce.js"),n("./node_modules/core-js/modules/es6.array.reduce-right.js"),n("./node_modules/core-js/modules/es6.array.index-of.js"),
n("./node_modules/core-js/modules/es6.array.last-index-of.js"),n("./node_modules/core-js/modules/es6.array.copy-within.js"),n("./node_modules/core-js/modules/es6.array.fill.js"),n("./node_modules/core-js/modules/es6.array.find.js"),n("./node_modules/core-js/modules/es6.array.find-index.js"),n("./node_modules/core-js/modules/es6.array.species.js"),n("./node_modules/core-js/modules/es6.array.iterator.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.regexp.flags.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.promise.js"),n("./node_modules/core-js/modules/es6.map.js"),n("./node_modules/core-js/modules/es6.set.js"),n("./node_modules/core-js/modules/es6.weak-map.js"),n("./node_modules/core-js/modules/es6.weak-set.js"),n("./node_modules/core-js/modules/es6.typed.array-buffer.js"),n("./node_modules/core-js/modules/es6.typed.data-view.js"),n("./node_modules/core-js/modules/es6.typed.int8-array.js"),n("./node_modules/core-js/modules/es6.typed.uint8-array.js"),n("./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js"),n("./node_modules/core-js/modules/es6.typed.int16-array.js"),n("./node_modules/core-js/modules/es6.typed.uint16-array.js"),n("./node_modules/core-js/modules/es6.typed.int32-array.js"),n("./node_modules/core-js/modules/es6.typed.uint32-array.js"),n("./node_modules/core-js/modules/es6.typed.float32-array.js"),n("./node_modules/core-js/modules/es6.typed.float64-array.js"),n("./node_modules/core-js/modules/es6.reflect.apply.js"),n("./node_modules/core-js/modules/es6.reflect.construct.js"),n("./node_modules/core-js/modules/es6.reflect.define-property.js"),n("./node_modules/core-js/modules/es6.reflect.delete-property.js"),n("./node_modules/core-js/modules/es6.reflect.enumerate.js"),n("./node_modules/core-js/modules/es6.reflect.get.js"),n("./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es6.reflect.get-prototype-of.js"),n("./node_modules/core-js/modules/es6.reflect.has.js"),n("./node_modules/core-js/modules/es6.reflect.is-extensible.js"),n("./node_modules/core-js/modules/es6.reflect.own-keys.js"),n("./node_modules/core-js/modules/es6.reflect.prevent-extensions.js"),n("./node_modules/core-js/modules/es6.reflect.set.js"),n("./node_modules/core-js/modules/es6.reflect.set-prototype-of.js"),n("./node_modules/core-js/modules/es7.array.includes.js"),n("./node_modules/core-js/modules/es7.string.at.js"),n("./node_modules/core-js/modules/es7.string.pad-start.js"),n("./node_modules/core-js/modules/es7.string.pad-end.js"),n("./node_modules/core-js/modules/es7.string.trim-left.js"),n("./node_modules/core-js/modules/es7.string.trim-right.js"),n("./node_modules/core-js/modules/es7.string.match-all.js"),n("./node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("./node_modules/core-js/modules/es7.symbol.observable.js"),n("./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es7.object.values.js"),n("./node_modules/core-js/modules/es7.object.entries.js"),n("./node_modules/core-js/modules/es7.object.define-getter.js"),n("./node_modules/core-js/modules/es7.object.define-setter.js"),n("./node_modules/core-js/modules/es7.object.lookup-getter.js"),n("./node_modules/core-js/modules/es7.object.lookup-setter.js"),n("./node_modules/core-js/modules/es7.map.to-json.js"),n("./node_modules/core-js/modules/es7.set.to-json.js"),n("./node_modules/core-js/modules/es7.system.global.js"),n("./node_modules/core-js/modules/es7.error.is-error.js"),n("./node_modules/core-js/modules/es7.math.iaddh.js"),n("./node_modules/core-js/modules/es7.math.isubh.js"),n("./node_modules/core-js/modules/es7.math.imulh.js"),n("./node_modules/core-js/modules/es7.math.umulh.js"),n("./node_modules/core-js/modules/es7.reflect.define-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.delete-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.get-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js"),n("./node_modules/core-js/modules/es7.reflect.get-own-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js"),n("./node_modules/core-js/modules/es7.reflect.has-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.has-own-metadata.js"),n("./node_modules/core-js/modules/es7.reflect.metadata.js"),n("./node_modules/core-js/modules/es7.asap.js"),n("./node_modules/core-js/modules/es7.observable.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),e.exports=n("./node_modules/core-js/modules/_core.js")},"./node_modules/fbjs/lib/EventListener.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/fbjs/lib/emptyFunction.js"),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,n,o){return e.addEventListener?(e.addEventListener(n,o,!0),{remove:function(){e.removeEventListener(n,o,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};e.exports=o}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/fbjs/lib/ExecutionEnvironment.js":function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},"./node_modules/fbjs/lib/camelize.js":function(e,t){"use strict";function n(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=n},"./node_modules/fbjs/lib/camelizeStyleName.js":function(e,t,n){"use strict";function i(e){return o(e.replace(r,"ms-"))}var o=n("./node_modules/fbjs/lib/camelize.js"),r=/^-ms-/;e.exports=i},"./node_modules/fbjs/lib/containsNode.js":function(e,t,n){"use strict";function i(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?i(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n("./node_modules/fbjs/lib/isTextNode.js");e.exports=i},"./node_modules/fbjs/lib/createArrayFromMixed.js":function(e,t,n){"use strict";(function(t){function i(e){var n=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?"production"!==t.env.NODE_ENV?s(!1,"toArray: Array-like object expected"):s(!1):void 0,"number"!=typeof n?"production"!==t.env.NODE_ENV?s(!1,"toArray: Object needs a length property"):s(!1):void 0,0===n||n-1 in e?void 0:"production"!==t.env.NODE_ENV?s(!1,"toArray: Object should have keys for indices"):s(!1),"function"==typeof e.callee?"production"!==t.env.NODE_ENV?s(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."):s(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var i=Array(n),o=0;o<n;o++)i[o]=e[o];return i}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return o(e)?Array.isArray(e)?e.slice():i(e):[e]}var s=n("./node_modules/fbjs/lib/invariant.js");e.exports=r}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/fbjs/lib/createNodesFromMarkup.js":function(e,t,n){"use strict";(function(t){function i(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,n){var o=u;u?void 0:"production"!==t.env.NODE_ENV?l(!1,"createNodesFromMarkup dummy not initialized"):l(!1);var r=i(e),c=r&&a(r);if(c){o.innerHTML=c[1]+e+c[2];for(var d=c[0];d--;)o=o.lastChild}else o.innerHTML=e;var h=o.getElementsByTagName("script");h.length&&(n?void 0:"production"!==t.env.NODE_ENV?l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):l(!1),s(h).forEach(n));for(var m=Array.from(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return m}var r=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),s=n("./node_modules/fbjs/lib/createArrayFromMixed.js"),a=n("./node_modules/fbjs/lib/getMarkupWrap.js"),l=n("./node_modules/fbjs/lib/invariant.js"),u=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=o}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/fbjs/lib/focusNode.js":function(e,t){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},"./node_modules/fbjs/lib/getActiveElement.js":function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},"./node_modules/fbjs/lib/getMarkupWrap.js":function(e,t,n){"use strict";(function(t){function i(e){return s?void 0:"production"!==t.env.NODE_ENV?r(!1,"Markup wrapping node not initialized"):r(!1),h.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||("*"===e?s.innerHTML="<link />":s.innerHTML="<"+e+"></"+e+">",a[e]=!s.firstChild),a[e]?h[e]:null}var o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),r=n("./node_modules/fbjs/lib/invariant.js"),s=o.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},m=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];m.forEach(function(e){h[e]=d,a[e]=!0}),e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/fbjs/lib/getUnboundedScrollPosition.js":function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},"./node_modules/fbjs/lib/hyphenate.js":function(e,t){"use strict";function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=n},"./node_modules/fbjs/lib/hyphenateStyleName.js":function(e,t,n){"use strict";function i(e){return o(e).replace(r,"-ms-")}var o=n("./node_modules/fbjs/lib/hyphenate.js"),r=/^ms-/;e.exports=i},"./node_modules/fbjs/lib/isNode.js":function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},"./node_modules/fbjs/lib/isTextNode.js":function(e,t,n){"use strict";function i(e){return o(e)&&3==e.nodeType}var o=n("./node_modules/fbjs/lib/isNode.js");e.exports=i},"./node_modules/fbjs/lib/memoizeStringOnly.js":function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},"./node_modules/fbjs/lib/performance.js":function(e,t,n){"use strict";var i,o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js");o.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),e.exports=i||{}},"./node_modules/fbjs/lib/performanceNow.js":function(e,t,n){"use strict";var i,o=n("./node_modules/fbjs/lib/performance.js");i=o.now?function(){return o.now()}:function(){return Date.now()},e.exports=i},"./node_modules/fbjs/lib/shallowEqual.js":function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(!o.call(t,i[s])||!n(e[i[s]],t[i[s]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,i,o){var r,s,a=8*o-i-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?o-1:0,h=n?-1:1,m=e[t+d];for(d+=h,r=m&(1<<-c)-1,m>>=-c,c+=a;c>0;r=256*r+e[t+d],d+=h,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=i;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===r)r=1-u;else{if(r===l)return s?NaN:(m?-1:1)*(1/0);s+=Math.pow(2,i),r-=u}return(m?-1:1)*s*Math.pow(2,r-i)},t.write=function(e,t,n,i,o,r){var s,a,l,u=8*r-o-1,c=(1<<u)-1,d=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:r-1,p=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+m]=255&a,m+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+m]=255&s,m+=p,s/=256,u-=8);e[n+m-p]|=128*f}},"./node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/jszip-utils/lib/index.js":function(e,t){"use strict";function n(){try{return new window.XMLHttpRequest}catch(e){}}function i(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var o={};o._getBinaryFromXHR=function(e){return e.response||e.responseText};var r=window.ActiveXObject?function(){return n()||i()}:n;o.getBinaryContent=function(e,t){try{var n=r();n.open("GET",e,!0),"responseType"in n&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(i){var r,s;if(4===n.readyState)if(200===n.status||0===n.status){r=null,s=null;try{r=o._getBinaryFromXHR(n)}catch(e){s=new Error(e)}t(s,r)}else t(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText),null)},n.send()}catch(e){t(new Error(e),null)}},e.exports=o},"./node_modules/jszip/lib/arrayReader.js":function(e,t,n){"use strict";function i(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}var o=n("./node_modules/jszip/lib/dataReader.js");i.prototype=new o,i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===t&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},"./node_modules/jszip/lib/base64.js":function(e,t){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e,t){for(var i,o,r,s,a,l,u,c="",d=0;d<e.length;)i=e.charCodeAt(d++),o=e.charCodeAt(d++),r=e.charCodeAt(d++),s=i>>2,a=(3&i)<<4|o>>4,l=(15&o)<<2|r>>6,u=63&r,isNaN(o)?l=u=64:isNaN(r)&&(u=64),c=c+n.charAt(s)+n.charAt(a)+n.charAt(l)+n.charAt(u);return c},t.decode=function(e,t){var i,o,r,s,a,l,u,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)s=n.indexOf(e.charAt(d++)),a=n.indexOf(e.charAt(d++)),l=n.indexOf(e.charAt(d++)),u=n.indexOf(e.charAt(d++)),i=s<<2|a>>4,o=(15&a)<<4|l>>2,r=(3&l)<<6|u,c+=String.fromCharCode(i),64!=l&&(c+=String.fromCharCode(o)),64!=u&&(c+=String.fromCharCode(r));return c}},"./node_modules/jszip/lib/compressedObject.js":function(e,t){"use strict";function n(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}n.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=n},"./node_modules/jszip/lib/compressions.js":function(e,t,n){"use strict";t.STORE={magic:"\0\0",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},t.DEFLATE=n("./node_modules/jszip/lib/flate.js")},"./node_modules/jszip/lib/crc32.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/utils.js"),o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==i.getTypeOf(e);"undefined"==typeof t&&(t=0);var r=0,s=0,a=0;t^=-1;for(var l=0,u=e.length;l<u;l++)a=n?e[l]:e.charCodeAt(l),s=255&(t^a),r=o[s],t=t>>>8^r;return t^-1}},"./node_modules/jszip/lib/dataReader.js":function(e,t,n){"use strict";function i(e){this.data=null,this.length=0,this.index=0,this.zero=0}var o=n("./node_modules/jszip/lib/utils.js");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},e.exports=i},"./node_modules/jszip/lib/defaults.js":function(e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!1,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},"./node_modules/jszip/lib/deprecatedPublicUtils.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/utils.js");t.string2binary=function(e){return i.string2binary(e)},t.string2Uint8Array=function(e){return i.transformTo("uint8array",e)},t.uint8Array2String=function(e){return i.transformTo("string",e)},t.string2Blob=function(e){var t=i.transformTo("arraybuffer",e);return i.arrayBuffer2Blob(t)},t.arrayBuffer2Blob=function(e){return i.arrayBuffer2Blob(e)},t.transformTo=function(e,t){return i.transformTo(e,t)},t.getTypeOf=function(e){return i.getTypeOf(e)},t.checkSupport=function(e){return i.checkSupport(e)},t.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,t.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,t.pretty=function(e){return i.pretty(e)},t.findCompression=function(e){return i.findCompression(e)},t.isRegExp=function(e){return i.isRegExp(e)}},"./node_modules/jszip/lib/flate.js":function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n("./node_modules/pako/index.js");t.uncompressInputType=i?"uint8array":"array",t.compressInputType=i?"uint8array":"array",t.magic="\b\0",t.compress=function(e,t){return o.deflateRaw(e,{level:t.level||-1})},t.uncompress=function(e){return o.inflateRaw(e)}},"./node_modules/jszip/lib/index.js":function(e,t,n){"use strict";function i(e,t){return this instanceof i?(this.files={},this.comment=null,this.root="",e&&this.load(e,t),void(this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e})):new i(e,t)}var o=n("./node_modules/jszip/lib/base64.js");i.prototype=n("./node_modules/jszip/lib/object.js"),i.prototype.load=n("./node_modules/jszip/lib/load.js"),i.support=n("./node_modules/jszip/lib/support.js"),i.defaults=n("./node_modules/jszip/lib/defaults.js"),i.utils=n("./node_modules/jszip/lib/deprecatedPublicUtils.js"),i.base64={encode:function(e){return o.encode(e)},decode:function(e){return o.decode(e)}},i.compressions=n("./node_modules/jszip/lib/compressions.js"),e.exports=i},"./node_modules/jszip/lib/load.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/base64.js"),o=n("./node_modules/jszip/lib/utf8.js"),r=n("./node_modules/jszip/lib/utils.js"),s=n("./node_modules/jszip/lib/zipEntries.js");e.exports=function(e,t){var n,a,l,u;for(t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),t.base64&&(e=i.decode(e)),a=new s(e,t),n=a.files,l=0;l<n.length;l++)u=n[l],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:t.createFolders});return a.zipComment.length&&(this.comment=a.zipComment),this}},"./node_modules/jszip/lib/nodeBuffer.js":function(e,t,n){"use strict";(function(t){e.exports=function(e,n){return new t(e,n)},e.exports.test=function(e){return t.isBuffer(e)}}).call(t,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/jszip/lib/nodeBufferReader.js":function(e,t,n){"use strict";function i(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}var o=n("./node_modules/jszip/lib/uint8ArrayReader.js");i.prototype=new o,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},"./node_modules/jszip/lib/object.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/support.js"),o=n("./node_modules/jszip/lib/utils.js"),r=n("./node_modules/jszip/lib/crc32.js"),s=n("./node_modules/jszip/lib/signature.js"),a=n("./node_modules/jszip/lib/defaults.js"),l=n("./node_modules/jszip/lib/base64.js"),u=n("./node_modules/jszip/lib/compressions.js"),c=n("./node_modules/jszip/lib/compressedObject.js"),d=n("./node_modules/jszip/lib/nodeBuffer.js"),h=n("./node_modules/jszip/lib/utf8.js"),m=n("./node_modules/jszip/lib/stringWriter.js"),p=n("./node_modules/jszip/lib/uint8ArrayWriter.js"),f=function(e){if(e._data instanceof c&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===o.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},_=function(e){var t=f(e),n=o.getTypeOf(t);return"string"===n?!e.options.binary&&i.nodebuffer?d(t,"utf-8"):e.asBinary():t},g=function(e){var t=f(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?P.utf8decode(t):o.transformTo("string",t),e||this.options.binary||(t=o.transformTo("string",P.utf8encode(t))),t)},v=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};v.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var e=_(this);return o.transformTo("nodebuffer",e)},asUint8Array:function(){var e=_(this);return o.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},b=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=o.extend(e,a),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},w=function(e,t,n){var i,r=o.getTypeOf(t);if(n=b(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=E(e)),n.createFolders&&(i=C(e))&&S.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,r=null;else if("string"===r)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=o.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(r||t instanceof c))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===r&&(t=o.transformTo("uint8array",t))}var s=new v(e,t,n);return this.files[e]=s,s},C=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},E=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},S=function(e,t){return t="undefined"!=typeof t&&t,e=E(e),this.files[e]||w.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},I=function(e,t,n){var i,s=new c;return e._data instanceof c?(s.uncompressedSize=e._data.uncompressedSize,s.crc32=e._data.crc32,0===s.uncompressedSize||e.dir?(t=u.STORE,s.compressedContent="",s.crc32=0):e._data.compressionMethod===t.magic?s.compressedContent=e._data.getCompressedContent():(i=e._data.getContent(),s.compressedContent=t.compress(o.transformTo(t.compressInputType,i),n))):(i=_(e),i&&0!==i.length&&!e.dir||(t=u.STORE,i=""),s.uncompressedSize=i.length,s.crc32=r(i),s.compressedContent=t.compress(o.transformTo(t.compressInputType,i),n)),s.compressedSize=s.compressedContent.length,s.compressionMethod=t.magic,s},x=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},j=function(e,t){return 63&(e||0)},k=function(e,t,n,i,a,l){var u,c,d,m,p=(n.compressedContent,l!==h.utf8encode),f=o.transformTo("string",l(t.name)),_=o.transformTo("string",h.utf8encode(t.name)),g=t.comment||"",v=o.transformTo("string",l(g)),b=o.transformTo("string",h.utf8encode(g)),w=_.length!==t.name.length,C=b.length!==g.length,E=t.options,S="",I="",k="";d=t._initialMetadata.dir!==t.dir?t.dir:E.dir,m=t._initialMetadata.date!==t.date?t.date:E.date;var P=0,T=0;d&&(P|=16),"UNIX"===a?(T=798,P|=x(t.unixPermissions,d)):(T=20,P|=j(t.dosPermissions,d)),u=m.getHours(),u<<=6,u|=m.getMinutes(),u<<=5,u|=m.getSeconds()/2,c=m.getFullYear()-1980,c<<=4,c|=m.getMonth()+1,c<<=5,c|=m.getDate(),w&&(I=y(1,1)+y(r(f),4)+_,S+="up"+y(I.length,2)+I),C&&(k=y(1,1)+y(this.crc32(v),4)+b,S+="uc"+y(k.length,2)+k);var O="";O+="\n\0",O+=p||!w&&!C?"\0\0":"\0\b",O+=n.compressionMethod,O+=y(u,2),O+=y(c,2),O+=y(n.crc32,4),O+=y(n.compressedSize,4),O+=y(n.uncompressedSize,4),O+=y(f.length,2),O+=y(S.length,2);var A=s.LOCAL_FILE_HEADER+O+f+S,M=s.CENTRAL_FILE_HEADER+y(T,2)+O+y(v.length,2)+"\0\0\0\0"+y(P,4)+y(i,4)+f+S+v;return{fileRecord:A,dirRecord:M,compressedObject:n}},P={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,r,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],r=new v(i.name,i._data,o.extend(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,r)&&s.push(r));return s},file:function(e,t,n){if(1===arguments.length){if(o.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,n){return!n.dir&&t===e})[0]||null}return e=this.root+e,w.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(o.isRegExp(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=S.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){e=o.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),o.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,i=[],r=0,a=0,c=o.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var f=this.files[d],_=f.options.compression||e.compression.toUpperCase(),g=u[_];if(!g)throw new Error(_+" is not a valid compression method !");var v=f.options.compressionOptions||e.compressionOptions||{},b=I.call(this,f,g,v),w=k.call(this,d,f,b,r,e.platform,e.encodeFileName);r+=w.fileRecord.length+b.compressedSize,a+=w.dirRecord.length,i.push(w)}var C="";C=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(i.length,2)+y(i.length,2)+y(a,4)+y(r,4)+y(c.length,2)+c;var E=e.type.toLowerCase();for(t="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(r+a+C.length):new m(r+a+C.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(C);var S=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return o.transformTo(e.type.toLowerCase(),S);case"blob":return o.arrayBuffer2Blob(o.transformTo("arraybuffer",S),e.mimeType);case"base64":return e.base64?l.encode(S):S;default:return S}},crc32:function(e,t){return r(e,t)},utf8encode:function(e){return o.transformTo("string",h.utf8encode(e))},utf8decode:function(e){return h.utf8decode(e)}};e.exports=P;
},"./node_modules/jszip/lib/signature.js":function(e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},"./node_modules/jszip/lib/stringReader.js":function(e,t,n){"use strict";function i(e,t){this.data=e,t||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var o=n("./node_modules/jszip/lib/dataReader.js"),r=n("./node_modules/jszip/lib/utils.js");i.prototype=new o,i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},"./node_modules/jszip/lib/stringWriter.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/utils.js"),o=function(){this.data=[]};o.prototype={append:function(e){e=i.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},e.exports=o},"./node_modules/jszip/lib/support.js":function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var n=new ArrayBuffer(0);try{t.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new i;o.append(n),t.blob=0===o.getBlob("application/zip").size}catch(e){t.blob=!1}}}}).call(t,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/jszip/lib/uint8ArrayReader.js":function(e,t,n){"use strict";function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}var o=n("./node_modules/jszip/lib/arrayReader.js");i.prototype=new o,i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},"./node_modules/jszip/lib/uint8ArrayWriter.js":function(e,t,n){"use strict";var i=n("./node_modules/jszip/lib/utils.js"),o=function(e){this.data=new Uint8Array(e),this.index=0};o.prototype={append:function(e){0!==e.length&&(e=i.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},e.exports=o},"./node_modules/jszip/lib/utf8.js":function(e,t,n){"use strict";for(var i=n("./node_modules/jszip/lib/utils.js"),o=n("./node_modules/jszip/lib/support.js"),r=n("./node_modules/jszip/lib/nodeBuffer.js"),s=new Array(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;s[254]=s[254]=1;var l=function(e){var t,n,i,r,s,a=e.length,l=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),s=0,r=0;s<l;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},u=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t},c=function(e){var t,n,o,r,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if(o=e[t++],o<128)l[n++]=o;else if(r=s[o],r>4)l[n++]=65533,t+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&t<a;)o=o<<6|63&e[t++],r--;r>1?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};t.utf8encode=function(e){return o.nodebuffer?r(e,"utf-8"):l(e)},t.utf8decode=function(e){if(o.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");e=i.transformTo(o.uint8array?"uint8array":"array",e);for(var t=[],n=0,r=e.length,s=65536;n<r;){var a=u(e,Math.min(n+s,r));o.uint8array?t.push(c(e.subarray(n,a))):t.push(c(e.slice(n,a))),n=a}return t.join("")}},"./node_modules/jszip/lib/utils.js":function(e,t,n){"use strict";function i(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function r(e){var n=65536,i=[],o=e.length,r=t.getTypeOf(e),s=0,a=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(e){a=!1}if(!a){for(var l="",c=0;c<e.length;c++)l+=String.fromCharCode(e[c]);return l}for(;s<o&&n>1;)try{"array"===r||"nodebuffer"===r?i.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,o)))),s+=n}catch(e){n=Math.floor(n/2)}return i.join("")}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var a=n("./node_modules/jszip/lib/support.js"),l=n("./node_modules/jszip/lib/compressions.js"),u=n("./node_modules/jszip/lib/nodeBuffer.js");t.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},t.arrayBuffer2Blob=function(e,n){t.checkSupport("blob"),n=n||"application/zip";try{return new Blob([e],{type:n})}catch(t){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new i;return o.append(e),o.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}},t.applyFromCharCode=r;var c={};c.string={string:i,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,u(e.length))}},c.array={string:r,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(e)}},c.arraybuffer={string:function(e){return r(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u(new Uint8Array(e))}},c.uint8array={string:r,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return u(e)}},c.nodebuffer={string:r,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:i},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var i=t.getTypeOf(n),o=c[i][e](n);return o},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":a.nodebuffer&&u.test(e)?"nodebuffer":a.uint8array&&e instanceof Uint8Array?"uint8array":a.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){var t=a[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return i},t.findCompression=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n}},"./node_modules/jszip/lib/zipEntries.js":function(e,t,n){"use strict";function i(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var o=n("./node_modules/jszip/lib/stringReader.js"),r=n("./node_modules/jszip/lib/nodeBufferReader.js"),s=n("./node_modules/jszip/lib/uint8ArrayReader.js"),a=n("./node_modules/jszip/lib/arrayReader.js"),l=n("./node_modules/jszip/lib/utils.js"),u=n("./node_modules/jszip/lib/signature.js"),c=n("./node_modules/jszip/lib/zipEntry.js"),d=n("./node_modules/jszip/lib/support.js");n("./node_modules/jszip/lib/object.js");i.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(t)+", expected "+l.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),o=i===t;return this.reader.setIndex(n),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=d.uint8array?"uint8array":"array",n=l.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,o=0;o<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)e=new c({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,u.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var o=n-i;if(o>0)this.isSignature(n,u.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){var t=l.getTypeOf(e);if(l.checkSupport(t),"string"!==t||d.uint8array)if("nodebuffer"===t)this.reader=new r(e);else if(d.uint8array)this.reader=new s(l.transformTo("uint8array",e));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new a(l.transformTo("array",e))}else this.reader=new o(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},"./node_modules/jszip/lib/zipEntry.js":function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var o=n("./node_modules/jszip/lib/stringReader.js"),r=n("./node_modules/jszip/lib/utils.js"),s=n("./node_modules/jszip/lib/compressedObject.js"),a=n("./node_modules/jszip/lib/object.js"),l=n("./node_modules/jszip/lib/support.js"),u=0,c=3;i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var i=e.index;e.setIndex(t);var o=e.readData(n);return e.setIndex(i),o}},prepareContent:function(e,t,n,i,o){return function(){var e=r.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==o)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize==-1||this.uncompressedSize==-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=r.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),a.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===u&&(this.dosPermissions=63&this.externalFileAttributes),e===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,o=e.index;for(this.extraFields=this.extraFields||{};e.index<o+this.extraFieldsLength;)t=e.readInt(2),n=e.readInt(2),i=e.readString(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new o(e.value);return 1!==t.readInt(1)?null:a.crc32(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new o(e.value);return 1!==t.readInt(1)?null:a.crc32(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readString(e.length-5))}return null}},e.exports=i},"./node_modules/pako/index.js":function(e,t,n){"use strict";var i=n("./node_modules/pako/lib/utils/common.js").assign,o=n("./node_modules/pako/lib/deflate.js"),r=n("./node_modules/pako/lib/inflate.js"),s=n("./node_modules/pako/lib/zlib/constants.js"),a={};i(a,o,r,s),e.exports=a},"./node_modules/pako/lib/deflate.js":function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(c[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var o;if(o="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=a.deflateSetDictionary(this.strm,o),n!==f)throw new Error(c[n]);this._dict_set=!0}}function o(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function r(e,t){return t=t||{},t.raw=!0,o(e,t)}function s(e,t){return t=t||{},t.gzip=!0,o(e,t)}var a=n("./node_modules/pako/lib/zlib/deflate.js"),l=n("./node_modules/pako/lib/utils/common.js"),u=n("./node_modules/pako/lib/utils/strings.js"),c=n("./node_modules/pako/lib/zlib/messages.js"),d=n("./node_modules/pako/lib/zlib/zstream.js"),h=Object.prototype.toString,m=0,p=4,f=0,_=1,g=2,v=-1,y=0,b=8;i.prototype.push=function(e,t){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?p:m,"string"==typeof e?o.input=u.string2buf(e):"[object ArrayBuffer]"===h.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new l.Buf8(r),o.next_out=0,o.avail_out=r),n=a.deflate(o,i),n!==_&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||i!==p&&i!==g)||("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(o.output,o.next_out))):this.onData(l.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&n!==_);return i===p?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):i!==g||(this.onEnd(f),o.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=i,t.deflate=o,t.deflateRaw=r,t.gzip=s},"./node_modules/pako/lib/inflate.js":function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,t.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function o(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function r(e,t){return t=t||{},t.raw=!0,o(e,t)}var s=n("./node_modules/pako/lib/zlib/inflate.js"),a=n("./node_modules/pako/lib/utils/common.js"),l=n("./node_modules/pako/lib/utils/strings.js"),u=n("./node_modules/pako/lib/zlib/constants.js"),c=n("./node_modules/pako/lib/zlib/messages.js"),d=n("./node_modules/pako/lib/zlib/zstream.js"),h=n("./node_modules/pako/lib/zlib/gzheader.js"),m=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,o,r,c,d,h=this.strm,p=this.options.chunkSize,f=this.options.dictionary,_=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(p),h.next_out=0,h.avail_out=p),n=s.inflate(h,u.Z_NO_FLUSH),n===u.Z_NEED_DICT&&f&&(d="string"==typeof f?l.string2buf(f):"[object ArrayBuffer]"===m.call(f)?new Uint8Array(f):f,n=s.inflateSetDictionary(this.strm,d)),n===u.Z_BUF_ERROR&&_===!0&&(n=u.Z_OK,_=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==u.Z_STREAM_END&&(0!==h.avail_in||i!==u.Z_FINISH&&i!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(o=l.utf8border(h.output,h.next_out),r=h.next_out-o,c=l.buf2string(h.output,o),h.next_out=r,h.avail_out=p-r,r&&a.arraySet(h.output,h.output,o,r,0),this.onData(c)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(_=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=i,t.inflate=o,t.inflateRaw=r,t.ungzip=o},"./node_modules/pako/lib/utils/common.js":function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,i,o){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),o);for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){var t,n,i,o,r,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),o=0,t=0,n=e.length;t<n;t++)r=e[t],s.set(r,o),o+=r.length;return s}},o={arraySet:function(e,t,n,i,o){for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},"./node_modules/pako/lib/utils/strings.js":function(e,t,n){"use strict";function i(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var o=n("./node_modules/pako/lib/utils/common.js"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new o.Buf8(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,r,s,a=e.length,l=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(l),s=0,r=0;s<l;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return i(e,e.length)},t.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,o,r,s,l=t||e.length,u=new Array(2*l);for(o=0,n=0;n<l;)if(r=e[n++],r<128)u[o++]=r;else if(s=a[r],s>4)u[o++]=65533,n+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&n<l;)r=r<<6|63&e[n++],s--;s>1?u[o++]=65533:r<65536?u[o++]=r:(r-=65536,u[o++]=55296|r>>10&1023,u[o++]=56320|1023&r)}return i(u,o)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},"./node_modules/pako/lib/zlib/adler32.js":function(e,t){"use strict";function n(e,t,n,i){for(var o=65535&e|0,r=e>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do o=o+t[i++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0}e.exports=n},"./node_modules/pako/lib/zlib/constants.js":function(e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":function(e,t){"use strict";function n(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,i){var r=o,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^r[255&(e^t[a])];return e^-1}var o=n();e.exports=i},"./node_modules/pako/lib/zlib/deflate.js":function(e,t,n){"use strict";function i(e,t){return e.msg=D[t],t}function o(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(T.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){O._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,T.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=A(e.adler,t,o,n):2===e.state.wrap&&(e.adler=M(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function d(e,t){var n,i,o=e.max_chain_length,r=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+ce,m=u[r+s-1],p=u[r+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,u[n+s]===p&&u[n+s-1]===m&&u[n]===u[r]&&u[++n]===u[r+1]){r+=2,n++;do;while(u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&r<h);if(i=ce-(h-r),r=h-ce,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],p=u[r+s]}}while((t=d[t&c])>l&&0!==--o);return s<=e.lookahead?s:e.lookahead}function h(e){var t,n,i,o,r,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-de)){T.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--n);n=s,t=n;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=c(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=ue)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+ue-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ue)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function m(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===L)return be;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,a(e,!1),0===e.strm.avail_out))return be;if(e.strstart-e.block_start>=e.w_size-de&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===R?(a(e,!0),0===e.strm.avail_out?Ce:Ee):e.strstart>e.block_start&&(a(e,!1),0===e.strm.avail_out)?be:be}function p(e,t){for(var n,i;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===L)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ue&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ue-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ue)if(i=O._tr_tally(e,e.strstart-e.match_start,e.match_length-ue),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ue){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ue-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=e.strstart<ue-1?e.strstart:ue-1,t===R?(a(e,!0),0===e.strm.avail_out?Ce:Ee):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:we}function f(e,t){for(var n,i,o;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===L)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ue&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ue-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ue-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===J||e.match_length===ue&&e.strstart-e.match_start>4096)&&(e.match_length=ue-1)),e.prev_length>=ue&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-ue,i=O._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ue),
e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ue-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ue-1,e.strstart++,i&&(a(e,!1),0===e.strm.avail_out))return be}else if(e.match_available){if(i=O._tr_tally(e,0,e.window[e.strstart-1]),i&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=O._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ue-1?e.strstart:ue-1,t===R?(a(e,!0),0===e.strm.avail_out?Ce:Ee):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:we}function _(e,t){for(var n,i,o,r,s=e.window;;){if(e.lookahead<=ce){if(h(e),e.lookahead<=ce&&t===L)return be;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ue&&e.strstart>0&&(o=e.strstart-1,i=s[o],i===s[++o]&&i===s[++o]&&i===s[++o])){r=e.strstart+ce;do;while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<r);e.match_length=ce-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ue?(n=O._tr_tally(e,1,e.match_length-ue),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===R?(a(e,!0),0===e.strm.avail_out?Ce:Ee):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:we}function g(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===L)return be;break}if(e.match_length=0,n=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===R?(a(e,!0),0===e.strm.avail_out?Ce:Ee):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?be:we}function v(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}function y(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=P[e.level].max_lazy,e.good_match=P[e.level].good_length,e.nice_match=P[e.level].nice_length,e.max_chain_length=P[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ue-1,e.match_available=0,e.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*ae),this.dyn_dtree=new T.Buf16(2*(2*re+1)),this.bl_tree=new T.Buf16(2*(2*se+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(le+1),this.heap=new T.Buf16(2*oe+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*oe+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?me:ve,e.adler=2===t.wrap?0:1,t.last_flush=L,O._tr_init(t),z):i(e,W)}function C(e){var t=w(e);return t===z&&y(e.state),t}function E(e,t){return e&&e.state?2!==e.state.wrap?W:(e.state.gzhead=t,z):W}function S(e,t,n,o,r,s){if(!e)return W;var a=1;if(t===q&&(t=6),o<0?(a=0,o=-o):o>15&&(a=2,o-=16),r<1||r>$||n!==Q||o<8||o>15||t<0||t>9||s<0||s>Y)return i(e,W);8===o&&(o=9);var l=new b;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ue-1)/ue),l.window=new T.Buf8(2*l.w_size),l.head=new T.Buf16(l.hash_size),l.prev=new T.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new T.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,C(e)}function I(e,t){return S(e,t,Q,ee,te,X)}function x(e,t){var n,a,c,d;if(!e||!e.state||t>F||t<0)return e?i(e,W):W;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===ye&&t!==R)return i(e,0===e.avail_out?U:W);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===me)if(2===a.wrap)e.adler=0,l(a,31),l(a,139),l(a,8),a.gzhead?(l(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),l(a,255&a.gzhead.time),l(a,a.gzhead.time>>8&255),l(a,a.gzhead.time>>16&255),l(a,a.gzhead.time>>24&255),l(a,9===a.level?2:a.strategy>=K||a.level<2?4:0),l(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(l(a,255&a.gzhead.extra.length),l(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=M(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=pe):(l(a,0),l(a,0),l(a,0),l(a,0),l(a,0),l(a,9===a.level?2:a.strategy>=K||a.level<2?4:0),l(a,Se),a.status=ve);else{var h=Q+(a.w_bits-8<<4)<<8,m=-1;m=a.strategy>=K||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=m<<6,0!==a.strstart&&(h|=he),h+=31-h%31,a.status=ve,u(a,h),0!==a.strstart&&(u(a,e.adler>>>16),u(a,65535&e.adler)),e.adler=1}if(a.status===pe)if(a.gzhead.extra){for(c=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),s(e),c=a.pending,a.pending!==a.pending_buf_size));)l(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=fe)}else a.status=fe;if(a.status===fe)if(a.gzhead.name){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),s(e),c=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,l(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),0===d&&(a.gzindex=0,a.status=_e)}else a.status=_e;if(a.status===_e)if(a.gzhead.comment){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),s(e),c=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,l(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>c&&(e.adler=M(e.adler,a.pending_buf,a.pending-c,c)),0===d&&(a.status=ge)}else a.status=ge;if(a.status===ge&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(l(a,255&e.adler),l(a,e.adler>>8&255),e.adler=0,a.status=ve)):a.status=ve),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,z}else if(0===e.avail_in&&o(t)<=o(n)&&t!==R)return i(e,U);if(a.status===ye&&0!==e.avail_in)return i(e,U);if(0!==e.avail_in||0!==a.lookahead||t!==L&&a.status!==ye){var p=a.strategy===K?g(a,t):a.strategy===G?_(a,t):P[a.level].func(a,t);if(p!==Ce&&p!==Ee||(a.status=ye),p===be||p===Ce)return 0===e.avail_out&&(a.last_flush=-1),z;if(p===we&&(t===N?O._tr_align(a):t!==F&&(O._tr_stored_block(a,0,0,!1),t===B&&(r(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,z}return t!==R?z:a.wrap<=0?H:(2===a.wrap?(l(a,255&e.adler),l(a,e.adler>>8&255),l(a,e.adler>>16&255),l(a,e.adler>>24&255),l(a,255&e.total_in),l(a,e.total_in>>8&255),l(a,e.total_in>>16&255),l(a,e.total_in>>24&255)):(u(a,e.adler>>>16),u(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?z:H)}function j(e){var t;return e&&e.state?(t=e.state.status,t!==me&&t!==pe&&t!==fe&&t!==_e&&t!==ge&&t!==ve&&t!==ye?i(e,W):(e.state=null,t===ve?i(e,V):z)):W}function k(e,t){var n,i,o,s,a,l,u,c,d=t.length;if(!e||!e.state)return W;if(n=e.state,s=n.wrap,2===s||1===s&&n.status!==me||n.lookahead)return W;for(1===s&&(e.adler=A(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(r(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new T.Buf8(n.w_size),T.arraySet(c,t,d-n.w_size,n.w_size,0),t=c,d=n.w_size),a=e.avail_in,l=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,h(n);n.lookahead>=ue;){i=n.strstart,o=n.lookahead-(ue-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ue-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--o);n.strstart=i,n.lookahead=ue-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ue-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=a,n.wrap=s,z}var P,T=n("./node_modules/pako/lib/utils/common.js"),O=n("./node_modules/pako/lib/zlib/trees.js"),A=n("./node_modules/pako/lib/zlib/adler32.js"),M=n("./node_modules/pako/lib/zlib/crc32.js"),D=n("./node_modules/pako/lib/zlib/messages.js"),L=0,N=1,B=3,R=4,F=5,z=0,H=1,W=-2,V=-3,U=-5,q=-1,J=1,K=2,G=3,Y=4,X=0,Z=2,Q=8,$=9,ee=15,te=8,ne=29,ie=256,oe=ie+1+ne,re=30,se=19,ae=2*oe+1,le=15,ue=3,ce=258,de=ce+ue+1,he=32,me=42,pe=69,fe=73,_e=91,ge=103,ve=113,ye=666,be=1,we=2,Ce=3,Ee=4,Se=3;P=[new v(0,0,0,0,m),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,f),new v(8,16,32,32,f),new v(8,16,128,128,f),new v(8,32,128,256,f),new v(32,128,258,1024,f),new v(32,258,258,4096,f)],t.deflateInit=I,t.deflateInit2=S,t.deflateReset=C,t.deflateResetKeep=w,t.deflateSetHeader=E,t.deflate=x,t.deflateEnd=j,t.deflateSetDictionary=k,t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":function(e,t){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},"./node_modules/pako/lib/zlib/inffast.js":function(e,t){"use strict";var n=30,i=12;e.exports=function(e,t){var o,r,s,a,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C,E,S,I,x,j,k;o=e.state,r=e.next_in,j=e.input,s=r+(e.avail_in-5),a=e.next_out,k=e.output,l=a-(t-e.avail_out),u=a+(e.avail_out-257),c=o.dmax,d=o.wsize,h=o.whave,m=o.wnext,p=o.window,f=o.hold,_=o.bits,g=o.lencode,v=o.distcode,y=(1<<o.lenbits)-1,b=(1<<o.distbits)-1;e:do{_<15&&(f+=j[r++]<<_,_+=8,f+=j[r++]<<_,_+=8),w=g[f&y];t:for(;;){if(C=w>>>24,f>>>=C,_-=C,C=w>>>16&255,0===C)k[a++]=65535&w;else{if(!(16&C)){if(0===(64&C)){w=g[(65535&w)+(f&(1<<C)-1)];continue t}if(32&C){o.mode=i;break e}e.msg="invalid literal/length code",o.mode=n;break e}E=65535&w,C&=15,C&&(_<C&&(f+=j[r++]<<_,_+=8),E+=f&(1<<C)-1,f>>>=C,_-=C),_<15&&(f+=j[r++]<<_,_+=8,f+=j[r++]<<_,_+=8),w=v[f&b];n:for(;;){if(C=w>>>24,f>>>=C,_-=C,C=w>>>16&255,!(16&C)){if(0===(64&C)){w=v[(65535&w)+(f&(1<<C)-1)];continue n}e.msg="invalid distance code",o.mode=n;break e}if(S=65535&w,C&=15,_<C&&(f+=j[r++]<<_,_+=8,_<C&&(f+=j[r++]<<_,_+=8)),S+=f&(1<<C)-1,S>c){e.msg="invalid distance too far back",o.mode=n;break e}if(f>>>=C,_-=C,C=a-l,S>C){if(C=S-C,C>h&&o.sane){e.msg="invalid distance too far back",o.mode=n;break e}if(I=0,x=p,0===m){if(I+=d-C,C<E){E-=C;do k[a++]=p[I++];while(--C);I=a-S,x=k}}else if(m<C){if(I+=d+m-C,C-=m,C<E){E-=C;do k[a++]=p[I++];while(--C);if(I=0,m<E){C=m,E-=C;do k[a++]=p[I++];while(--C);I=a-S,x=k}}}else if(I+=m-C,C<E){E-=C;do k[a++]=p[I++];while(--C);I=a-S,x=k}for(;E>2;)k[a++]=x[I++],k[a++]=x[I++],k[a++]=x[I++],E-=3;E&&(k[a++]=x[I++],E>1&&(k[a++]=x[I++]))}else{I=a-S;do k[a++]=k[I++],k[a++]=k[I++],k[a++]=k[I++],E-=3;while(E>2);E&&(k[a++]=k[I++],E>1&&(k[a++]=k[I++]))}break}}break}}while(r<s&&a<u);E=_>>3,r-=E,_-=E<<3,f&=(1<<_)-1,e.next_in=r,e.next_out=a,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=a<u?257+(u-a):257-(a-u),o.hold=f,o.bits=_}},"./node_modules/pako/lib/zlib/inflate.js":function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=B,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(fe),t.distcode=t.distdyn=new v.Buf32(_e),t.sane=1,t.back=-1,P):A}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):A}function a(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?A:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))):A}function l(e,t){var n,i;return e?(i=new o,e.state=i,i.window=null,n=a(e,t),n!==P&&(e.state=null),n):A}function u(e){return l(e,ve)}function c(e){if(ye){var t;for(_=new v.Buf32(512),g=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(C(S,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;C(I,e.lens,0,32,g,0,e.work,{bits:5}),ye=!1}e.lencode=_,e.lenbits=9,e.distcode=g,e.distbits=5}function d(e,t,n,i){var o,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new v.Buf8(r.wsize)),i>=r.wsize?(v.arraySet(r.window,t,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>i&&(o=i),v.arraySet(r.window,t,n-i,o,r.wnext),i-=o,i?(v.arraySet(r.window,t,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function h(e,t){var n,o,r,s,a,l,u,h,m,p,f,_,g,fe,_e,ge,ve,ye,be,we,Ce,Ee,Se,Ie,xe=0,je=new v.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return A;n=e.state,n.mode===G&&(n.mode=Y),a=e.next_out,r=e.output,u=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,m=n.bits,p=l,f=u,Ee=P;e:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=Y;break}for(;m<16;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(2&n.wrap&&35615===h){n.check=0,je[0]=255&h,je[1]=h>>>8&255,n.check=b(n.check,je,2,0),h=0,m=0,n.mode=R;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&h)!==N){e.msg="unknown compression method",n.mode=he;break}if(h>>>=4,m-=4,Ce=(15&h)+8,0===n.wbits)n.wbits=Ce;else if(Ce>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<Ce,e.adler=n.check=1,n.mode=512&h?J:G,h=0,m=0;break;case R:for(;m<16;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(n.flags=h,(255&n.flags)!==N){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(je[0]=255&h,je[1]=h>>>8&255,n.check=b(n.check,je,2,0)),h=0,m=0,n.mode=F;case F:for(;m<32;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.head&&(n.head.time=h),512&n.flags&&(je[0]=255&h,je[1]=h>>>8&255,je[2]=h>>>16&255,je[3]=h>>>24&255,n.check=b(n.check,je,4,0)),h=0,m=0,n.mode=z;case z:for(;m<16;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(je[0]=255&h,je[1]=h>>>8&255,n.check=b(n.check,je,2,0)),h=0,m=0,n.mode=H;case H:if(1024&n.flags){for(;m<16;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(je[0]=255&h,je[1]=h>>>8&255,n.check=b(n.check,je,2,0)),h=0,m=0}else n.head&&(n.head.extra=null);n.mode=W;case W:if(1024&n.flags&&(_=n.length,_>l&&(_=l),_&&(n.head&&(Ce=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,o,s,_,Ce)),512&n.flags&&(n.check=b(n.check,o,_,s)),l-=_,s+=_,n.length-=_),n.length))break e;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===l)break e;_=0;do Ce=o[s+_++],n.head&&Ce&&n.length<65536&&(n.head.name+=String.fromCharCode(Ce));while(Ce&&_<l);if(512&n.flags&&(n.check=b(n.check,o,_,s)),l-=_,s+=_,Ce)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=U;case U:if(4096&n.flags){if(0===l)break e;_=0;do Ce=o[s+_++],n.head&&Ce&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ce));while(Ce&&_<l);if(512&n.flags&&(n.check=b(n.check,o,_,s)),l-=_,s+=_,Ce)break e}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;m<16;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}h=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=G;break;case J:for(;m<32;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}e.adler=n.check=i(h),h=0,m=0,n.mode=K;case K:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=m,O;e.adler=n.check=1,n.mode=G;case G:if(t===j||t===k)break e;case Y:if(n.last){h>>>=7&m,m-=7&m,n.mode=ue;break}for(;m<3;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}switch(n.last=1&h,h>>>=1,m-=1,3&h){case 0:n.mode=X;break;case 1:if(c(n),n.mode=ne,t===k){h>>>=2,m-=2;break e}break;case 2:n.mode=$;break;case 3:e.msg="invalid block type",n.mode=he}h>>>=2,m-=2;break;case X:for(h>>>=7&m,m-=7&m;m<32;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&h,h=0,m=0,n.mode=Z,t===k)break e;case Z:n.mode=Q;case Q:if(_=n.length){if(_>l&&(_=l),_>u&&(_=u),0===_)break e;v.arraySet(r,o,s,_,a),l-=_,s+=_,u-=_,a+=_,n.length-=_;break}n.mode=G;break;case $:for(;m<14;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(n.nlen=(31&h)+257,h>>>=5,m-=5,n.ndist=(31&h)+1,h>>>=5,m-=5,n.ncode=(15&h)+4,h>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;m<3;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.lens[ke[n.have++]]=7&h,h>>>=3,m-=3}for(;n.have<19;)n.lens[ke[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},Ee=C(E,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ee){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;xe=n.lencode[h&(1<<n.lenbits)-1],_e=xe>>>24,ge=xe>>>16&255,ve=65535&xe,!(_e<=m);){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(ve<16)h>>>=_e,m-=_e,n.lens[n.have++]=ve;else{if(16===ve){for(Ie=_e+2;m<Ie;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(h>>>=_e,m-=_e,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}Ce=n.lens[n.have-1],_=3+(3&h),h>>>=2,m-=2}else if(17===ve){for(Ie=_e+3;m<Ie;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}h>>>=_e,m-=_e,Ce=0,_=3+(7&h),h>>>=3,m-=3}else{for(Ie=_e+7;m<Ie;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}h>>>=_e,m-=_e,Ce=0,_=11+(127&h),h>>>=7,m-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;_--;)n.lens[n.have++]=Ce}}if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,Se={bits:n.lenbits},Ee=C(S,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ee){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},Ee=C(I,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,Ee){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,t===k)break e;case ne:n.mode=ie;case ie:if(l>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=m,w(e,f),a=e.next_out,r=e.output,u=e.avail_out,s=e.next_in,o=e.input,l=e.avail_in,h=n.hold,m=n.bits,n.mode===G&&(n.back=-1);break}for(n.back=0;xe=n.lencode[h&(1<<n.lenbits)-1],_e=xe>>>24,ge=xe>>>16&255,ve=65535&xe,!(_e<=m);){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(ge&&0===(240&ge)){for(ye=_e,be=ge,we=ve;xe=n.lencode[we+((h&(1<<ye+be)-1)>>ye)],_e=xe>>>24,ge=xe>>>16&255,ve=65535&xe,!(ye+_e<=m);){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}h>>>=ye,m-=ye,n.back+=ye}if(h>>>=_e,m-=_e,n.back+=_e,n.length=ve,0===ge){n.mode=le;break}if(32&ge){n.back=-1,n.mode=G;break}if(64&ge){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&ge,n.mode=oe;case oe:if(n.extra){for(Ie=n.extra;m<Ie;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=re;case re:for(;xe=n.distcode[h&(1<<n.distbits)-1],_e=xe>>>24,ge=xe>>>16&255,ve=65535&xe,!(_e<=m);){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(0===(240&ge)){for(ye=_e,be=ge,we=ve;xe=n.distcode[we+((h&(1<<ye+be)-1)>>ye)],_e=xe>>>24,ge=xe>>>16&255,ve=65535&xe,!(ye+_e<=m);){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}h>>>=ye,m-=ye,n.back+=ye}if(h>>>=_e,m-=_e,n.back+=_e,64&ge){e.msg="invalid distance code",n.mode=he;break}n.offset=ve,n.extra=15&ge,n.mode=se;case se:if(n.extra){for(Ie=n.extra;m<Ie;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=ae;case ae:if(0===u)break e;if(_=f-u,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}_>n.wnext?(_-=n.wnext,g=n.wsize-_):g=n.wnext-_,_>n.length&&(_=n.length),fe=n.window}else fe=r,g=a-n.offset,_=n.length;_>u&&(_=u),u-=_,n.length-=_;do r[a++]=fe[g++];while(--_);0===n.length&&(n.mode=ie);break;case le:if(0===u)break e;r[a++]=n.length,u--,n.mode=ie;break;case ue:if(n.wrap){for(;m<32;){if(0===l)break e;l--,h|=o[s++]<<m,m+=8}if(f-=u,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?b(n.check,r,f,a-f):y(n.check,r,f,a-f)),f=u,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=he;break}h=0,m=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;m<32;){if(0===l)break e;l--,h+=o[s++]<<m,m+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}h=0,m=0}n.mode=de;case de:Ee=T;break e;case he:Ee=M;break e;case me:return D;case pe:default:return A}return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=l,n.hold=h,n.bits=m,(n.wsize||f!==e.avail_out&&n.mode<he&&(n.mode<ue||t!==x))&&d(e,e.output,e.next_out,f-e.avail_out)?(n.mode=me,D):(p-=e.avail_in,f-=e.avail_out,e.total_in+=p,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?b(n.check,r,f,e.next_out-f):y(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===G?128:0)+(n.mode===ne||n.mode===Z?256:0),(0===p&&0===f||t===x)&&Ee===P&&(Ee=L),Ee)}function m(e){if(!e||!e.state)return A;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function p(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?A:(n.head=t,t.done=!1,P)):A}function f(e,t){var n,i,o,r=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==K?A:n.mode===K&&(i=1,i=y(i,t,r,0),i!==n.check)?M:(o=d(e,t,r,r))?(n.mode=me,D):(n.havedict=1,P)):A}var _,g,v=n("./node_modules/pako/lib/utils/common.js"),y=n("./node_modules/pako/lib/zlib/adler32.js"),b=n("./node_modules/pako/lib/zlib/crc32.js"),w=n("./node_modules/pako/lib/zlib/inffast.js"),C=n("./node_modules/pako/lib/zlib/inftrees.js"),E=0,S=1,I=2,x=4,j=5,k=6,P=0,T=1,O=2,A=-2,M=-3,D=-4,L=-5,N=8,B=1,R=2,F=3,z=4,H=5,W=6,V=7,U=8,q=9,J=10,K=11,G=12,Y=13,X=14,Z=15,Q=16,$=17,ee=18,te=19,ne=20,ie=21,oe=22,re=23,se=24,ae=25,le=26,ue=27,ce=28,de=29,he=30,me=31,pe=32,fe=852,_e=592,ge=15,ve=ge,ye=!0;t.inflateReset=s,t.inflateReset2=a,t.inflateResetKeep=r,t.inflateInit=u,t.inflateInit2=l,t.inflate=h,t.inflateEnd=m,t.inflateGetHeader=p,t.inflateSetDictionary=f,t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":function(e,t,n){"use strict";var i=n("./node_modules/pako/lib/utils/common.js"),o=15,r=852,s=592,a=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,p,f,_,g,v){var y,b,w,C,E,S,I,x,j,k=v.bits,P=0,T=0,O=0,A=0,M=0,D=0,L=0,N=0,B=0,R=0,F=null,z=0,H=new i.Buf16(o+1),W=new i.Buf16(o+1),V=null,U=0;for(P=0;P<=o;P++)H[P]=0;for(T=0;T<p;T++)H[t[n+T]]++;for(M=k,A=o;A>=1&&0===H[A];A--);if(M>A&&(M=A),0===A)return f[_++]=20971520,f[_++]=20971520,v.bits=1,0;for(O=1;O<A&&0===H[O];O++);for(M<O&&(M=O),N=1,P=1;P<=o;P++)if(N<<=1,N-=H[P],N<0)return-1;if(N>0&&(e===a||1!==A))return-1;for(W[1]=0,P=1;P<o;P++)W[P+1]=W[P]+H[P];for(T=0;T<p;T++)0!==t[n+T]&&(g[W[t[n+T]]++]=T);if(e===a?(F=V=g,S=19):e===l?(F=c,z-=257,V=d,U-=257,S=256):(F=h,V=m,S=-1),R=0,T=0,P=O,E=_,D=M,L=0,w=-1,B=1<<M,C=B-1,e===l&&B>r||e===u&&B>s)return 1;for(var q=0;;){q++,I=P-L,g[T]<S?(x=0,j=g[T]):g[T]>S?(x=V[U+g[T]],j=F[z+g[T]]):(x=96,j=0),y=1<<P-L,b=1<<D,O=b;do b-=y,f[E+(R>>L)+b]=I<<24|x<<16|j|0;while(0!==b);for(y=1<<P-1;R&y;)y>>=1;if(0!==y?(R&=y-1,R+=y):R=0,T++,0===--H[P]){if(P===A)break;P=t[n+g[T]]}if(P>M&&(R&C)!==w){for(0===L&&(L=M),E+=O,D=P-L,N=1<<D;D+L<A&&(N-=H[D+L],!(N<=0));)D++,N<<=1;if(B+=1<<D,e===l&&B>r||e===u&&B>s)return 1;w=R&C,f[w]=M<<24|D<<16|E-_|0}}return 0!==R&&(f[E+R]=P-L<<24|64<<16|0),v.bits=M,0}},"./node_modules/pako/lib/zlib/messages.js":function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?le[e]:le[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>Y-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>Y-e.bi_valid,e.bi_valid+=n-Y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){l(e,n[2*t],n[2*t+1])}function c(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,i,o,r,s,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,p=t.stat_desc.max_length,f=0;for(r=0;r<=G;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<K;n++)i=e.heap[n],r=l[2*l[2*i+1]+1]+1,r>p&&(r=p,f++),l[2*i+1]=r,i>u||(e.bl_count[r]++,s=0,i>=m&&(s=h[i-m]),a=l[2*i],e.opt_len+=a*(r+s),d&&(e.static_len+=a*(c[2*i+1]+s)));if(0!==f){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,f-=2}while(f>0);for(r=p;0!==r;r--)for(i=e.bl_count[r];0!==i;)o=e.heap[--n],o>u||(l[2*o+1]!==r&&(e.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}function m(e,t,n){var i,o,r=new Array(G+1),s=0;for(i=1;i<=G;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=t;o++){var a=e[2*o+1];0!==a&&(e[2*o]=c(r[a]++,a))}}function p(){var e,t,n,i,r,s=new Array(G+1);for(n=0,i=0;i<W-1;i++)for(ce[i]=n,e=0;e<1<<te[i];e++)ue[n++]=i;for(ue[n-1]=i,r=0,i=0;i<16;i++)for(de[i]=r,e=0;e<1<<ne[i];e++)le[r++]=i;for(r>>=7;i<q;i++)for(de[i]=r<<7,e=0;e<1<<ne[i]-7;e++)le[256+r++]=i;for(t=0;t<=G;t++)s[t]=0;for(e=0;e<=143;)se[2*e+1]=8,e++,s[8]++;for(;e<=255;)se[2*e+1]=9,e++,s[9]++;for(;e<=279;)se[2*e+1]=7,e++,s[7]++;for(;e<=287;)se[2*e+1]=8,e++,s[8]++;for(m(se,U+1,s),e=0;e<q;e++)ae[2*e+1]=5,ae[2*e]=c(e,5);he=new o(se,te,V+1,U,G),me=new o(ae,ne,0,q,G),pe=new o(new Array(0),ie,0,J,X)}function f(e){var t;for(t=0;t<U;t++)e.dyn_ltree[2*t]=0;for(t=0;t<q;t++)e.dyn_dtree[2*t]=0;for(t=0;t<J;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function _(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function g(e,t,n,i){_(e),i&&(a(e,n),a(e,~n)),A.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function v(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&v(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!v(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i}function b(e,t,n){var i,o,r,a,c=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],o=e.pending_buf[e.l_buf+c],c++,0===i?u(e,o,t):(r=ue[o],u(e,r+V+1,t),a=te[r],0!==a&&(o-=ce[r],l(e,o,a)),i--,r=s(i),u(e,r,n),a=ne[r],0!==a&&(i-=de[r],l(e,i,a)));while(c<e.last_lit);u(e,Z,t)}function w(e,t){var n,i,o,r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=K,n=0;n<l;n++)0!==r[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=u<2?++u:0,r[2*o]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=s[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)y(e,r,n);o=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*o]=r[2*n]+r[2*i],e.depth[o]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=o,e.heap[1]=o++,y(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),m(r,u,e.bl_count)}function C(e,t,n){var i,o,r=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)o=s,s=t[2*(i+1)+1],++a<l&&o===s||(a<u?e.bl_tree[2*o]+=a:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[2*Q]++):a<=10?e.bl_tree[2*$]++:e.bl_tree[2*ee]++,a=0,r=o,0===s?(l=138,u=3):o===s?(l=6,u=3):(l=7,u=4))}function E(e,t,n){var i,o,r=-1,s=t[1],a=0,c=7,d=4;for(0===s&&(c=138,d=3),i=0;i<=n;i++)if(o=s,s=t[2*(i+1)+1],!(++a<c&&o===s)){if(a<d){do u(e,o,e.bl_tree);while(0!==--a)}else 0!==o?(o!==r&&(u(e,o,e.bl_tree),a--),u(e,Q,e.bl_tree),l(e,a-3,2)):a<=10?(u(e,$,e.bl_tree),l(e,a-3,3)):(u(e,ee,e.bl_tree),l(e,a-11,7));a=0,r=o,0===s?(c=138,d=3):o===s?(c=6,d=3):(c=7,d=4)}}function S(e){var t;for(C(e,e.dyn_ltree,e.l_desc.max_code),C(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=J-1;t>=3&&0===e.bl_tree[2*oe[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function I(e,t,n,i){var o;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),o=0;o<i;o++)l(e,e.bl_tree[2*oe[o]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,n-1)}function x(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return D;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<V;t++)if(0!==e.dyn_ltree[2*t])return L;return D}function j(e){fe||(p(),fe=!0),e.l_desc=new r(e.dyn_ltree,he),e.d_desc=new r(e.dyn_dtree,me),e.bl_desc=new r(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,f(e)}function k(e,t,n,i){l(e,(B<<1)+(i?1:0),3),g(e,t,n,!0)}function P(e){l(e,R<<1,3),u(e,Z,se),d(e)}function T(e,t,n,i){var o,r,s=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=x(e)),w(e,e.l_desc),w(e,e.d_desc),s=S(e),o=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=o&&(o=r)):o=r=n+5,n+4<=o&&t!==-1?k(e,t,n,i):e.strategy===M||r===o?(l(e,(R<<1)+(i?1:0),3),b(e,se,ae)):(l(e,(F<<1)+(i?1:0),3),I(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),b(e,e.dyn_ltree,e.dyn_dtree)),f(e),i&&_(e)}function O(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ue[n]+V+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var A=n("./node_modules/pako/lib/utils/common.js"),M=4,D=0,L=1,N=2,B=0,R=1,F=2,z=3,H=258,W=29,V=256,U=V+1+W,q=30,J=19,K=2*U+1,G=15,Y=16,X=7,Z=256,Q=16,$=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,se=new Array(2*(U+2));
i(se);var ae=new Array(2*q);i(ae);var le=new Array(re);i(le);var ue=new Array(H-z+1);i(ue);var ce=new Array(W);i(ce);var de=new Array(q);i(de);var he,me,pe,fe=!1;t._tr_init=j,t._tr_stored_block=k,t._tr_flush_block=T,t._tr_tally=O,t._tr_align=P},"./node_modules/pako/lib/zlib/zstream.js":function(e,t){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},"./node_modules/react-dom/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-dom/lib/ReactDOM.js")},"./node_modules/react-dom/lib/ARIADOMPropertyConfig.js":function(e,t){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=n},"./node_modules/react-dom/lib/AutoFocusUtils.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),o=n("./node_modules/fbjs/lib/focusNode.js"),r={focusDOMComponent:function(){o(i.getNodeFromInstance(this))}};e.exports=r},"./node_modules/react-dom/lib/BeforeInputEventPlugin.js":function(e,t,n){"use strict";function i(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case"topCompositionStart":return x.compositionStart;case"topCompositionEnd":return x.compositionEnd;case"topCompositionUpdate":return x.compositionUpdate}}function s(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return v.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,i){var o,u;if(b?o=r(e):k?a(e,n)&&(o=x.compositionEnd):s(e,n)&&(o=x.compositionStart),!o)return null;E&&(k||o!==x.compositionStart?o===x.compositionEnd&&k&&(u=k.getData()):k=f.getPooled(i));var c=_.getPooled(o,t,n,i);if(u)c.data=u;else{var d=l(n);null!==d&&(c.data=d)}return m.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case"topCompositionEnd":return l(t);case"topKeyPress":var n=t.which;return n!==S?null:(j=!0,I);case"topTextInput":var i=t.data;return i===I&&j?null:i;default:return null}}function d(e,t){if(k){if("topCompositionEnd"===e||!b&&a(e,t)){var n=k.getData();return f.release(k),k=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!o(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return E?null:t.data;default:return null}}function h(e,t,n,i){var o;if(o=C?c(e,n):d(e,n),!o)return null;var r=g.getPooled(x.beforeInput,t,n,i);return r.data=o,m.accumulateTwoPhaseDispatches(r),r}var m=n("./node_modules/react-dom/lib/EventPropagators.js"),p=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),f=n("./node_modules/react-dom/lib/FallbackCompositionState.js"),_=n("./node_modules/react-dom/lib/SyntheticCompositionEvent.js"),g=n("./node_modules/react-dom/lib/SyntheticInputEvent.js"),v=[9,13,27,32],y=229,b=p.canUseDOM&&"CompositionEvent"in window,w=null;p.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var C=p.canUseDOM&&"TextEvent"in window&&!w&&!i(),E=p.canUseDOM&&(!b||w&&w>8&&w<=11),S=32,I=String.fromCharCode(S),x={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},j=!1,k=null,P={eventTypes:x,extractEvents:function(e,t,n,i){return[u(e,t,n,i),h(e,t,n,i)]}};e.exports=P},"./node_modules/react-dom/lib/CSSProperty.js":function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[n(t,e)]=i[e]})});var r={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:r};e.exports=s},"./node_modules/react-dom/lib/CSSPropertyOperations.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/CSSProperty.js"),o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),r=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),s=n("./node_modules/fbjs/lib/camelizeStyleName.js"),a=n("./node_modules/react-dom/lib/dangerousStyleValue.js"),l=n("./node_modules/fbjs/lib/hyphenateStyleName.js"),u=n("./node_modules/fbjs/lib/memoizeStringOnly.js"),c=n("./node_modules/fbjs/lib/warning.js"),d=u(function(e){return l(e)}),h=!1,m="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){h=!0}void 0===document.documentElement.style.cssFloat&&(m="styleFloat")}if("production"!==t.env.NODE_ENV)var f=/^(?:webkit|moz|o)[A-Z]/,_=/;\s*$/,g={},v={},y=!1,b=function(e,n){g.hasOwnProperty(e)&&g[e]||(g[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported style property %s. Did you mean %s?%s",e,s(e),S(n)):void 0)},w=function(e,n){g.hasOwnProperty(e)&&g[e]||(g[e]=!0,"production"!==t.env.NODE_ENV?c(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),S(n)):void 0)},C=function(e,n,i){v.hasOwnProperty(n)&&v[n]||(v[n]=!0,"production"!==t.env.NODE_ENV?c(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',S(i),e,n.replace(_,"")):void 0)},E=function(e,n,i){y||(y=!0,"production"!==t.env.NODE_ENV?c(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,S(i)):void 0)},S=function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""},I=function(e,t,n){var i;n&&(i=n._currentElement._owner),e.indexOf("-")>-1?b(e,i):f.test(e)?w(e,i):_.test(t)&&C(e,t,i),"number"==typeof t&&isNaN(t)&&E(e,t,i)};var x={createMarkupForStyles:function(e,n){var i="";for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];"production"!==t.env.NODE_ENV&&I(o,r,n),null!=r&&(i+=d(o)+":",i+=a(o,r,n)+";")}return i||null},setValueForStyles:function(e,n,o){"production"!==t.env.NODE_ENV&&r.debugTool.onHostOperation({instanceID:o._debugID,type:"update styles",payload:n});var s=e.style;for(var l in n)if(n.hasOwnProperty(l)){"production"!==t.env.NODE_ENV&&I(l,n[l],o);var u=a(l,n[l],o);if("float"!==l&&"cssFloat"!==l||(l=m),u)s[l]=u;else{var c=h&&i.shorthandPropertyExpansions[l];if(c)for(var d in c)s[d]="";else s[l]=""}}}};e.exports=x}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/CallbackQueue.js":function(e,t,n){"use strict";(function(t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./node_modules/react-dom/lib/reactProdInvariant.js"),r=n("./node_modules/react-dom/lib/PooledClass.js"),s=n("./node_modules/fbjs/lib/invariant.js"),a=function(){function e(t){i(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,n=this._contexts,i=this._arg;if(e&&n){e.length!==n.length?"production"!==t.env.NODE_ENV?s(!1,"Mismatched list of contexts in callback queue"):o("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(n[r],i);e.length=0,n.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}();e.exports=r.addPoolingTo(a)}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ChangeEventPlugin.js":function(e,t,n){"use strict";function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=E.getPooled(j.change,P,e,S(e));y.accumulateTwoPhaseDispatches(t),C.batchedUpdates(r,t)}function r(e){v.enqueueEvents(e),v.processEventQueue(!1)}function s(e,t){k=e,P=t,k.attachEvent("onchange",o)}function a(){k&&(k.detachEvent("onchange",o),k=null,P=null)}function l(e,t){if("topChange"===e)return t}function u(e,t,n){"topFocus"===e?(a(),s(t,n)):"topBlur"===e&&a()}function c(e,t){k=e,P=t,T=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",D),k.attachEvent?k.attachEvent("onpropertychange",h):k.addEventListener("propertychange",h,!1)}function d(){k&&(delete k.value,k.detachEvent?k.detachEvent("onpropertychange",h):k.removeEventListener("propertychange",h,!1),k=null,P=null,T=null,O=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==T&&(T=t,o(e))}}function m(e,t){if("topInput"===e)return t}function p(e,t,n){"topFocus"===e?(d(),c(t,n)):"topBlur"===e&&d()}function f(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&k&&k.value!==T)return T=k.value,P}function _(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){if("topClick"===e)return t}var v=n("./node_modules/react-dom/lib/EventPluginHub.js"),y=n("./node_modules/react-dom/lib/EventPropagators.js"),b=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),w=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),C=n("./node_modules/react-dom/lib/ReactUpdates.js"),E=n("./node_modules/react-dom/lib/SyntheticEvent.js"),S=n("./node_modules/react-dom/lib/getEventTarget.js"),I=n("./node_modules/react-dom/lib/isEventSupported.js"),x=n("./node_modules/react-dom/lib/isTextInputElement.js"),j={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},k=null,P=null,T=null,O=null,A=!1;b.canUseDOM&&(A=I("change")&&(!document.documentMode||document.documentMode>8));var M=!1;b.canUseDOM&&(M=I("input")&&(!document.documentMode||document.documentMode>11));var D={get:function(){return O.get.call(this)},set:function(e){T=""+e,O.set.call(this,e)}},L={eventTypes:j,extractEvents:function(e,t,n,o){var r,s,a=t?w.getNodeFromInstance(t):window;if(i(a)?A?r=l:s=u:x(a)?M?r=m:(r=f,s=p):_(a)&&(r=g),r){var c=r(e,t);if(c){var d=E.getPooled(j.change,c,n,o);return d.type="change",y.accumulateTwoPhaseDispatches(d),d}}s&&s(e,a,t)}};e.exports=L},"./node_modules/react-dom/lib/DOMChildrenOperations.js":function(e,t,n){"use strict";(function(t){function i(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function r(e,t,n){Array.isArray(t)?a(e,t[0],t[1],n):g(e,t,n)}function s(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function a(e,t,n,i){for(var o=t;;){var r=o.nextSibling;if(g(e,o,i),o===n)break;o=r}}function l(e,t,n){for(;;){var i=t.nextSibling;if(i===n)break;e.removeChild(i)}}function u(e,n,i){var o=e.parentNode,r=e.nextSibling;r===n?i&&g(o,document.createTextNode(i),r):i?(_(r,i),l(o,r,n)):l(o,e,n),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:h.getInstanceFromNode(e)._debugID,type:"replace text",payload:i})}var c=n("./node_modules/react-dom/lib/DOMLazyTree.js"),d=n("./node_modules/react-dom/lib/Danger.js"),h=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),m=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),p=n("./node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js"),f=n("./node_modules/react-dom/lib/setInnerHTML.js"),_=n("./node_modules/react-dom/lib/setTextContent.js"),g=p(function(e,t,n){e.insertBefore(t,n)}),v=d.dangerouslyReplaceNodeWithMarkup;"production"!==t.env.NODE_ENV&&(v=function(e,t,n){if(d.dangerouslyReplaceNodeWithMarkup(e,t),0!==n._debugID)m.debugTool.onHostOperation({instanceID:n._debugID,type:"replace with",payload:t.toString()});else{var i=h.getInstanceFromNode(t.node);0!==i._debugID&&m.debugTool.onHostOperation({instanceID:i._debugID,type:"mount",payload:t.toString()})}});var y={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:u,processUpdates:function(e,n){if("production"!==t.env.NODE_ENV)var a=h.getInstanceFromNode(e)._debugID;for(var l=0;l<n.length;l++){var u=n[l];switch(u.type){case"INSERT_MARKUP":o(e,u.content,i(e,u.afterNode)),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:a,type:"insert child",payload:{toIndex:u.toIndex,content:u.content.toString()}});break;case"MOVE_EXISTING":r(e,u.fromNode,i(e,u.afterNode)),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:a,type:"move child",payload:{fromIndex:u.fromIndex,toIndex:u.toIndex}});break;case"SET_MARKUP":f(e,u.content),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:a,type:"replace children",payload:u.content.toString()});break;case"TEXT_CONTENT":_(e,u.content),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:a,type:"replace text",payload:u.content.toString()});break;case"REMOVE_NODE":s(e,u.fromNode),"production"!==t.env.NODE_ENV&&m.debugTool.onHostOperation({instanceID:a,type:"remove child",payload:{fromIndex:u.fromIndex}})}}}};e.exports=y}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/DOMLazyTree.js":function(e,t,n){"use strict";function i(e){if(_){var t=e.node,n=e.children;if(n.length)for(var i=0;i<n.length;i++)g(t,n[i],null);else null!=e.html?d(t,e.html):null!=e.text&&m(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),i(t)}function r(e,t){_?e.children.push(t):e.node.appendChild(t.node)}function s(e,t){_?e.html=t:d(e.node,t)}function a(e,t){_?e.text=t:m(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=n("./node_modules/react-dom/lib/DOMNamespaces.js"),d=n("./node_modules/react-dom/lib/setInnerHTML.js"),h=n("./node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js"),m=n("./node_modules/react-dom/lib/setTextContent.js"),p=1,f=11,_="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),g=h(function(e,t,n){t.node.nodeType===f||t.node.nodeType===p&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(i(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),i(t))});u.insertTreeBefore=g,u.replaceChildWithTree=o,u.queueChild=r,u.queueHTML=s,u.queueText=a,e.exports=u},"./node_modules/react-dom/lib/DOMNamespaces.js":function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},"./node_modules/react-dom/lib/DOMProperty.js":function(e,t,n){"use strict";(function(t){function i(e,t){return(e&t)===t}var o=n("./node_modules/react-dom/lib/reactProdInvariant.js"),r=n("./node_modules/fbjs/lib/invariant.js"),s={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var n=s,a=e.Properties||{},u=e.DOMAttributeNamespaces||{},c=e.DOMAttributeNames||{},d=e.DOMPropertyNames||{},h=e.DOMMutationMethods||{};e.isCustomAttribute&&l._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var m in a){l.properties.hasOwnProperty(m)?"production"!==t.env.NODE_ENV?r(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",m):o("48",m):void 0;var p=m.toLowerCase(),f=a[m],_={attributeName:p,attributeNamespace:null,propertyName:m,mutationMethod:null,mustUseProperty:i(f,n.MUST_USE_PROPERTY),hasBooleanValue:i(f,n.HAS_BOOLEAN_VALUE),hasNumericValue:i(f,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(f,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(f,n.HAS_OVERLOADED_BOOLEAN_VALUE)};if(_.hasBooleanValue+_.hasNumericValue+_.hasOverloadedBooleanValue<=1?void 0:"production"!==t.env.NODE_ENV?r(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",m):o("50",m),"production"!==t.env.NODE_ENV&&(l.getPossibleStandardName[p]=m),c.hasOwnProperty(m)){var g=c[m];_.attributeName=g,"production"!==t.env.NODE_ENV&&(l.getPossibleStandardName[g]=m)}u.hasOwnProperty(m)&&(_.attributeNamespace=u[m]),d.hasOwnProperty(m)&&(_.propertyName=d[m]),h.hasOwnProperty(m)&&(_.mutationMethod=h[m]),l.properties[m]=_}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",l={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:"production"!==t.env.NODE_ENV?{autofocus:"autoFocus"}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<l._isCustomAttributeFunctions.length;t++){var n=l._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:s};e.exports=l}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/DOMPropertyOperations.js":function(e,t,n){"use strict";(function(t){function i(e){return!!h.hasOwnProperty(e)||!d.hasOwnProperty(e)&&(c.test(e)?(h[e]=!0,!0):(d[e]=!0,"production"!==t.env.NODE_ENV?u(!1,"Invalid attribute name: `%s`",e):void 0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var r=n("./node_modules/react-dom/lib/DOMProperty.js"),s=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),a=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),l=n("./node_modules/react-dom/lib/quoteAttributeValueForBrowser.js"),u=n("./node_modules/fbjs/lib/warning.js"),c=new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$"),d={},h={},m={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+l(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(o(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?i+'=""':i+"="+l(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+l(t):null},createMarkupForCustomAttribute:function(e,t){return i(e)&&null!=t?e+"="+l(t):""},setValueForProperty:function(e,n,i){var l=r.properties.hasOwnProperty(n)?r.properties[n]:null;if(l){var u=l.mutationMethod;if(u)u(e,i);else{if(o(l,i))return void this.deleteValueForProperty(e,n);if(l.mustUseProperty)e[l.propertyName]=i;else{var c=l.attributeName,d=l.attributeNamespace;d?e.setAttributeNS(d,c,""+i):l.hasBooleanValue||l.hasOverloadedBooleanValue&&i===!0?e.setAttribute(c,""):e.setAttribute(c,""+i)}}}else if(r.isCustomAttribute(n))return void m.setValueForAttribute(e,n,i);if("production"!==t.env.NODE_ENV){var h={};h[n]=i,a.debugTool.onHostOperation({instanceID:s.getInstanceFromNode(e)._debugID,type:"update attribute",payload:h})}},setValueForAttribute:function(e,n,o){if(i(n)&&(null==o?e.removeAttribute(n):e.setAttribute(n,""+o),"production"!==t.env.NODE_ENV)){var r={};r[n]=o,a.debugTool.onHostOperation({instanceID:s.getInstanceFromNode(e)._debugID,type:"update attribute",payload:r})}},deleteValueForAttribute:function(e,n){e.removeAttribute(n),"production"!==t.env.NODE_ENV&&a.debugTool.onHostOperation({instanceID:s.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:n})},deleteValueForProperty:function(e,n){var i=r.properties.hasOwnProperty(n)?r.properties[n]:null;if(i){var o=i.mutationMethod;if(o)o(e,void 0);else if(i.mustUseProperty){var l=i.propertyName;i.hasBooleanValue?e[l]=!1:e[l]=""}else e.removeAttribute(i.attributeName)}else r.isCustomAttribute(n)&&e.removeAttribute(n);"production"!==t.env.NODE_ENV&&a.debugTool.onHostOperation({instanceID:s.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:n})}};e.exports=m}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/Danger.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/react-dom/lib/DOMLazyTree.js"),r=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),s=n("./node_modules/fbjs/lib/createNodesFromMarkup.js"),a=n("./node_modules/fbjs/lib/emptyFunction.js"),l=n("./node_modules/fbjs/lib/invariant.js"),u={dangerouslyReplaceNodeWithMarkup:function(e,n){if(r.canUseDOM?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):i("56"),n?void 0:"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):i("57"),"HTML"===e.nodeName?"production"!==t.env.NODE_ENV?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):i("58"):void 0,"string"==typeof n){var u=s(n,a)[0];e.parentNode.replaceChild(u,e)}else o.replaceChildWithTree(e,n)}};e.exports=u}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/DefaultEventPluginOrder.js":function(e,t){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=n},"./node_modules/react-dom/lib/EnterLeaveEventPlugin.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/EventPropagators.js"),o=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),r=n("./node_modules/react-dom/lib/SyntheticMouseEvent.js"),s={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},a={eventTypes:s,extractEvents:function(e,t,n,a){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(a.window===a)l=a;else{var u=a.ownerDocument;l=u?u.defaultView||u.parentWindow:window}var c,d;if("topMouseOut"===e){c=t;var h=n.relatedTarget||n.toElement;d=h?o.getClosestInstanceFromNode(h):null}else c=null,d=t;if(c===d)return null;var m=null==c?l:o.getNodeFromInstance(c),p=null==d?l:o.getNodeFromInstance(d),f=r.getPooled(s.mouseLeave,c,n,a);f.type="mouseleave",f.target=m,f.relatedTarget=p;var _=r.getPooled(s.mouseEnter,d,n,a);return _.type="mouseenter",_.target=p,_.relatedTarget=m,i.accumulateEnterLeaveDispatches(f,_,c,d),[f,_]}};e.exports=a},"./node_modules/react-dom/lib/EventPluginHub.js":function(e,t,n){"use strict";(function(t){function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!i(t));default:return!1}}var r=n("./node_modules/react-dom/lib/reactProdInvariant.js"),s=n("./node_modules/react-dom/lib/EventPluginRegistry.js"),a=n("./node_modules/react-dom/lib/EventPluginUtils.js"),l=n("./node_modules/react-dom/lib/ReactErrorUtils.js"),u=n("./node_modules/react-dom/lib/accumulateInto.js"),c=n("./node_modules/react-dom/lib/forEachAccumulated.js"),d=n("./node_modules/fbjs/lib/invariant.js"),h={},m=null,p=function(e,t){e&&(a.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return p(e,!0)},_=function(e){return p(e,!1)},g=function(e){return"."+e._rootNodeID},v={injection:{injectEventPluginOrder:s.injectEventPluginOrder,injectEventPluginsByName:s.injectEventPluginsByName},putListener:function(e,n,i){"function"!=typeof i?"production"!==t.env.NODE_ENV?d(!1,"Expected %s listener to be a function, instead got type %s",n,typeof i):r("94",n,typeof i):void 0;var o=g(e),a=h[n]||(h[n]={});a[o]=i;var l=s.registrationNameModules[n];l&&l.didPutListener&&l.didPutListener(e,n,i)},getListener:function(e,t){var n=h[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var i=g(e);return n&&n[i]},deleteListener:function(e,t){var n=s.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=h[t];if(i){var o=g(e);delete i[o]}},deleteAllListeners:function(e){var t=g(e);for(var n in h)if(h.hasOwnProperty(n)&&h[n][t]){var i=s.registrationNameModules[n];i&&i.willDeleteListener&&i.willDeleteListener(e,n),delete h[n][t]}},extractEvents:function(e,t,n,i){for(var o,r=s.plugins,a=0;a<r.length;a++){var l=r[a];if(l){var c=l.extractEvents(e,t,n,i);c&&(o=u(o,c))}}return o},enqueueEvents:function(e){e&&(m=u(m,e))},processEventQueue:function(e){var n=m;m=null,e?c(n,f):c(n,_),m?"production"!==t.env.NODE_ENV?d(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):r("95"):void 0,l.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};e.exports=v}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/EventPluginRegistry.js":function(e,t,n){"use strict";(function(t){function i(){if(l)for(var e in u){var n=u[e],i=l.indexOf(e);if(i>-1?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):s("96",e),!c.plugins[i]){n.extractEvents?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):s("97",e),c.plugins[i]=n;var r=n.eventTypes;for(var d in r)o(r[d],n,d)?void 0:"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",d,e):s("98",d,e)}}}function o(e,n,i){c.eventNameDispatchConfigs.hasOwnProperty(i)?"production"!==t.env.NODE_ENV?a(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",i):s("99",i):void 0,c.eventNameDispatchConfigs[i]=e;var o=e.phasedRegistrationNames;if(o){for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];r(u,n,i)}return!0}return!!e.registrationName&&(r(e.registrationName,n,i),!0)}function r(e,n,i){if(c.registrationNameModules[e]?"production"!==t.env.NODE_ENV?a(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):s("100",e):void 0,c.registrationNameModules[e]=n,c.registrationNameDependencies[e]=n.eventTypes[i].dependencies,"production"!==t.env.NODE_ENV){var o=e.toLowerCase();c.possibleRegistrationNames[o]=e,"onDoubleClick"===e&&(c.possibleRegistrationNames.ondblclick=e)}}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/fbjs/lib/invariant.js"),l=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:"production"!==t.env.NODE_ENV?{}:null,injectEventPluginOrder:function(e){l?"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):s("101"):void 0,l=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var n=!1;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];u.hasOwnProperty(o)&&u[o]===r||(u[o]?"production"!==t.env.NODE_ENV?a(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",o):s("102",o):void 0,u[o]=r,n=!0)}n&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var i in n)if(n.hasOwnProperty(i)){var o=c.registrationNameModules[n[i]];if(o)return o}}return null},_resetEventPlugins:function(){l=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var n=c.eventNameDispatchConfigs;for(var i in n)n.hasOwnProperty(i)&&delete n[i];var o=c.registrationNameModules;for(var r in o)o.hasOwnProperty(r)&&delete o[r];if("production"!==t.env.NODE_ENV){var s=c.possibleRegistrationNames;for(var a in s)s.hasOwnProperty(a)&&delete s[a]}}};e.exports=c}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/EventPluginUtils.js":function(e,t,n){"use strict";(function(t){function i(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function r(e){return"topMouseDown"===e||"topTouchStart"===e}function s(e,t,n,i){var o=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(i),t?_.invokeGuardedCallbackWithCatch(o,n,e):_.invokeGuardedCallback(o,n,e),
e.currentTarget=null}function a(e,n){var i=e._dispatchListeners,o=e._dispatchInstances;if("production"!==t.env.NODE_ENV&&p(e),Array.isArray(i))for(var r=0;r<i.length&&!e.isPropagationStopped();r++)s(e,n,i[r],o[r]);else i&&s(e,n,i,o);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var n=e._dispatchListeners,i=e._dispatchInstances;if("production"!==t.env.NODE_ENV&&p(e),Array.isArray(n)){for(var o=0;o<n.length&&!e.isPropagationStopped();o++)if(n[o](e,i[o]))return i[o]}else if(n&&n(e,i))return i;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){"production"!==t.env.NODE_ENV&&p(e);var n=e._dispatchListeners,i=e._dispatchInstances;Array.isArray(n)?"production"!==t.env.NODE_ENV?g(!1,"executeDirectDispatch(...): Invalid `event`."):f("103"):void 0,e.currentTarget=n?b.getNodeFromInstance(i):null;var o=n?n(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,o}function d(e){return!!e._dispatchListeners}var h,m,p,f=n("./node_modules/react-dom/lib/reactProdInvariant.js"),_=n("./node_modules/react-dom/lib/ReactErrorUtils.js"),g=n("./node_modules/fbjs/lib/invariant.js"),v=n("./node_modules/fbjs/lib/warning.js"),y={injectComponentTree:function(e){h=e,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?v(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode."):void 0)},injectTreeTraversal:function(e){m=e,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?v(e&&e.isAncestor&&e.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected module is missing isAncestor or getLowestCommonAncestor."):void 0)}};"production"!==t.env.NODE_ENV&&(p=function(e){var n=e._dispatchListeners,i=e._dispatchInstances,o=Array.isArray(n),r=o?n.length:n?1:0,s=Array.isArray(i),a=s?i.length:i?1:0;"production"!==t.env.NODE_ENV?v(s===o&&a===r,"EventPluginUtils: Invalid `event`."):void 0});var b={isEndish:i,isMoveish:o,isStartish:r,executeDirectDispatch:c,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:u,hasDispatches:d,getInstanceFromNode:function(e){return h.getInstanceFromNode(e)},getNodeFromInstance:function(e){return h.getNodeFromInstance(e)},isAncestor:function(e,t){return m.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return m.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return m.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return m.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,i,o){return m.traverseEnterLeave(e,t,n,i,o)},injection:y};e.exports=b}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/EventPropagators.js":function(e,t,n){"use strict";(function(t){function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return v(e,i)}function o(e,n,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?g(e,"Dispatching inst must not be null"):void 0);var r=i(e,o,n);r&&(o._dispatchListeners=f(o._dispatchListeners,r),o._dispatchInstances=f(o._dispatchInstances,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,o,e)}function s(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?p.getParentInstance(t):null;p.traverseTwoPhase(n,o,e)}}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,o=v(e,i);o&&(n._dispatchListeners=f(n._dispatchListeners,o),n._dispatchInstances=f(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&a(e._targetInst,null,e)}function u(e){_(e,r)}function c(e){_(e,s)}function d(e,t,n,i){p.traverseEnterLeave(n,i,a,e,t)}function h(e){_(e,l)}var m=n("./node_modules/react-dom/lib/EventPluginHub.js"),p=n("./node_modules/react-dom/lib/EventPluginUtils.js"),f=n("./node_modules/react-dom/lib/accumulateInto.js"),_=n("./node_modules/react-dom/lib/forEachAccumulated.js"),g=n("./node_modules/fbjs/lib/warning.js"),v=m.getListener,y={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:d};e.exports=y}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/FallbackCompositionState.js":function(e,t,n){"use strict";function i(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react-dom/lib/PooledClass.js"),s=n("./node_modules/react-dom/lib/getTextContentAccessor.js");o(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,i=n.length,o=this.getText(),r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);var a=t>1?1-t:void 0;return this._fallbackText=o.slice(e,a),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},"./node_modules/react-dom/lib/HTMLDOMPropertyConfig.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/DOMProperty.js"),o=i.injection.MUST_USE_PROPERTY,r=i.injection.HAS_BOOLEAN_VALUE,s=i.injection.HAS_NUMERIC_VALUE,a=i.injection.HAS_POSITIVE_NUMERIC_VALUE,l=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+i.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:r,allowTransparency:0,alt:0,as:0,async:r,autoComplete:0,autoPlay:r,capture:r,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|r,cite:0,classID:0,className:0,cols:a,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:r,coords:0,crossOrigin:0,data:0,dateTime:0,default:r,defer:r,dir:0,disabled:r,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:r,formTarget:0,frameBorder:0,headers:0,height:0,hidden:r,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:r,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|r,muted:o|r,name:0,nonce:0,noValidate:r,open:r,optimum:0,pattern:0,placeholder:0,playsInline:r,poster:0,preload:0,profile:0,radioGroup:0,readOnly:r,referrerPolicy:0,rel:0,required:r,reversed:r,role:0,rows:a,rowSpan:s,sandbox:0,scope:0,scoped:r,scrolling:0,seamless:r,selected:o|r,shape:0,size:a,sizes:0,span:a,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:r,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=u},"./node_modules/react-dom/lib/KeyEscapeUtils.js":function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},i=(""+e).replace(t,function(e){return n[e]});return"$"+i}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},i="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+i).replace(t,function(e){return n[e]})}var o={escape:n,unescape:i};e.exports=o},"./node_modules/react-dom/lib/LinkedValueUtils.js":function(e,t,n){"use strict";(function(t){function i(e){null!=e.checkedLink&&null!=e.valueLink?"production"!==t.env.NODE_ENV?c(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):a("87"):void 0}function o(e){i(e),null!=e.value||null!=e.onChange?"production"!==t.env.NODE_ENV?c(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):a("88"):void 0}function r(e){i(e),null!=e.checked||null!=e.onChange?"production"!==t.env.NODE_ENV?c(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):a("89"):void 0}function s(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var a=n("./node_modules/react-dom/lib/reactProdInvariant.js"),l=n("./node_modules/react/lib/React.js"),u=n("./node_modules/react-dom/lib/ReactPropTypesSecret.js"),c=n("./node_modules/fbjs/lib/invariant.js"),d=n("./node_modules/fbjs/lib/warning.js"),h={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},m={value:function(e,t,n){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.PropTypes.func},p={},f={checkPropTypes:function(e,n,i){for(var o in m){if(m.hasOwnProperty(o))var r=m[o](n,o,e,"prop",null,u);if(r instanceof Error&&!(r.message in p)){p[r.message]=!0;var a=s(i);"production"!==t.env.NODE_ENV?d(!1,"Failed form propType: %s%s",r.message,a):void 0}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/PooledClass.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/fbjs/lib/invariant.js"),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},s=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},a=function(e,t,n){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n),o}return new i(e,t,n)},l=function(e,t,n,i){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,e,t,n,i),r}return new o(e,t,n,i)},u=function(e,t,n,i,o){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();return r.call(s,e,t,n,i,o),s}return new r(e,t,n,i,o)},c=function(e){var n=this;e instanceof n?void 0:"production"!==t.env.NODE_ENV?o(!1,"Trying to release an instance into a pool of a different type."):i("25"),e.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(e)},d=10,h=r,m=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||h,n.poolSize||(n.poolSize=d),n.release=c,n},p={addPoolingTo:m,oneArgumentPooler:r,twoArgumentPooler:s,threeArgumentPooler:a,fourArgumentPooler:l,fiveArgumentPooler:u};e.exports=p}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactBrowserEventEmitter.js":function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=m++,d[e[f]]={}),d[e[f]]}var o,r=n("./node_modules/object-assign/index.js"),s=n("./node_modules/react-dom/lib/EventPluginRegistry.js"),a=n("./node_modules/react-dom/lib/ReactEventEmitterMixin.js"),l=n("./node_modules/react-dom/lib/ViewportMetrics.js"),u=n("./node_modules/react-dom/lib/getVendorPrefixedEventName.js"),c=n("./node_modules/react-dom/lib/isEventSupported.js"),d={},h=!1,m=0,p={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},f="_reactListenersID"+String(Math.random()).slice(2),_=r({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(_.handleTopLevel),_.ReactEventListener=e}},setEnabled:function(e){_.ReactEventListener&&_.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!_.ReactEventListener||!_.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=i(n),r=s.registrationNameDependencies[e],a=0;a<r.length;a++){var l=r[a];o.hasOwnProperty(l)&&o[l]||("topWheel"===l?c("wheel")?_.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?_.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):_.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===l?c("scroll",!0)?_.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):_.ReactEventListener.trapBubbledEvent("topScroll","scroll",_.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(c("focus",!0)?(_.ReactEventListener.trapCapturedEvent("topFocus","focus",n),_.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(_.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),_.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),o.topBlur=!0,o.topFocus=!0):p.hasOwnProperty(l)&&_.ReactEventListener.trapBubbledEvent(l,p[l],n),o[l]=!0)}},trapBubbledEvent:function(e,t,n){return _.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return _.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=_.supportsEventPageXY()),!o&&!h){var e=l.refreshScrollValues;_.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=_},"./node_modules/react-dom/lib/ReactChildReconciler.js":function(e,t,n){"use strict";(function(t){function i(e,i,r,l){var u=void 0===e[r];"production"!==t.env.NODE_ENV&&(o||(o=n("./node_modules/react/lib/ReactComponentTreeHook.js")),u||("production"!==t.env.NODE_ENV?c(!1,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.%s",a.unescape(r),o.getStackAddendumByID(l)):void 0)),null!=i&&u&&(e[r]=s(i,!0))}var o,r=n("./node_modules/react-dom/lib/ReactReconciler.js"),s=n("./node_modules/react-dom/lib/instantiateReactComponent.js"),a=n("./node_modules/react-dom/lib/KeyEscapeUtils.js"),l=n("./node_modules/react-dom/lib/shouldUpdateReactComponent.js"),u=n("./node_modules/react-dom/lib/traverseAllChildren.js"),c=n("./node_modules/fbjs/lib/warning.js");"undefined"!=typeof t&&t.env&&"test"===t.env.NODE_ENV&&(o=n("./node_modules/react/lib/ReactComponentTreeHook.js"));var d={instantiateChildren:function(e,n,o,r){if(null==e)return null;var s={};return"production"!==t.env.NODE_ENV?u(e,function(e,t,n){return i(e,t,n,r)},s):u(e,i,s),s},updateChildren:function(e,t,n,i,o,a,u,c,d){if(t||e){var h,m;for(h in t)if(t.hasOwnProperty(h)){m=e&&e[h];var p=m&&m._currentElement,f=t[h];if(null!=m&&l(p,f))r.receiveComponent(m,f,o,c),t[h]=m;else{m&&(i[h]=r.getHostNode(m),r.unmountComponent(m,!1));var _=s(f,!0);t[h]=_;var g=r.mountComponent(_,o,a,u,c,d);n.push(g)}}for(h in e)!e.hasOwnProperty(h)||t&&t.hasOwnProperty(h)||(m=e[h],i[h]=r.getHostNode(m),r.unmountComponent(m,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r.unmountComponent(i,t)}}};e.exports=d}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactComponentBrowserEnvironment.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/DOMChildrenOperations.js"),o=n("./node_modules/react-dom/lib/ReactDOMIDOperations.js"),r={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup};e.exports=r},"./node_modules/react-dom/lib/ReactComponentEnvironment.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/fbjs/lib/invariant.js"),r=!1,s={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?"production"!==t.env.NODE_ENV?o(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):i("104"):void 0,s.replaceNodeWithMarkup=e.replaceNodeWithMarkup,s.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactCompositeComponent.js":function(e,t,n){"use strict";(function(t){function i(e){}function o(e,n){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?E(null===n||n===!1||c.isValidElement(n),"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",e.displayName||e.name||"Component"):void 0,"production"!==t.env.NODE_ENV?E(!e.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",e.displayName||e.name||"Component"):void 0)}function r(e){return!(!e.prototype||!e.prototype.isReactComponent)}function s(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}function a(e,t,n){if(0===t)return e();f.debugTool.onBeginLifeCycleTimer(t,n);try{return e()}finally{f.debugTool.onEndLifeCycleTimer(t,n)}}var l=n("./node_modules/react-dom/lib/reactProdInvariant.js"),u=n("./node_modules/object-assign/index.js"),c=n("./node_modules/react/lib/React.js"),d=n("./node_modules/react-dom/lib/ReactComponentEnvironment.js"),h=n("./node_modules/react/lib/ReactCurrentOwner.js"),m=n("./node_modules/react-dom/lib/ReactErrorUtils.js"),p=n("./node_modules/react-dom/lib/ReactInstanceMap.js"),f=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),_=n("./node_modules/react-dom/lib/ReactNodeTypes.js"),g=n("./node_modules/react-dom/lib/ReactReconciler.js");if("production"!==t.env.NODE_ENV)var v=n("./node_modules/react-dom/lib/checkReactTypeSpec.js");var y=n("./node_modules/fbjs/lib/emptyObject.js"),b=n("./node_modules/fbjs/lib/invariant.js"),w=n("./node_modules/fbjs/lib/shallowEqual.js"),C=n("./node_modules/react-dom/lib/shouldUpdateReactComponent.js"),E=n("./node_modules/fbjs/lib/warning.js"),S={ImpureClass:0,PureClass:1,StatelessFunctional:2};i.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var I=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1,"production"!==t.env.NODE_ENV&&(this._warnedAboutRefsInRender=!1)},mountComponent:function(e,n,u,d){var h=this;this._context=d,this._mountOrder=I++,this._hostParent=n,this._hostContainerInfo=u;var m,f=this._currentElement.props,_=this._processContext(d),g=this._currentElement.type,v=e.getUpdateQueue(),w=r(g),C=this._constructComponent(w,f,_,v);if(w||null!=C&&null!=C.render?s(g)?this._compositeType=S.PureClass:this._compositeType=S.ImpureClass:(m=C,o(g,m),null===C||C===!1||c.isValidElement(C)?void 0:"production"!==t.env.NODE_ENV?b(!1,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",g.displayName||g.name||"Component"):l("105",g.displayName||g.name||"Component"),C=new i(g),this._compositeType=S.StatelessFunctional),"production"!==t.env.NODE_ENV){null==C.render&&("production"!==t.env.NODE_ENV?E(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",g.displayName||g.name||"Component"):void 0);var x=C.props!==f,j=g.displayName||g.name||"Component";"production"!==t.env.NODE_ENV?E(void 0===C.props||!x,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",j,j):void 0}C.props=f,C.context=_,C.refs=y,C.updater=v,this._instance=C,p.set(C,this),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?E(!C.getInitialState||C.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?E(!C.getDefaultProps||C.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?E(!C.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?E(!C.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==t.env.NODE_ENV?E("function"!=typeof C.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"):void 0,"production"!==t.env.NODE_ENV?E("function"!=typeof C.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==t.env.NODE_ENV?E("function"!=typeof C.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);var k=C.state;void 0===k&&(C.state=k=null),"object"!=typeof k||Array.isArray(k)?"production"!==t.env.NODE_ENV?b(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):l("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var P;return P=C.unstable_handleError?this.performInitialMountWithErrorHandling(m,n,u,e,d):this.performInitialMount(m,n,u,e,d),C.componentDidMount&&("production"!==t.env.NODE_ENV?e.getReactMountReady().enqueue(function(){a(function(){return C.componentDidMount()},h._debugID,"componentDidMount")}):e.getReactMountReady().enqueue(C.componentDidMount,C)),P},_constructComponent:function(e,n,i,o){if("production"===t.env.NODE_ENV)return this._constructComponentWithoutOwner(e,n,i,o);h.current=this;try{return this._constructComponentWithoutOwner(e,n,i,o)}finally{h.current=null}},_constructComponentWithoutOwner:function(e,n,i,o){var r=this._currentElement.type;return e?"production"!==t.env.NODE_ENV?a(function(){return new r(n,i,o)},this._debugID,"ctor"):new r(n,i,o):"production"!==t.env.NODE_ENV?a(function(){return r(n,i,o)},this._debugID,"render"):r(n,i,o)},performInitialMountWithErrorHandling:function(e,t,n,i,o){var r,s=i.checkpoint();try{r=this.performInitialMount(e,t,n,i,o)}catch(a){i.rollback(s),this._instance.unstable_handleError(a),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=i.checkpoint(),this._renderedComponent.unmountComponent(!0),i.rollback(s),r=this.performInitialMount(e,t,n,i,o)}return r},performInitialMount:function(e,n,i,o,r){var s=this._instance,l=0;"production"!==t.env.NODE_ENV&&(l=this._debugID),s.componentWillMount&&("production"!==t.env.NODE_ENV?a(function(){return s.componentWillMount()},l,"componentWillMount"):s.componentWillMount(),this._pendingStateQueue&&(s.state=this._processPendingState(s.props,s.context))),void 0===e&&(e=this._renderValidatedComponent());var u=_.getType(e);this._renderedNodeType=u;var c=this._instantiateReactComponent(e,u!==_.EMPTY);this._renderedComponent=c;var d=g.mountComponent(c,o,n,i,this._processChildContext(r),l);if("production"!==t.env.NODE_ENV&&0!==l){var h=0!==c._debugID?[c._debugID]:[];f.debugTool.onSetChildren(l,h)}return d},getHostNode:function(){return g.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var n=this._instance;if(n.componentWillUnmount&&!n._calledComponentWillUnmount)if(n._calledComponentWillUnmount=!0,e){var i=this.getName()+".componentWillUnmount()";m.invokeGuardedCallback(i,n.componentWillUnmount.bind(n))}else"production"!==t.env.NODE_ENV?a(function(){return n.componentWillUnmount()},this._debugID,"componentWillUnmount"):n.componentWillUnmount();this._renderedComponent&&(g.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(n)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return y;var i={};for(var o in n)i[o]=e[o];return i},_processContext:function(e){var n=this._maskContext(e);if("production"!==t.env.NODE_ENV){var i=this._currentElement.type;i.contextTypes&&this._checkContextTypes(i.contextTypes,n,"context")}return n},_processChildContext:function(e){var n,i=this._currentElement.type,o=this._instance;if(o.getChildContext)if("production"!==t.env.NODE_ENV){f.debugTool.onBeginProcessingChildContext();try{n=o.getChildContext()}finally{f.debugTool.onEndProcessingChildContext()}}else n=o.getChildContext();if(n){"object"!=typeof i.childContextTypes?"production"!==t.env.NODE_ENV?b(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):l("107",this.getName()||"ReactCompositeComponent"):void 0,"production"!==t.env.NODE_ENV&&this._checkContextTypes(i.childContextTypes,n,"childContext");for(var r in n)r in i.childContextTypes?void 0:"production"!==t.env.NODE_ENV?b(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",r):l("108",this.getName()||"ReactCompositeComponent",r);return u({},e,n)}return e},_checkContextTypes:function(e,n,i){"production"!==t.env.NODE_ENV&&v(e,n,i,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var i=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,i,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?g.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,n,i,o,r){var s=this._instance;null==s?"production"!==t.env.NODE_ENV?b(!1,"Attempted to update component `%s` that has already been unmounted (or failed to mount).",this.getName()||"ReactCompositeComponent"):l("136",this.getName()||"ReactCompositeComponent"):void 0;var u,c=!1;this._context===r?u=s.context:(u=this._processContext(r),c=!0);var d=n.props,h=i.props;n!==i&&(c=!0),c&&s.componentWillReceiveProps&&("production"!==t.env.NODE_ENV?a(function(){return s.componentWillReceiveProps(h,u)},this._debugID,"componentWillReceiveProps"):s.componentWillReceiveProps(h,u));var m=this._processPendingState(h,u),p=!0;this._pendingForceUpdate||(s.shouldComponentUpdate?p="production"!==t.env.NODE_ENV?a(function(){return s.shouldComponentUpdate(h,m,u)},this._debugID,"shouldComponentUpdate"):s.shouldComponentUpdate(h,m,u):this._compositeType===S.PureClass&&(p=!w(d,h)||!w(s.state,m))),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?E(void 0!==p,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,h,m,u,e,r)):(this._currentElement=i,this._context=r,s.props=h,s.state=m,s.context=u)},_processPendingState:function(e,t){var n=this._instance,i=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(o&&1===i.length)return i[0];for(var r=u({},o?i[0]:n.state),s=o?1:0;s<i.length;s++){var a=i[s];u(r,"function"==typeof a?a.call(n,r,e,t):a)}return r},_performComponentUpdate:function(e,n,i,o,r,s){var l,u,c,d=this,h=this._instance,m=Boolean(h.componentDidUpdate);m&&(l=h.props,u=h.state,c=h.context),h.componentWillUpdate&&("production"!==t.env.NODE_ENV?a(function(){return h.componentWillUpdate(n,i,o)},this._debugID,"componentWillUpdate"):h.componentWillUpdate(n,i,o)),this._currentElement=e,this._context=s,h.props=n,h.state=i,h.context=o,this._updateRenderedComponent(r,s),m&&("production"!==t.env.NODE_ENV?r.getReactMountReady().enqueue(function(){a(h.componentDidUpdate.bind(h,l,u,c),d._debugID,"componentDidUpdate")}):r.getReactMountReady().enqueue(h.componentDidUpdate.bind(h,l,u,c),h))},_updateRenderedComponent:function(e,n){var i=this._renderedComponent,o=i._currentElement,r=this._renderValidatedComponent(),s=0;if("production"!==t.env.NODE_ENV&&(s=this._debugID),C(o,r))g.receiveComponent(i,r,e,this._processChildContext(n));else{var a=g.getHostNode(i);g.unmountComponent(i,!1);var l=_.getType(r);this._renderedNodeType=l;var u=this._instantiateReactComponent(r,l!==_.EMPTY);this._renderedComponent=u;var c=g.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(n),s);if("production"!==t.env.NODE_ENV&&0!==s){var d=0!==u._debugID?[u._debugID]:[];f.debugTool.onSetChildren(s,d)}this._replaceNodeWithMarkup(a,c,i)}},_replaceNodeWithMarkup:function(e,t,n){d.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,n=this._instance;return e="production"!==t.env.NODE_ENV?a(function(){return n.render()},this._debugID,"render"):n.render(),
"production"!==t.env.NODE_ENV&&void 0===e&&n.render._isMockFunction&&(e=null),e},_renderValidatedComponent:function(){var e;if("production"!==t.env.NODE_ENV||this._compositeType!==S.StatelessFunctional){h.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{h.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||c.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?b(!1,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):l("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,n){var i=this.getPublicInstance();null==i?"production"!==t.env.NODE_ENV?b(!1,"Stateless function components cannot have refs."):l("110"):void 0;var o=n.getPublicInstance();if("production"!==t.env.NODE_ENV){var r=n&&n.getName?n.getName():"a component";"production"!==t.env.NODE_ENV?E(null!=o||n._compositeType!==S.StatelessFunctional,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',e,r,this.getName()):void 0}var s=i.refs===y?i.refs={}:i.refs;s[e]=o},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===S.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=x}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOM.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),o=n("./node_modules/react-dom/lib/ReactDefaultInjection.js"),r=n("./node_modules/react-dom/lib/ReactMount.js"),s=n("./node_modules/react-dom/lib/ReactReconciler.js"),a=n("./node_modules/react-dom/lib/ReactUpdates.js"),l=n("./node_modules/react-dom/lib/ReactVersion.js"),u=n("./node_modules/react-dom/lib/findDOMNode.js"),c=n("./node_modules/react-dom/lib/getHostComponentFromComposite.js"),d=n("./node_modules/react-dom/lib/renderSubtreeIntoContainer.js"),h=n("./node_modules/fbjs/lib/warning.js");o.inject();var m={findDOMNode:u,render:r.render,unmountComponentAtNode:r.unmountComponentAtNode,version:l,unstable_batchedUpdates:a.batchedUpdates,unstable_renderSubtreeIntoContainer:d};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:i.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?i.getNodeFromInstance(e):null}},Mount:r,Reconciler:s}),"production"!==t.env.NODE_ENV){var p=n("./node_modules/fbjs/lib/ExecutionEnvironment.js");if(p.canUseDOM&&window.top===window.self){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var f=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1;console.debug("Download the React DevTools "+(f?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: https://fb.me/react-devtools")}var _=function(){};"production"!==t.env.NODE_ENV?h((_.name||_.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build of React. When deploying React apps to production, make sure to use the production build which skips development warnings and is faster. See https://fb.me/react-minification for more details."):void 0;var g=document.documentMode&&document.documentMode<8;"production"!==t.env.NODE_ENV?h(!g,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;for(var v=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.trim],y=0;y<v.length;y++)if(!v[y]){"production"!==t.env.NODE_ENV?h(!1,"One or more ES5 shims expected by React are not available: https://fb.me/react-warning-polyfills"):void 0;break}}}if("production"!==t.env.NODE_ENV){var b=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),w=n("./node_modules/react-dom/lib/ReactDOMUnknownPropertyHook.js"),C=n("./node_modules/react-dom/lib/ReactDOMNullInputValuePropHook.js"),E=n("./node_modules/react-dom/lib/ReactDOMInvalidARIAHook.js");b.debugTool.addHook(w),b.debugTool.addHook(C),b.debugTool.addHook(E)}e.exports=m}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMComponent.js":function(e,t,n){"use strict";(function(t){function i(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(o).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(i+": "+o(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":String(e)}function r(e,n,i){if(null!=e&&null!=n&&!H(e,n)){var r,s=i._tag,a=i._currentElement._owner;a&&(r=a.getName());var l=r+"|"+s;ee.hasOwnProperty(l)||(ee[l]=!0,"production"!==t.env.NODE_ENV?V(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",s,a?"of `"+r+"`":"using <"+s+">",o(e),o(n)):void 0)}}function s(e,n){n&&(re[e._tag]&&(null!=n.children||null!=n.dangerouslySetInnerHTML?"production"!==t.env.NODE_ENV?F(!1,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):g("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=n.dangerouslySetInnerHTML&&(null!=n.children?"production"!==t.env.NODE_ENV?F(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):g("60"):void 0,"object"==typeof n.dangerouslySetInnerHTML&&Z in n.dangerouslySetInnerHTML?void 0:"production"!==t.env.NODE_ENV?F(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):g("61")),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?V(null==n.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==t.env.NODE_ENV?V(n.suppressContentEditableWarning||!n.contentEditable||null==n.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0,"production"!==t.env.NODE_ENV?V(null==n.onFocusIn&&null==n.onFocusOut,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."):void 0),null!=n.style&&"object"!=typeof n.style?"production"!==t.env.NODE_ENV?F(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",i(e)):g("62",i(e)):void 0)}function a(e,n,i,o){if(!(o instanceof N)){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?V("onScroll"!==n||z("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var r=e._hostContainerInfo,s=r._node&&r._node.nodeType===$,a=s?r._node:r._ownerDocument;K(n,a),o.getReactMountReady().enqueue(l,{inst:e,registrationName:n,listener:i})}}function l(){var e=this;I.putListener(e.inst,e.registrationName,e.listener)}function u(){var e=this;T.postMountWrapper(e)}function c(){var e=this;M.postMountWrapper(e)}function d(){var e=this;O.postMountWrapper(e)}function h(){var e=this;e._rootNodeID?void 0:"production"!==t.env.NODE_ENV?F(!1,"Must be mounted to trap events"):g("63");var n=J(e);switch(n?void 0:"production"!==t.env.NODE_ENV?F(!1,"trapBubbledEvent(...): Requires node to be rendered."):g("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[j.trapBubbledEvent("topLoad","load",n)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var i in ne)ne.hasOwnProperty(i)&&e._wrapperState.listeners.push(j.trapBubbledEvent(i,ne[i],n));break;case"source":e._wrapperState.listeners=[j.trapBubbledEvent("topError","error",n)];break;case"img":e._wrapperState.listeners=[j.trapBubbledEvent("topError","error",n),j.trapBubbledEvent("topLoad","load",n)];break;case"form":e._wrapperState.listeners=[j.trapBubbledEvent("topReset","reset",n),j.trapBubbledEvent("topSubmit","submit",n)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[j.trapBubbledEvent("topInvalid","invalid",n)]}}function m(){A.postUpdateWrapper(this)}function p(e){le.call(ae,e)||(se.test(e)?void 0:"production"!==t.env.NODE_ENV?F(!1,"Invalid tag: %s",e):g("65",e),ae[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function _(e){var n=e.type;p(n),this._currentElement=e,this._tag=n.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0,"production"!==t.env.NODE_ENV&&(this._ancestorInfo=null,te.call(this,null))}var g=n("./node_modules/react-dom/lib/reactProdInvariant.js"),v=n("./node_modules/object-assign/index.js"),y=n("./node_modules/react-dom/lib/AutoFocusUtils.js"),b=n("./node_modules/react-dom/lib/CSSPropertyOperations.js"),w=n("./node_modules/react-dom/lib/DOMLazyTree.js"),C=n("./node_modules/react-dom/lib/DOMNamespaces.js"),E=n("./node_modules/react-dom/lib/DOMProperty.js"),S=n("./node_modules/react-dom/lib/DOMPropertyOperations.js"),I=n("./node_modules/react-dom/lib/EventPluginHub.js"),x=n("./node_modules/react-dom/lib/EventPluginRegistry.js"),j=n("./node_modules/react-dom/lib/ReactBrowserEventEmitter.js"),k=n("./node_modules/react-dom/lib/ReactDOMComponentFlags.js"),P=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),T=n("./node_modules/react-dom/lib/ReactDOMInput.js"),O=n("./node_modules/react-dom/lib/ReactDOMOption.js"),A=n("./node_modules/react-dom/lib/ReactDOMSelect.js"),M=n("./node_modules/react-dom/lib/ReactDOMTextarea.js"),D=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),L=n("./node_modules/react-dom/lib/ReactMultiChild.js"),N=n("./node_modules/react-dom/lib/ReactServerRenderingTransaction.js"),B=n("./node_modules/fbjs/lib/emptyFunction.js"),R=n("./node_modules/react-dom/lib/escapeTextContentForBrowser.js"),F=n("./node_modules/fbjs/lib/invariant.js"),z=n("./node_modules/react-dom/lib/isEventSupported.js"),H=n("./node_modules/fbjs/lib/shallowEqual.js"),W=n("./node_modules/react-dom/lib/validateDOMNesting.js"),V=n("./node_modules/fbjs/lib/warning.js"),U=k,q=I.deleteListener,J=P.getNodeFromInstance,K=j.listenTo,G=x.registrationNameModules,Y={string:!0,number:!0},X="style",Z="__html",Q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},$=11,ee={},te=B;"production"!==t.env.NODE_ENV&&(te=function(e){var t=null!=this._contentDebugID,n=this._debugID,i=-n;return null==e?(t&&D.debugTool.onUnmountComponent(this._contentDebugID),void(this._contentDebugID=null)):(W(null,String(e),this,this._ancestorInfo),this._contentDebugID=i,void(t?(D.debugTool.onBeforeUpdateComponent(i,e),D.debugTool.onUpdateComponent(i)):(D.debugTool.onBeforeMountComponent(i,e,n),D.debugTool.onMountComponent(i),D.debugTool.onSetChildren(n,[i]))))});var ne={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ie={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},oe={listing:!0,pre:!0,textarea:!0},re=v({menuitem:!0},ie),se=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ae={},le={}.hasOwnProperty,ue=1;_.displayName="ReactDOMComponent",_.Mixin={mountComponent:function(e,n,i,o){this._rootNodeID=ue++,this._domID=i._idCounter++,this._hostParent=n,this._hostContainerInfo=i;var r=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(h,this);break;case"input":T.mountWrapper(this,r,n),r=T.getHostProps(this,r),e.getReactMountReady().enqueue(h,this);break;case"option":O.mountWrapper(this,r,n),r=O.getHostProps(this,r);break;case"select":A.mountWrapper(this,r,n),r=A.getHostProps(this,r),e.getReactMountReady().enqueue(h,this);break;case"textarea":M.mountWrapper(this,r,n),r=M.getHostProps(this,r),e.getReactMountReady().enqueue(h,this)}s(this,r);var a,l;if(null!=n?(a=n._namespaceURI,l=n._tag):i._tag&&(a=i._namespaceURI,l=i._tag),(null==a||a===C.svg&&"foreignobject"===l)&&(a=C.html),a===C.html&&("svg"===this._tag?a=C.svg:"math"===this._tag&&(a=C.mathml)),this._namespaceURI=a,"production"!==t.env.NODE_ENV){var m;null!=n?m=n._ancestorInfo:i._tag&&(m=i._ancestorInfo),m&&W(this._tag,null,this,m),this._ancestorInfo=W.updatedAncestorInfo(m,this._tag,this)}var p;if(e.useCreateElement){var f,_=i._ownerDocument;if(a===C.html)if("script"===this._tag){var g=_.createElement("div"),v=this._currentElement.type;g.innerHTML="<"+v+"></"+v+">",f=g.removeChild(g.firstChild)}else f=r.is?_.createElement(this._currentElement.type,r.is):_.createElement(this._currentElement.type);else f=_.createElementNS(a,this._currentElement.type);P.precacheNode(this,f),this._flags|=U.hasCachedChildNodes,this._hostParent||S.setAttributeForRoot(f),this._updateDOMProperties(null,r,e);var b=w(f);this._createInitialChildren(e,r,o,b),p=b}else{var E=this._createOpenTagMarkupAndPutListeners(e,r),I=this._createContentMarkup(e,r,o);p=!I&&ie[this._tag]?E+"/>":E+">"+I+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(u,this),r.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(c,this),r.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":r.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"button":r.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(d,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,n){var i="<"+this._currentElement.type;for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];if(null!=r)if(G.hasOwnProperty(o))r&&a(this,o,r,e);else{o===X&&(r&&("production"!==t.env.NODE_ENV&&(this._previousStyle=r),r=this._previousStyleCopy=v({},n.style)),r=b.createMarkupForStyles(r,this));var s=null;null!=this._tag&&f(this._tag,n)?Q.hasOwnProperty(o)||(s=S.createMarkupForCustomAttribute(o,r)):s=S.createMarkupForProperty(o,r),s&&(i+=" "+s)}}return e.renderToStaticMarkup?i:(this._hostParent||(i+=" "+S.createMarkupForRoot()),i+=" "+S.createMarkupForID(this._domID))},_createContentMarkup:function(e,n,i){var o="",r=n.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(o=r.__html);else{var s=Y[typeof n.children]?n.children:null,a=null!=s?null:n.children;if(null!=s)o=R(s),"production"!==t.env.NODE_ENV&&te.call(this,s);else if(null!=a){var l=this.mountChildren(a,e,i);o=l.join("")}}return oe[this._tag]&&"\n"===o.charAt(0)?"\n"+o:o},_createInitialChildren:function(e,n,i,o){var r=n.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&w.queueHTML(o,r.__html);else{var s=Y[typeof n.children]?n.children:null,a=null!=s?null:n.children;if(null!=s)"production"!==t.env.NODE_ENV&&te.call(this,s),w.queueText(o,s);else if(null!=a)for(var l=this.mountChildren(a,e,i),u=0;u<l.length;u++)w.queueChild(o,l[u])}},receiveComponent:function(e,t,n){var i=this._currentElement;this._currentElement=e,this.updateComponent(t,i,e,n)},updateComponent:function(e,t,n,i){var o=t.props,r=this._currentElement.props;switch(this._tag){case"input":o=T.getHostProps(this,o),r=T.getHostProps(this,r);break;case"option":o=O.getHostProps(this,o),r=O.getHostProps(this,r);break;case"select":o=A.getHostProps(this,o),r=A.getHostProps(this,r);break;case"textarea":o=M.getHostProps(this,o),r=M.getHostProps(this,r)}switch(s(this,r),this._updateDOMProperties(o,r,e),this._updateDOMChildren(o,r,e,i),this._tag){case"input":T.updateWrapper(this);break;case"textarea":M.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(m,this)}},_updateDOMProperties:function(e,n,i){var o,s,l;for(o in e)if(!n.hasOwnProperty(o)&&e.hasOwnProperty(o)&&null!=e[o])if(o===X){var u=this._previousStyleCopy;for(s in u)u.hasOwnProperty(s)&&(l=l||{},l[s]="");this._previousStyleCopy=null}else G.hasOwnProperty(o)?e[o]&&q(this,o):f(this._tag,e)?Q.hasOwnProperty(o)||S.deleteValueForAttribute(J(this),o):(E.properties[o]||E.isCustomAttribute(o))&&S.deleteValueForProperty(J(this),o);for(o in n){var c=n[o],d=o===X?this._previousStyleCopy:null!=e?e[o]:void 0;if(n.hasOwnProperty(o)&&c!==d&&(null!=c||null!=d))if(o===X)if(c?("production"!==t.env.NODE_ENV&&(r(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=c),c=this._previousStyleCopy=v({},c)):this._previousStyleCopy=null,d){for(s in d)!d.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l=l||{},l[s]="");for(s in c)c.hasOwnProperty(s)&&d[s]!==c[s]&&(l=l||{},l[s]=c[s])}else l=c;else if(G.hasOwnProperty(o))c?a(this,o,c,i):d&&q(this,o);else if(f(this._tag,n))Q.hasOwnProperty(o)||S.setValueForAttribute(J(this),o,c);else if(E.properties[o]||E.isCustomAttribute(o)){var h=J(this);null!=c?S.setValueForProperty(h,o,c):S.deleteValueForProperty(h,o)}}l&&b.setValueForStyles(J(this),l,this)},_updateDOMChildren:function(e,n,i,o){var r=Y[typeof e.children]?e.children:null,s=Y[typeof n.children]?n.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,u=null!=r?null:e.children,c=null!=s?null:n.children,d=null!=r||null!=a,h=null!=s||null!=l;null!=u&&null==c?this.updateChildren(null,i,o):d&&!h&&(this.updateTextContent(""),"production"!==t.env.NODE_ENV&&D.debugTool.onSetChildren(this._debugID,[])),null!=s?r!==s&&(this.updateTextContent(""+s),"production"!==t.env.NODE_ENV&&te.call(this,s)):null!=l?(a!==l&&this.updateMarkup(""+l),"production"!==t.env.NODE_ENV&&D.debugTool.onSetChildren(this._debugID,[])):null!=c&&("production"!==t.env.NODE_ENV&&te.call(this,null),this.updateChildren(c,i,o))},getHostNode:function(){return J(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var n=this._wrapperState.listeners;if(n)for(var i=0;i<n.length;i++)n[i].remove();break;case"html":case"head":case"body":"production"!==t.env.NODE_ENV?F(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):g("66",this._tag)}this.unmountChildren(e),P.uncacheNode(this),I.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null,"production"!==t.env.NODE_ENV&&te.call(this,null)},getPublicInstance:function(){return J(this)}},v(_.prototype,_.Mixin,L.Mixin),e.exports=_}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMComponentFlags.js":function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},"./node_modules/react-dom/lib/ReactDOMComponentTree.js":function(e,t,n){"use strict";(function(t){function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[_]=n}function r(e){var t=e._hostNode;t&&(delete t[_],e._hostNode=null)}function s(e,n){if(!(e._flags&f.hasCachedChildNodes)){var r=e._renderedChildren,s=n.firstChild;e:for(var a in r)if(r.hasOwnProperty(a)){var l=r[a],u=i(l)._domID;if(0!==u){for(;null!==s;s=s.nextSibling)if(1===s.nodeType&&s.getAttribute(p)===String(u)||8===s.nodeType&&s.nodeValue===" react-text: "+u+" "||8===s.nodeType&&s.nodeValue===" react-empty: "+u+" "){o(l,s);continue e}"production"!==t.env.NODE_ENV?m(!1,"Unable to find element with ID %s.",u):c("32",u)}}e._flags|=f.hasCachedChildNodes}}function a(e){if(e[_])return e[_];for(var t=[];!e[_];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,i;e&&(i=e[_]);e=t.pop())n=i,t.length&&s(i,e);return n}function l(e){var t=a(e);return null!=t&&t._hostNode===e?t:null}function u(e){if(void 0===e._hostNode?"production"!==t.env.NODE_ENV?m(!1,"getNodeFromInstance: Invalid argument."):c("33"):void 0,e._hostNode)return e._hostNode;for(var n=[];!e._hostNode;)n.push(e),e._hostParent?void 0:"production"!==t.env.NODE_ENV?m(!1,"React DOM tree root should always have a node reference."):c("34"),e=e._hostParent;for(;n.length;e=n.pop())s(e,e._hostNode);return e._hostNode}var c=n("./node_modules/react-dom/lib/reactProdInvariant.js"),d=n("./node_modules/react-dom/lib/DOMProperty.js"),h=n("./node_modules/react-dom/lib/ReactDOMComponentFlags.js"),m=n("./node_modules/fbjs/lib/invariant.js"),p=d.ID_ATTRIBUTE_NAME,f=h,_="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:a,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:s,precacheNode:o,uncacheNode:r};e.exports=g}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMContainerInfo.js":function(e,t,n){"use strict";(function(t){function i(e,n){var i={_topLevelWrapper:e,_idCounter:1,_ownerDocument:n?n.nodeType===r?n:n.ownerDocument:null,_node:n,_tag:n?n.nodeName.toLowerCase():null,_namespaceURI:n?n.namespaceURI:null};return"production"!==t.env.NODE_ENV&&(i._ancestorInfo=n?o.updatedAncestorInfo(null,i._tag,null):null),i}var o=n("./node_modules/react-dom/lib/validateDOMNesting.js"),r=9;e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMEmptyComponent.js":function(e,t,n){"use strict";var i=n("./node_modules/object-assign/index.js"),o=n("./node_modules/react-dom/lib/DOMLazyTree.js"),r=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),s=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};i(s.prototype,{mountComponent:function(e,t,n,i){var s=n._idCounter++;this._domID=s,this._hostParent=t,this._hostContainerInfo=n;var a=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(a);return r.precacheNode(this,u),o(u)}return e.renderToStaticMarkup?"":"<!--"+a+"-->"},receiveComponent:function(){},getHostNode:function(){return r.getNodeFromInstance(this)},unmountComponent:function(){r.uncacheNode(this)}}),e.exports=s},"./node_modules/react-dom/lib/ReactDOMFeatureFlags.js":function(e,t){"use strict";var n={useCreateElement:!0,useFiber:!1};e.exports=n},"./node_modules/react-dom/lib/ReactDOMIDOperations.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/DOMChildrenOperations.js"),o=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),r={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);i.processUpdates(n,t)}};e.exports=r},"./node_modules/react-dom/lib/ReactDOMInput.js":function(e,t,n){"use strict";(function(t){function i(){this._rootNodeID&&b.updateWrapper(this)}function o(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function r(e){var n=this._currentElement.props,o=u.executeOnChange(n,e);d.asap(i,this);var r=n.name;if("radio"===n.type&&null!=r){for(var a=c.getNodeFromInstance(this),l=a;l.parentNode;)l=l.parentNode;for(var m=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),p=0;p<m.length;p++){var f=m[p];if(f!==a&&f.form===a.form){var _=c.getInstanceFromNode(f);_?void 0:"production"!==t.env.NODE_ENV?h(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):s("90"),d.asap(i,_)}}}return o}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/object-assign/index.js"),l=n("./node_modules/react-dom/lib/DOMPropertyOperations.js"),u=n("./node_modules/react-dom/lib/LinkedValueUtils.js"),c=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),d=n("./node_modules/react-dom/lib/ReactUpdates.js"),h=n("./node_modules/fbjs/lib/invariant.js"),m=n("./node_modules/fbjs/lib/warning.js"),p=!1,f=!1,_=!1,g=!1,v=!1,y=!1,b={getHostProps:function(e,t){var n=u.getValue(t),i=u.getChecked(t),o=a({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,n){if("production"!==t.env.NODE_ENV){u.checkPropTypes("input",n,e._currentElement._owner);var i=e._currentElement._owner;void 0===n.valueLink||p||("production"!==t.env.NODE_ENV?m(!1,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,p=!0),void 0===n.checkedLink||f||("production"!==t.env.NODE_ENV?m(!1,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0,f=!0),void 0===n.checked||void 0===n.defaultChecked||g||("production"!==t.env.NODE_ENV?m(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",i&&i.getName()||"A component",n.type):void 0,g=!0),void 0===n.value||void 0===n.defaultValue||_||("production"!==t.env.NODE_ENV?m(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",i&&i.getName()||"A component",n.type):void 0,_=!0)}var s=n.defaultValue;e._wrapperState={initialChecked:null!=n.checked?n.checked:n.defaultChecked,initialValue:null!=n.value?n.value:s,listeners:null,onChange:r.bind(e)},"production"!==t.env.NODE_ENV&&(e._wrapperState.controlled=o(n))},updateWrapper:function(e){var n=e._currentElement.props;if("production"!==t.env.NODE_ENV){var i=o(n),r=e._currentElement._owner;e._wrapperState.controlled||!i||y||("production"!==t.env.NODE_ENV?m(!1,"%s is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",r&&r.getName()||"A component",n.type):void 0,y=!0),!e._wrapperState.controlled||i||v||("production"!==t.env.NODE_ENV?m(!1,"%s is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",r&&r.getName()||"A component",n.type):void 0,v=!0)}var s=n.checked;null!=s&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",s||!1);var a=c.getNodeFromInstance(e),d=u.getValue(n);if(null!=d){var h=""+d;h!==a.value&&(a.value=h)}else null==n.value&&null!=n.defaultValue&&(a.defaultValue=""+n.defaultValue),null==n.checked&&null!=n.defaultChecked&&(a.defaultChecked=!!n.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var i=n.name;""!==i&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==i&&(n.name=i)}};e.exports=b}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMInvalidARIAHook.js":function(e,t,n){"use strict";(function(t){function i(e,n,i){if(u.hasOwnProperty(n)&&u[n])return!0;if(c.test(n)){var o=n.toLowerCase(),r=s.getPossibleStandardName.hasOwnProperty(o)?s.getPossibleStandardName[o]:null;if(null==r)return u[n]=!0,!1;if(n!==r)return"production"!==t.env.NODE_ENV?l(!1,"Unknown ARIA attribute %s. Did you mean %s?%s",n,r,a.getStackAddendumByID(i)):void 0,u[n]=!0,!0}return!0}function o(e,n){var o=[];for(var r in n.props){var s=i(n.type,r,e);s||o.push(r)}var u=o.map(function(e){return"`"+e+"`"}).join(", ");1===o.length?"production"!==t.env.NODE_ENV?l(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",u,n.type,a.getStackAddendumByID(e)):void 0:o.length>1&&("production"!==t.env.NODE_ENV?l(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",u,n.type,a.getStackAddendumByID(e)):void 0)}function r(e,t){null!=t&&"string"==typeof t.type&&(t.type.indexOf("-")>=0||t.props.is||o(e,t))}var s=n("./node_modules/react-dom/lib/DOMProperty.js"),a=n("./node_modules/react/lib/ReactComponentTreeHook.js"),l=n("./node_modules/fbjs/lib/warning.js"),u={},c=new RegExp("^(aria)-["+s.ATTRIBUTE_NAME_CHAR+"]*$"),d={onBeforeMountComponent:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n)},onBeforeUpdateComponent:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n)}};e.exports=d}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMNullInputValuePropHook.js":function(e,t,n){"use strict";(function(t){function i(e,n){null!=n&&("input"!==n.type&&"textarea"!==n.type&&"select"!==n.type||null==n.props||null!==n.props.value||s||("production"!==t.env.NODE_ENV?r(!1,"`value` prop on `%s` should not be null. Consider using the empty string to clear the component or `undefined` for uncontrolled components.%s",n.type,o.getStackAddendumByID(e)):void 0,s=!0))}var o=n("./node_modules/react/lib/ReactComponentTreeHook.js"),r=n("./node_modules/fbjs/lib/warning.js"),s=!1,a={onBeforeMountComponent:function(e,t){i(e,t)},onBeforeUpdateComponent:function(e,t){i(e,t)}};e.exports=a}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMOption.js":function(e,t,n){"use strict";(function(t){function i(e){var n="";return r.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?n+=e:u||(u=!0,"production"!==t.env.NODE_ENV?l(!1,"Only strings and numbers are supported as <option> children."):void 0))}),n}var o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react/lib/React.js"),s=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),a=n("./node_modules/react-dom/lib/ReactDOMSelect.js"),l=n("./node_modules/fbjs/lib/warning.js"),u=!1,c={
mountWrapper:function(e,n,o){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?l(null==n.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);var r=null;if(null!=o){var s=o;"optgroup"===s._tag&&(s=s._hostParent),null!=s&&"select"===s._tag&&(r=a.getSelectValueContext(s))}var u=null;if(null!=r){var c;if(c=null!=n.value?n.value+"":i(n.children),u=!1,Array.isArray(r)){for(var d=0;d<r.length;d++)if(""+r[d]===c){u=!0;break}}else u=""+r===c}e._wrapperState={selected:u}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=s.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var r=i(t.children);return r&&(n.children=r),n}};e.exports=c}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMSelect.js":function(e,t,n){"use strict";(function(t){function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=u.getValue(e);null!=t&&s(this,Boolean(e.multiple),t)}}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function r(e,n){var i=e._currentElement._owner;u.checkPropTypes("select",n,i),void 0===n.valueLink||m||("production"!==t.env.NODE_ENV?h(!1,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0,m=!0);for(var r=0;r<f.length;r++){var s=f[r];if(null!=n[s]){var a=Array.isArray(n[s]);n.multiple&&!a?"production"!==t.env.NODE_ENV?h(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",s,o(i)):void 0:!n.multiple&&a&&("production"!==t.env.NODE_ENV?h(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",s,o(i)):void 0)}}}function s(e,t,n){var i,o,r=c.getNodeFromInstance(e).options;if(t){for(i={},o=0;o<n.length;o++)i[""+n[o]]=!0;for(o=0;o<r.length;o++){var s=i.hasOwnProperty(r[o].value);r[o].selected!==s&&(r[o].selected=s)}}else{for(i=""+n,o=0;o<r.length;o++)if(r[o].value===i)return void(r[o].selected=!0);r.length&&(r[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),d.asap(i,this),n}var l=n("./node_modules/object-assign/index.js"),u=n("./node_modules/react-dom/lib/LinkedValueUtils.js"),c=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),d=n("./node_modules/react-dom/lib/ReactUpdates.js"),h=n("./node_modules/fbjs/lib/warning.js"),m=!1,p=!1,f=["value","defaultValue"],_={getHostProps:function(e,t){return l({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,n){"production"!==t.env.NODE_ENV&&r(e,n);var i=u.getValue(n);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:n.defaultValue,listeners:null,onChange:a.bind(e),wasMultiple:Boolean(n.multiple)},void 0===n.value||void 0===n.defaultValue||p||("production"!==t.env.NODE_ENV?h(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var i=u.getValue(t);null!=i?(e._wrapperState.pendingUpdate=!1,s(e,Boolean(t.multiple),i)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?s(e,Boolean(t.multiple),t.defaultValue):s(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=_}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMSelection.js":function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function o(e){var t=document.selection,n=t.createRange(),i=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var r=o.text.length,s=r+i;return{start:r,end:s}}function r(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,r=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var l=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(e),c.setEnd(a.startContainer,a.startOffset);var d=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=d?0:c.toString().length,m=h+u,p=document.createRange();p.setStart(n,o),p.setEnd(r,s);var f=p.collapsed;return{start:f?m:h,end:f?h:m}}function s(e,t){var n,i,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",i-n),o.select()}function a(e,t){if(window.getSelection){var n=window.getSelection(),i=e[c()].length,o=Math.min(t.start,i),r=void 0===t.end?o:Math.min(t.end,i);if(!n.extend&&o>r){var s=r;r=o,o=s}var a=u(e,o),l=u(e,r);if(a&&l){var d=document.createRange();d.setStart(a.node,a.offset),n.removeAllRanges(),o>r?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),u=n("./node_modules/react-dom/lib/getNodeForCharacterOffset.js"),c=n("./node_modules/react-dom/lib/getTextContentAccessor.js"),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:d?o:r,setOffsets:d?s:a};e.exports=h},"./node_modules/react-dom/lib/ReactDOMServer.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/ReactDefaultInjection.js"),o=n("./node_modules/react-dom/lib/ReactServerRendering.js"),r=n("./node_modules/react-dom/lib/ReactVersion.js");i.inject();var s={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:r};e.exports=s},"./node_modules/react-dom/lib/ReactDOMTextComponent.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react-dom/lib/DOMChildrenOperations.js"),s=n("./node_modules/react-dom/lib/DOMLazyTree.js"),a=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),l=n("./node_modules/react-dom/lib/escapeTextContentForBrowser.js"),u=n("./node_modules/fbjs/lib/invariant.js"),c=n("./node_modules/react-dom/lib/validateDOMNesting.js"),d=function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null};o(d.prototype,{mountComponent:function(e,n,i,o){if("production"!==t.env.NODE_ENV){var r;null!=n?r=n._ancestorInfo:null!=i&&(r=i._ancestorInfo),r&&c(null,this._stringText,this,r)}var u=i._idCounter++,d=" react-text: "+u+" ",h=" /react-text ";if(this._domID=u,this._hostParent=n,e.useCreateElement){var m=i._ownerDocument,p=m.createComment(d),f=m.createComment(h),_=s(m.createDocumentFragment());return s.queueChild(_,s(p)),this._stringText&&s.queueChild(_,s(m.createTextNode(this._stringText))),s.queueChild(_,s(f)),a.precacheNode(this,p),this._closingComment=f,_}var g=l(this._stringText);return e.renderToStaticMarkup?g:"<!--"+d+"-->"+g+"<!--"+h+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=this.getHostNode();r.replaceDelimitedText(i[0],i[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var n=a.getNodeFromInstance(this),o=n.nextSibling;;){if(null==o?"production"!==t.env.NODE_ENV?u(!1,"Missing closing comment for text component %s",this._domID):i("67",this._domID):void 0,8===o.nodeType&&" /react-text "===o.nodeValue){this._closingComment=o;break}o=o.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),e.exports=d}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMTextarea.js":function(e,t,n){"use strict";(function(t){function i(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return u.asap(i,this),n}var r=n("./node_modules/react-dom/lib/reactProdInvariant.js"),s=n("./node_modules/object-assign/index.js"),a=n("./node_modules/react-dom/lib/LinkedValueUtils.js"),l=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),u=n("./node_modules/react-dom/lib/ReactUpdates.js"),c=n("./node_modules/fbjs/lib/invariant.js"),d=n("./node_modules/fbjs/lib/warning.js"),h=!1,m=!1,p={getHostProps:function(e,n){null!=n.dangerouslySetInnerHTML?"production"!==t.env.NODE_ENV?c(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):r("91"):void 0;var i=s({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,n){"production"!==t.env.NODE_ENV&&(a.checkPropTypes("textarea",n,e._currentElement._owner),void 0===n.valueLink||h||("production"!==t.env.NODE_ENV?d(!1,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0,h=!0),void 0===n.value||void 0===n.defaultValue||m||("production"!==t.env.NODE_ENV?d(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"):void 0,m=!0));var i=a.getValue(n),s=i;if(null==i){var l=n.defaultValue,u=n.children;null!=u&&("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?d(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=l?"production"!==t.env.NODE_ENV?c(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):r("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:"production"!==t.env.NODE_ENV?c(!1,"<textarea> can only have at most one child."):r("93"),u=u[0]),l=""+u),null==l&&(l=""),s=l}e._wrapperState={initialValue:""+s,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),i=a.getValue(t);if(null!=i){var o=""+i;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e);t.value=t.textContent}};e.exports=p}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMTreeTraversal.js":function(e,t,n){"use strict";(function(t){function i(e,n){"_hostNode"in e?void 0:"production"!==t.env.NODE_ENV?u(!1,"getNodeFromInstance: Invalid argument."):l("33"),"_hostNode"in n?void 0:"production"!==t.env.NODE_ENV?u(!1,"getNodeFromInstance: Invalid argument."):l("33");for(var i=0,o=e;o;o=o._hostParent)i++;for(var r=0,s=n;s;s=s._hostParent)r++;for(;i-r>0;)e=e._hostParent,i--;for(;r-i>0;)n=n._hostParent,r--;for(var a=i;a--;){if(e===n)return e;e=e._hostParent,n=n._hostParent}return null}function o(e,n){"_hostNode"in e?void 0:"production"!==t.env.NODE_ENV?u(!1,"isAncestor: Invalid argument."):l("35"),"_hostNode"in n?void 0:"production"!==t.env.NODE_ENV?u(!1,"isAncestor: Invalid argument."):l("35");for(;n;){if(n===e)return!0;n=n._hostParent}return!1}function r(e){return"_hostNode"in e?void 0:"production"!==t.env.NODE_ENV?u(!1,"getParentInstance: Invalid argument."):l("36"),e._hostParent}function s(e,t,n){for(var i=[];e;)i.push(e),e=e._hostParent;var o;for(o=i.length;o-- >0;)t(i[o],"captured",n);for(o=0;o<i.length;o++)t(i[o],"bubbled",n)}function a(e,t,n,o,r){for(var s=e&&t?i(e,t):null,a=[];e&&e!==s;)a.push(e),e=e._hostParent;for(var l=[];t&&t!==s;)l.push(t),t=t._hostParent;var u;for(u=0;u<a.length;u++)n(a[u],"bubbled",o);for(u=l.length;u-- >0;)n(l[u],"captured",r)}var l=n("./node_modules/react-dom/lib/reactProdInvariant.js"),u=n("./node_modules/fbjs/lib/invariant.js");e.exports={isAncestor:o,getLowestCommonAncestor:i,getParentInstance:r,traverseTwoPhase:s,traverseEnterLeave:a}}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDOMUnknownPropertyHook.js":function(e,t,n){"use strict";(function(t){function i(e,t){null!=t&&"string"==typeof t.type&&(t.type.indexOf("-")>=0||t.props.is||d(e,t))}var o=n("./node_modules/react-dom/lib/DOMProperty.js"),r=n("./node_modules/react-dom/lib/EventPluginRegistry.js"),s=n("./node_modules/react/lib/ReactComponentTreeHook.js"),a=n("./node_modules/fbjs/lib/warning.js");if("production"!==t.env.NODE_ENV)var l={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0,autoFocus:!0,defaultValue:!0,valueLink:!0,defaultChecked:!0,checkedLink:!0,innerHTML:!0,suppressContentEditableWarning:!0,onFocusIn:!0,onFocusOut:!0},u={},c=function(e,n,i){if(o.properties.hasOwnProperty(n)||o.isCustomAttribute(n))return!0;if(l.hasOwnProperty(n)&&l[n]||u.hasOwnProperty(n)&&u[n])return!0;if(r.registrationNameModules.hasOwnProperty(n))return!0;u[n]=!0;var c=n.toLowerCase(),d=o.isCustomAttribute(c)?c:o.getPossibleStandardName.hasOwnProperty(c)?o.getPossibleStandardName[c]:null,h=r.possibleRegistrationNames.hasOwnProperty(c)?r.possibleRegistrationNames[c]:null;return null!=d?("production"!==t.env.NODE_ENV?a(!1,"Unknown DOM property %s. Did you mean %s?%s",n,d,s.getStackAddendumByID(i)):void 0,!0):null!=h&&("production"!==t.env.NODE_ENV?a(!1,"Unknown event handler property %s. Did you mean `%s`?%s",n,h,s.getStackAddendumByID(i)):void 0,!0)};var d=function(e,n){var i=[];for(var o in n.props){var r=c(n.type,o,e);r||i.push(o)}var l=i.map(function(e){return"`"+e+"`"}).join(", ");1===i.length?"production"!==t.env.NODE_ENV?a(!1,"Unknown prop %s on <%s> tag. Remove this prop from the element. For details, see https://fb.me/react-unknown-prop%s",l,n.type,s.getStackAddendumByID(e)):void 0:i.length>1&&("production"!==t.env.NODE_ENV?a(!1,"Unknown props %s on <%s> tag. Remove these props from the element. For details, see https://fb.me/react-unknown-prop%s",l,n.type,s.getStackAddendumByID(e)):void 0)},h={onBeforeMountComponent:function(e,t){i(e,t)},onBeforeUpdateComponent:function(e,t){i(e,t)}};e.exports=h}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDebugTool.js":function(e,t,n){"use strict";(function(t){function i(e,n,i,o,r,s,a,l){try{n.call(i,o,r,s,a,l)}catch(n){"production"!==t.env.NODE_ENV?w(E[e],"Exception thrown by hook while handling %s: %s",e,n+"\n"+n.stack):void 0,E[e]=!0}}function o(e,t,n,o,r,s){for(var a=0;a<C.length;a++){var l=C[a],u=l[e];u&&i(e,u,l,t,n,o,r,s)}}function r(){v.purgeUnmountedComponents(),g.clearHistory()}function s(e){return e.reduce(function(e,t){var n=v.getOwnerID(t),i=v.getParentID(t);return e[t]={displayName:v.getDisplayName(t),text:v.getText(t),updateCount:v.getUpdateCount(t),childIDs:v.getChildIDs(t),ownerID:n||i&&v.getOwnerID(i)||0,parentID:i},e},{})}function a(){var e=P,t=k,n=g.getHistory();if(0===j)return P=0,k=[],void r();if(t.length||n.length){var i=v.getRegisteredIDs();I.push({duration:b()-e,measurements:t||[],operations:n||[],treeSnapshot:s(i)})}r(),P=b(),k=[]}function l(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&0===e||e||("production"!==t.env.NODE_ENV?w(!1,"ReactDebugTool: debugID may not be empty."):void 0)}function u(e,n){0!==j&&(M&&!D&&("production"!==t.env.NODE_ENV?w(!1,"There is an internal error in the React performance measurement code. Did not expect %s timer to start while %s timer is still in progress for %s instance.",n,M||"no",e===T?"the same":"another"):void 0,D=!0),O=b(),A=0,T=e,M=n)}function c(e,n){0!==j&&(M===n||D||("production"!==t.env.NODE_ENV?w(!1,"There is an internal error in the React performance measurement code. We did not expect %s timer to stop while %s timer is still in progress for %s instance. Please report this as a bug in React.",n,M||"no",e===T?"the same":"another"):void 0,D=!0),S&&k.push({timerType:n,instanceID:e,duration:b()-O-A}),O=0,A=0,T=null,M=null)}function d(){var e={startTime:O,nestedFlushStartTime:b(),debugID:T,timerType:M};x.push(e),O=0,A=0,T=null,M=null}function h(){var e=x.pop(),t=e.startTime,n=e.nestedFlushStartTime,i=e.debugID,o=e.timerType,r=b()-n;O=t,A+=r,T=i,M=o}function m(e){if(!S||!N)return!1;var t=v.getElement(e);if(null==t||"object"!=typeof t)return!1;var n="string"==typeof t.type;return!n}function p(e,t){if(m(e)){var n=e+"::"+t;L=b(),performance.mark(n)}}function f(e,t){if(m(e)){var n=e+"::"+t,i=v.getDisplayName(e)||"Unknown",o=b();if(o-L>.1){var r=i+" ["+t+"]";performance.measure(r,n)}performance.clearMarks(n),performance.clearMeasures(r)}}var _=n("./node_modules/react-dom/lib/ReactInvalidSetStateWarningHook.js"),g=n("./node_modules/react-dom/lib/ReactHostOperationHistoryHook.js"),v=n("./node_modules/react/lib/ReactComponentTreeHook.js"),y=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),b=n("./node_modules/fbjs/lib/performanceNow.js"),w=n("./node_modules/fbjs/lib/warning.js"),C=[],E={},S=!1,I=[],x=[],j=0,k=[],P=0,T=null,O=0,A=0,M=null,D=!1,L=0,N="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,B={addHook:function(e){C.push(e)},removeHook:function(e){for(var t=0;t<C.length;t++)C[t]===e&&(C.splice(t,1),t--)},isProfiling:function(){return S},beginProfiling:function(){S||(S=!0,I.length=0,a(),B.addHook(g))},endProfiling:function(){S&&(S=!1,a(),B.removeHook(g))},getFlushHistory:function(){return I},onBeginFlush:function(){j++,a(),d(),o("onBeginFlush")},onEndFlush:function(){a(),j--,h(),o("onEndFlush")},onBeginLifeCycleTimer:function(e,t){l(e),o("onBeginLifeCycleTimer",e,t),p(e,t),u(e,t)},onEndLifeCycleTimer:function(e,t){l(e),c(e,t),f(e,t),o("onEndLifeCycleTimer",e,t)},onBeginProcessingChildContext:function(){o("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){o("onEndProcessingChildContext")},onHostOperation:function(e){l(e.instanceID),o("onHostOperation",e)},onSetState:function(){o("onSetState")},onSetChildren:function(e,t){l(e),t.forEach(l),o("onSetChildren",e,t)},onBeforeMountComponent:function(e,t,n){l(e),l(n,!0),o("onBeforeMountComponent",e,t,n),p(e,"mount")},onMountComponent:function(e){l(e),f(e,"mount"),o("onMountComponent",e)},onBeforeUpdateComponent:function(e,t){l(e),o("onBeforeUpdateComponent",e,t),p(e,"update")},onUpdateComponent:function(e){l(e),f(e,"update"),o("onUpdateComponent",e)},onBeforeUnmountComponent:function(e){l(e),o("onBeforeUnmountComponent",e),p(e,"unmount")},onUnmountComponent:function(e){l(e),f(e,"unmount"),o("onUnmountComponent",e)},onTestEvent:function(){o("onTestEvent")}};B.addDevtool=B.addHook,B.removeDevtool=B.removeHook,B.addHook(_),B.addHook(v);var R=y.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(R)&&B.beginProfiling(),e.exports=B}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactDefaultBatchingStrategy.js":function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react-dom/lib/ReactUpdates.js"),s=n("./node_modules/react-dom/lib/Transaction.js"),a=n("./node_modules/fbjs/lib/emptyFunction.js"),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[u,l];o(i.prototype,s,{getTransactionWrappers:function(){return c}});var d=new i,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,i,o,r){var s=h.isBatchingUpdates;return h.isBatchingUpdates=!0,s?e(t,n,i,o,r):d.perform(e,null,t,n,i,o,r)}};e.exports=h},"./node_modules/react-dom/lib/ReactDefaultInjection.js":function(e,t,n){"use strict";function i(){E||(E=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(h),v.EventPluginUtils.injectTreeTraversal(p),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:l,ChangeEventPlugin:s,SelectEventPlugin:w,BeforeInputEventPlugin:r}),v.HostComponent.injectGenericComponentClass(d),v.HostComponent.injectTextComponentClass(f),v.DOMProperty.injectDOMPropertyConfig(o),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new m(e)}),v.Updates.injectReconcileTransaction(y),v.Updates.injectBatchingStrategy(_),v.Component.injectEnvironment(c))}var o=n("./node_modules/react-dom/lib/ARIADOMPropertyConfig.js"),r=n("./node_modules/react-dom/lib/BeforeInputEventPlugin.js"),s=n("./node_modules/react-dom/lib/ChangeEventPlugin.js"),a=n("./node_modules/react-dom/lib/DefaultEventPluginOrder.js"),l=n("./node_modules/react-dom/lib/EnterLeaveEventPlugin.js"),u=n("./node_modules/react-dom/lib/HTMLDOMPropertyConfig.js"),c=n("./node_modules/react-dom/lib/ReactComponentBrowserEnvironment.js"),d=n("./node_modules/react-dom/lib/ReactDOMComponent.js"),h=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),m=n("./node_modules/react-dom/lib/ReactDOMEmptyComponent.js"),p=n("./node_modules/react-dom/lib/ReactDOMTreeTraversal.js"),f=n("./node_modules/react-dom/lib/ReactDOMTextComponent.js"),_=n("./node_modules/react-dom/lib/ReactDefaultBatchingStrategy.js"),g=n("./node_modules/react-dom/lib/ReactEventListener.js"),v=n("./node_modules/react-dom/lib/ReactInjection.js"),y=n("./node_modules/react-dom/lib/ReactReconcileTransaction.js"),b=n("./node_modules/react-dom/lib/SVGDOMPropertyConfig.js"),w=n("./node_modules/react-dom/lib/SelectEventPlugin.js"),C=n("./node_modules/react-dom/lib/SimpleEventPlugin.js"),E=!1;e.exports={inject:i}},"./node_modules/react-dom/lib/ReactElementSymbol.js":function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},"./node_modules/react-dom/lib/ReactEmptyComponent.js":function(e,t){"use strict";var n,i={injectEmptyComponentFactory:function(e){n=e}},o={create:function(e){return n(e)}};o.injection=i,e.exports=o},"./node_modules/react-dom/lib/ReactErrorUtils.js":function(e,t,n){"use strict";(function(t){function n(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};if("production"!==t.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var r=document.createElement("react");o.invokeGuardedCallback=function(e,t,n){var i=t.bind(null,n),o="react-"+e;r.addEventListener(o,i,!1);var s=document.createEvent("Event");s.initEvent(o,!1,!1),r.dispatchEvent(s),r.removeEventListener(o,i,!1)}}e.exports=o}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactEventEmitterMixin.js":function(e,t,n){"use strict";function i(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=n("./node_modules/react-dom/lib/EventPluginHub.js"),r={handleTopLevel:function(e,t,n,r){var s=o.extractEvents(e,t,n,r);i(s)}};e.exports=r},"./node_modules/react-dom/lib/ReactEventListener.js":function(e,t,n){"use strict";function i(e){for(;e._hostParent;)e=e._hostParent;var t=d.getNodeFromInstance(e),n=t.parentNode;return d.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){var t=m(e.nativeEvent),n=d.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&i(o);while(o);for(var r=0;r<e.ancestors.length;r++)n=e.ancestors[r],f._handleTopLevel(e.topLevelType,n,e.nativeEvent,m(e.nativeEvent))}function s(e){var t=p(window);e(t)}var a=n("./node_modules/object-assign/index.js"),l=n("./node_modules/fbjs/lib/EventListener.js"),u=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),c=n("./node_modules/react-dom/lib/PooledClass.js"),d=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),h=n("./node_modules/react-dom/lib/ReactUpdates.js"),m=n("./node_modules/react-dom/lib/getEventTarget.js"),p=n("./node_modules/fbjs/lib/getUnboundedScrollPosition.js");a(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){return n?l.listen(n,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?l.capture(n,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var n=o.getPooled(e,t);try{h.batchedUpdates(r,n)}finally{o.release(n)}}}};e.exports=f},"./node_modules/react-dom/lib/ReactFeatureFlags.js":function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},"./node_modules/react-dom/lib/ReactHostComponent.js":function(e,t,n){"use strict";(function(t){function i(e){return u?void 0:"production"!==t.env.NODE_ENV?l(!1,"There is no registered component for the tag %s",e.type):s("111",e.type),new u(e)}function o(e){return new d(e)}function r(e){return e instanceof d}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/object-assign/index.js"),l=n("./node_modules/fbjs/lib/invariant.js"),u=null,c={},d=null,h={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){a(c,e)}},m={createInternalComponent:i,createInstanceForText:o,isTextComponent:r,injection:h};e.exports=m}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactHostOperationHistoryHook.js":function(e,t){"use strict";var n=[],i={onHostOperation:function(e){n.push(e)},clearHistory:function(){i._preventClearing||(n=[])},getHistory:function(){return n}};e.exports=i},"./node_modules/react-dom/lib/ReactInjection.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/DOMProperty.js"),o=n("./node_modules/react-dom/lib/EventPluginHub.js"),r=n("./node_modules/react-dom/lib/EventPluginUtils.js"),s=n("./node_modules/react-dom/lib/ReactComponentEnvironment.js"),a=n("./node_modules/react-dom/lib/ReactEmptyComponent.js"),l=n("./node_modules/react-dom/lib/ReactBrowserEventEmitter.js"),u=n("./node_modules/react-dom/lib/ReactHostComponent.js"),c=n("./node_modules/react-dom/lib/ReactUpdates.js"),d={Component:s.injection,DOMProperty:i.injection,EmptyComponent:a.injection,EventPluginHub:o.injection,EventPluginUtils:r.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};e.exports=d},"./node_modules/react-dom/lib/ReactInputSelection.js":function(e,t,n){"use strict";function i(e){return r(document.documentElement,e)}var o=n("./node_modules/react-dom/lib/ReactDOMSelection.js"),r=n("./node_modules/fbjs/lib/containsNode.js"),s=n("./node_modules/fbjs/lib/focusNode.js"),a=n("./node_modules/fbjs/lib/getActiveElement.js"),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),n=e.focusedElem,o=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",i-n),r.select()}else o.setOffsets(e,t)}};e.exports=l},"./node_modules/react-dom/lib/ReactInstanceMap.js":function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},"./node_modules/react-dom/lib/ReactInstrumentation.js":function(e,t,n){"use strict";(function(t){var i=null;if("production"!==t.env.NODE_ENV){var o=n("./node_modules/react-dom/lib/ReactDebugTool.js");i=o}e.exports={debugTool:i}}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactInvalidSetStateWarningHook.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/fbjs/lib/warning.js");if("production"!==t.env.NODE_ENV)var o=!1,r=function(){"production"!==t.env.NODE_ENV?i(!o,"setState(...): Cannot call setState() inside getChildContext()"):void 0};var s={onBeginProcessingChildContext:function(){o=!0},onEndProcessingChildContext:function(){o=!1},onSetState:function(){r()}};e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactMarkupChecksum.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/adler32.js"),o=/\/?>/,r=/^<\!\-\-/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return r.test(e)?e:e.replace(o," "+s.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(s.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=i(e);return o===n}};e.exports=s},"./node_modules/react-dom/lib/ReactMount.js":function(e,t,n){"use strict";(function(t){function i(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i))return i;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===z?e.documentElement:e.firstChild:null}function r(e){return e.getAttribute&&e.getAttribute(B)||""}function s(e,t,n,i,o){var r;if(S.logTopLevelRenders){var s=e._currentElement.props.child,a=s.type;r="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(r)}var l=k.mountComponent(e,n,null,C(e,t),o,0);r&&console.timeEnd(r),e._renderedComponent._topLevelWrapper=e,q._mountImageIntoNode(l,t,e,i,n)}function a(e,t,n,i){var o=T.ReactReconcileTransaction.getPooled(!n&&E.useCreateElement);o.perform(s,null,e,t,o,n,i),T.ReactReconcileTransaction.release(o)}function l(e,n,i){for("production"!==t.env.NODE_ENV&&x.debugTool.onBeginFlush(),k.unmountComponent(e,i),"production"!==t.env.NODE_ENV&&x.debugTool.onEndFlush(),n.nodeType===z&&(n=n.documentElement);n.lastChild;)n.removeChild(n.lastChild)}function u(e){var t=o(e);if(t){var n=w.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){var t=o(e);return!(!t||!h(t)||w.getInstanceFromNode(t))}function d(e){return!(!e||e.nodeType!==F&&e.nodeType!==z&&e.nodeType!==H)}function h(e){return d(e)&&(e.hasAttribute(R)||e.hasAttribute(B))}function m(e){var t=o(e),n=t&&w.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function p(e){var t=m(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=n("./node_modules/react-dom/lib/reactProdInvariant.js"),_=n("./node_modules/react-dom/lib/DOMLazyTree.js"),g=n("./node_modules/react-dom/lib/DOMProperty.js"),v=n("./node_modules/react/lib/React.js"),y=n("./node_modules/react-dom/lib/ReactBrowserEventEmitter.js"),b=n("./node_modules/react/lib/ReactCurrentOwner.js"),w=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),C=n("./node_modules/react-dom/lib/ReactDOMContainerInfo.js"),E=n("./node_modules/react-dom/lib/ReactDOMFeatureFlags.js"),S=n("./node_modules/react-dom/lib/ReactFeatureFlags.js"),I=n("./node_modules/react-dom/lib/ReactInstanceMap.js"),x=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),j=n("./node_modules/react-dom/lib/ReactMarkupChecksum.js"),k=n("./node_modules/react-dom/lib/ReactReconciler.js"),P=n("./node_modules/react-dom/lib/ReactUpdateQueue.js"),T=n("./node_modules/react-dom/lib/ReactUpdates.js"),O=n("./node_modules/fbjs/lib/emptyObject.js"),A=n("./node_modules/react-dom/lib/instantiateReactComponent.js"),M=n("./node_modules/fbjs/lib/invariant.js"),D=n("./node_modules/react-dom/lib/setInnerHTML.js"),L=n("./node_modules/react-dom/lib/shouldUpdateReactComponent.js"),N=n("./node_modules/fbjs/lib/warning.js"),B=g.ID_ATTRIBUTE_NAME,R=g.ROOT_ATTRIBUTE_NAME,F=1,z=9,H=11,W={},V=1,U=function(){
this.rootID=V++};U.prototype.isReactComponent={},"production"!==t.env.NODE_ENV&&(U.displayName="TopLevelWrapper"),U.prototype.render=function(){return this.props.child},U.isReactTopLevelWrapper=!0;var q={TopLevelWrapper:U,_instancesByReactRootID:W,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,i,o){return q.scrollMonitor(i,function(){P.enqueueElementInternal(e,t,n),o&&P.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,n,i,o){"production"!==t.env.NODE_ENV?N(null==b.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",b.current&&b.current.getName()||"ReactCompositeComponent"):void 0,d(n)?void 0:"production"!==t.env.NODE_ENV?M(!1,"_registerComponent(...): Target container is not a DOM element."):f("37"),y.ensureScrollValueMonitoring();var r=A(e,!1);T.batchedUpdates(a,r,n,i,o);var s=r._instance.rootID;return W[s]=r,r},renderSubtreeIntoContainer:function(e,n,i,o){return null!=e&&I.has(e)?void 0:"production"!==t.env.NODE_ENV?M(!1,"parentComponent must be a valid React Component"):f("38"),q._renderSubtreeIntoContainer(e,n,i,o)},_renderSubtreeIntoContainer:function(e,n,i,s){P.validateCallback(s,"ReactDOM.render"),v.isValidElement(n)?void 0:"production"!==t.env.NODE_ENV?M(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof n?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof n?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=n&&void 0!==n.props?" This may be caused by unintentionally loading two independent copies of React.":""):f("39","string"==typeof n?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof n?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=n&&void 0!==n.props?" This may be caused by unintentionally loading two independent copies of React.":""),"production"!==t.env.NODE_ENV?N(!i||!i.tagName||"BODY"!==i.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var a,l=v.createElement(U,{child:n});if(e){var c=I.get(e);a=c._processChildContext(c._context)}else a=O;var d=p(i);if(d){var h=d._currentElement,m=h.props.child;if(L(m,n)){var _=d._renderedComponent.getPublicInstance(),g=s&&function(){s.call(_)};return q._updateRootComponent(d,l,a,i,g),_}q.unmountComponentAtNode(i)}var y=o(i),b=y&&!!r(y),w=u(i);if("production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?N(!w,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!b||y.nextSibling))for(var C=y;C;){if(r(C)){"production"!==t.env.NODE_ENV?N(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):void 0;break}C=C.nextSibling}var E=b&&!d&&!w,S=q._renderNewRootComponent(l,i,E,a)._renderedComponent.getPublicInstance();return s&&s.call(S),S},render:function(e,t,n){return q._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){"production"!==t.env.NODE_ENV?N(null==b.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",b.current&&b.current.getName()||"ReactCompositeComponent"):void 0,d(e)?void 0:"production"!==t.env.NODE_ENV?M(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):f("40"),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?N(!c(e),"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."):void 0);var n=p(e);if(!n){var i=u(e),o=1===e.nodeType&&e.hasAttribute(R);return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?N(!i,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1}return delete W[n._instance.rootID],T.batchedUpdates(l,n,e,!1),!0},_mountImageIntoNode:function(e,n,r,s,a){if(d(n)?void 0:"production"!==t.env.NODE_ENV?M(!1,"mountComponentIntoNode(...): Target container is not valid."):f("41"),s){var l=o(n);if(j.canReuseMarkup(e,l))return void w.precacheNode(r,l);var u=l.getAttribute(j.CHECKSUM_ATTR_NAME);l.removeAttribute(j.CHECKSUM_ATTR_NAME);var c=l.outerHTML;l.setAttribute(j.CHECKSUM_ATTR_NAME,u);var h=e;if("production"!==t.env.NODE_ENV){var m;n.nodeType===F?(m=document.createElement("div"),m.innerHTML=e,h=m.innerHTML):(m=document.createElement("iframe"),document.body.appendChild(m),m.contentDocument.write(e),h=m.contentDocument.documentElement.outerHTML,document.body.removeChild(m))}var p=i(h,c),g=" (client) "+h.substring(p-20,p+20)+"\n (server) "+c.substring(p-20,p+20);n.nodeType===z?"production"!==t.env.NODE_ENV?M(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",g):f("42",g):void 0,"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?N(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",g):void 0)}if(n.nodeType===z?"production"!==t.env.NODE_ENV?M(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):f("43"):void 0,a.useCreateElement){for(;n.lastChild;)n.removeChild(n.lastChild);_.insertTreeBefore(n,e,null)}else D(n,e),w.precacheNode(r,n.firstChild);if("production"!==t.env.NODE_ENV){var v=w.getInstanceFromNode(n.firstChild);0!==v._debugID&&x.debugTool.onHostOperation({instanceID:v._debugID,type:"mount",payload:e.toString()})}}};e.exports=q}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactMultiChild.js":function(e,t,n){"use strict";(function(t){function i(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:f.getHostNode(e),toIndex:n,afterNode:t}}function r(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function s(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function a(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){d.processChildrenUpdates(e,t)}var c=n("./node_modules/react-dom/lib/reactProdInvariant.js"),d=n("./node_modules/react-dom/lib/ReactComponentEnvironment.js"),h=n("./node_modules/react-dom/lib/ReactInstanceMap.js"),m=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),p=n("./node_modules/react/lib/ReactCurrentOwner.js"),f=n("./node_modules/react-dom/lib/ReactReconciler.js"),_=n("./node_modules/react-dom/lib/ReactChildReconciler.js"),g=n("./node_modules/fbjs/lib/emptyFunction.js"),v=n("./node_modules/react-dom/lib/flattenChildren.js"),y=n("./node_modules/fbjs/lib/invariant.js"),b=g;if("production"!==t.env.NODE_ENV){var w=function(e){if(!e._debugID){var t;(t=h.get(e))&&(e=t)}return e._debugID};b=function(e){var t=w(this);0!==t&&m.debugTool.onSetChildren(t,e?Object.keys(e).map(function(t){return e[t]._debugID}):[])}}var C={Mixin:{_reconcilerInstantiateChildren:function(e,n,i){if("production"!==t.env.NODE_ENV){var o=w(this);if(this._currentElement)try{return p.current=this._currentElement._owner,_.instantiateChildren(e,n,i,o)}finally{p.current=null}}return _.instantiateChildren(e,n,i)},_reconcilerUpdateChildren:function(e,n,i,o,r,s){var a,l=0;if("production"!==t.env.NODE_ENV&&(l=w(this),this._currentElement)){try{p.current=this._currentElement._owner,a=v(n,l)}finally{p.current=null}return _.updateChildren(e,a,i,o,r,this,this._hostContainerInfo,s,l),a}return a=v(n,l),_.updateChildren(e,a,i,o,r,this,this._hostContainerInfo,s,l),a},mountChildren:function(e,n,i){var o=this._reconcilerInstantiateChildren(e,n,i);this._renderedChildren=o;var r=[],s=0;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a],u=0;"production"!==t.env.NODE_ENV&&(u=w(this));var c=f.mountComponent(l,n,this,this._hostContainerInfo,i,u);l._mountIndex=s++,r.push(c)}return"production"!==t.env.NODE_ENV&&b.call(this,o),r},updateTextContent:function(e){var n=this._renderedChildren;_.unmountChildren(n,!1);for(var i in n)n.hasOwnProperty(i)&&("production"!==t.env.NODE_ENV?y(!1,"updateTextContent called on non-empty component."):c("118"));var o=[a(e)];u(this,o)},updateMarkup:function(e){var n=this._renderedChildren;_.unmountChildren(n,!1);for(var i in n)n.hasOwnProperty(i)&&("production"!==t.env.NODE_ENV?y(!1,"updateTextContent called on non-empty component."):c("118"));var o=[s(e)];u(this,o)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,n,i){var o=this._renderedChildren,r={},s=[],a=this._reconcilerUpdateChildren(o,e,s,r,n,i);if(a||o){var c,d=null,h=0,m=0,p=0,_=null;for(c in a)if(a.hasOwnProperty(c)){var g=o&&o[c],v=a[c];g===v?(d=l(d,this.moveChild(g,_,h,m)),m=Math.max(g._mountIndex,m),g._mountIndex=h):(g&&(m=Math.max(g._mountIndex,m)),d=l(d,this._mountChildAtIndex(v,s[p],_,h,n,i)),p++),h++,_=f.getHostNode(v)}for(c in r)r.hasOwnProperty(c)&&(d=l(d,this._unmountChild(o[c],r[c])));d&&u(this,d),this._renderedChildren=a,"production"!==t.env.NODE_ENV&&b.call(this,a)}},unmountChildren:function(e){var t=this._renderedChildren;_.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,i){if(e._mountIndex<i)return o(e,t,n)},createChild:function(e,t,n){return i(n,t,e._mountIndex)},removeChild:function(e,t){return r(e,t)},_mountChildAtIndex:function(e,t,n,i,o,r){return e._mountIndex=i,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=C}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactNodeTypes.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/react/lib/React.js"),r=n("./node_modules/fbjs/lib/invariant.js"),s={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?s.EMPTY:o.isValidElement(e)?"function"==typeof e.type?s.COMPOSITE:s.HOST:void("production"!==t.env.NODE_ENV?r(!1,"Unexpected node: %s",e):i("26",e))}};e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactOwner.js":function(e,t,n){"use strict";(function(t){function i(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=n("./node_modules/react-dom/lib/reactProdInvariant.js"),r=n("./node_modules/fbjs/lib/invariant.js"),s={addComponentAsRefTo:function(e,n,s){i(s)?void 0:"production"!==t.env.NODE_ENV?r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):o("119"),s.attachRef(n,e)},removeComponentAsRefFrom:function(e,n,s){i(s)?void 0:"production"!==t.env.NODE_ENV?r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):o("120");var a=s.getPublicInstance();a&&a.refs[n]===e.getPublicInstance()&&s.detachRef(n)}};e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactPropTypeLocationNames.js":function(e,t,n){"use strict";(function(t){var n={};"production"!==t.env.NODE_ENV&&(n={prop:"prop",context:"context",childContext:"child context"}),e.exports=n}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactPropTypesSecret.js":function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},"./node_modules/react-dom/lib/ReactReconcileTransaction.js":function(e,t,n){"use strict";(function(t){function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=e}var o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react-dom/lib/CallbackQueue.js"),s=n("./node_modules/react-dom/lib/PooledClass.js"),a=n("./node_modules/react-dom/lib/ReactBrowserEventEmitter.js"),l=n("./node_modules/react-dom/lib/ReactInputSelection.js"),u=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),c=n("./node_modules/react-dom/lib/Transaction.js"),d=n("./node_modules/react-dom/lib/ReactUpdateQueue.js"),h={initialize:l.getSelectionInformation,close:l.restoreSelection},m={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[h,m,p];"production"!==t.env.NODE_ENV&&f.push({initialize:u.debugTool.onBeginFlush,close:u.debugTool.onEndFlush});var _={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return d},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};o(i.prototype,c,_),s.addPoolingTo(i),e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactReconciler.js":function(e,t,n){"use strict";(function(t){function i(){o.attachRefs(this,this._currentElement)}var o=n("./node_modules/react-dom/lib/ReactRef.js"),r=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),s=n("./node_modules/fbjs/lib/warning.js"),a={mountComponent:function(e,n,o,s,a,l){"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onBeforeMountComponent(e._debugID,e._currentElement,l);var u=e.mountComponent(n,o,s,a,l);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(i,e),"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onMountComponent(e._debugID),u},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,n){"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onBeforeUnmountComponent(e._debugID),o.detachRefs(e,e._currentElement),e.unmountComponent(n),"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onUnmountComponent(e._debugID)},receiveComponent:function(e,n,s,a){var l=e._currentElement;if(n!==l||a!==e._context){"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onBeforeUpdateComponent(e._debugID,n);var u=o.shouldUpdateRefs(l,n);u&&o.detachRefs(e,l),e.receiveComponent(n,s,a),u&&e._currentElement&&null!=e._currentElement.ref&&s.getReactMountReady().enqueue(i,e),"production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onUpdateComponent(e._debugID)}},performUpdateIfNecessary:function(e,n,i){return e._updateBatchNumber!==i?void("production"!==t.env.NODE_ENV?s(null==e._updateBatchNumber||e._updateBatchNumber===i+1,"performUpdateIfNecessary: Unexpected batch number (current %s, pending %s)",i,e._updateBatchNumber):void 0):("production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onBeforeUpdateComponent(e._debugID,e._currentElement),e.performUpdateIfNecessary(n),void("production"!==t.env.NODE_ENV&&0!==e._debugID&&r.debugTool.onUpdateComponent(e._debugID)))}};e.exports=a}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactRef.js":function(e,t,n){"use strict";function i(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=n("./node_modules/react-dom/lib/ReactOwner.js"),s={};s.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},s.shouldUpdateRefs=function(e,t){var n=null,i=null;null!==e&&"object"==typeof e&&(n=e.ref,i=e._owner);var o=null,r=null;return null!==t&&"object"==typeof t&&(o=t.ref,r=t._owner),n!==o||"string"==typeof o&&r!==i},s.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=s},"./node_modules/react-dom/lib/ReactServerBatchingStrategy.js":function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},"./node_modules/react-dom/lib/ReactServerRendering.js":function(e,t,n){"use strict";(function(t){function i(e,n){var i;try{return f.injection.injectBatchingStrategy(m),i=p.getPooled(n),y++,i.perform(function(){var o=g(e,!0),r=h.mountComponent(o,i,null,l(),_,0);return"production"!==t.env.NODE_ENV&&c.debugTool.onUnmountComponent(o._debugID),n||(r=d.addChecksumToMarkup(r)),r},null)}finally{y--,p.release(i),y||f.injection.injectBatchingStrategy(u)}}function o(e){return a.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?v(!1,"renderToString(): You must pass a valid ReactElement."):s("46"),i(e,!1)}function r(e){return a.isValidElement(e)?void 0:"production"!==t.env.NODE_ENV?v(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):s("47"),i(e,!0)}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/react/lib/React.js"),l=n("./node_modules/react-dom/lib/ReactDOMContainerInfo.js"),u=n("./node_modules/react-dom/lib/ReactDefaultBatchingStrategy.js"),c=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),d=n("./node_modules/react-dom/lib/ReactMarkupChecksum.js"),h=n("./node_modules/react-dom/lib/ReactReconciler.js"),m=n("./node_modules/react-dom/lib/ReactServerBatchingStrategy.js"),p=n("./node_modules/react-dom/lib/ReactServerRenderingTransaction.js"),f=n("./node_modules/react-dom/lib/ReactUpdates.js"),_=n("./node_modules/fbjs/lib/emptyObject.js"),g=n("./node_modules/react-dom/lib/instantiateReactComponent.js"),v=n("./node_modules/fbjs/lib/invariant.js"),y=0;e.exports={renderToString:o,renderToStaticMarkup:r}}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactServerRenderingTransaction.js":function(e,t,n){"use strict";(function(t){function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new l(this)}var o=n("./node_modules/object-assign/index.js"),r=n("./node_modules/react-dom/lib/PooledClass.js"),s=n("./node_modules/react-dom/lib/Transaction.js"),a=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),l=n("./node_modules/react-dom/lib/ReactServerUpdateQueue.js"),u=[];"production"!==t.env.NODE_ENV&&u.push({initialize:a.debugTool.onBeginFlush,close:a.debugTool.onEndFlush});var c={enqueue:function(){}},d={getTransactionWrappers:function(){return u},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(i.prototype,s,d),r.addPoolingTo(i),e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactServerUpdateQueue.js":function(e,t,n){"use strict";(function(t){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,n){if("production"!==t.env.NODE_ENV){var i=e.constructor;"production"!==t.env.NODE_ENV?s(!1,"%s(...): Can only update a mounting component. This usually means you called %s() outside componentWillMount() on the server. This is a no-op. Please check the code for the %s component.",n,n,i&&(i.displayName||i.name)||"ReactClass"):void 0}}var r=n("./node_modules/react-dom/lib/ReactUpdateQueue.js"),s=n("./node_modules/fbjs/lib/warning.js"),a=function(){function e(t){i(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?r.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?r.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?r.enqueueSetState(e,t):o(e,"setState")},e}();e.exports=a}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactUpdateQueue.js":function(e,t,n){"use strict";(function(t){function i(e){c.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,i=Object.keys(e);return i.length>0&&i.length<20?n+" (keys: "+i.join(", ")+")":n}function r(e,n){var i=l.get(e);if(!i){if("production"!==t.env.NODE_ENV){var o=e.constructor;"production"!==t.env.NODE_ENV?h(!n,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",n,n,o&&(o.displayName||o.name)||"ReactClass"):void 0}return null}return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?h(null==a.current,"%s(...): Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.",n):void 0),i}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/react/lib/ReactCurrentOwner.js"),l=n("./node_modules/react-dom/lib/ReactInstanceMap.js"),u=n("./node_modules/react-dom/lib/ReactInstrumentation.js"),c=n("./node_modules/react-dom/lib/ReactUpdates.js"),d=n("./node_modules/fbjs/lib/invariant.js"),h=n("./node_modules/fbjs/lib/warning.js"),m={isMounted:function(e){if("production"!==t.env.NODE_ENV){var n=a.current;null!==n&&("production"!==t.env.NODE_ENV?h(n._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}var i=l.get(e);return!!i&&!!i._renderedComponent},enqueueCallback:function(e,t,n){m.validateCallback(t,n);var o=r(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void i(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],i(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,i(t))},enqueueReplaceState:function(e,t){var n=r(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(e,n){"production"!==t.env.NODE_ENV&&(u.debugTool.onSetState(),"production"!==t.env.NODE_ENV?h(null!=n,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0);var o=r(e,"setState");if(o){var s=o._pendingStateQueue||(o._pendingStateQueue=[]);s.push(n),i(o)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,i(e)},validateCallback:function(e,n){e&&"function"!=typeof e?"production"!==t.env.NODE_ENV?d(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",n,o(e)):s("122",n,o(e)):void 0}};e.exports=m}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactUpdates.js":function(e,t,n){"use strict";(function(t){function i(){k.ReactReconcileTransaction&&C?void 0:"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=h.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!0)}function r(e,t,n,o,r,s){return i(),C.batchedUpdates(e,t,n,o,r,s)}function s(e,t){return e._mountOrder-t._mountOrder}function a(e){var n=e.dirtyComponentsLength;n!==v.length?"production"!==t.env.NODE_ENV?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",n,v.length):c("124",n,v.length):void 0,v.sort(s),y++;for(var i=0;i<n;i++){var o=v[i],r=o._pendingCallbacks;o._pendingCallbacks=null;var a;if(p.logTopLevelRenders){var l=o;o._currentElement.type.isReactTopLevelWrapper&&(l=o._renderedComponent),a="React update: "+l.getName(),console.time(a)}if(f.performUpdateIfNecessary(o,e.reconcileTransaction,y),a&&console.timeEnd(a),r)for(var u=0;u<r.length;u++)e.callbackQueue.enqueue(r[u],o.getPublicInstance())}}function l(e){return i(),C.isBatchingUpdates?(v.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void C.batchedUpdates(l,e)}function u(e,n){C.isBatchingUpdates?void 0:"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):c("125"),b.enqueue(e,n),w=!0}var c=n("./node_modules/react-dom/lib/reactProdInvariant.js"),d=n("./node_modules/object-assign/index.js"),h=n("./node_modules/react-dom/lib/CallbackQueue.js"),m=n("./node_modules/react-dom/lib/PooledClass.js"),p=n("./node_modules/react-dom/lib/ReactFeatureFlags.js"),f=n("./node_modules/react-dom/lib/ReactReconciler.js"),_=n("./node_modules/react-dom/lib/Transaction.js"),g=n("./node_modules/fbjs/lib/invariant.js"),v=[],y=0,b=h.getPooled(),w=!1,C=null,E={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),x()):v.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},I=[E,S];d(o.prototype,_,{getTransactionWrappers:function(){return I},destructor:function(){this.dirtyComponentsLength=null,h.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return _.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),m.addPoolingTo(o);var x=function(){for(;v.length||w;){if(v.length){var e=o.getPooled();e.perform(a,null,e),o.release(e)}if(w){w=!1;var t=b;b=h.getPooled(),t.notifyAll(),h.release(t)}}},j={injectReconcileTransaction:function(e){e?void 0:"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates: must provide a reconcile transaction class"):c("126"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates: must provide a batching strategy"):c("127"),"function"!=typeof e.batchedUpdates?"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?"production"!==t.env.NODE_ENV?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):c("129"):void 0,C=e}},k={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:x,injection:j,asap:u};e.exports=k}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ReactVersion.js":function(e,t){"use strict";e.exports="15.4.1"},"./node_modules/react-dom/lib/SVGDOMPropertyConfig.js":function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",
requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),e.exports=o},"./node_modules/react-dom/lib/SelectEventPlugin.js":function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(v||null==f||f!==c())return null;var n=i(f);if(!g||!h(g,n)){g=n;var o=u.getPooled(p.select,_,e,t);return o.type="select",o.target=f,r.accumulateTwoPhaseDispatches(o),o}return null}var r=n("./node_modules/react-dom/lib/EventPropagators.js"),s=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),a=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),l=n("./node_modules/react-dom/lib/ReactInputSelection.js"),u=n("./node_modules/react-dom/lib/SyntheticEvent.js"),c=n("./node_modules/fbjs/lib/getActiveElement.js"),d=n("./node_modules/react-dom/lib/isTextInputElement.js"),h=n("./node_modules/fbjs/lib/shallowEqual.js"),m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},f=null,_=null,g=null,v=!1,y=!1,b={eventTypes:p,extractEvents:function(e,t,n,i){if(!y)return null;var r=t?a.getNodeFromInstance(t):window;switch(e){case"topFocus":(d(r)||"true"===r.contentEditable)&&(f=r,_=t,g=null);break;case"topBlur":f=null,_=null,g=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,o(n,i);case"topSelectionChange":if(m)break;case"topKeyDown":case"topKeyUp":return o(n,i)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(y=!0)}};e.exports=b},"./node_modules/react-dom/lib/SimpleEventPlugin.js":function(e,t,n){"use strict";(function(t){function i(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var r=n("./node_modules/react-dom/lib/reactProdInvariant.js"),s=n("./node_modules/fbjs/lib/EventListener.js"),a=n("./node_modules/react-dom/lib/EventPropagators.js"),l=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),u=n("./node_modules/react-dom/lib/SyntheticAnimationEvent.js"),c=n("./node_modules/react-dom/lib/SyntheticClipboardEvent.js"),d=n("./node_modules/react-dom/lib/SyntheticEvent.js"),h=n("./node_modules/react-dom/lib/SyntheticFocusEvent.js"),m=n("./node_modules/react-dom/lib/SyntheticKeyboardEvent.js"),p=n("./node_modules/react-dom/lib/SyntheticMouseEvent.js"),f=n("./node_modules/react-dom/lib/SyntheticDragEvent.js"),_=n("./node_modules/react-dom/lib/SyntheticTouchEvent.js"),g=n("./node_modules/react-dom/lib/SyntheticTransitionEvent.js"),v=n("./node_modules/react-dom/lib/SyntheticUIEvent.js"),y=n("./node_modules/react-dom/lib/SyntheticWheelEvent.js"),b=n("./node_modules/fbjs/lib/emptyFunction.js"),w=n("./node_modules/react-dom/lib/getEventCharCode.js"),C=n("./node_modules/fbjs/lib/invariant.js"),E={},S={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,i="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i]};E[e]=o,S[i]=o});var I={},x={eventTypes:E,extractEvents:function(e,n,i,o){var s=S[e];if(!s)return null;var l;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":l=d;break;case"topKeyPress":if(0===w(i))return null;case"topKeyDown":case"topKeyUp":l=m;break;case"topBlur":case"topFocus":l=h;break;case"topClick":if(2===i.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":l=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":l=f;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":l=_;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":l=u;break;case"topTransitionEnd":l=g;break;case"topScroll":l=v;break;case"topWheel":l=y;break;case"topCopy":case"topCut":case"topPaste":l=c}l?void 0:"production"!==t.env.NODE_ENV?C(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e):r("86",e);var b=l.getPooled(s,n,i,o);return a.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if("onClick"===t&&!o(e._tag)){var r=i(e),a=l.getNodeFromInstance(e);I[r]||(I[r]=s.listen(a,"click",b))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var n=i(e);I[n].remove(),delete I[n]}}};e.exports=x}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/SyntheticAnimationEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticClipboardEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticCompositionEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r={data:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticDragEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticMouseEvent.js"),r={dataTransfer:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticEvent.js":function(e,t,n){"use strict";(function(t){function i(e,n,i,o){"production"!==t.env.NODE_ENV&&(delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation),this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=i;var r=this.constructor.Interface;for(var s in r)if(r.hasOwnProperty(s)){"production"!==t.env.NODE_ENV&&delete this[s];var l=r[s];l?this[s]=l(i):"target"===s?this.target=o:this[s]=i[s]}var u=null!=i.defaultPrevented?i.defaultPrevented:i.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}function o(e,n){function i(e){var t=s?"setting the method":"setting the property";return r(t,"This is effectively a no-op"),e}function o(){var e=s?"accessing the method":"accessing the property",t=s?"This is a no-op function":"This is set to null";return r(e,t),n}function r(n,i){var o=!1;"production"!==t.env.NODE_ENV?l(o,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",n,e,i):void 0}var s="function"==typeof n;return{configurable:!0,set:i,get:o}}var r=n("./node_modules/object-assign/index.js"),s=n("./node_modules/react-dom/lib/PooledClass.js"),a=n("./node_modules/fbjs/lib/emptyFunction.js"),l=n("./node_modules/fbjs/lib/warning.js"),u=!1,c="function"==typeof Proxy,d=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],h={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var n in e)"production"!==t.env.NODE_ENV?Object.defineProperty(this,n,o(n,e[n])):this[n]=null;for(var i=0;i<d.length;i++)this[d[i]]=null;"production"!==t.env.NODE_ENV&&(Object.defineProperty(this,"nativeEvent",o("nativeEvent",null)),Object.defineProperty(this,"preventDefault",o("preventDefault",a)),Object.defineProperty(this,"stopPropagation",o("stopPropagation",a)))}}),i.Interface=h,"production"!==t.env.NODE_ENV&&c&&(i=new Proxy(i,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,n,i){return new Proxy(e.apply(n,i),{set:function(e,n,i){return"isPersistent"===n||e.constructor.Interface.hasOwnProperty(n)||d.indexOf(n)!==-1||("production"!==t.env.NODE_ENV?l(u||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."):void 0,u=!0),e[n]=i,!0}})}})),i.augmentClass=function(e,t){var n=this,i=function(){};i.prototype=n.prototype;var o=new i;r(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,s.addPoolingTo(e,s.fourArgumentPooler)},s.addPoolingTo(i,s.fourArgumentPooler),e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/SyntheticFocusEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticUIEvent.js"),r={relatedTarget:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticInputEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r={data:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticKeyboardEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticUIEvent.js"),r=n("./node_modules/react-dom/lib/getEventCharCode.js"),s=n("./node_modules/react-dom/lib/getEventKey.js"),a=n("./node_modules/react-dom/lib/getEventModifierState.js"),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(i,l),e.exports=i},"./node_modules/react-dom/lib/SyntheticMouseEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticUIEvent.js"),r=n("./node_modules/react-dom/lib/ViewportMetrics.js"),s=n("./node_modules/react-dom/lib/getEventModifierState.js"),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};o.augmentClass(i,a),e.exports=i},"./node_modules/react-dom/lib/SyntheticTouchEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticUIEvent.js"),r=n("./node_modules/react-dom/lib/getEventModifierState.js"),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};o.augmentClass(i,s),e.exports=i},"./node_modules/react-dom/lib/SyntheticTransitionEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/SyntheticUIEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticEvent.js"),r=n("./node_modules/react-dom/lib/getEventTarget.js"),s={view:function(e){if(e.view)return e.view;var t=r(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(i,s),e.exports=i},"./node_modules/react-dom/lib/SyntheticWheelEvent.js":function(e,t,n){"use strict";function i(e,t,n,i){return o.call(this,e,t,n,i)}var o=n("./node_modules/react-dom/lib/SyntheticMouseEvent.js"),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(i,r),e.exports=i},"./node_modules/react-dom/lib/Transaction.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/react-dom/lib/reactProdInvariant.js"),o=n("./node_modules/fbjs/lib/invariant.js"),r={},s={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,n,r,s,a,l,u,c){this.isInTransaction()?"production"!==t.env.NODE_ENV?o(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):i("27"):void 0;var d,h;try{this._isInTransaction=!0,d=!0,this.initializeAll(0),h=e.call(n,r,s,a,l,u,c),d=!1}finally{try{if(d)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return h},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=r,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:"production"!==t.env.NODE_ENV?o(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):i("28");for(var n=this.transactionWrappers,s=e;s<n.length;s++){var a,l=n[s],u=this.wrapperInitData[s];try{a=!0,u!==r&&l.close&&l.close.call(this,u),a=!1}finally{if(a)try{this.closeAll(s+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/ViewportMetrics.js":function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},"./node_modules/react-dom/lib/accumulateInto.js":function(e,t,n){"use strict";(function(t){function i(e,n){return null==n?"production"!==t.env.NODE_ENV?r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):o("30"):void 0,null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}var o=n("./node_modules/react-dom/lib/reactProdInvariant.js"),r=n("./node_modules/fbjs/lib/invariant.js");e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/adler32.js":function(e,t){"use strict";function n(e){for(var t=1,n=0,o=0,r=e.length,s=r&-4;o<s;){for(var a=Math.min(o+4096,s);o<a;o+=4)n+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=i,n%=i}for(;o<r;o++)n+=t+=e.charCodeAt(o);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=n},"./node_modules/react-dom/lib/checkReactTypeSpec.js":function(e,t,n){"use strict";(function(t){function i(e,i,d,h,m,p){for(var f in e)if(e.hasOwnProperty(f)){var _;try{"function"!=typeof e[f]?"production"!==t.env.NODE_ENV?l(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",h||"React class",s[d],f):r("84",h||"React class",s[d],f):void 0,_=e[f](i,f,h,d,null,a)}catch(e){_=e}if("production"!==t.env.NODE_ENV?u(!_||_ instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",h||"React class",s[d],f,typeof _):void 0,_ instanceof Error&&!(_.message in c)){c[_.message]=!0;var g="";"production"!==t.env.NODE_ENV&&(o||(o=n("./node_modules/react/lib/ReactComponentTreeHook.js")),null!==p?g=o.getStackAddendumByID(p):null!==m&&(g=o.getCurrentStackAddendum(m))),"production"!==t.env.NODE_ENV?u(!1,"Failed %s type: %s%s",d,_.message,g):void 0}}}var o,r=n("./node_modules/react-dom/lib/reactProdInvariant.js"),s=n("./node_modules/react-dom/lib/ReactPropTypeLocationNames.js"),a=n("./node_modules/react-dom/lib/ReactPropTypesSecret.js"),l=n("./node_modules/fbjs/lib/invariant.js"),u=n("./node_modules/fbjs/lib/warning.js");"undefined"!=typeof t&&t.env&&"test"===t.env.NODE_ENV&&(o=n("./node_modules/react/lib/ReactComponentTreeHook.js"));var c={};e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js":function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e};e.exports=n},"./node_modules/react-dom/lib/dangerousStyleValue.js":function(e,t,n){"use strict";(function(t){function i(e,n,i){var o=null==n||"boolean"==typeof n||""===n;if(o)return"";var l=isNaN(n);if(l||0===n||s.hasOwnProperty(e)&&s[e])return""+n;if("string"==typeof n){if("production"!==t.env.NODE_ENV&&i&&"0"!==n){var u=i._currentElement._owner,c=u?u.getName():null;c&&!a[c]&&(a[c]={});var d=!1;if(c){var h=a[c];d=h[e],d||(h[e]=!0)}d||("production"!==t.env.NODE_ENV?r(!1,"a `%s` tag (owner: `%s`) was passed a numeric string value for CSS property `%s` (value: `%s`) which will be treated as a unitless number in a future version of React.",i._currentElement.type,c||"unknown",e,n):void 0)}n=n.trim()}return n+"px"}var o=n("./node_modules/react-dom/lib/CSSProperty.js"),r=n("./node_modules/fbjs/lib/warning.js"),s=o.isUnitlessNumber,a={};e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/escapeTextContentForBrowser.js":function(e,t){"use strict";function n(e){var t=""+e,n=o.exec(t);if(!n)return t;var i,r="",s=0,a=0;for(s=n.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==s&&(r+=t.substring(a,s)),a=s+1,r+=i}return a!==s?r+t.substring(a,s):r}function i(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var o=/["'&<>]/;e.exports=i},"./node_modules/react-dom/lib/findDOMNode.js":function(e,t,n){"use strict";(function(t){function i(e){if("production"!==t.env.NODE_ENV){var n=r.current;null!==n&&("production"!==t.env.NODE_ENV?c(n._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",n.getName()||"A component"):void 0,n._warnedAboutRefsInRender=!0)}if(null==e)return null;if(1===e.nodeType)return e;var i=a.get(e);return i?(i=l(i),i?s.getNodeFromInstance(i):null):void("function"==typeof e.render?"production"!==t.env.NODE_ENV?u(!1,"findDOMNode was called on an unmounted component."):o("44"):"production"!==t.env.NODE_ENV?u(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):o("45",Object.keys(e)))}var o=n("./node_modules/react-dom/lib/reactProdInvariant.js"),r=n("./node_modules/react/lib/ReactCurrentOwner.js"),s=n("./node_modules/react-dom/lib/ReactDOMComponentTree.js"),a=n("./node_modules/react-dom/lib/ReactInstanceMap.js"),l=n("./node_modules/react-dom/lib/getHostComponentFromComposite.js"),u=n("./node_modules/fbjs/lib/invariant.js"),c=n("./node_modules/fbjs/lib/warning.js");e.exports=i}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/flattenChildren.js":function(e,t,n){"use strict";(function(t){function i(e,i,o,a){if(e&&"object"==typeof e){var u=e,c=void 0===u[o];"production"!==t.env.NODE_ENV&&(r||(r=n("./node_modules/react/lib/ReactComponentTreeHook.js")),c||("production"!==t.env.NODE_ENV?l(!1,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.%s",s.unescape(o),r.getStackAddendumByID(a)):void 0)),c&&null!=i&&(u[o]=i)}}function o(e,n){if(null==e)return e;var o={};return"production"!==t.env.NODE_ENV?a(e,function(e,t,o){return i(e,t,o,n)},o):a(e,i,o),o}var r,s=n("./node_modules/react-dom/lib/KeyEscapeUtils.js"),a=n("./node_modules/react-dom/lib/traverseAllChildren.js"),l=n("./node_modules/fbjs/lib/warning.js");"undefined"!=typeof t&&t.env&&"test"===t.env.NODE_ENV&&(r=n("./node_modules/react/lib/ReactComponentTreeHook.js")),e.exports=o}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/forEachAccumulated.js":function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},"./node_modules/react-dom/lib/getEventCharCode.js":function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},"./node_modules/react-dom/lib/getEventKey.js":function(e,t,n){"use strict";function i(e){if(e.key){var t=r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}var o=n("./node_modules/react-dom/lib/getEventCharCode.js"),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},"./node_modules/react-dom/lib/getEventModifierState.js":function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=o[e];return!!i&&!!n[i]}function i(e){return n}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},"./node_modules/react-dom/lib/getEventTarget.js":function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},"./node_modules/react-dom/lib/getHostComponentFromComposite.js":function(e,t,n){"use strict";function i(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=n("./node_modules/react-dom/lib/ReactNodeTypes.js");e.exports=i},"./node_modules/react-dom/lib/getIteratorFn.js":function(e,t){"use strict";function n(e){var t=e&&(i&&e[i]||e[o]);if("function"==typeof t)return t}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=n},"./node_modules/react-dom/lib/getNextDebugID.js":function(e,t){"use strict";function n(){return i++}var i=1;e.exports=n},"./node_modules/react-dom/lib/getNodeForCharacterOffset.js":function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var o=n(e),r=0,s=0;o;){if(3===o.nodeType){if(s=r+o.textContent.length,r<=t&&s>=t)return{node:o,offset:t-r};r=s}o=n(i(o))}}e.exports=o},"./node_modules/react-dom/lib/getTextContentAccessor.js":function(e,t,n){"use strict";function i(){return!r&&o.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),r=null;e.exports=i},"./node_modules/react-dom/lib/getVendorPrefixedEventName.js":function(e,t,n){"use strict";function i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(a[e])return a[e];if(!s[e])return e;var t=s[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return a[e]=t[n];return""}var r=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),s={animationend:i("Animation","AnimationEnd"),animationiteration:i("Animation","AnimationIteration"),animationstart:i("Animation","AnimationStart"),transitionend:i("Transition","TransitionEnd")},a={},l={};r.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete s.animationend.animation,delete s.animationiteration.animation,delete s.animationstart.animation),"TransitionEvent"in window||delete s.transitionend.transition),e.exports=o},"./node_modules/react-dom/lib/instantiateReactComponent.js":function(e,t,n){"use strict";(function(t){function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e,n){var a;if(null===e||e===!1)a=u.create(r);else if("object"==typeof e){var l=e;!l||"function"!=typeof l.type&&"string"!=typeof l.type?"production"!==t.env.NODE_ENV?h(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==l.type?l.type:typeof l.type,i(l._owner)):s("130",null==l.type?l.type:typeof l.type,i(l._owner)):void 0,"string"==typeof l.type?a=c.createInternalComponent(l):o(l.type)?(a=new l.type(l),a.getHostNode||(a.getHostNode=a.getNativeNode)):a=new p(l)}else"string"==typeof e||"number"==typeof e?a=c.createInstanceForText(e):"production"!==t.env.NODE_ENV?h(!1,"Encountered invalid React node of type %s",typeof e):s("131",typeof e);return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?m("function"==typeof a.mountComponent&&"function"==typeof a.receiveComponent&&"function"==typeof a.getHostNode&&"function"==typeof a.unmountComponent,"Only React Components can be mounted."):void 0),a._mountIndex=0,a._mountImage=null,"production"!==t.env.NODE_ENV&&(a._debugID=n?d():0),"production"!==t.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(a),a}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/object-assign/index.js"),l=n("./node_modules/react-dom/lib/ReactCompositeComponent.js"),u=n("./node_modules/react-dom/lib/ReactEmptyComponent.js"),c=n("./node_modules/react-dom/lib/ReactHostComponent.js"),d=n("./node_modules/react-dom/lib/getNextDebugID.js"),h=n("./node_modules/fbjs/lib/invariant.js"),m=n("./node_modules/fbjs/lib/warning.js"),p=function(e){this.construct(e)};a(p.prototype,l,{_instantiateReactComponent:r}),e.exports=r}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/isEventSupported.js":function(e,t,n){"use strict";function i(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i="function"==typeof s[n]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var o,r=n("./node_modules/fbjs/lib/ExecutionEnvironment.js");r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i;
},"./node_modules/react-dom/lib/isTextInputElement.js":function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},"./node_modules/react-dom/lib/quoteAttributeValueForBrowser.js":function(e,t,n){"use strict";function i(e){return'"'+o(e)+'"'}var o=n("./node_modules/react-dom/lib/escapeTextContentForBrowser.js");e.exports=i},"./node_modules/react-dom/lib/reactProdInvariant.js":function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}e.exports=n},"./node_modules/react-dom/lib/renderSubtreeIntoContainer.js":function(e,t,n){"use strict";var i=n("./node_modules/react-dom/lib/ReactMount.js");e.exports=i.renderSubtreeIntoContainer},"./node_modules/react-dom/lib/setInnerHTML.js":function(e,t,n){"use strict";var i,o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),r=n("./node_modules/react-dom/lib/DOMNamespaces.js"),s=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n("./node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js"),u=l(function(e,t){if(e.namespaceURI!==r.svg||"innerHTML"in e)e.innerHTML=t;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+t+"</svg>";for(var n=i.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),s.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},"./node_modules/react-dom/lib/setTextContent.js":function(e,t,n){"use strict";var i=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),o=n("./node_modules/react-dom/lib/escapeTextContentForBrowser.js"),r=n("./node_modules/react-dom/lib/setInnerHTML.js"),s=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};i.canUseDOM&&("textContent"in document.documentElement||(s=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void r(e,o(t))})),e.exports=s},"./node_modules/react-dom/lib/shouldUpdateReactComponent.js":function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,i=null===t||t===!1;if(n||i)return n===i;var o=typeof e,r=typeof t;return"string"===o||"number"===o?"string"===r||"number"===r:"object"===r&&e.type===t.type&&e.key===t.key}e.exports=n},"./node_modules/react-dom/lib/traverseAllChildren.js":function(e,t,n){"use strict";(function(t){function i(e,t){return e&&"object"==typeof e&&null!=e.key?d.escape(e.key):t.toString(36)}function o(e,n,r,_){var g=typeof e;if("undefined"!==g&&"boolean"!==g||(e=null),null===e||"string"===g||"number"===g||"object"===g&&e.$$typeof===l)return r(_,e,""===n?m+i(e,0):n),1;var v,y,b=0,w=""===n?m:n+p;if(Array.isArray(e))for(var C=0;C<e.length;C++)v=e[C],y=w+i(v,C),b+=o(v,y,r,_);else{var E=u(e);if(E){var S,I=E.call(e);if(E!==e.entries)for(var x=0;!(S=I.next()).done;)v=S.value,y=w+i(v,x++),b+=o(v,y,r,_);else{if("production"!==t.env.NODE_ENV){var j="";if(a.current){var k=a.current.getName();k&&(j=" Check the render method of `"+k+"`.")}"production"!==t.env.NODE_ENV?h(f,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead.%s",j):void 0,f=!0}for(;!(S=I.next()).done;){var P=S.value;P&&(v=P[1],y=w+d.escape(P[0])+p+i(v,0),b+=o(v,y,r,_))}}}else if("object"===g){var T="";if("production"!==t.env.NODE_ENV&&(T=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",e._isReactElement&&(T=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),a.current)){var O=a.current.getName();O&&(T+=" Check the render method of `"+O+"`.")}var A=String(e);"production"!==t.env.NODE_ENV?c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,T):s("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,T)}}return b}function r(e,t,n){return null==e?0:o(e,"",t,n)}var s=n("./node_modules/react-dom/lib/reactProdInvariant.js"),a=n("./node_modules/react/lib/ReactCurrentOwner.js"),l=n("./node_modules/react-dom/lib/ReactElementSymbol.js"),u=n("./node_modules/react-dom/lib/getIteratorFn.js"),c=n("./node_modules/fbjs/lib/invariant.js"),d=n("./node_modules/react-dom/lib/KeyEscapeUtils.js"),h=n("./node_modules/fbjs/lib/warning.js"),m=".",p=":",f=!1;e.exports=r}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/lib/validateDOMNesting.js":function(e,t,n){"use strict";(function(t){var i=n("./node_modules/object-assign/index.js"),o=n("./node_modules/fbjs/lib/emptyFunction.js"),r=n("./node_modules/fbjs/lib/warning.js"),s=o;if("production"!==t.env.NODE_ENV){var a=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],d={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},h=function(e,t,n){var o=i({},e||d),r={tag:t,instance:n};return l.indexOf(t)!==-1&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),u.indexOf(t)!==-1&&(o.pTagInButtonScope=null),a.indexOf(t)!==-1&&"address"!==t&&"div"!==t&&"p"!==t&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.current=r,"form"===t&&(o.formTag=r),"a"===t&&(o.aTagInScope=r),"button"===t&&(o.buttonTagInScope=r),"nobr"===t&&(o.nobrTagInScope=r),"p"===t&&(o.pTagInButtonScope=r),"li"===t&&(o.listItemTagAutoclosing=r),"dd"!==t&&"dt"!==t||(o.dlItemTagAutoclosing=r),o},m=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return c.indexOf(t)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},p=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},f=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},_={};s=function(e,n,i,o){o=o||d;var s=o.current,a=s&&s.tag;null!=n&&("production"!==t.env.NODE_ENV?r(null==e,"validateDOMNesting: when childText is passed, childTag should be null"):void 0,e="#text");var l=m(e,a)?null:s,u=l?null:p(e,o),c=l||u;if(c){var h,g=c.tag,v=c.instance,y=i&&i._currentElement._owner,b=v&&v._currentElement._owner,w=f(y),C=f(b),E=Math.min(w.length,C.length),S=-1;for(h=0;h<E&&w[h]===C[h];h++)S=h;var I="(unknown)",x=w.slice(S+1).map(function(e){return e.getName()||I}),j=C.slice(S+1).map(function(e){return e.getName()||I}),k=[].concat(S!==-1?w[S].getName()||I:[],j,g,u?["..."]:[],x,e).join(" > "),P=!!l+"|"+e+"|"+g+"|"+k;if(_[P])return;_[P]=!0;var T=e,O="";if("#text"===e?/\S/.test(n)?T="Text nodes":(T="Whitespace text nodes",O=" Make sure you don't have any extra whitespace between tags on each line of your source code."):T="<"+e+">",l){var A="";"table"===g&&"tr"===e&&(A+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==t.env.NODE_ENV?r(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s See %s.%s",T,g,O,k,A):void 0}else"production"!==t.env.NODE_ENV?r(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>. See %s.",T,g,k):void 0}},s.updatedAncestorInfo=h,s.isTagValidInContext=function(e,t){t=t||d;var n=t.current,i=n&&n.tag;return m(e,i)&&!p(e,t)}}e.exports=s}).call(t,n("./node_modules/process/browser.js"))},"./node_modules/react-dom/server.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-dom/lib/ReactDOMServer.js")},"./node_modules/react-winjs/react-winjs.js":function(e,t,n){function i(e){return"o"===e[0]&&"n"===e[1]}function o(e,t){var n={};return Object.keys(e).forEach(function(i){var o=t(i,e[i]);void 0!==o&&(n[i]=o)}),n}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function s(){for(var e={},t=0,n=arguments.length;t<n;t++){var i=arguments[t];if(i)for(var o in i)e[o]=i[o]}return e}function a(e,t){return e.length>=t.length&&e.substr(-t.length)===t}function l(e,t,n){var i=t.split("."),o=i.slice(0,i.length-1),r=i[i.length-1],s=o.reduce(function(e,t){return e[t]},e);s[r]=n}function u(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!1,null),e.dispatchEvent(n)}function d(e){var t={};return e&&e.split(" ").forEach(function(e){e&&(t[e]=!0)}),t}function h(e,t){var n=t.split(".");return n.reduce(function(e,t){return e&&e[t]},e)}function m(e){if("string"===e.type)return j.PropTypes.string;if("boolean"===e.type)return j.PropTypes.bool;if("number"===e.type)return j.PropTypes.number;if("enum"===e.type)return j.PropTypes.oneOf(e.values);if("any"===e.type)return j.PropTypes.any;if("reference"===e.type){if("Function"===e.name)return j.PropTypes.func;if("Array"===e.name){var t=m(e.typeArguments[0]);return t?j.PropTypes.arrayOf(t):j.PropTypes.array}if(h(window,e.name)){var n=h(window,e.name);return j.PropTypes.instanceOf(n)}}else console.warn("react-winjs typeToPropType: unable to find propType for type: "+JSON.stringify(e,null,2))}function p(e){var t={};return e.forEach(function(e,n){t[e.key]=n}),t}function f(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return n;return-1}function _(e,t){e=e.slice(0);for(var n=p(e),i=p(t),o=[],r=e.length-1;r>=0;r--){var s=e[r];i.hasOwnProperty(s.key)||(o.push({type:"delete",index:r}),e.splice(r,1))}for(var r=0;r<t.length;r++){var s=t[r];if(n.hasOwnProperty(s.key)){if(e[r].key!==s.key){var a=f(e,s.key);o.push({type:"move",from:a,to:r}),e.splice(a,1),e.splice(r,0,s)}}else o.push({type:"insert",index:r,value:s}),e.splice(r,0,s)}return o}function g(e,t){t.forEach(function(t){if("delete"===t.type)e.splice(t.index,1);else if("insert"===t.type)e.splice(t.index,0,t.value.winControl);else{if("move"!==t.type)throw"Unsupported edit type: "+t.type;e.move(t.from,t.to)}},this)}function v(e,t,n){var i=[],o={};return j.Children.forEach(t,function(t){if(t)if(t.ref&&console.warn("ref prop ("+t.ref+") will not work on "+t.type.displayName+" component because it is inside of a "+e+" component"),null===t.key)console.error(t.type.displayName+" component requires a key when inside of a "+e+" component");else{var r=n[t.key];r?r.type===t.type?r.update(t):(r.dispose(),r=new E(t)):r=new E(t),i.push(r),o[t.key]=r}}),Object.keys(n).forEach(function(e){o.hasOwnProperty(e)||n[e].dispose()}),{childComponents:i,childComponentsMap:o}}function y(e,t){return e+t[0].toUpperCase()+t.substr(1)}function b(e,t){return"number"==typeof t?A[e]||0===t?""+t:t+"px":t?""+t:""}function w(e){function t(e,t,n){e.data={},e.displayName=d,e.element=t;var i=r(a);l(t,i,e.data,d),Object.keys(n).forEach(function(o){var r=u[o];r&&r.preCtorInit&&r.preCtorInit(t,i,e.data,d,o,n[o])}),e.winControl=new s(t,i),Object.keys(n).forEach(function(t){var i=u[t];i&&!i.preCtorInit&&i.update(e,t,void 0,n[t])})}function n(e,t,n){Object.keys(n).forEach(function(i){var o=u[i];o&&o.update(e,i,t[i],n[i])}),Object.keys(t).forEach(function(i){if(!n.hasOwnProperty(i)){var o=u[i];o&&o.update(e,i,t[i],void 0)}})}function i(e){e.winControl.dispose&&e.winControl.dispose(),Object.keys(u).forEach(function(t){var n=u[t];n.dispose&&n.dispose(e,t)})}var s=e.winjsControl,a=e.winControlOptions||{},l=e.preCtorInit||function(){},u=e.propHandlers||{},c=e.render||function(e){return j.DOM.div()},d=e.displayName;return j.createClass({displayName:d,statics:{initWinJSComponent:t,updateWinJSComponent:n,disposeWinJSComponent:i},propTypes:o(u,function(e,t){return t.propType}),shouldComponentUpdate:function(){return!1},componentDidMount:function(){t(this,k.findDOMNode(this),this.props)},componentWillUnmount:function(){i(this)},componentWillReceiveProps:function(e){n(this,this.props,e)},render:function(){return c(this)}})}function C(e){var t=P.renderToStaticMarkup(e);L.innerHTML=t;var n=L.firstElementChild;return L.removeChild(n),n}function E(e){var t=j.cloneElement(e,{ref:null}),n=C(t);e.type.initWinJSComponent(this,n,e.props),this.key=e.key,this.type=e.type,this._props=e.props,this._disposeWinJSComponent=e.type.disposeWinJSComponent}function S(e){return Object.keys(e).forEach(function(t){var n=e[t],i=n.underlyingControlName||t;n.winjsControl=n.winjsControl||T.UI[i],n.displayName=n.displayName||i,n.propHandlers=s(N,B[i],n.propHandlers)}),e}var I,x,j=n("./node_modules/react/react.js"),k=n("./node_modules/react-dom/index.js"),P=n("./node_modules/react-dom/server.js"),T=n("./src/winjs/js/ui.js"),O={AppBar:{closedDisplayMode:{type:"enum",values:["compact","full","minimal","none"]},data:{name:"WinJS.Binding.List",type:"reference",typeArguments:[{name:"WinJS.UI.ICommand",type:"reference",typeArguments:[]}]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},onAfterClose:{name:"Function",type:"reference",typeArguments:[]},onAfterOpen:{name:"Function",type:"reference",typeArguments:[]},onBeforeClose:{name:"Function",type:"reference",typeArguments:[]},onBeforeOpen:{name:"Function",type:"reference",typeArguments:[]},opened:{type:"boolean"},placement:{type:"enum",values:["bottom","top"]}},AppBarCommand:{disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},extraClass:{type:"string"},firstElementFocus:{name:"HTMLElement",type:"reference",typeArguments:[]},flyout:{name:"WinJS.UI.Flyout",type:"reference",typeArguments:[]},hidden:{type:"boolean"},icon:{type:"string"},id:{type:"string"},label:{type:"string"},lastElementFocus:{name:"HTMLElement",type:"reference",typeArguments:[]},onClick:{name:"Function",type:"reference",typeArguments:[]},priority:{type:"number"},section:{type:"string"},selected:{type:"boolean"},tooltip:{type:"string"},type:{type:"string"}},AutoSuggestBox:{chooseSuggestionOnEnter:{type:"boolean"},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},onQueryChanged:{name:"Function",type:"reference",typeArguments:[]},onQuerySubmitted:{name:"Function",type:"reference",typeArguments:[]},onResultSuggestionChosen:{name:"Function",type:"reference",typeArguments:[]},onSuggestionsRequested:{name:"Function",type:"reference",typeArguments:[]},placeholderText:{type:"string"},queryText:{type:"string"},searchHistoryContext:{type:"string"},searchHistoryDisabled:{type:"boolean"}},BackButton:{element:{name:"HTMLElement",type:"reference",typeArguments:[]}},CellSpanningLayout:{groupHeaderPosition:{type:"enum",values:["left","top"]},groupInfo:{name:"Function",type:"reference",typeArguments:[]},itemInfo:{name:"Function",type:"reference",typeArguments:[]},maximumRowsOrColumns:{type:"number"},numberOfItemsPerItemsBlock:{type:"any"},orientation:{type:"enum",values:["horizontal","vertical"]}},Command:{disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},extraClass:{type:"string"},firstElementFocus:{name:"HTMLElement",type:"reference",typeArguments:[]},flyout:{name:"WinJS.UI.Flyout",type:"reference",typeArguments:[]},hidden:{type:"boolean"},icon:{type:"string"},id:{type:"string"},label:{type:"string"},lastElementFocus:{name:"HTMLElement",type:"reference",typeArguments:[]},onClick:{name:"Function",type:"reference",typeArguments:[]},priority:{type:"number"},section:{type:"string"},selected:{type:"boolean"},tooltip:{type:"string"},type:{type:"string"}},ContentDialog:{element:{name:"HTMLElement",type:"reference",typeArguments:[]},hidden:{type:"boolean"},onAfterHide:{name:"Function",type:"reference",typeArguments:[]},onAfterShow:{name:"Function",type:"reference",typeArguments:[]},onBeforeHide:{name:"Function",type:"reference",typeArguments:[]},onBeforeShow:{name:"Function",type:"reference",typeArguments:[]},primaryCommandDisabled:{type:"boolean"},primaryCommandText:{type:"string"},secondaryCommandDisabled:{type:"boolean"},secondaryCommandText:{type:"string"},title:{type:"string"}},DatePicker:{calendar:{type:"string"},current:{name:"Date",type:"reference",typeArguments:[]},datePattern:{type:"string"},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},maxYear:{type:"number"},minYear:{type:"number"},monthPattern:{type:"string"},onChange:{name:"Function",type:"reference",typeArguments:[]},yearPattern:{type:"string"}},FlipView:{currentPage:{type:"number"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},itemDataSource:{name:"WinJS.UI.IListDataSource",type:"reference",typeArguments:[{name:"T",type:"type-param"}]},itemSpacing:{type:"number"},itemTemplate:{type:"any"},onDataSourceCountChanged:{name:"Function",type:"reference",typeArguments:[]},onPageCompleted:{name:"Function",type:"reference",typeArguments:[]},onPageSelected:{name:"Function",type:"reference",typeArguments:[]},onPageVisibilityChanged:{name:"Function",type:"reference",typeArguments:[]},orientation:{type:"string"}},Flyout:{alignment:{type:"string"},anchor:{name:"HTMLElement",type:"reference",typeArguments:[]},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},hidden:{type:"boolean"},onAfterHide:{name:"Function",type:"reference",typeArguments:[]},onAfterShow:{name:"Function",type:"reference",typeArguments:[]},onBeforeHide:{name:"Function",type:"reference",typeArguments:[]},onBeforeShow:{name:"Function",type:"reference",typeArguments:[]},placement:{type:"string"}},GridLayout:{backdropColor:{type:"string"},disableBackdrop:{type:"boolean"},groupHeaderPosition:{type:"enum",values:["left","top"]},groupInfo:{name:"Function",type:"reference",typeArguments:[]},itemInfo:{name:"Function",type:"reference",typeArguments:[]},maxRows:{type:"number"},maximumRowsOrColumns:{type:"number"},numberOfItemsPerItemsBlock:{type:"any"},orientation:{type:"enum",values:["horizontal","vertical"]}},Hub:{element:{name:"HTMLElement",type:"reference",typeArguments:[]},headerTemplate:{type:"any"},indexOfFirstVisible:{type:"number"},indexOfLastVisible:{type:"number"},loadingState:{type:"enum",values:["complete","loading"]},onContentAnimating:{name:"Function",type:"reference",typeArguments:[]},onHeaderInvoked:{name:"Function",type:"reference",typeArguments:[]},onLoadingStateChanged:{name:"Function",type:"reference",typeArguments:[]},orientation:{type:"enum",values:["horizontal","vertical"]},scrollPosition:{type:"number"},sectionOnScreen:{type:"number"},sections:{name:"WinJS.Binding.List",type:"reference",typeArguments:[{name:"WinJS.UI.HubSection",type:"reference",typeArguments:[]}]},zoomableView:{name:"WinJS.UI.IZoomableView",type:"reference",typeArguments:[{type:"any"}]}},HubSection:{contentElement:{name:"HTMLElement",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},header:{type:"string"},isHeaderStatic:{type:"boolean"}},ItemContainer:{draggable:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},onInvoked:{name:"Function",type:"reference",typeArguments:[]},onSelectionChanged:{name:"Function",type:"reference",typeArguments:[]},onSelectionChanging:{name:"Function",type:"reference",typeArguments:[]},selected:{type:"boolean"},selectionDisabled:{type:"boolean"},swipeBehavior:{type:"enum",values:["none","select"]},swipeOrientation:{type:"enum",values:["horizontal","vertical"]},tapBehavior:{type:"enum",values:["directSelect","invokeOnly","none","toggleSelect"]}},ListLayout:{backdropColor:{type:"string"},disableBackdrop:{type:"boolean"},groupHeaderPosition:{type:"enum",values:["left","top"]},numberOfItemsPerItemsBlock:{type:"any"},orientation:{type:"enum",values:["horizontal","vertical"]}},ListView:{automaticallyLoadPages:{type:"boolean"},currentItem:{name:"WinJS.UI.IListViewItem",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},footer:{name:"HTMLElement",type:"reference",typeArguments:[]},groupDataSource:{name:"WinJS.UI.IListDataSource",type:"reference",typeArguments:[{name:"T",type:"type-param"}]},groupHeaderTapBehavior:{type:"enum",values:["invoke","none"]},groupHeaderTemplate:{type:"any"},header:{name:"HTMLElement",type:"reference",typeArguments:[]},indexOfFirstVisible:{type:"number"},indexOfLastVisible:{type:"number"},itemDataSource:{name:"WinJS.UI.IListDataSource",type:"reference",typeArguments:[{name:"T",type:"type-param"}]},itemTemplate:{type:"any"},itemsDraggable:{type:"boolean"},itemsReorderable:{type:"boolean"},layout:{name:"WinJS.UI.ILayout2",type:"reference",typeArguments:[]},loadingBehavior:{type:"string"},loadingState:{type:"string"},maxDeferredItemCleanup:{type:"number"},maxLeadingPages:{type:"number"},maxTrailingPages:{type:"number"},onAccessibilityAnnotationComplete:{name:"Function",type:"reference",typeArguments:[]},onContentAnimating:{name:"Function",type:"reference",typeArguments:[]},onFooterVisibilityChanged:{name:"Function",type:"reference",typeArguments:[]},onGroupHeaderInvoked:{name:"Function",type:"reference",typeArguments:[]},onHeaderVisibilityChanged:{name:"Function",type:"reference",typeArguments:[]},onItemDragBetween:{name:"Function",type:"reference",typeArguments:[]},onItemDragChanged:{name:"Function",type:"reference",typeArguments:[]},onItemDragDrop:{name:"Function",type:"reference",typeArguments:[]},onItemDragEnd:{name:"Function",type:"reference",typeArguments:[]},onItemDragEnter:{name:"Function",type:"reference",typeArguments:[]},onItemDragLeave:{name:"Function",type:"reference",typeArguments:[]},onItemDragStart:{name:"Function",type:"reference",typeArguments:[]},onItemInvoked:{name:"Function",type:"reference",typeArguments:[]},onKeyboardNavigating:{name:"Function",type:"reference",typeArguments:[]},onLoadingStateChanged:{name:"Function",type:"reference",typeArguments:[]},onSelectionChanged:{name:"Function",type:"reference",typeArguments:[]},onSelectionChanging:{name:"Function",type:"reference",typeArguments:[]},pagesToLoad:{type:"number"},pagesToLoadThreshold:{type:"number"},scrollPosition:{type:"number"},selection:{name:"WinJS.UI.ISelection",type:"reference",typeArguments:[{name:"T",type:"type-param"}]},selectionMode:{type:"enum",values:["multi","none","single"]},swipeBehavior:{type:"enum",values:["none","select"]},tapBehavior:{type:"enum",values:["directSelect","invokeOnly","none","toggleSelect"]},zoomableView:{name:"WinJS.UI.IZoomableView",type:"reference",typeArguments:[{name:"WinJS.UI.ListView",type:"reference",typeArguments:[{name:"T",type:"type-param"}]}]}},Menu:{alignment:{type:"string"},anchor:{name:"HTMLElement",type:"reference",typeArguments:[]},commands:{name:"Array",type:"reference",typeArguments:[{name:"WinJS.UI.MenuCommand",type:"reference",typeArguments:[]}]},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},hidden:{type:"boolean"},onAfterHide:{name:"Function",type:"reference",typeArguments:[]},onAfterShow:{name:"Function",type:"reference",typeArguments:[]},onBeforeHide:{name:"Function",type:"reference",typeArguments:[]},onBeforeShow:{name:"Function",type:"reference",typeArguments:[]},placement:{type:"string"}},MenuCommand:{disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},extraClass:{type:"string"},flyout:{name:"WinJS.UI.Flyout",type:"reference",typeArguments:[]},hidden:{type:"boolean"},id:{type:"string"},label:{type:"string"},onClick:{name:"Function",type:"reference",typeArguments:[]},selected:{type:"boolean"},type:{type:"string"}},NavBar:{closedDisplayMode:{type:"string"},commands:{name:"WinJS.UI.AppBarCommand",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},hidden:{type:"boolean"},onAfterClose:{name:"Function",type:"reference",typeArguments:[]},onAfterOpen:{name:"Function",type:"reference",typeArguments:[]},onBeforeClose:{name:"Function",type:"reference",typeArguments:[]},onBeforeOpen:{name:"Function",type:"reference",typeArguments:[]},onChildrenProcessed:{name:"Function",type:"reference",typeArguments:[]},opened:{type:"boolean"},placement:{type:"string"}},NavBarCommand:{element:{name:"HTMLElement",type:"reference",typeArguments:[]},icon:{type:"string"},label:{type:"string"},location:{type:"any"},onInvoked:{name:"Function",type:"reference",typeArguments:[]},splitButton:{type:"boolean"},splitOpened:{type:"boolean"},state:{type:"any"},tooltip:{type:"string"}},NavBarContainer:{currentIndex:{type:"number"},data:{name:"WinJS.Binding.List",type:"reference",typeArguments:[{name:"WinJS.UI.NavBarCommand",type:"reference",typeArguments:[]}]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},fixedSize:{type:"boolean"},layout:{type:"enum",values:["horizontal","vertical"]},maxRows:{type:"number"},onInvoked:{name:"Function",type:"reference",typeArguments:[]},onSplitToggle:{name:"Function",type:"reference",typeArguments:[]},template:{name:"WinJS.Binding.Template",type:"reference",typeArguments:[]}},Pivot:{customLeftHeader:{name:"HTMLElement",type:"reference",typeArguments:[]},customRightHeader:{name:"HTMLElement",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},items:{name:"WinJS.Binding.List",type:"reference",typeArguments:[{name:"WinJS.UI.PivotItem",type:"reference",typeArguments:[]}]},locked:{type:"boolean"},onItemAnimationEnd:{name:"Function",type:"reference",typeArguments:[]},onItemAnimationStart:{name:"Function",type:"reference",typeArguments:[]},onSelectionChanged:{name:"Function",type:"reference",typeArguments:[]},selectedIndex:{type:"number"},selectedItem:{name:"WinJS.UI.PivotItem",type:"reference",typeArguments:[]},title:{type:"string"}},PivotItem:{contentElement:{name:"HTMLElement",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},header:{type:"string"}},Rating:{averageRating:{type:"number"},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},enableClear:{type:"boolean"},maxRating:{type:"number"},onCancel:{name:"Function",type:"reference",typeArguments:[]},onChange:{name:"Function",type:"reference",typeArguments:[]},onPreviewChange:{name:"Function",type:"reference",typeArguments:[]},tooltipStrings:{name:"Array",type:"reference",typeArguments:[{type:"string"}]},userRating:{type:"number"}},SearchBox:{chooseSuggestionOnEnter:{type:"boolean"},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},focusOnKeyboardInput:{type:"boolean"},onQueryChanged:{name:"Function",type:"reference",typeArguments:[]},onQuerySubmitted:{name:"Function",type:"reference",typeArguments:[]},onResultSuggestionChosen:{name:"Function",type:"reference",typeArguments:[]},onSuggestionsRequested:{name:"Function",type:"reference",typeArguments:[]},placeholderText:{type:"string"},queryText:{type:"string"},searchHistoryContext:{type:"string"},searchHistoryDisabled:{type:"boolean"}},SemanticZoom:{element:{name:"HTMLElement",type:"reference",typeArguments:[]},enableButton:{type:"boolean"},locked:{type:"boolean"},onZoomChanged:{name:"Function",type:"reference",typeArguments:[]},zoomFactor:{type:"number"},zoomedOut:{type:"boolean"}},SplitView:{closedDisplayMode:{type:"enum",values:["inline","none"]},contentElement:{name:"HTMLElement",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},onAfterClose:{name:"Function",type:"reference",typeArguments:[]},onAfterOpen:{name:"Function",type:"reference",typeArguments:[]},onBeforeClose:{name:"Function",type:"reference",typeArguments:[]},onBeforeOpen:{name:"Function",type:"reference",typeArguments:[]},openedDisplayMode:{type:"enum",values:["inline","overlay"]},paneElement:{name:"HTMLElement",type:"reference",typeArguments:[]},paneOpened:{type:"boolean"},panePlacement:{type:"enum",values:["bottom","left","right","top"]}},SplitViewCommand:{element:{name:"HTMLElement",type:"reference",typeArguments:[]},icon:{type:"string"},label:{type:"string"},onInvoked:{name:"Function",type:"reference",typeArguments:[]},tooltip:{type:"string"}},SplitViewPaneToggle:{element:{name:"HTMLButtonElement",type:"reference",typeArguments:[]},onInvoked:{name:"Function",type:"reference",typeArguments:[]},splitView:{name:"HTMLElement",type:"reference",typeArguments:[]}},TimePicker:{clock:{type:"string"},current:{name:"Date",type:"reference",typeArguments:[]},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},hourPattern:{type:"string"},minuteIncrement:{type:"number"},minutePattern:{type:"string"},onChange:{name:"Function",type:"reference",typeArguments:[]},periodPattern:{type:"string"}},ToggleSwitch:{checked:{type:"boolean"},disabled:{type:"boolean"},element:{name:"HTMLElement",type:"reference",typeArguments:[]},labelOff:{type:"string"},labelOn:{type:"string"},onChange:{name:"Function",type:"reference",typeArguments:[]},title:{type:"string"}},ToolBar:{closedDisplayMode:{type:"enum",values:["compact","full"]},data:{name:"WinJS.Binding.List",type:"reference",typeArguments:[{name:"WinJS.UI.ICommand",type:"reference",typeArguments:[]}]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},onAfterClose:{name:"Function",type:"reference",typeArguments:[]},onAfterOpen:{name:"Function",type:"reference",typeArguments:[]},onBeforeClose:{
name:"Function",type:"reference",typeArguments:[]},onBeforeOpen:{name:"Function",type:"reference",typeArguments:[]},opened:{type:"boolean"}},Tooltip:{contentElement:{name:"HTMLElement",type:"reference",typeArguments:[]},element:{name:"HTMLElement",type:"reference",typeArguments:[]},extraClass:{type:"string"},infotip:{type:"boolean"},innerHTML:{type:"string"},onBeforeClose:{name:"Function",type:"reference",typeArguments:[]},onBeforeOpen:{name:"Function",type:"reference",typeArguments:[]},onClosed:{name:"Function",type:"reference",typeArguments:[]},onOpened:{name:"Function",type:"reference",typeArguments:[]},placement:{type:"string"}}};window.setImmediate&&window.clearImmediate?(I=window.setImmediate,x=window.clearImmediate):(I=function(e){return setTimeout(e,0)},x=window.clearTimeout);var A={flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},M=["Moz","ms","Webkit"];Object.keys(A).forEach(function(e){M.forEach(function(t){A[y(t,e)]=!0})});var D={property:function(e){return{propType:e,preCtorInit:function(e,t,n,i,o,r){t[o]=r},update:function(e,t,n,i){n!==i&&(e.winControl[t]=i)}}},focusProperty:function(e){return{propType:e,preCtorInit:function(e,t,n,i,o,r){t[o]=r},update:function(e,t,n,i){if(n!==i){var o=e.data[t];o&&x(o),o=I(function(){e.data[t]=null,e.winControl[t]=i})}},dispose:function(e,t){var n=e.data[t];n&&x(n)}}},domProperty:function(e){return{propType:e,preCtorInit:function(e,t,n,i,o,r){e[o]=r},update:function(e,t,n,i){n!==i&&(e.element[t]=i)}}},domAttribute:function(e){return{propType:e,update:function(e,t,n,i){n!==i&&(null!==i&&void 0!==i?e.element.setAttribute(t,""+i):e.element.removeAttribute(t))}}},event:{propType:j.PropTypes.func,update:function(e,t,n,i){n!==i&&(e.winControl[t.toLowerCase()]=i)}},domEvent:{propType:j.PropTypes.func,preCtorInit:function(e,t,n,i,o,r){e[o.toLowerCase()]=r},update:function(e,t,n,i){n!==i&&(e.element[t.toLowerCase()]=i)}},winControlClassName:{propType:j.PropTypes.string,preCtorInit:function(e,t,n,i,o,r){r&&(e.className=r),n[o]=d(r)},update:function(e,t,n,i){if(n!==i){var o=e.data[t]||{},r=d(i),s=e.winControl.element.classList;for(var a in o)r[a]||s.remove(a);for(var a in r)o[a]||s.add(a);e.data[t]=r}}},winControlStyle:{propType:j.PropTypes.object,preCtorInit:function(e,t,n,i,o,r){var s=e.style;r=r||{};for(var a in r)s[a]=b(a,r[a])},update:function(e,t,n,i){if(n!==i&&(n=n||{},i=i||{},e.winControl&&e.winControl.element)){var o=e.winControl.element.style;for(var r in n)i.hasOwnProperty(r)||(o[r]="");for(var r in i)n[r]!==i[r]&&(o[r]=b(r,i[r]))}}},warn:function(e){return{update:function(t,n,i,o){console.warn(t.displayName+": "+e)}}},propertyWithMount:function(e){return{propType:j.PropTypes.element,preCtorInit:function(t,n,i,o,r,s){s&&(i[r]=document.createElement("div"),k.render(s,i[r]),n[e]=i[r])},update:function(t,n,i,o){var r=t.winControl,s=t.data[n];o?(s||(s=document.createElement("div"),t.data[n]=s),k.render(o,s),r[e]!==s&&(r[e]=s)):i&&(s&&k.unmountComponentAtNode(s),r[e]=null)},dispose:function(e,t){var n=e.data[t];n&&k.unmountComponentAtNode(n)}}},mountTo:function(e){return{propType:j.PropTypes.element,update:function(t,n,i,o){var r=t.data[n]||{},s=(r.version||0)+1;t.data[n]={version:s,element:r.element};var a=function(){if(s===t.data[n].version){var r=t.data[n].element;if(o){var a=e(t);r&&r!==a&&k.unmountComponentAtNode(r),k.render(o,a),t.data[n].element=a}else i&&(r&&k.unmountComponentAtNode(r),t.data[n].element=null)}},l=t.winControl,u=l.constructor.isDeclarativeControlContainer;u&&"function"==typeof u?u(l,a):a()},dispose:function(e,t){var n=e.data[t]||{},i=n.element;i&&k.unmountComponentAtNode(i)}}},syncChildrenWithBindingList:function(e){return{preCtorInit:function(t,n,i,o,r,s){var a=v(o,s,{});i[r]={winjsChildComponents:a.childComponents,winjsChildComponentsMap:a.childComponentsMap},n[e]=new T.Binding.List(a.childComponents.map(function(e){return e.winControl}))},update:function(t,n,i,o){var r=t.data[n]||{},s=r.winjsChildComponents||[],a=r.winjsChildComponentsMap||{},l=v(t.displayName,o,a),u=t.winControl[e];u?g(u,_(s,l.childComponents)):t.winControl[e]=new T.Binding.List(l.childComponents.map(function(e){return e.winControl})),t.data[n]={winjsChildComponents:l.childComponents,winjsChildComponentsMap:l.childComponentsMap}},dispose:function(e,t){var n=e.data[t]||{},i=n.winjsChildComponents||[];i.forEach(function(e){e.dispose()})}}}},L=document.createElement("div");E.prototype.update=function(e){e.type.updateWinJSComponent(this,this._props,e.props),this._props=e.props},E.prototype.dispose=function(){this._disposeWinJSComponent(this)};var N={className:D.winControlClassName,style:D.winControlStyle,id:D.domProperty(j.PropTypes.string),"aria-controls":D.domAttribute(j.PropTypes.any),"aria-expanded":D.domAttribute(j.PropTypes.any)},B=function(){var e=function(e){return!a(e.toLowerCase(),"element")};return o(O,function(t,n){var o={};return Object.keys(n).forEach(function(t){if(i(t))o[t]=D.event;else if(e(t)){var r=n[t],s=m(r);o[t]=D.property(s)}}),o})}(),R=D.warn("Invalid prop 'type'. Instead, the command type is determined by the component: Button, Toggle, Separator, ContentCommand, FlyoutCommand."),F={Button:{underlyingControlName:"AppBarCommand",winControlOptions:{type:"button"},render:function(e){return j.DOM.button()},propHandlers:{type:R}},Toggle:{underlyingControlName:"AppBarCommand",winControlOptions:{type:"toggle"},render:function(e){return j.DOM.button()},propHandlers:{type:R}},Separator:{underlyingControlName:"AppBarCommand",winControlOptions:{type:"separator"},render:function(e){return j.DOM.hr()},propHandlers:{type:R}},ContentCommand:{underlyingControlName:"AppBarCommand",winControlOptions:{type:"content"},propHandlers:{type:R,children:D.mountTo(function(e){return e.winControl.element})}},FlyoutCommand:{underlyingControlName:"AppBarCommand",winControlOptions:{type:"flyout"},render:function(e){return j.DOM.button()},propHandlers:{type:R,flyoutComponent:{propType:j.PropTypes.element,update:function(e,t,n,i){var o=e.data[t];if(!o){var r=document.createElement("div");r.className="win-react-flyout-host",document.body.appendChild(r),e.data[t]=o={flyoutHost:r,flyoutComponent:null}}var s=o.flyoutComponent&&o.flyoutComponent.winControl,a=k.render(i,o.flyoutHost);s!==a.winControl&&(e.winControl.flyout=a.winControl),e.data[t].flyoutComponent=a},dispose:function(e,t){var n=e.data[t];n&&n.flyoutHost&&(k.unmountComponentAtNode(n.flyoutHost),u(n.flyoutHost))}}}}},z=S({AppBar:{propHandlers:{opened:D.focusProperty(j.PropTypes.bool),children:D.syncChildrenWithBindingList("data")}},"AppBar.Button":F.Button,"AppBar.Toggle":F.Toggle,"AppBar.Separator":F.Separator,"AppBar.ContentCommand":F.ContentCommand,"AppBar.FlyoutCommand":F.FlyoutCommand,AutoSuggestBox:{},BackButton:{preCtorInit:function(e,t,n,i){e.addEventListener("click",function(e){e.stopPropagation()})},render:function(e){return j.DOM.button()}},ContentDialog:{propHandlers:{hidden:D.focusProperty(j.PropTypes.bool),children:D.mountTo(function(e){return e.winControl.element.querySelector(".win-contentdialog-content")})}},DatePicker:{},FlipView:{},Flyout:{render:function(e){return j.DOM.div(null,j.DOM.div({className:"win-react-flyout-mount-point"}))},propHandlers:{hidden:D.focusProperty(j.PropTypes.bool),children:D.mountTo(function(e){return e.winControl.element.querySelector(".win-react-flyout-mount-point")})}},Hub:{propHandlers:{children:D.syncChildrenWithBindingList("sections")}},"Hub.Section":{underlyingControlName:"HubSection",propHandlers:{children:D.mountTo(function(e){return e.winControl.contentElement})}},ItemContainer:{propHandlers:{children:D.mountTo(function(e){return e.winControl.element.querySelector(".win-item")})}},ListView:{propHandlers:{currentItem:D.focusProperty(j.PropTypes.any),headerComponent:D.propertyWithMount("header"),footerComponent:D.propertyWithMount("footer")}},Menu:{propHandlers:{hidden:D.focusProperty(j.PropTypes.bool),children:{update:function(e,t,n,i){k.render(j.DOM.div(null,i),e.winControl.element)}}}},"Menu.Button":s(F.Button,{underlyingControlName:"MenuCommand"}),"Menu.Toggle":s(F.Toggle,{underlyingControlName:"MenuCommand"}),"Menu.Separator":s(F.Separator,{underlyingControlName:"MenuCommand"}),"Menu.FlyoutCommand":s(F.FlyoutCommand,{underlyingControlName:"MenuCommand"}),Pivot:{propHandlers:{children:D.syncChildrenWithBindingList("items"),customLeftHeaderComponent:D.propertyWithMount("customLeftHeader"),customRightHeaderComponent:D.propertyWithMount("customRightHeader")}},"Pivot.Item":{underlyingControlName:"PivotItem",propHandlers:{children:D.mountTo(function(e){return e.winControl.contentElement})}},Rating:{},SemanticZoom:{propHandlers:{zoomedInComponent:{propType:j.PropTypes.element,preCtorInit:function(e,t,n,i,o,r){var s=new E(r);e.insertBefore(s.winControl.element,e.firstElementChild),n[o]=s},update:function(e,t,n,i){var o=e.data[t];o.type===i.type?o.update(i):console.warn("SemanticZoom: zoomedInComponent's component type can't change")},dispose:function(e,t){var n=e.data[t];n&&n.dispose()}},zoomedOutComponent:{propType:j.PropTypes.element,preCtorInit:function(e,t,n,i,o,r){var s=new E(r);e.appendChild(s.winControl.element),n[o]=s},update:function(e,t,n,i){var o=e.data[t];o.type===i.type?o.update(i):console.warn("SemanticZoom: zoomedOutComponent's component type can't change")},dispose:function(e,t){var n=e.data[t];n&&n.dispose()}}}},SplitView:{propHandlers:{paneOpened:D.focusProperty(j.PropTypes.bool),paneComponent:D.mountTo(function(e){return e.winControl.paneElement}),contentComponent:D.mountTo(function(e){return e.winControl.contentElement})}},"SplitView.Command":{underlyingControlName:"SplitViewCommand"},SplitViewPaneToggle:{render:function(e){return j.DOM.button()},propHandlers:{paneOpened:{propType:j.PropTypes.bool,update:function(e,t,n,i){var o=e.data[t];o||(o={ariaExpandedMutationObserver:new T.Utilities._MutationObserver(function(){var n=e.element,i="true"===n.getAttribute("aria-expanded");i!==e.data[t].value&&c(n,"invoked")}),observing:!1,value:i},e.data[t]=o),n!==i&&(null!==i&&void 0!==i?(e.element.setAttribute("aria-expanded",i?"true":"false"),o.observing||(o.observing=!0,o.ariaExpandedMutationObserver.observe(e.element,{attributes:!0,attributeFilter:["aria-expanded"]}))):(e.element.removeAttribute("aria-expanded"),o.observing&&(o.observing=!1,o.ariaExpandedMutationObserver.disconnect()))),o.value=i},dispose:function(e,t){var n=e.data[t];n&&n.observing&&n.ariaExpandedMutationObserver.disconnect()}}}},TimePicker:{},ToggleSwitch:{},ToolBar:{propHandlers:{opened:D.focusProperty(j.PropTypes.bool),children:D.syncChildrenWithBindingList("data")}},"ToolBar.Button":F.Button,"ToolBar.Toggle":F.Toggle,"ToolBar.Separator":F.Separator,"ToolBar.ContentCommand":F.ContentCommand,"ToolBar.FlyoutCommand":F.FlyoutCommand,Tooltip:{propHandlers:{children:D.mountTo(function(e){return e.winControl.element}),contentComponent:D.propertyWithMount("contentElement")}}}),H={};Object.keys(z).sort().forEach(function(e){l(H,e,w(z[e]))}),H.reactRenderer=function(e){var t,n=function(e){var n=document.createElement("div");return n.className="win-react-renderer-host",k.render(t(e),n),T.Utilities.markDisposable(n,function(){k.unmountComponentAtNode(n)}),n};return function(i){return t||(t=e.bind(this)),T.Promise.is(i)?i.then(n):n(i)}},H.defineControl=w,H.PropHandlers=D,H.defaultPropHandlers=N,e.exports=H},"./node_modules/regenerator-runtime/runtime.js":function(e,t,n){(function(t,n){!function(t){"use strict";function i(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,s=Object.create(o.prototype),a=new m(i||[]);return s._invoke=c(e,n,a),s}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function s(){}function a(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,r,s){var a=o(e[n],e,i);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,r,s)},function(e){t("throw",e,r,s)}):Promise.resolve(u).then(function(e){l.value=e,r(l)},s)}s(a.arg)}function i(e,n){function i(){return new Promise(function(i,o){t(e,n,i,o)})}return r=r?r.then(i,i):i()}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var r;this._invoke=i}function c(e,t,n){var i=S;return function(r,s){if(i===x)throw new Error("Generator is already running");if(i===j){if("throw"===r)throw s;return f()}for(;;){var a=n.delegate;if(a){if("return"===r||"throw"===r&&a.iterator[r]===_){n.delegate=null;var l=a.iterator.return;if(l){var u=o(l,a.iterator,s);if("throw"===u.type){r="throw",s=u.arg;continue}}if("return"===r)continue}var u=o(a.iterator[r],a.iterator,s);if("throw"===u.type){n.delegate=null,r="throw",s=u.arg;continue}r="next",s=_;var c=u.arg;if(!c.done)return i=I,c;n[a.resultName]=c.value,n.next=a.nextLoc,n.delegate=null}if("next"===r)n.sent=n._sent=s;else if("throw"===r){if(i===S)throw i=j,s;n.dispatchException(s)&&(r="next",s=_)}else"return"===r&&n.abrupt("return",s);i=x;var u=o(e,t,n);if("normal"===u.type){i=n.done?j:I;var c={value:u.arg,done:n.done};if(u.arg!==k)return c;n.delegate&&"next"===r&&(s=_)}else"throw"===u.type&&(i=j,r="throw",s=u.arg)}}}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=_,t.done=!0,t};return i.next=i}}return{next:f}}function f(){return{value:_,done:!0}}var _,g=Object.prototype,v=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.toStringTag||"@@toStringTag",C="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(C&&(e.exports=E));E=t.regeneratorRuntime=C?e.exports:{},E.wrap=i;var S="suspendedStart",I="suspendedYield",x="executing",j="completed",k={},P={};P[b]=function(){return this};var T=Object.getPrototypeOf,O=T&&T(T(p([])));O&&O!==g&&v.call(O,b)&&(P=O);var A=a.prototype=r.prototype=Object.create(P);s.prototype=A.constructor=a,a.constructor=s,a[w]=s.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(A),e},E.awrap=function(e){return{__await:e}},l(u.prototype),E.AsyncIterator=u,E.async=function(e,t,n,o){var r=new u(i(e,t,n,o));return E.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},l(A),A[w]="Generator",A.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=p,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=_)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return r.type="throw",r.arg=e,n.next=t,!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],r=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=v.call(o,"catchLoc"),a=v.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?this.next=o.finallyLoc:this.complete(r),k},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},k}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/webpack/buildin/amd-options.js":function(e,t){(function(t){e.exports=t}).call(t,{})},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,configurable:!1,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,configurable:!1,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/index.js":function(e,t,n){"use strict";var i=n("./node_modules/react/react.js"),o=n.n(i),r=n("./node_modules/react-dom/index.js"),s=n.n(r),a=n("./src/modules/app.js"),l=n("./src/sjs/spice.js"),u=n("./src/loading.js"),c=n("./src/modules/project.js"),d=this;l.a.create().OnLoad=function(e){var t=document.getElementById("app");e.main=u.a,window._App=e,window.Application=d,s.a.render(o.a.createElement(a.a,{project:c.a}),t)}},"./src/loading.js":function(e,t,n){"use strict";var i=function(){this.spritelist=[],this.data=[],this.datacount=0,this.loadcount=0;this.data;this.time=100,this.timetostart=0,this.loaded=!1,this.colour="#DD0000"},o={init:i,update:function(){},draw:function(){var e=this.time;if(this.time-1>=0&&(this.time=this.data.length-this.loadcount),0==this.time&&this.timetostart++,2!=this.timetostart){this.time<8&&(this.colour="#DDD000"),this.time<1&&(this.colour="#00FF00");var t=15,n=(new Date).getTime(),i=Math.cos(n/360)*t,o=Math.sin(n/360)*t;this.visuals.circle(this.app.width/2+o,this.app.height/2+i,2.5,this.colour);for(var r=0;r<6;r++)n=(new Date).getTime()+380*r,i=Math.cos(n/360)*t+Math.sin(n/180)*e,o=Math.sin(n/360)*t+Math.cos(n/180)*e,this.visuals.circle(this.app.width/2+o,this.app.height/2+i,2.5,this.colour)}}};t.a=o},"./src/modules/Dialogue_SettingsMessage.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/react.js"),l=n("./node_modules/react-winjs/react-winjs.js"),u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.Dialogue_SettingsMessage=n,n}return r(t,e),s(t,[{key:"render",value:function(){return a.createElement(l.ContentDialog,{style:{zIndex:2e3},ref:"dialog",id:"Dialogue_UrgentMessage",title:"Urgent Message",primaryCommandText:"OK",secondaryCommandText:"Cancel"},a.createElement("div",null,"This content will appear in the body of the ContentDialog. You can put ",a.createElement("i",null,"arbitrary")," HTML in here."))}}]),t}(a.Component);t.a=u},"./src/modules/Main_SideBar.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=n.n(l),c=n("./src/modules/SplitView_Settings.js"),d=n("./src/modules/SplitView_Home.js"),h=n("./src/modules/SplitView_Preview.js"),m=(n("./src/modules/Sidebar_Pivot_Objects.js"),n("./src/modules/SplitView_Map.js")),p=n("./src/modules/SplitView_Web.js"),f=n("./src/modules/home/Home_Code_Draw.js"),_=(n("./src/modules/project.js"),n("./src/modules/utils.js")),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v="mySplitView",y=(window._PROJECT_={list:[null]},{type:WinJS.UI.ListLayout},function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),g(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{position:"relative",top:"5.67rem",left:"0.67rem"}},a.a.createElement("h1",{style:{opacity:.5,width:"100%",textAlign:"center"}},"Loading..."))}}]),t}(a.a.Component));window.CC=2,window.TT=0;var b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={count:e.initialCount,paneOpened:e.initalOpened,project:e.project,current:1,split:1010,initialCount:0,initalOpened:!1,SplitViewContentComponent:a.a.createElement(y,null),_OBJECTLIST_:new WinJS.Binding.List([{title:"A"},{title:"C"}])},n.tick=n.tick.bind(n),n.handleOpenPane=n.handleOpenPane.bind(n),n.handleOpenPaneOnly=n.handleOpenPaneOnly.bind(n),n.handleGoToHome=n.handleGoToHome.bind(n),n.handleGoToSettings=n.handleGoToSettings.bind(n),n.handleSplitViewContent=n.handleSplitViewContent.bind(n),n.handleGoMap=n.handleGoMap.bind(n),n.handleGoWeb=n.handleGoWeb.bind(n),n.handleObjectListMore=n.handleObjectListMore.bind(n),n.handleObjectListMore2=n.handleObjectListMore2.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleGoToPreview=n.handleGoToPreview.bind(n);var r=0;n.listViewItemRenderer=u.a.reactRenderer(function(e){return a.a.createElement("span",null," Stephan",r++,"  ",a.a.createElement("i",{className:"win-p"},"./library/starcraft/pros/stephano.jpg"))});var s=document.getElementById("SplitView_Map");return s&&(s.style.zIndex="-10"),window._CONTROLLER_SIDEBAR_=n,n}return r(t,e),g(t,[{key:"tick",value:function(){this.setState({count:this.state.count+1})}},{key:"clearHighlight",value:function(e,t){document.getElementById("element__3").style.background="",document.getElementById("element__4").style.background="",document.getElementById("element__5").style.background="",document.getElementById("element__6").style.background="",document.getElementById(e).style.background=t}},{key:"handleGoToPreview",value:function(){console.log("eh"),this.setState({split:1012,paneOpened:this.state.paneOpened}),void 0!=this.state.split&&(null!=this.state.split?history.pushState({State:"preview",target:""+this.state.split,uid:""+(new Date).getTime()},"2","/index.htm"):history.pushState({State:"preview",target:"1010",uid:""+(new Date).getTime()},"2","/index.htm"))}},{key:"handleGoToHome",value:function(){1!==this.state.split&&this.setState({split:1010,paneOpened:this.state.paneOpened}),this.clearHighlight("element__3","rgba(255,255,255,0.125)")}},{key:"handleGoMap",value:function(){this.setState({split:2,paneOpened:this.state.paneOpened}),this.clearHighlight("element__5","rgba(255,255,255,0.125)")}},{key:"handleGoWeb",value:function(){this.setState({split:8,paneOpened:this.state.paneOpened}),this.clearHighlight("element__4","rgba(255,255,255,0.125)")}},{key:"handleGoToSettings",value:function(){this.setState({split:9,paneOpened:!1}),this.clearHighlight("element__14","rgba(255,255,255,0.125)")}},{key:"handleOpenPane",value:function(){_.a.switchAnimations(100),this.setState({split:this.state.split,paneOpened:!this.state.paneOpened})}},{key:"handleOpenPaneOnly",value:function(){console.log("eh"),this.state.paneOpened=!0,this.setState({split:this.state.split,paneOpened:!0})}},{key:"handleClosePane",value:function(){this.setState({split:this.state.split,paneOpened:!1})}},{key:"handleSplitViewContent",value:function(){var e=this,t=document.getElementById("SplitView_Map");switch(t&&(t.style.zIndex="-10"),WinJS.UI.Animation.exitPage(t).done(function(e){}),this.state.split){case 1:this.state.SplitViewContentComponent=a.a.createElement(d.a,{ref:"splitviewhome",updateState:function(t){e.props.updateState(t)}.bind(this),updateProject:function(t){e.props.updateProject(t)}.bind(this),project:this.state.project}),this.animateContent();break;case 2:this.state.SplitViewContentComponent=a.a.createElement("h2",{className:"win-h2 hover",style:{display:"none",marginLeft:"112px",width:"50%"},onClick:function(){e.setState({current:-1})}},"mapper.json");var t=document.getElementById("SplitView_Map");t&&(t.style.display="block",WinJS.UI.Animation.enterPage(document.getElementById("SplitView_Map")).done(function(e){t.style.zIndex="10"}));break;case 8:this.state.SplitViewContentComponent=a.a.createElement(p.a,{header:"Google Closure Compiler",src:"http://closure-compiler.appspot.com/home"});break;case 9:this.state.SplitViewContentComponent=a.a.createElement(c.a,null);break;case 1010:this.state.SplitViewContentComponent=a.a.createElement(y,null);break;case 1012:this.state.SplitViewContentComponent=a.a.createElement(h.a,{updateState:function(t){e.props.updateState(t)}.bind(this),updateProject:function(t){e.props.updateProject(t)}.bind(this),project:this.state.project})}}},{key:"updateDimensions",value:function(){document.getElementById("OPENTABSBAR").style.height=window.innerHeight-288+"px"}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions.bind(this)),console.log("eh"),this.animateContent()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"componentDidUpdate",value:function(){1010==this.state.split&&(this.setState({split:1,paneOpened:this.state.paneOpened}),window.CC=0)}},{key:"animateContent",value:function(){}},{key:"handleScroll",value:function(e){}},{key:"handleObjectListMore",value:function(){}},{key:"handleObjectListMore2",value:function(e){}},{key:"handlePaneClosed",value:function(e){this.setState({paneOpened:!1})}},{key:"render",value:function(){var e=this;this.handleSplitViewContent();var t=this.state._OBJECTLIST_.dataSource,n=(this.listViewItemRenderer,"320px"),i=1,o=20,r=document.getElementsByClassName(".win-itemscontainer")[0];r=t._list._currentKey*o+"vh",n=t._list._currentKey<i?t._list._currentKey*o+"vh":i*o+"vh",window.innerHeight<715&&(n="0px");var s=this.state.SplitViewContentComponent,l=[];l.push(a.a.createElement(u.a.SplitView.Command,{style:{opacity:0},className:"fourtyeight",label:"help",icon:"help",key:l.length,onInvoked:function(){}}));for(var c=2;c>0;c--)l.push(a.a.createElement(u.a.Tooltip,{key:"TT"+l.length,contentComponent:a.a.createElement("div",null,"Object ",c)},a.a.createElement(u.a.SplitView.Command,{className:"Object"+c,label:"Object"+c,icon:"help",key:l.length,onInvoked:function(){}})));var d=a.a.createElement("div",null,a.a.createElement(u.a.SplitViewPaneToggle,{label:"Mapper","data-win-options":"{ openedDisplayMode : 'overlay'}","aria-controls":v,paneOpened:this.state.paneOpened,onInvoked:this.handleOpenPane}),a.a.createElement(u.a.SplitView.Command,{label:"Home",icon:"home",onInvoked:this.handleGoToHome}),a.a.createElement(u.a.SplitView.Command,{style:{display:"none"},label:"Web",icon:"globe",onInvoked:this.handleGoWeb}),a.a.createElement(u.a.SplitView.Command,{label:"Map",icon:"map",onInvoked:this.handleGoMap}),a.a.createElement(u.a.SplitView.Command,{label:"",icon:"showbcc",onInvoked:this.handleOpenPane}),a.a.createElement(u.a.SplitView.Command,{id:"SidebarMainBackgroundListTitle",style:{display:"none",position:"relative",left:"48px",top:"-48px",zIndex:"2",width:"156px"},label:"Backgrounds",icon:"otheruser",onInvoked:this.handleObjectListMore}),a.a.createElement(f.a,{project:this.state.project,updateProject:function(t){e.props.updateProject(t)}.bind(this)}),a.a.createElement(u.a.Tooltip,{contentComponent:a.a.createElement("div",null,"Preview the game in the browser...")},a.a.createElement(u.a.SplitView.Command,{label:"Preview",icon:"play",onInvoked:this.handleGoToPreview})),a.a.createElement(u.a.Tooltip,{contentComponent:a.a.createElement("div",null,"Mapper settings...")},a.a.createElement(u.a.SplitView.Command,{label:"Settings",icon:"settings",onInvoked:this.handleGoToSettings})),a.a.createElement("div",{id:"OPENTABSBAR",style:{height:window.innerHeight-288+"px",overflowY:"auto"}},l));return a.a.createElement("div",null,a.a.createElement(u.a.SplitView,{ref:"splitview",id:v,paneComponent:d,openedDisplayMode:"overlay",contentComponent:s,paneOpened:this.state.paneOpened,onAfterClose:this.handlePaneClosed.bind(this)}),a.a.createElement(m.a,null))}}]),t}(a.a.Component);t.a=b},"./src/modules/Main_Status.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=n.n(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),c(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(u.a.AppBar.ContentCommand,{key:"content",icon:"accept",label:"Accept"},a.a.createElement("input",{placeholder:"...",className:"win-textbox win-interactive spice-commandbox",type:"text"})))}}]),t}(u.a.AppBar);t.a=d},"./src/modules/Sidebar_Pivot_Objects.js":function(e,t,n){
"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=n.n(l),c=(n("./src/modules/project.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());(function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),c(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",{className:"win-h1"}," Objects"),a.a.createElement(u.a.ToolBar,{id:"ObjectListToolbar"},a.a.createElement(u.a.ToolBar.Button,{key:"import",label:"This is a ToolBar command",icon:"import"}),a.a.createElement(u.a.ToolBar.Button,{key:"add",label:"This is a ToolBar command",icon:"add"})),a.a.createElement(u.a.SplitView.Command,{style:{position:"relative",left:"48px0",top:"-48px",zIndex:"2",width:"116px"},label:"Objects",icon:"contactpresence",id:"SidebarMainObjectListTitle"}),a.a.createElement(u.a.ListView,{id:"SidebarMainObjectList",itemDataSource:this.props.itemDataSource,itemTemplate:this.props.itemTemplate,loadingBehavior:"incremental",automaticallyLoadPages:!0,layout:this.props.layout,style:this.props.style}))}}]),t})(a.a.Component)},"./src/modules/SplitView_Home.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),n("./src/modules/home/Home_PivotItem.js"),n("./src/modules/home/Home_References.js"),n("./src/modules/home/Home_RecentProjects.js")),c=n("./src/modules/home/Home_Code.js"),d=(n("./src/modules/home/Home_Code_Draw.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project,pivot:{home:"<a></a>"}},window.SplitViewHome=n,n}return r(t,e),d(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"kk"},a.a.createElement("h1",{className:"win-h1",style:{display:"none",marginLeft:"0.75em"}},"Home"),a.a.createElement(u.a,{style:{opacity:0},project:this.state.project,updateState:function(t){e.props.updateState(t)}.bind(this),updateProject:function(t){e.props.updateProject(t)}.bind(this)}),a.a.createElement(c.a,{style:{opacity:0},project:this.state.project,updateProject:function(t){e.props.updateProject(t)}.bind(this)}))}}]),t}(a.a.Component);t.a=h},"./src/modules/SplitView_Map.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/react.js"),l=(n("./node_modules/react-winjs/react-winjs.js"),function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.SplitView_Map=n,n}return r(t,e),s(t,[{key:"componentWillReceiveProps",value:function(){}},{key:"handleListClick",value:function(e){}},{key:"render",value:function(){return a.createElement("div",null,a.createElement("h1",{className:"win-h1",style:{marginLeft:"0.75em"}},"Map:"),a.createElement("iframe",{id:"SplitView_Map",style:{display:"none",zIndex:-10,position:"absolute",left:"48px",top:"48px",width:"100%",height:"100%"},src:"./Map/Mapper.htm"}))}}]),t}(a.Component));t.a=l,l.propTypes={},l.defaultProps={}},"./src/modules/SplitView_Preview.js":function(module,exports,__webpack_require__){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var __WEBPACK_IMPORTED_MODULE_0__sjs_spice_js__=__webpack_require__("./src/sjs/spice.js"),__WEBPACK_IMPORTED_MODULE_1_react__=__webpack_require__("./node_modules/react/react.js"),__WEBPACK_IMPORTED_MODULE_1_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__),__WEBPACK_IMPORTED_MODULE_2_react_winjs__=__webpack_require__("./node_modules/react-winjs/react-winjs.js"),__WEBPACK_IMPORTED_MODULE_2_react_winjs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_winjs__),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),STARTED=!1,SplitView_Preview=function(_React$Component){function SplitView_Preview(e){_classCallCheck(this,SplitView_Preview);var t=_possibleConstructorReturn(this,(SplitView_Preview.__proto__||Object.getPrototypeOf(SplitView_Preview)).call(this,e));return t.state={project:t.props.project},window.SplitView_Preview=t,t}return _inherits(SplitView_Preview,_React$Component),_createClass(SplitView_Preview,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;window._App.main.draw=function(){var exe=JSON.parse(_this2.state.project.code).draw;try{eval(exe)}catch(e){}},STARTED||(_App.start(100,100),STARTED=!0),document.getElementById("AppPreview").appendChild(document.getElementById("canvas_0")),document.getElementById("AppPreview").appendChild(document.getElementById("buffer_0")),document.getElementById("AppPreview").appendChild(document.getElementById("blitter_0"))}},{key:"componentWillUnmount",value:function(){document.body.appendChild(document.getElementById("canvas_0")),document.body.appendChild(document.getElementById("buffer_0")),document.body.appendChild(document.getElementById("blitter_0"))}},{key:"render",value:function(){return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement("div",{id:"AppPreview"})}}]),SplitView_Preview}(__WEBPACK_IMPORTED_MODULE_1_react___default.a.Component);exports.a=SplitView_Preview},"./src/modules/SplitView_Settings.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/react.js"),l=n("./node_modules/react-winjs/react-winjs.js"),u=0,c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={settingsList:n.props.settingsList,versionList:n.props.versionList,accountList:n.props.versionList,generalList:n.props.generalList},n.handleToggle=n.handleToggle.bind(n),n.handleListClick=n.handleListClick.bind(n);var r=n;return n.listViewLayout={type:WinJS.UI.ListLayout},n.listViewItemRenderer=l.reactRenderer(function(e){var t=e.data.title+u++;return a.createElement("div",{className:"settingsListViewItemA",value:t,onClick:function(){return r.handleListClick(t)}},a.createElement("h4",{className:"win-h4 settingsListViewItem",style:{float:"left",lineHeight:"4rem"}}," ",e.data.title))}),n.GeneralListViewRenderer=l.reactRenderer(function(e){var t=e.data.title+u++;return a.createElement("div",{className:"settingsListViewItemA",value:t,onClick:function(){return r.handleListClick(t)}},a.createElement("h4",{className:"win-h4 settingsListViewItem",style:{float:"left",lineHeight:"4rem"}}," ",e.data.title),a.createElement(l.ToggleSwitch,{style:{float:"left",position:"relative",top:"-5px"}}))}),n.VersionListViewRenderer=l.reactRenderer(function(e){var t=e.data.title+u++;return a.createElement("div",{className:"settingsListViewItemB",value:t,onClick:function(){return r.handleListClick(t)}},a.createElement("h4",{className:"win-h4 settingsListViewItem",style:{float:"left",lineHeight:"4rem",width:"100%"}}," ",e.data.title),a.createElement("br",null),a.createElement("br",null),a.createElement("p",{className:"win-p"}," Current Version: 0.1 "),a.createElement("p",{className:"win-p"}," Webpack: 0 "),a.createElement("p",{className:"win-p"}," Node: 0 "),a.createElement("p",{className:"win-p"}," Babel: 0 "))}),window.SplitViewSettings=n,n}return r(t,e),s(t,[{key:"componentWillReceiveProps",value:function(){}},{key:"handleListClick",value:function(e){switch(console.log(e),u=0,e){case"General0":this.setState({current:0});break;case"Account1":this.setState({current:1});break;case"About2":this.setState({current:2}),setTimeout(function(){document.querySelectorAll(".win-container")[0].style.height="320px"},250);break;default:this.setState({current:-1})}}},{key:"handleToggle",value:function(e){return}},{key:"handleToggle2",value:function(e){var t=e.target.querySelector(".win-toggleswitch-track");console.log(t),t.click()}},{key:"render",value:function(){var e=this;u=0;var t=this.props.settingsList.dataSource,n=this.listViewItemRenderer;return 0==this.state.current&&(t=this.props.generalList.dataSource,n=this.GeneralListViewRenderer),2==this.state.current&&(t=this.props.versionList.dataSource,n=this.VersionListViewRenderer),1==this.state.current&&(t=this.props.accountList.dataSource,n=this.VersionListViewRenderer),a.createElement("div",{style:{position:"relative",topa:"5.67rem",left:"0.67rem"}},a.createElement("h2",{className:"win-h2 hover",onClick:function(){u=0,e.setState({current:-1})}}),a.createElement(l.ListView,{itemDataSource:t,itemTemplate:n,layout:this.listViewLayout}))}}]),t}(a.Component);t.a=c,c.propTypes={settingsList:a.PropTypes.object,generalList:a.PropTypes.object,versionList:a.PropTypes.object,accountList:a.PropTypes.object,current:a.PropTypes.number};var d=[{title:"General"},{title:"Account"},{title:"About"}];c.defaultProps={current:0,settingsList:new WinJS.Binding.List(d),generalList:new WinJS.Binding.List([{title:"Hide Welcome Page"},{title:"Hide News Page"},{title:"Go directly to jail, do not collect 200 if you pass go."}]),versionList:new WinJS.Binding.List([{title:"Version",content:""}]),accountList:new WinJS.Binding.List([{title:"Login to Account",content:""},{title:"Make an Account",content:""}])}},"./src/modules/SplitView_Web.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/react.js"),l=(n("./node_modules/react-winjs/react-winjs.js"),function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={src:n.props.src,header:n.props.header},window.SplitView_Web=n,n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"handleListClick",value:function(e){}},{key:"render",value:function(){return a.createElement("div",null,a.createElement("h2",{className:"win-h2"},this.state.header),a.createElement("div",{id:"SplitView_Web",style:{display:"inline",zIndex:0,position:"absolute",left:"0px",top:"48px",width:"100%",height:"100%"},srsc:this.state.src}))}}]),t}(a.Component));t.a=l,l.propTypes={},l.defaultProps={}},"./src/modules/app.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-dom/index.js"),u=(n.n(l),n("./node_modules/react-winjs/react-winjs.js")),c=(n.n(u),n("./src/modules/topbarA.js")),d=n("./src/modules/Dialogue_SettingsMessage.js"),h=n("./src/modules/Main_Status.js"),m=n("./src/modules/Main_SideBar.js"),p=n("./src/modules/utils.js"),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateList=n.updateList.bind(n),n.utils=new p.a,window.App=n,n.state={iterator:n.props.iterator,project:project},n}return r(t,e),f(t,[{key:"getProject",value:function(){var e=this.state.project.properties;return e}},{key:"updateList",value:function(){setTimeout(function(){return},350)}},{key:"componentDidMount",value:function(){var e=this;p.a.readSaveData(function(t){e.setState({project:t}),window.removeEventListener("popstate",null,!0),window.addEventListener("popstate",function(t){console.log(t),console.log(t.state),t.state&&e.refs.sba.setState({split:t.state.target})}.bind(e)),setTimeout(function(e){return},0)}),this.updateList()}},{key:"updateState",value:function(e){this.refs.sba.setState({split:e,paneOpened:!1}),void 0!=this.refs.sba.split?history.pushState({State:"settings",target:""+this.refs.sba.split,uid:""+(new Date).getTime()},"1","/index.htm"):history.pushState({State:"settings",target:"1010",uid:""+(new Date).getTime()},"1","/index.htm")}},{key:"updateProject",value:function(e){var t=this.state.project,n=e.target.value;if(/^[\],:{}\s]*$/.test(n.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var i=JSON.parse(n),o=JSON.parse('{\n\t\t\t    "title": "Project Name",\n\t\t\t    "author": {\n\t\t\t        "company": "Company Name",\n\t\t\t        "city": "",\n\t\t\t        "state/province": ""\n\t\t\t    },\n\t\t\t    "references": {},\n\t\t\t    "data": {\n\t\t\t        "size": "2",\n\t\t\t        "objects": "5",\n\t\t\t        "backgrounds": "0",\n\t\t\t        "sprites": "4",\n\t\t\t        "animations": "0"\n\t\t\t    },\n\t\t\t    "mapdata": []\n\t\t\t}');o=Object.assign(o,i);var r=JSON.stringify(o,void 0,4);t.code=r,t.current=0,t.list[t.current]=JSON.parse(r),this.setState({project:t}),p.a.Cookies.set("mapper",r),window.Projects_ListView.updateView()}else this.setState({project:t}),console.warn("WARNING PROJECT IS FALTY PLEASE RELOAD OR REVERT",n)}},{key:"render",value:function(){var e=this;return a.a.createElement("main",null,a.a.createElement(c.a,{ref:"topbar"}),a.a.createElement(m.a,{ref:"sba",project:this.state.project,updateProject:function(t){e.updateProject(t)}.bind(this),updateState:function(t){e.updateState(t)}.bind(this)}),a.a.createElement(d.a,null),a.a.createElement(h.a,{id:"main_status"}))}}]),t}(a.a.Component);t.a=_},"./src/modules/home/Home_Code.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),n("./src/modules/home/Item_News.js"),n("./src/modules/home/Item_Project.js")),c=n("./src/modules/home/Item_Code.js"),d=n("./src/modules/home/Home_Item.js"),h=n("./src/modules/project.js"),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project,code:n.props.project.code},h.a.references.welcome=n,n}return r(t,e),m(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"HomeCode",style:{opacity:1}},a.a.createElement("h2",{hidden:!0,id:"HomeCodeTitle",className:"win-h2",style:{display:"none",opacity:0}},"Getting Started"),a.a.createElement("ol",{id:"HomeGettingStarted"},a.a.createElement(u.a,{hidden:!0,style:{display:"none"},project:this.state.project}),a.a.createElement(c.a,{id:"code0",project:this.state.project,code:this.state.project.code,ref:"code",updateProject:function(t){e.props.updateProject(t)}.bind(this)},"a"),a.a.createElement("a",{href:"#"},a.a.createElement(d.a,{style:{fontWeight:"bold"},preview:"",body:"Test Run your Project! "}))))}}]),t}(a.a.Component);t.a=p},"./src/modules/home/Home_Code_Draw.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=n.n(l),c=(n("./src/modules/home/Item_News.js"),n("./src/modules/home/Item_Project.js"),n("./src/modules/home/Item_Code.js"),n("./src/modules/home/Home_Item.js"),n("./src/modules/project.js"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=[{name:"main",draw:"",update:"",init:""},{name:"intro",draw:"",update:"",init:""},{name:"loading",draw:"",update:"",init:""},{name:"game",draw:"",update:"",init:""}],m=function(e){function t(e){i(this,t),h=[{name:"open",icon:"map"},{name:"rooms",icon:"map"},{name:"objects",icon:"copy"},{name:"sprites",icon:"copy"},{name:"tiles",icon:"copy"}],Function,Object,"undefined"==typeof h?"undefined":c(h);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project,data:h},n}return r(t,e),d(t,[{key:"handleNew",value:function(e){console.log(e)}},{key:"handleNews",value:function(){}},{key:"action",value:function(e){var t=e.children[1].innerText,n={},i=void 0,o=void 0;try{console.log(t),n=JSON.parse(t),o=JSON.parse(this.state.project.code)}catch(e){console.warn("Failed to "+t),n={},o={}}i={target:e};var r=o.data.states;switch("rooms"==n.type&&(r=o.data.states),"tiles"==n.type&&(r=o.data.tiles),"sprites"==n.type&&(r=o.data.sprites),"objects"==n.type&&(r=o.data.objects),n.command){case"add":r.push({name:n.type+r.length});break;case"remove":console.log(n),r=o.data.states;for(var s=0;s<r.length;s++)n.type==r[s].name&&r.splice(s,1);r=o.data.tiles;for(var s=0;s<r.length;s++)n.type==r[s].name&&r.splice(s,1);r=o.data.sprites;for(var s=0;s<r.length;s++)n.type==r[s].name&&r.splice(s,1);r=o.data.objects;for(var s=0;s<r.length;s++)n.type==r[s].name&&r.splice(s,1)}i.target.value=JSON.stringify(o),this.props.updateProject(i)}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=(e.action.bind(e),document.getElementById("PivotA"));t.removeEventListener("selectionchanged",!1),t.addEventListener("selectionchanged",function(t){setTimeout(function(){setTimeout(function(){"open"==t.detail.item._header?document.getElementById("OPENTABSBAR").style.width="":document.getElementById("OPENTABSBAR").style.width="48px";for(var n=document.querySelectorAll("#BackgroundListToolbar > div > div.win-commandingsurface-content > div.win-commandingsurface-actionareacontainer > div.win-commandingsurface-actionarea.win-toolbar-actionarea > button.win-disposable.win-command"),i=function(t){n[t].onclick=function(i){e.action(n[t])}.bind(e)},o=n.length-1;o>=0;o--)i(o)})},500)}.bind(e),!1)},500)}},{key:"render",value:function(){for(var e=this,t="",n=function(e,t){return'\n\t\t\t\t\t{\n\t\t\t\t\t\t"command":"'+t+'",\n\t\t\t\t\t\t"type":"'+e+'"\n\t\t\t\t\t}\n\t\t\t\t'},i=0,o=function(o){try{var r,r,r,r,s=function(){var s=[],l=0,c=function(t,i){return l++,a.a.createElement("div",{style:{position:"relative",top:"-48px",height:"48px"},key:t.name+":1:"+l},a.a.createElement(u.a.SplitView.Command,{label:t.name,key:t.name+":2:"+l,style:{position:"relative",left:"33px",top:"0px",zIndex:"1",width:"50%"},id:"Command"+l,icon:""}),a.a.createElement(u.a.ToolBar,{onBeforeClose:e.state.paneOpened?e.handleOpenPane:null,id:"BackgroundListToolbar"},a.a.createElement(u.a.ToolBar.Button,{key:"delete",icon:"remove",label:n(t.name,"remove"),onInvoked:function(){}})),a.a.createElement("br",null))};if("rooms"==o.name){var d=e.state.project.read.data.states;for(r=0;r<d.length;r++)s.push(c(d[r],r))}else if("objects"==o.name){var h=e.state.project.read.data.objects;for(r=0;r<h.length;r++)s.push(c(h[r],r))}else if("sprites"==o.name){var m=e.state.project.read.data.sprites;for(r=0;r<m.length;r++)s.push(c(m[r],r))}else if("tiles"==o.name){var p=e.state.project.read.data.tiles;for(r=0;r<p.length;r++)s.push(c(p[r],r))}return setTimeout(function(){setTimeout(function(){for(var t=document.querySelectorAll("#BackgroundListToolbar > div > div.win-commandingsurface-content > div.win-commandingsurface-actionareacontainer > div.win-commandingsurface-actionarea.win-toolbar-actionarea > button.win-disposable.win-command"),n=function(n){t[n].onclick=function(i){e.action(t[n])}.bind(e)},i=t.length-1;i>=0;i--)n(i)})},500),t="add",{v:a.a.createElement(u.a.Pivot.Item,{key:i++,header:o.name,style:e.props.style},a.a.createElement("div",{key:o.name+":1:"+i,style:{position:"relative",top:"48px",zIndex:"1"}},a.a.createElement(u.a.SplitView.Command,{style:{opacity:0},label:"",key:o.name+":0:"+i,icon:o.icon}),a.a.createElement(u.a.ToolBar,{onBeforeClose:e.state.paneOpened?e.handleOpenPane:null,id:"BackgroundListToolbar",className:o.name+"bar"},a.a.createElement(u.a.ToolBar.Button,{key:t,label:n(o.name,t),icon:t,onInvoked:function(){alert()}})),s))}}();if("object"===("undefined"==typeof s?"undefined":c(s)))return s.v}catch(t){return a.a.createElement(u.a.Pivot.Item,{key:i++,header:o.name,style:e.props.style},a.a.createElement("div",{key:i++},"Failed"))}},r=[],s=0;s<this.state.data.length;s++)r.push(o(this.state.data[s]));return a.a.createElement("div",{id:"HomeCodeDraw",style:{opacity:1}},a.a.createElement(u.a.Pivot,{id:"PivotA"},r))}}]),t}(a.a.Component);t.a=m},"./src/modules/home/Home_Item.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={preview:n.props.preview,element:n.props.element,body:n.props.body,onClick:n.props.onClick,code:n.props.code,id:n.props.id||0},n}return r(t,e),u(t,[{key:"updateProject",value:function(){console.log("#HoemItem ProjectUpdate")}},{key:"render",value:function(){var e="{ innerHTML: '"+this.state.preview+"'\t}",t=this.state.body,n=this.state.code,i=this.state.id,o=this.props.children||"";return a.a.createElement("li",{id:i,style:{listStyle:"none"},"data-win-control":"WinJS.UI.Tooltip","data-win-options":e},a.a.createElement("pre",{style:{display:void 0==n?"none":"block"}},a.a.createElement("h2",{className:"win-h2"},t),o,a.a.createElement("code",{className:"js hljs javascript"},n)))}}]),t}(a.a.Component);t.a=c},"./src/modules/home/Home_PivotItem.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/modules/home/Home_References.js"),n("./src/modules/home/Home_RecentProjects.js")),a=n("./src/modules/home/Home_Code.js"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n("./node_modules/react/react.js"),c=n("./node_modules/react-winjs/react-winjs.js");(function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project},console.log(n.props.project),window.homePivot=n,n}return r(t,e),l(t,[{key:"componentWillReceiveProps",value:function(){console.log("CHANGE2")}},{key:"render",value:function(){return u.createElement("div",{ref:"home"},u.createElement("div",{id:"HomeMain"},u.createElement(s.a,{project:this.state.project}),u.createElement(a.a,{project:this.state.project}),u.createElement("div",{style:{display:"none",height:"245px",float:"left",background:"white",border:"1px solid black",width:"99%"}}," "),u.createElement("div",{style:{display:"none",height:"45px",float:"left",background:"white",border:"1px solid black",width:"99%"}}," ")))}}]),t})(c.Pivot.Item)},"./src/modules/home/Home_RecentProjects.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),n("./src/modules/projects/Projects_List.js")),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project,initalized:!0},n}return r(t,e),c(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"HomeRecentProjects"},a.a.createElement("h1",{style:{opacity:1},id:"RecentProjectsTitle",className:"win-h1"},"Projects"),a.a.createElement("p",{className:"win-p"},"The data in this list is pulled from ",a.a.createElement("em",null,"Cookies"),", see ",a.a.createElement("a",{href:"#settings",onClick:function(t){e.props.updateState(9)}.bind(this)},"settings")," to swtich from Local Storage to Cookies. Remember to ",a.a.createElement("a",{
href:"#"},"backup")," your local files inorder to ensure you data doesn't get erased."),a.a.createElement("div",{id:"ProjectsList0"}),a.a.createElement(u.a,{project:this.state.project,updateProject:function(t){e.props.updateProject(t)}.bind(this)}))}}]),t}(a.a.Component);t.a=d},"./src/modules/home/Home_References.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./src/modules/home/Home_Item.js"),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();(function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"render",value:function(){return a.a.createElement("div",{id:"HomeRightside"},a.a.createElement("nav",{id:"ReferenceList"},a.a.createElement("h3",{hidden:!0,id:"ToolsListTitle",className:"win-h3"},"Tools"),a.a.createElement("ul",{style:{position:"relative",top:""}},a.a.createElement(l.a,{preview:"",body:"Tools",code:a.a.createElement("a",null," ")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("h4",{className:"win-h4"},a.a.createElement("a",{className:"nolinkstyle",href:"http://closure-compiler.appspot.com/home"}," Google Closure Compiler "))}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("h4",{className:"win-h4"},a.a.createElement("a",{className:"nolinkstyle",href:"http://imagecolorpicker.com/"},"Colour Picker"))}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("h4",{className:"win-h4"},a.a.createElement("a",{className:"nolinkstyle",href:"http://www.quirksmode.org/js/detect.html"},"Browser Detect"))})),a.a.createElement("h3",{hidden:!0,id:"ReferenceListTitle",className:"win-h3"},"References"),a.a.createElement("p",{hidden:!0},"A collection of useful articles/references."),a.a.createElement("ul",{style:{position:"relative",top:""}},a.a.createElement(l.a,{preview:"",body:"References",code:a.a.createElement("a",null," ")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://beej.us/blog/data/html5s-canvas-2-pixel/"}," Pixel Manipulation")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://javascriptweblog.wordpress.com/2011/04/04/the-javascript-comma-operator/?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+JavascriptJavascript+%28JavaScript%2C+JavaScript%29"}," The JavaScript Comma Operator")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.htmlgoodies.com/html5/javascript/some-useful-javascript-object-creation-patterns.html#fbid=9UdRuZ5q-HR"}," Some Useful JavasScript Object Creation Patterns")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.htmlgoodies.com/beyond/javascript/object.create-the-new-way-to-create-objects-in-javascript.html"}," Object.create(): the New Way to Create Objects in JavaScript")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.html5rocks.com/en/"}," Object.observe()")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://blog.another-d-mention.ro/programming/read-load-files-from-zip-in-javascript/"},"Read/Load files from ZIP in JavaScript")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.hiteshagrawal.com/javascript/javascript-parsing-xml-in-javascript/"},"Parsing XML")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.yuiblog.com/blog/2010/12/14/strict-mode-is-coming-to-town/"},"Strict Mode is Coming To Town")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://higherorderfun.com/blog/2012/06/03/math-for-game-programmers-05-vector-cheat-sheet/"},"Vector Math")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.gamedev.net/blog/43/entry-2260411-html5-audio-for-games-made-easy/"},"Audio3DOutput.js")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"https://github.com/ScottHamper/Cookies#browser-compatibility"},"Cookies.js")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://www.html5rocks.com/en/tutorials/device/orientation/"},"Device Orientation")}),a.a.createElement(l.a,{preview:"",body:"",code:a.a.createElement("a",{className:"nolinkstyle",href:"http://moz.com/blog/most-entertaining-guide-to-landing-page-optimization?utm_source=hootsuite&utm_campaign=hootsuite"},"The Most Entertaining Guide to Landing Page Optimization")}))))}}]),t})(a.a.Component)},"./src/modules/home/Item_Code.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),n("./src/modules/home/Home_Item.js")),c=n("./src/modules/project.js"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={code:n.props.code,project:n.props.project},n}return r(t,e),d(t,[{key:"componentDidMount",value:function(){console.log("#JACKAS")}},{key:"render",value:function(){var e=this;return a.a.createElement(u.a,{preview:"",body:"",id:"homeCurrentJson",code:""},a.a.createElement(m,{code:this.props.code,updateProject:function(t){e.props.updateProject(t)}.bind(this)}))}}]),t}(u.a);t.a=h;var m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={code:n.props.code},window.code=n,c.a.references.code=n,n}return r(t,e),d(t,[{key:"render",value:function(){var e=this;return a.a.createElement("textarea",{id:"codearea",className:"code",ref:"searchStringInput",onFocus:function(t){"steve"!==e.name&&document.getElementById("codearea").focus(),document.getElementById("codearea").select()}.bind(this),onBlur:function(t){e.props.updateProject(t)}.bind(this),onChange:function(t){e.props.updateProject(t)}.bind(this),value:this.props.code})}}]),t}(a.a.Component)},"./src/modules/home/Item_News.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=n.n(l),c=n("./src/modules/home/Home_Item.js"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();(function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={count:n.props.count},n}return r(t,e),d(t,[{key:"render",value:function(){for(var e=[],t=this.state.count,n=[{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"},{title:"steve",date:"2010/10/10"}],i=t-1;i>=0;i--){var o=n[i];if(o){var r=a.a.createElement("div",{key:i},a.a.createElement("img",{src:"",className:"news image"}),a.a.createElement("h4",null,o.title),a.a.createElement("h5",null,o.date));e.push(r)}}return a.a.createElement(c.a,{preview:"",body:"Latest News.",code:"",id:"homeItemLeftTile"},e)}}]),t})(u.a.Pivot.Item)},"./src/modules/home/Item_Project.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./node_modules/react-winjs/react-winjs.js"),u=(n.n(l),n("./src/modules/home/Home_Item.js")),c=(n("./src/modules/project.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project},n}return r(t,e),c(t,[{key:"render",value:function(){var e="No Project",t="",n="",i="";this.state.project.title&&(t=this.state.project.title,e="");var o=a.a.createElement(u.a,{preview:n,body:t,code:i,id:"homeItemRightTile"},a.a.createElement("br",null),a.a.createElement("center",{className:"faded"},a.a.createElement("h1",{className:"win-h1"},e)));return a.a.createElement("div",{hidden:!0},o)}}]),t}(u.a);t.a=d},"./src/modules/project.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./node_modules/react/react.js"),r=(n.n(o),n("./node_modules/react-winjs/react-winjs.js")),s=(n.n(r),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),a=function(){function e(){i(this,e)}return s(e,null,[{key:"load",value:function(t){return e.code=t,e.current=0,e.list.unshift(JSON.parse(t)),setTimeout(function(){window.Projects_ListView.updateView()},250),!0}},{key:"list",get:function(){return e.properties._list},set:function(t){e.properties._list=t}},{key:"code",get:function(){return e.properties._code},set:function(t){e.properties._code=t}},{key:"title",get:function(){return e.read.title}},{key:"states",get:function(){return e.read.states}},{key:"name",get:function(){return"undefined"}},{key:"origin",get:function(){return"undefined"}},{key:"build",get:function(){return e.properties._build}},{key:"date",get:function(){return(new Date).getDate()}},{key:"read",get:function(){return JSON.parse(e.properties._code)}}]),e}();a.references={},a.properties={_build:"0.0.0",_code:"InitalCODEInital",_list:[null]},t.a=a,window.project=a},"./src/modules/projects/Projects_List.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=n("./src/winjs/js/ui.js"),u=n.n(l),c=n("./src/modules/projects/Projects_List_Item.js"),d=n("./src/modules/project.js"),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=n("./node_modules/react-winjs/react-winjs.js"),f=function(e){function t(e){i(this,t),Function,Object,h(new u.a.Binding.List(d.a.list));var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={project:n.props.project,data:new u.a.Binding.List(n.props.project.list)},n.updateView=n.updateView.bind(n),window.Projects_ListView=n,n}return r(t,e),m(t,[{key:"updateView",value:function(){console.log(this.state.project.list),this.setState({data:new u.a.Binding.List(this.state.project.list)}),setTimeout(window.App.updateList,300)}},{key:"render",value:function(){var e=p.reactRenderer(function(e){return a.a.createElement(c.a,{obj:e})});return a.a.createElement(p.ListView,{id:"ProjectListView",style:{width:"100%",maxWidth:"450px",margin:"0px auto",height:"586px"},itemDataSource:this.state.data.dataSource,itemTemplate:e,layout:{type:u.a.UI.ListLayout}})}}]),t}(a.a.Component);t.a=f},"./src/modules/projects/Projects_List_Item.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/react.js"),a=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:"render",value:function(){var e=this.props.obj.data;if(e){var t=this.props.obj.data.data.sprites.length,n=this.props.obj.data.data.size,i=this.props.obj.data.data.objects.length;return a.a.createElement("div",{className:"ProjectListItem"},a.a.createElement("center",null,a.a.createElement("br",null),a.a.createElement("h2",{className:"win-h2"},this.props.obj.data.title),a.a.createElement("br",null),a.a.createElement("h3",{className:"win-h3"},this.props.obj.data.author.company),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",null,a.a.createElement("h2",{className:"win-h2"},n),a.a.createElement("h2",{className:"win-h2"},i),a.a.createElement("h2",{className:"win-h2"},t))))}return a.a.createElement("div",{id:"AddProject"},a.a.createElement("input",{type:"file",id:"files",className:"files",name:"file"}),a.a.createElement("div",{style:{textAlign:"center",marginTop:"20%",fontSize:"7.5rem",opacity:.25}},"+"))}}]),t}(a.a.Component);t.a=u},"./src/modules/topbarA.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("./node_modules/react/react.js"),l=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){var e={position:"fixed",top:"0px",left:"48px",width:"100%",background:"rgba(25,25,25,0.25)",marginTop:"0px",padding:"0.17em",zIndex:1005};return a.createElement("h1",{style:e},"  ")}}]),t}(a.Component);t.a=l},"./src/modules/utils.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./node_modules/cookies-js/dist/cookies.js"),r=n.n(o),s=n("./src/modules/utils/HttpRequest.js"),a=n("./src/modules/project.js"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=0,c=function(){function e(){i(this,e),this._error="",window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,1048576,e.onInitFs,e.errorHandler),e.Cookies.defaults={path:"/",expires:1/0}}return l(e,[{key:"error",set:function(e){this._error=e},get:function(){return this._error}}],[{key:"readSaveData",value:function(t){var n=void 0;(n=e.Cookies.get("mapper"))?(a.a.load(n),t(a.a),console.warn("Cookie Loaded:",n)):e.HttpRequest.loadXMLDoc("default.json",function(n){a.a.load(n),e.Cookies.set("mapper",n),t(a.a),console.warn("Defaults Loaded:",n)})}},{key:"errorHandler",value:function(t){var n="";e.error=n}},{key:"onInitFs",value:function(t){t.root.getFile("./details.json",{},function(t){t.file(function(e){var t=new FileReader;t.onloadend=function(e){},t.readAsText(e)},e.errorHandler)},e.errorHandler)}},{key:"onPointerDown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"onPointerUp",value:function(e){e.preventDefault()}},{key:"onPointerMove",value:function(t){if(e.dragging){u+=t.movementX;var n=0;u<-250&&(n=1,e.dragging=!1,u=-16,e.target.style.left=u+"px",WinJS.UI.Animation.pointerUp(t.target),t.preventDefault()),u>250&&(n=2,e.dragging=!1,u=-16,e.target.style.left=u+"px",WinJS.UI.Animation.pointerUp(t.target),t.preventDefault()),e.target.style.left=u+"px"}t.preventDefault()}},{key:"addPointerDownHandlers",value:function(t){var n=document.getElementById(t);n.removeEventListener("pointerdown",e.onPointerDown,!1),n.removeEventListener("touchstart",e.onPointerDown,!1),n.removeEventListener("mousedown",e.onPointerDown,!1),n.addEventListener("pointerdown",e.onPointerDown,!1),n.addEventListener("touchstart",e.onPointerDown,!1),n.addEventListener("mousedown",e.onPointerDown,!1)}},{key:"addPointerUpHandlers",value:function(t){var n=document.getElementById(t);n.removeEventListener("pointerup",e.onPointerUp,!1),n.removeEventListener("touchend",e.onPointerUp,!1),n.removeEventListener("mouseup",e.onPointerUp,!1),n.addEventListener("pointerup",e.onPointerUp,!1),n.addEventListener("touchend",e.onPointerUp,!1),n.addEventListener("mouseup",e.onPointerUp,!1)}},{key:"switchAnimations",value:function(t){WinJS.UI.disableAnimations(),e.timeoutAnimation&&clearTimeout(e.timeoutAnimation),e.timeoutAnimation=setTimeout(function(){WinJS.UI.enableAnimations()},t)}}]),e}();c.dragging=!1,c.dragging=!1,c.HttpRequest=s.a,c.Cookies=r.a,t.a=c},"./src/modules/utils/HttpRequest.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return o(e,null,[{key:"loadXMLDoc",value:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200==n.status?(console.log(JSON.parse(n.responseText)),t(n.responseText)):400==n.status?alert("There was an error 400"):alert("something else other than 200 was returned"))},n.open("GET",e,!0),n.send()}}]),e}();t.a=r},"./src/sjs/modules/app.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/core.js"),a=(n("./src/sjs/modules/core/state.js"),n("./src/sjs/modules/canvas.js")),l=n("./src/sjs/modules/client.js"),u=n("./src/sjs/modules/input/input.js"),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(){var e,n,r,s;i(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.canvas=a.a,s=n,o(r,s)}return r(t,e),d(t,[{key:"loop",value:function(e){var t=this,n=!0;n?setTimeout(function(){function n(){e.client.loop(),e.client.loopData()}function i(){}t.client.initalize(n,i,t.scale)},this.time):setTimeout(function(){function t(){e.client.loop(),e.client.loopData()}function n(){}e.client.initalize(t,n,e.scale)},this.time)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||this.app.options.width,i=t||this.app.options.height;this.main=Object.create(this.main),this.canvas=new this.canvas(this),this.client=new l.a(this,n,i),this.client.update.inital(this),this.input=new u.a(this),this.loop(this)}},{key:"OnLoad",value:function(e){e.start()}},{key:"OnApplicationLoad",value:function(e){e.target.app.OnLoad(e.target.app)}},{key:"Listener",value:function(e,t,n,i){"object"===c(e[0])&&(e=e[0]||window),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),e.app=window.apps[this.id]=this}},{key:"Construct",value:function(e,t){var n=!1,i=e,o=e,r=t,s={},a=void 0;switch("undefined"!=typeof i.prototype&&"undefined"!=typeof i.constructor&&(r=i.constructor,o=i.prototype,n=!0),a="undefined"==typeof r?"undefined":c(r)){case"undefined":s=Object.create(o);break;case"object":s=Object.create(o,r);break;case"function":s=Object.create(o,r(this));break;default:console.warn("Expected 'object' or 'function': Type is "+a)}return n&&(e=s),console.warn(s,"undefined"==typeof s?"undefined":c(s)),s}}]),t}(s.a);t.a=h},"./src/sjs/modules/canvas.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){var n;i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new WeakMap));r.options=e.options,r.id=e.id;var s=r.doc.getElementById(r.options.target.canvas),l=r.doc.getElementById(r.options.target.buffer),u=r.doc.getElementById(r.options.target.blitter)||r.construct_canvas("blitter");u.style.position="fixed",s||(s=r.construct_canvas(r.options.canvas.name),r.options.canvas.buffer&&(l=r.construct_canvas(r.options.canvas.buffername))),s.mozOpaque=r.options.flags.opaque;var c=r.style(s,l,u,r.options.canvas.style),d=a(c,4);return r.canvas=d[0],r.buffer=d[1],r.blitter=d[2],r.rendering_style=d[3],r.head.appendChild(r.rendering_style),n=!0,o(r,n)}return r(t,e),l(t,[{key:"doc",get:function(){return this.get("docs")}},{key:"head",get:function(){return this.get("head")}},{key:"rendering_style",get:function(){return this.get("_rendering_style")},set:function(e){var t=e||"",n="@-ms-viewport {width:100%;height:100%;}",i='#Client, #Buffer, img[srcApp=".gif"],img[srcApp=".jpg"], img[srcApp=".png"] {image-rendering: -moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering: crisp-edges;image-rendering: -webkit-optimize-contrast;}',o=this.get("_rendering_style");o.innerHTML=o.innerText=n+i+t}},{key:"canvas",get:function(){return this.get("canvas")[0]},set:function(e){this.get("canvas")[0]=e}},{key:"buffer",get:function(){return this.get("canvas")[1]},set:function(e){this.get("canvas")[1]=e}},{key:"blitter",get:function(){return this.get("canvas")[2]},set:function(e){this.get("canvas")[2]=e}}]),l(t,[{key:"style",value:function(e,t,n){return e.style.position=this.options.canvas.position.position,e.style.zIndex=this.options.canvas.position.z,this.options.canvas.buffer&&(t.style.position=this.options.canvas.position.position,t.style.zIndex=this.options.canvas.position.z-1),this.options.canvas.override&&(e.style.left=this.options.canvas.position.left+"px",e.style.top=this.options.canvas.position.top+"px",this.options.canvas.buffer&&(t.style.left=this.options.canvas.position.left+"px",t.style.top=this.options.canvas.position.top+"px")),[e,t,n]}},{key:"construct_canvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=this.doc.createElement("canvas"),n=e+"_"+this.id;return t.id=n,this.doc.body.appendChild(t),this.doc.getElementById(n)}}]),t}(s.a);u.properties={name:"canvas",canvas:[],docs:document,head:document.getElementsByTagName("head")[0],_rendering_style:document.createElement("style")},t.a=u},"./src/sjs/modules/client-core.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=n("./src/sjs/modules/core/math/vector.js"),l=(n("./src/sjs/modules/client/options.js"),n("./src/sjs/modules/visuals.js")),u=n("./src/sjs/modules/graphics.js"),c=n("./src/sjs/modules/ext.js"),d=n("./src/sjs/modules/core/room.js"),h=n("./src/sjs/modules/core/pace.js"),m=n("./src/sjs/modules/renderer.js"),p=n("./src/sjs/modules/update.js"),f=n("./src/sjs/modules/loader.js"),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function(e){function t(){var e,n,r,s;i(this,t);for(var a=arguments.length,_=Array(a),g=0;g<a;g++)_[g]=arguments[g];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(_))),r.ext=c.a,r.room=d.a,r.visuals=l.a,r.graphics=u.a,r.loader=f.a,r.update=p.a,r.renderer=m.a,r.pace=h.a,s=n,o(r,s)}return r(t,e),_(t,[{key:"verifySize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,i=0;"vector"==typeof e?(n=e.x,i=e.y):(n=this.width=this.setWidth=e,i=this.height=this.setHeight=t),this.projectSize=new a.a(n,i)}},{key:"initalize",value:function(e,t,n){var i=this;this.scale=n,this.client_f=e,this.client_data=t,requestAnimationFrame(this.client_f),setTimeout(function(){i.client_data()},1e3/59)}},{key:"loop",value:function e(){var t=this,e=function(){t.resized=t.update.size(t),t.scale=t.update.scale(t),t.visuals.flip(t.scale),t.fps=t.update.step.tick(t.second,t.mainLoop,t.app),requestAnimationFrame(t.client_f)};e()}}]),t}(s.a);t.a=g},"./src/sjs/modules/client-experamental.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/sjs/modules/core/math/math.js"),n("./src/sjs/modules/client-core.js")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,
i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l={Vec:function(e,t){this.x=e,this.y=t},Clamp:function(e,t,n){return e<t?t:e>n?n:e},Wrap:function(e,t,n){return e<t?n:e>n?t:e},Difference:function(e,t){return e-t},Pythageon:function(e,t){return Math.sqrt(e*e+t*t)},Vector:{x:0,y:0,Difference:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Sum:function(e,t){return{x:e.x+t.x,y:e.y+t.y}}},Data:{}},u=function(e){function t(){var e,n,r,s;i(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.Math=l,s=n,o(r,s)}return r(t,e),a(t,[{key:"loadZip",value:function(){this.data={Zip:null,JSZip:JSZip,JSZipUtils:JSZipUtils}}},{key:"loopData",value:function(){this.update.sizedelta(this),this.app.input.update(),setTimeout(this.client_data,1e3/60)}}]),t}(s.a);t.a=u},"./src/sjs/modules/client.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/sjs/modules/core/sjs.js"),n("./src/sjs/modules/core/math/vector.js"),n("./src/sjs/modules/client-experamental.js")),a=function(e){function t(e,n,r){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));s.discription="Instanciates an object to hold data pertaining to a single instanciated app";return s.verifySize(n,r),s.visuals=new s.visuals(s.app),s.graphics=new s.graphics(s.app),s.ext=new s.ext(s.app),s.room=new s.room(s.app),s.audio={},s.mainLoop=new s.pace(e.options.targetfps,e.options.targetfps),s.second=new s.pace(1,e.options.targetfps),s.loader=window.Loader=new s.loader(s.app),s.update=new s.update(s.app),s.renderer=new s.renderer,s.loadZip(),s.renderer.renderMarkup(),o(s)}return r(t,e),t}(s.a);t.a=a},"./src/sjs/modules/client/options.js":function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.a={overridescroll:!1,drag:0,targetfps:60,mute:!1,paths:{data:"data/",images:"images/",url:""},target:{canvas:null,buffer:null,blitter:null},global:{imageSmoothingEnabled:!1,globalCompositeOperation:"destination-in"},flags:{webGL:!1,canvas:!0,mstouch:!0,seamless:!1,tight:!0,touchprevent:!1,opaque:!0},canvas:{opacity:0,override:!1,name:"canvas",buffername:"buffer",buffer:!0,background:"#000000",position:{position:"absolute",top:"",left:2*window.innerWidth,center:!1,z:1},size:{width:window.innerWidth,height:window.innerHeight}},msFlags:{msZoom:!1},override:{keyboard:!1,mouse:!1,MSHoldVisual:!1,SelectStart:!1,ContextMenu:!1,Drag:!1},get:function get(attr){if(attr){var list=SpiceJS.controller.list();if("object"!=("undefined"==typeof list?"undefined":_typeof(list))){for(var i=window.apps.length-1;i>=0;i--)for(var attrname in this)if(attrname==attr){var l=[];l.push(eval("list["+i+"].options."+attrname))}return l}for(var attrname in this)if(attrname==attr)return eval("list.options."+attrname);return null}return this},set:function(e){for(var t in e)this[t]=e[t];return this}}},"./src/sjs/modules/client/step.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=0,u=function(e){function t(){var e,n,r,s;i(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.delta=1,r.frames=0,r.pending=0,r.padding=0,r.increment=0,r.delta_speed=1,s=n,o(r,s)}return r(t,e),a(t,[{key:"ceil",value:function(e){return e+(e<0?0:1)>>0}},{key:"focus",value:function(){return!0}},{key:"clean",value:function(){var e=this.frames;return this.frames=0,e}},{key:"tick",value:function(e,t,n){return this.first(e,n),this.second(t,n),this.fps}},{key:"second",value:function(e,t){if("undefined"==typeof e||!e.Step(t))return!1;this.frames++;for(var n=this.padding;n>=0;--n)t.client.update.state.initalized&&(this.focus()?t.client.update.state.update():null);return this.padding=0,!0}},{key:"first",value:function(e,t){if("undefined"==typeof e||!e.Step(t))return!1;this.fps=e.delta;var n=e.targetfps/this.fps*1e5;return this.delta=this.ceil(n)/1e5,this.delta>2.5&&(this.delta=2.5),this.delta!==this.delta+1?t.client.delta=this.delta_speed=this.delta:t.client.delta=this.delta_speed=1,this.app=t,0!=this.fps&&(this.increment=-e.targetfps+e.targetfps*(e.targetfps/this.fps),this.pending+=this.increment,this.pending>e.targetfps&&(this.pending-=this.adding/e.targetfps*e.targetfps,this.padding++),!0)}},{key:"fps",set:function(e){this.get("data")[0]=1*(this.clean()/e*1e3)},get:function(){return this.get("data")[0]}}]),t}(s.a);u.properties={data:[l]},t.a=u},"./src/sjs/modules/cookies.js":function(e,t,n){"use strict";(function(e,i){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function a(){o(this,a);var l=function(e){if("object"!==s(e.document))throw new Error("Cookies.js requires a `window` with a `document` object");var t=e.Cookies=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[t._cacheKeyPrefix+e]},t.set=function(e,n,i){return i=t._getExtendedOptions(i),i.expires=t._getExpiresDate(void 0===n?-1:i.expires),t._document.cookie=t._generateCookieString(e,n,i),t},t.expire=function(e,n){return t.set(e,void 0,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},i=e?e.split("; "):[],o=0;o<i.length;o++){var r=t._getKeyValuePairFromCookieString(i[o]);void 0===n[t._cacheKeyPrefix+r.key]&&(n[t._cacheKeyPrefix+r.key]=r.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=t<0?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},u="object"===s(e.document)?l(e):l,c=n("./node_modules/webpack/buildin/amd-options.js"),d="object"===s(t),h="object"===s(i)&&"object"===s(i.exports);return c?(r=function(){return u}.call(t,n,t,i),!(void 0!==r&&(i.exports=r))):d?(h&&(t=i.exports=u),t.Cookies=u):e.Cookies=u,a};t.a=a}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/module.js")(e))},"./src/sjs/modules/core/api.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=n("./src/sjs/modules/core/stats.js"),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.free=!1,n.seamless=!1,n.tight=!0,n.disable=!1,n.alpha=0,n.bleed=1,n.point=14,n.zindex=1,n.buffer_target=0,n.scale=0,n.fillStyle=null,n.fontT="",n.fontL="",n.stat2=Object.create(null),n.grd=Object.create(null),n.canvas=Object.create(null),n.buffer=Object.create(null),n.blitter=Object.create(null),n.canvas_context=Object.create(null),n.buffer_context=Object.create(null),n.blitter_context=Object.create(null),n.blitter_image=new Image,n.within=!1,n.laststyle="false",n.debug=!0,n.setting=!0,n.image_count=0,n.log("SJS:I:Visuals"),n}return r(t,e),u(t,[{key:"clean",value:function(){this.colour(this.stat.oldcol),this.stat.init(this.colour(),this.stat.oldcol)}},{key:"colour",value:function(e,t){return e?e&&(this.buffer_context.fillStyle=e):this.buffer_context.fillStyle}},{key:"color",value:function(e,t){return this.colour(e,t)}},{key:"opacity",value:function(e){return e!=this.alpha&&(this.alpha=e,this.canvas_context.globalAlpha=this.buffer_context.globalAlpha=e!=this.lastopacity?e:1)}},{key:"font",value:function(e){return this.canvas_context.font=this.buffer_context.font=this.fontT=e}},{key:"shadow",value:function(e,t,n,i){this.buffer_context.shadowColor=e,this.buffer_context.shadowBlur=t,this.buffer_context.shadowOffsetX=n,this.buffer_context.shadowOffsetY=i}},{key:"shadow_clear",value:function(){this.buffer_context.shadowBlur=0}},{key:"checkValues",value:function(e,t,n,i,o,r,s,a,l){this.checkValuesColour=this.colour(),r||(r=1),this.opacity(r),this.colour(a),this.free?this.stat.set({x:e,y:t,w:n*o||0,h:i*o||0,s:o,a:this.app.client.Math.Clamp(r,0,1)||1,c:s||0,colour:a||this.colour(),oldcol:this.checkValuesColour,font:l,init:this.stat.init}):this.stat.set({x:this.fixX(e),y:this.fixY(t),w:this.fixW(n)*o,h:this.fixH(i)*o,s:o,a:this.app.client.Math.Clamp(r,0,1)||0,c:s||0,colour:a||this.colour(),oldcol:this.checkValuesColour,font:l||this.font,init:this.stat.init})}},{key:"touch_within",value:function(e,t,n,i,o){var r=document.documentElement;return this.left=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),this.top=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),t-=this.top,e-=this.left,o?App.input.x>e-n/2&&App.input.x<e+n/2&&App.input.y>t-i/2&&App.input.y<t+i/2:App.input.x>e&&App.input.x<e+n&&App.input.y>t&&App.input.y<t+i}},{key:"touch_within2",value:function(e,t,n,i,o){var r=this.checkValues(e,t,n,i,1,1,o),s=document.documentElement;return this.left=(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0),this.top=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),r.y=r.y-this.top,r.x=r.x-this.left,r.c?this.app.input.x>r.x-r.w/2&&this.app.input.x<r.x+r.w/2&&this.app.input.y>r.y-r.h/2&&this.app.input.y<r.y+r.h/2:this.app.input.x>r.x&&this.app.input.x<r.x+r.w&&this.app.input.y>r.y&&this.app.input.y<r.y+r.h}},{key:"touch_within_stat",value:function(e,t){var n=document.documentElement,i=window;this.left=(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0),this.top=(i.pageYOffset||n.scrollTop)-(n.clientTop||0),e.y=e.y-this.top,e.x=e.x-this.left;var o=this.app.input.position,r=o.x,s=o.y;return e.c?r>e.x-e.w/2&&r<e.x+e.w/2&&s>e.y-e.h/2&&s<e.y+e.h/2:s>e.x&&r<e.x+e.w&&s>e.y&&s<e.y+e.h}},{key:"blit",value:function(e,t,n){var i=this.blitter_image=new Image,o=this.blitter,r=this.blitter_context;return o.style.background="transparent",o.background="transparent",o.width=e.width/16,o.height=e.height/16,r.drawImage(e,t,n,32,32,0,0,e.width/16,e.height/16),i.src=o.toDataURL("image/png"),window.T=i,i}},{key:"text_shadow",value:function(e,t,n,i){this.buffer_context.shadowColor=i,this.buffer_context.shadowBlur=e,this.buffer_context.shadowOffsetX=t,this.buffer_context.shadowOffsetY=n}},{key:"text",value:function(e,t,n,i){this.text_ext(e,t,n,i,1,1,0,"Calibri")}},{key:"text_ext",value:function(e,t,n,i,o,r,s,a){this.checkValues(t,n,this.text_width(e),o,o,r,s,i,"");var l=this.font("");this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+a),this.stat.h=this.point*this.stat.h,this.buffer_context.fillText(e,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)),this.font(l),this.clean()}},{key:"text_free",value:function(e,t,n,i){this.colour(i),this.font(Math.round(this.point*this.scale)+"px sans-serif"),this.buffer_context.fillText(e,t-this.text_width(e)/2-this.point,n-this.point/2),this.clean()}},{key:"text_button",value:function(e,t,n,i,o,r,s,a){this.checkValues(t,n,this.text_width(e),o,o,r,s,i,"");var l=this.font("");this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+a),this.stat.h=this.point*this.stat.h,this.touch_within_stat(this.stat)?(this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.stat.c?this.buffer_context.fillText(e,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(e,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))):(this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.fillText(e,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(e,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))),this.font(l),this.clean()}},{key:"text_button_bg",value:function(e,t,n,i,o,r,s,a,l){this.checkValues(t,n,this.text_width(e),o,o,r,s,i,""),this.shadow("#AAAAAA",1,1,1);var u=this.font("");this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+l),this.stat.h=this.point*this.stat.h,this.within=this.touch_within_stat(this.stat),this.within?(this.colour("#00A0F1"),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x-.2*this.stat.w,this.stat.y-.2*this.stat.h,1.1*this.stat.w,1.1*this.stat.h),this.buffer_context.fill(),this.colour("#DDDDDD"),this.opacity(this.stat.a-.2*App.input.pressed),App.ext.cursor.set(App.ext.cursor.pointer,!0),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.released&&(a(),this.app.input.delay=1),this.stat.c?this.buffer_context.fillText(e,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(e,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))):(this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.fillText(e,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(e,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))),this.font(u),this.clean()}},{key:"rect",value:function(e,t,n,i,o){this.rect_ext(e,t,n,i,1,1,0,o)}},{key:"rect_centered",value:function(e,t,n,i,o){this.rect_ext(e,t,n,i,1,1,1,o)}},{key:"rect_ext",value:function(e,t,n,i,o,r,s,a){this.checkValues(e,t,n,i,o,r,s,a,""),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.buffer_context.fill(),this.clean()}},{key:"rect_stroke",value:function(e,t,n,i,o,r,s,a,l){this.checkValues(e,t,n,i,o,r,s,a,""),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.buffer_context.fillStyle="transparent",this.buffer_context.fill(),this.buffer_context.lineWidth=l||1,this.buffer_context.strokeStyle=a,this.buffer_context.stroke(),this.clean()}},{key:"rect_button",value:function(e,t,n,i,o,r,s,a,l){this.checkValues(e,t,n,i,o,r,l,s,"");var u=!1;this.touch_within_stat(this.stat)&&(u=!0,this.app.input.released&&(a(),this.app.input.delay=1)),this.rect_ext(e,t,n,i,o,r,l,s,"")}},{key:"rect_rotate",value:function(e,t,n,i,o,r,s,a){this.checkValues(e,t,n,i,r,s,1,o,""),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*a),this.stat.c?this.buffer_context.rect(0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-a),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.clean()}},{key:"rect_gradient",value:function(e,t,n,i,o,r,s,a,l,u){this.checkValues(e,t,n,i,o,r,s,a,""),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*u),this.stat.w&&this.stat.h&&this.stat.x&&this.stat.y&&(this.stat.c?this.grd=this.buffer_context.createLinearGradient(Math.floor(this.stat.w/2),0,Math.floor(this.stat.w/2),Math.floor(this.stat.h/2)):this.grd=this.buffer_context.createLinearGradient(0,0,this.stat.w,this.stat.h),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(0,0,this.stat.w,this.stat.h),this.grd.addColorStop(0,a),this.grd.addColorStop(1,l),this.buffer_context.fillStyle=this.grd,this.buffer_context.fill(),this.buffer_context.rotate(.0174532925*-u),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.clean())}},{key:"rect_free",value:function(e,t,n,i,o,r,s,a){this.checkValues(e,t,n,i,o,r,s,a,""),this.buffer_context.beginPath(),s?this.buffer_context.rect(e-n/2,t-i/2,n,i):this.buffer_context.rect(e,t,n,i),this.buffer_context.fill(),this.clean()}},{key:"screen_fill",value:function(e,t){this.checkValues(0,0,1,1,1,e,1,t,""),this.buffer_context.beginPath(),this.buffer_context.rect(0,0,window.innerWidth,window.innerHeight),this.buffer_context.fill(),this.clean()}},{key:"image_element",value:function(e){return this.elm=document.createElement("image"),this.elm.draw=function(e,t,n,i,o,r,s,a,l){var i=this.style;App.client.visuals.checkValues(t,n,e.width,e.height,i,a,l),i.position="fixed",i.left=this.stat.x+"px",i.top=this.stat.y+"px",i.width=this.stat.w+"px",i.height=this.stat.h+"px",i.opacity=this.stat.a,i.onclick=this.loc,this.src=e},document.body.appendChild(this.elm),this.elm.src=e.src,this.elm}},{key:"image_replacecol",value:function(e,t,n,i,o,r,s){function a(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0);var i=n.getImageData(0,0,t.width,t.height);return i.replace(/^data:image\/(png|jpg);base64,/,"")}this.checkValues(t,n,e.width,e.height,i,o,r);var l=new Image;l.src=e;var u=a(e);l.src=a(l),e=l;for(var c=u.data,d=0,h=1,m=2,o=3,p=0;p<c.length;p+=4)0==c[p+d]&&0==c[p+h]&&0==c[p+m]&&(c[p+o]=255);ctx.putImageData(u,0,0),e.src=r.toDataURL("image/png"),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)}},{key:"image_ext",value:function(e,t,n,i,o,r){this.checkValues(t,n,e.width,e.height,i,o,r),this.buffer_context.oImageSmoothingEnabled=!1,this.buffer_context.mozImageSmoothingEnabled=!1,this.buffer_context.webkitImageSmoothingEnabled=!1,this.buffer_context.msImageSmoothingEnabled=!1,this.buffer_context.imageSmoothingEnabled=!1,this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)}},{key:"image_ext2",value:function(e,t,n,i,o,r,s){this.checkValues(t,n,e.width,e.height,i,r,s),this.stat2=this.checkValues(t,n,e.width,e.height,o,r,s),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w*this.stat.s,this.stat.h*this.stat2.s):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w*this.stat.s,this.stat.h*this.stat2.s)}},{key:"image_centered",value:function(e,t,n,i){this.image_ext(e,t,n,1,i,1)}},{key:"image",value:function(e,t,n){this.image_ext(e,t,n,1,1,0)}},{key:"image_scaled",value:function(e,t,n,i){this.image_ext(e,t,n,i,1,0)}},{key:"image_stat",value:function(e,t,n,i,o,r,s,a,l,u){return this.checkValues(t,n,l,u,i,o,r),this.stat}},{key:"image_flip",value:function(e,t){this.checkValues(e,t,1,1,1,1,1),this.buffer_context.save(),this.buffer_context.scale(-1,1),this.buffer_context.translate(2*-this.stat.x,0)}},{key:"image_restore",value:function(e,t){}},{key:"putData",value:function(e,t,n){this.buffer_context.putImageData(e,t,n)}},{key:"image_part",value:function(e,t,n,i,o,r,s,a,l,u){this.checkValues(t,n,l,u,i,o,r),this.stat.c?this.buffer_context.drawImage(e,s,a,l,u,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,s,a,l,u,this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.opacity(1)}},{key:"image_part_flip",value:function(e,t,n,i,o,r,s,a,l,u){this.checkValues(t,n,l,u,i,o,r),this.buffer_context.scale(-1,1),this.stat.c?this.buffer_context.drawImage(e,s,a,l,u,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,s,a,l,u,this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.buffer_context.scale(-1,1)}},{key:"image_part_rotate",value:function(e,t,n,i,o,r,s,a,l,u,c){this.checkValues(t,n,l,u,i,o,r),this.buffer_context.save(),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*c),this.stat.c?this.buffer_context.drawImage(e,s,a,l,u,0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,s,a,l,u,0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-c),this.buffer_context.translate(-this.stat.x,-this.stat.y)}},{key:"image_rotate",value:function(e,t,n,i,o,r,s,a){"undefined"==typeof e&&(e=new Image,this.checkValues(t,n,e.width,e.height,i,r,!0)),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*o),this.stat.c?this.buffer_context.drawImage(e,0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-o),this.buffer_context.translate(-this.stat.x,-this.stat.y)}},{key:"texture",value:function(e,t,n,i,o,r,s,a,l,u,c){var r=r||0,u=u||0,l=l||0,d=0,h=e,m=i,p=o,c=c;l*=c,u*=c;var f=h.height,_=h.width,g=h.height,v=+_*c,y=+g*c,b=n,w=t,C=Math.round((b/c+p+(-r/c-p))%y-y),E=C,S=-m*c/2+(w/c+m*c)%v-v,I=(m+_)*c+v,x=(p+f)*c+y;if(a&&(I=0),a){var j=S-m*c/2-c*S/_;for(C=E;C<x;C+=y){var d=-C+p*c+c*C/f;a||this.image_ext(h,l+j,u+d,c,1,1),a&&this.image_scaled(h,l+j,u+d,c,1,1)}}else for(S;S<I;S+=v){var j=S-m*c/2-1*S/_;for(C=E;C<x;C+=y){var d=-C+p*c+1*C/f;a||this.image_ext(h,l+j,u+d,c,1,1),a&&this.image_scaled(h,l+j,u+d,c,1,1)}}}},{key:"rotate_at",value:function(e,t,n){if("object"===("undefined"==typeof t?"undefined":l(t)))var t=t.x,n=n.y;else var t=t,n=n;this.checkValues(t,n,1,1,1,1,1),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.buffer_context.rotate(.0174532925*e)}},{key:"rotate",value:function(e){return this.buffer_context.rotate(.0174532925*e)}},{key:"translate",value:function(e,t){if("object"===("undefined"==typeof e?"undefined":l(e)))var e=e.x,t=t.y;else var e=e,t=t;return this.checkValues(e,t,1,1,1,1,1),this.buffer_context.translate(-this.stat.x,-this.stat.y)}},{key:"button",value:function(e,t,n,i){this.image_button(e,t,n,1,i,!0,1,1,1,1)}},{key:"button_scaled",value:function(e,t,n,i,o){this.image_button(e,t,n,i,o,!0,1,1,1,1)}},{key:"buttonH",value:function(e,t,n,i,o){this.image_buttonH(e,t,n,i,o,!0,1,1,1,1)}},{key:"image_button",value:function(e,t,n,i,o,r,s,a,l,u){this.checkValues(t,n,e.width*i*s,e.height*i*a,i,l,u);var i=this.stat2=this.checkValues(t,n,e.width*i*s*.9,e.height*i*a*.9,i,l,u),c=!1;return this.touch_within_stat(i)?(c=!0,this.highlight&&this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.released&&(o(),this.app.input.delay=1),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)):(this.highlight&&this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)),c}},{key:"image_buttonH",value:function(e,t,n,i,o,r,s,a,l,u){this.checkValues(t,n,e.width*i*s,e.height*i*a,i,l,u);var i=this.stat2=this.checkValues(t,n,e.width*i*s*.9,e.height*i*a*.9,i,l,u),c=!1;return this.touch_within_stat(i,!0)?(c=!0,this.highlight&&this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.pressed&&(o(),this.app.input.delay=1),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)):(this.highlight&&this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.drawImage(e,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(e,this.stat.x,this.stat.y,this.stat.w,this.stat.h)),c}},{key:"line2",value:function(e,t,n,i,o){var r=e.x,s=e.y,a=t.x,l=t.y;this.checkValues(r,s,a,l,1,i,!0),this.stat2=this.checkValues(a,l,a,l,1,i,!0),this.buffer_context.beginPath(),this.buffer_context.moveTo(this.stat.x,this.stat.y),this.buffer_context.lineTo(this.stat2.x,this.stat2.y),this.buffer_context.strokeStyle=n,this.buffer_context.stroke()}},{key:"line",value:function(e,t,n,i,o,r){this.checkValues(e,t,n,i,1,r,!0),this.stat2=this.checkValues(n,i,n,i,1,r,!0),this.buffer_context.beginPath(),this.buffer_context.moveTo(this.stat.x,this.stat.y),this.buffer_context.lineTo(this.stat2.x,this.stat2.y),this.buffer_context.strokeStyle=o,this.buffer_context.stroke(),this.clean()}},{key:"lines",value:function(e,t,n,i,o,r,s){this.checkValues(e,t,n,i,1,r,!0),this.stat2=this.checkValues(n,i,n,i,1,r,!0),this.buffer_context.moveTo(this.stat.x*s,this.stat.y*s),this.opacity(r),this.buffer_context.strokeStyle=o,this.buffer_context.lineTo(this.stat2.x*s,this.stat2.y*s)}},{key:"lineend",value:function(){this.buffer_context.stroke()}},{key:"linestart",value:function(){this.buffer_context.beginPath()}},{key:"triangle",value:function(e,t,n,i,o,r,s,a,l){this.colour(s,a),this.buffer_context.lineWidth=l,this.buffer_context.moveTo(e,t),this.buffer_context.lineTo(n,i),this.buffer_context.lineTo(o,r),this.buffer_context.lineTo(e,t),this.buffer_context.fill(),this.buffer_context.stroke(),this.buffer_context.closePath(),this.clean()}},{key:"quadraticCurve",value:function(e,t,n,i,o,r){var s=this.buffer_context.strokeStyle,a=this.buffer_context.fillStyle;this.checkValues(e,t,1,1,1,o,!0,r),this.stat2=this.checkValues(n,i,1,1,1,o,!0,r),this.buffer_context.beginPath(),this.buffer_context.quadraticCurveTo(this.stat.x,this.stat.y,this.stat2.x,this.stat2.y),this.buffer_context.strokeStyle=r,this.buffer_context.stroke(),this.buffer_context.fill(),this.checkValues(e,t,1,1,1,o,!0,s),this.stat2=this.checkValues(n,i,1,1,1,o,!0,s),this.buffer_context.strokeStyle=s,this.buffer_context.fillStyle=a}},{key:"circle",value:function(e,t,n,i,o){var r=void 0,s=void 0,a=void 0,u=void 0,c=void 0;r=e,s=t,a=n,u=i,c=o,"object"===("undefined"==typeof r?"undefined":l(r))&&(r=e.x,s=e.y,a=t,u=n,c=i),this._circle(r,s,a,u,c)}},{key:"_circle",value:function(e,t,n,i,o){this.checkValues(e,t,1,1,n,o,0,i,""),this.buffer_context.beginPath(),this.buffer_context.arc(this.stat.x,this.stat.y,this.stat.s*this.scale,0,2*Math.PI,!1),this.buffer_context.fillStyle=this.stat.colour,this.buffer_context.fill(),this.clean()}},{key:"circle_free",value:function(e,t,n,i,o){this.checkValues(e,t,n,n,n,o,1,i),this.buffer_context.beginPath(),this.buffer_context.arc(e,t,n*this.scale,0,2*Math.PI,!1),this.buffer_context.fillStyle=this.stat.col,this.buffer_context.fill(),this.clean()}},{key:"text_width",value:function(e){return this.buffer_context.measureText(e).width}},{key:"trytolockOrientation",value:function(){var e="portrait",t=!1;return e="landscape",t}},{key:"newscale",value:function(e,t,n){var i=0,o=0,r=0,s=0,a=0,l=this.isiPhoneiOS6&&this.isSafari&&!navigator.standalone&&!this.isDomFree&&!this.isCordova;if(l&&(t+=60),this.lastWindowWidth!==e||this.lastWindowHeight!==t||n){this.lastWindowWidth=e,this.lastWindowHeight=t;var u,c,d=this.fullscreen_mode,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.isNodeFullscreen)&&!this.isCordova;if(h||0!==this.fullscreen_mode||n){h&&this.fullscreen_scaling>0&&(d=this.fullscreen_scaling);var m=this.devicePixelRatio;d>=4?(u=this.original_width/this.original_height,c=e/t,c>u?(r=t*u,5===d?(a=r*m/this.original_width,a>1?a=Math.floor(a):a<1&&(a=1/Math.ceil(1/a)),r=this.original_width*a/m,s=this.original_height*a/m,i=(e-r)/2,o=(t-s)/2,e=r,t=s):(i=(e-r)/2,e=r)):(s=e/u,5===d?(a=s*m/this.original_height,a>1?a=Math.floor(a):a<1&&(a=1/Math.ceil(1/a)),r=this.original_width*a/m,s=this.original_height*a/m,i=(e-r)/2,o=(t-s)/2,e=r,t=s):(o=(t-s)/2,t=s)),h&&!this.isNWjs&&(i=0,o=0)):this.isNWjs&&this.isNodeFullscreen&&0===this.fullscreen_mode_set&&(i=Math.floor((e-this.original_width)/2),o=Math.floor((t-this.original_height)/2),
e=this.original_width,t=this.original_height),d<2&&(this.aspect_scale=m),this.isRetina&&this.isiPad&&m>1&&(e>=1024&&(e=1023),t>=1024&&(t=1023)),this.cssWidth=Math.round(e),this.cssHeight=Math.round(t),this.width=Math.round(e*m),this.height=Math.round(t*m),this.redraw=!0,this.wantFullscreenScalingQuality?(this.draw_width=this.width,this.draw_height=this.height,this.fullscreenScalingQuality=!0):this.width<this.original_width&&this.height<this.original_height||1===d?(this.draw_width=this.width,this.draw_height=this.height,this.fullscreenScalingQuality=!0):(this.draw_width=this.original_width,this.draw_height=this.original_height,this.fullscreenScalingQuality=!1,2===d?(u=this.original_width/this.original_height,c=this.lastWindowWidth/this.lastWindowHeight,c<u?this.draw_width=this.draw_height*c:c>u&&(this.draw_height=this.draw_width/c)):3===d&&(u=this.original_width/this.original_height,c=this.lastWindowWidth/this.lastWindowHeight,c>u?this.draw_width=this.draw_height*c:c<u&&(this.draw_height=this.draw_width/c))),this.canvasdiv&&!this.isDomFree&&(jQuery(this.canvasdiv).css({width:Math.round(e)+"px",height:Math.round(t)+"px","margin-left":Math.floor(i)+"px","margin-top":Math.floor(o)+"px"}),"undefined"!=typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(e)+"px",height:Math.round(t)+"px"})),this.canvas&&(this.canvas.width=Math.round(e*m),this.canvas.height=Math.round(t*m),this.isEjecta?(this.canvas.style.left=Math.floor(i)+"px",this.canvas.style.top=Math.floor(o)+"px",this.canvas.style.width=Math.round(e)+"px",this.canvas.style.height=Math.round(t)+"px"):this.isRetina&&!this.isDomFree&&(this.canvas.style.width=Math.round(e)+"px",this.canvas.style.height=Math.round(t)+"px")),this.overlay_canvas&&(this.overlay_canvas.width=Math.round(e*m),this.overlay_canvas.height=Math.round(t*m),this.overlay_canvas.style.width=this.cssWidth+"px",this.overlay_canvas.style.height=this.cssHeight+"px"),this.glwrap&&this.glwrap.setSize(Math.round(e*m),Math.round(t*m)),this.isDirectCanvas&&this.ctx&&(this.ctx.width=Math.round(e),this.ctx.height=Math.round(t)),this.ctx&&(this.ctx.webkitImageSmoothingEnabled=this.linearSampling,this.ctx.mozImageSmoothingEnabled=this.linearSampling,this.ctx.msImageSmoothingEnabled=this.linearSampling,this.ctx.imageSmoothingEnabled=this.linearSampling),this.tryLockOrientation(),this.isDomFree||!l&&!this.isiPhone||window.setTimeout(function(){window.scrollTo(0,1)},100)}}}},{key:"stat",set:function(e){this.get("data")[0]=e},get:function(){return this.get("data")[0]}}]),t}(s.a);c.properties={data:[a.a]},t.a=c},"./src/sjs/modules/core/build.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a=n("./src/sjs/modules/app.js"),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=0,n.document=document,n.app=a.a,n.buildWindowReferences(),n}return r(t,e),u(t,[{key:"buildWindowReferences",value:function(){l(this.window.scripts)!=l([])&&(this.window.scripts=[]),this.window.SpiceJS=this.window.SJS=this,this.window.apps||(this.window.apps=new Array(1)),!this.window.appsNextId>=0&&(this.window.appsNextId=0)}},{key:"buildPrototype",value:function(){var e={};return e=new this.app(new WeakMap),e.window=this.window,e.document=document,e.controller=this,e.id=this.window.appsNextId,this.window.apps[e.id]=e,this.window.appsNextId++,this.window.apps[e.id]}},{key:"buildListeners",value:function(e){return"complete"==this.document.readyState,console.log("ready"),e.Listener(document,"DOMContentLoaded",e.OnApplicationLoad),e}},{key:"create",value:function(){var e=((new Date).getTime(),void 0),t=void 0,n=void 0;return window.utils.loadExternalJS(window.scripts),t=this.buildPrototype(),n=t.id,e=this.controller.list(n),this.buildListeners(e),t}}]),t}(s.a);t.a=c},"./src/sjs/modules/core/core.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/client/options.js"),a=n("./src/sjs/modules/user.js"),l=n("./src/sjs/modules/core/math/math.js"),u=n("./src/sjs/modules/core/legacy/legacy-core.js"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d="0.8.2",h="0.0.1",m="0.8.1",p="08-2016",f="12-2013",_=function(e){function t(){var e,n,r,u;i(this,t);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.options=s.a,r.user=a.a,r.client={visuals:function(){},graphics:function(){}},r.math=new l.a,r.time=0,r.id=0,u=n,o(r,u)}return r(t,e),c(t,[{key:"width",get:function(){return this.client.setWidth}},{key:"height",get:function(){return this.client.setHeight}},{key:"scale",get:function(){var e=1;return this.client.scale&&(e=this.client.scale),e}},{key:"version",get:function(){return this.get("version")}},{key:"fps",get:function(){return this.client.update.step.fps.toFixedNumber(2)}},{key:"main",get:function(){return this.get("main")},set:function(e){var t=this.get("main"),n=e;return t.name=n.name,t.init=n.init,t.update=n.update,t.draw=n.draw,t.app=this,t.visuals=this.client.visuals,t.graphics=this.client.graphics,t}}]),t}(u.a);_.properties={main:{},version:d+p,version_details:{_official_:d,_renderer_:h,_canvas_:m,_firstbuild_:p,_lastbuild_:f}},t.a=_},"./src/sjs/modules/core/interfaces/IFace.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./src/sjs/modules/core/interfaces/ITypes.js"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(new o.a,new WeakMap),a=function(){function e(t){i(this,e),this.map=s,"undefined"!=typeof t?(this.constructor.map=t,this.constructor.map.set(this,this.constructor.properties)):(console.warn(t),t=new WeakMap,this.constructor.map=t,this.constructor.map.set(this,this.constructor.properties))}return r(e,[{key:"get",value:function(e){return this.constructor.map.get(this)[e]}},{key:"map",set:function(e){this.constructor.map=e}}]),e}();a.properties={name:"interface",map:null,version:0},a.map=s,t.a=a},"./src/sjs/modules/core/interfaces/ITypes.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(document.createElement("meta"),{}),s="",a={x:0,y:0},l=0,u=function(){},c=[],d=[0],h=[""],m=[["_object",r],["_vector",a],["_string",s],["_number",l],["_method",u],["_array",c],["_array_number",d],["_array_string",h]],p=function(){function e(){i(this,e),this.get().forEach(function(e,t){window[e[0]]=e[1]})}return o(e,[{key:"get",value:function(){return m}}]),e}();t.a=p},"./src/sjs/modules/core/legacy/legacy-core.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tracecount=0,n}return r(t,e),a(t,[{key:"create",value:function(e){return console.trace("\t    create(a)"),this.Construct(e||{},this.client.room)}},{key:"getCurrent",value:function(){return console.trace("SJS:legacy-core.js:\t    getCurrent()"),this.client.update.state.current}},{key:"getConnection",value:function(){return console.trace("SJS:legacy-core.js:\t    getConnection()"),this.ext.connect.offline}},{key:"getConnectionError",value:function(){return console.trace("SJS:legacy-core.js:\t    getConnectionError()"),this.ext.connect.error}},{key:"getConnectionAttempts",value:function(){return console.trace("SJS:legacy-core.js:\t    getConnectionAttempts()"),this.ext.connect.connectionAttempts}},{key:"getDelta",value:function(){return console.trace("SJS:legacy-core.js:\t    getDelta()"),this.client.update.step.delta}},{key:"getScale",value:function(){return this.tracecount++<15&&console.trace("SJS:legacy-core.js:\t    getScale()"),this.client.scale}},{key:"getWidth",value:function(){return console.trace("SJS:legacy-core.js:\t    getWidth()"),this.client.setWidth}},{key:"getHeight",value:function(){return console.trace("SJS:legacy-core.js:\t    getHeight()"),this.client.setHeight}},{key:"getScaledWidth",value:function(){return console.trace("SJS:legacy-core.js:\t    getScaledWidth()"),this.client.width}},{key:"getScaledHeight",value:function(){return console.trace("SJS:legacy-core.js:\t    getScaledHeight()"),this.client.height}},{key:"setTitle",value:function(e){return console.trace("SJS:legacy-core.js:\t     setTitle(title)"),document.title==e?document.title:document.title=e}},{key:"setState",value:function(e){return console.trace("SJS:legacy-core.js:\t     setState(state)"),this.client.update.state.set(e,!0)}},{key:"toggleWidescreen",value:function(){return console.trace("SJS:legacy-core.js:\t    toggleWidescreen()"),this.client.update.fullscale=!this.client.update.fullscale}}]),t}(s.a);t.a=l},"./src/sjs/modules/core/math/math.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n("./src/sjs/modules/core/math/vector.js"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();window.Math.vector=window.Math.Vector=o.a;var s=function(){function e(){i(this,e)}return r(e,[{key:"minmax4",value:function(e,t,n,i){return e<t?n<i?(e<n?minresult=e:minresult=n,t>i?maxresult=t:maxresult=i):(e<i?minresult=e:minresult=i,t>n?maxresult=t:maxresult=n):n<i?(t<n?minresult=t:minresult=n,e>i?maxresult=e:maxresult=i):(t<i?minresult=t:minresult=i,e>n?maxresult=e:maxresult=n),{min:minresult,max:maxresult}}},{key:"testRectOverlap",value:function(e,t){if(!t||!t.collisionsEnabled)return!1;this.collisioncheck_count++,t.update_bbox();var n;t.layer;if(!t.bbox.intersects_rect(e))return!1;if(t.tilemap_exists){t.getCollisionRectCandidates(e,collrect_candidates);var i,o,r,s,a=collrect_candidates,l=t.x,u=t.y;for(i=0,o=a.length;i<o;++i)if(r=a[i],s=r.rc,this.collisioncheck_count++,e.intersects_rect_off(s,l,u)){if(!r.poly)return cr.clearArray(collrect_candidates),!0;if(this.polycheck_count++,this.temp_poly.set_from_rect(e,0,0),r.poly.intersects_poly(this.temp_poly,-(l+s.left),-(u+s.top)))return cr.clearArray(collrect_candidates),!0}return cr.clearArray(collrect_candidates),!1}return this.polycheck_count++,tmpQuad.set_from_rect(e),!!t.bquad.intersects_quad(tmpQuad)&&(!(n=t.collision_poly&&!t.collision_poly.is_empty())||(t.collision_poly.cache_poly(t.width,t.height,t.angle),tmpQuad.offset(-e.left,-e.top),this.temp_poly.set_from_quad(tmpQuad,0,0,1,1),t.collision_poly.intersects_poly(this.temp_poly,e.left-t.x,e.top-t.y)))}},{key:"testSegmentOverlap",value:function(e,t,n,i,o){if(!o||!o.collisionsEnabled)return!1;this.collisioncheck_count++,o.update_bbox();var r;o.layer;if(tmpRect.set(cr.min(e,n),cr.min(t,i),cr.max(e,n),cr.max(t,i)),!o.bbox.intersects_rect(tmpRect))return!1;if(o.tilemap_exists){o.getCollisionRectCandidates(tmpRect,collrect_candidates);var s,a,l,u,c=collrect_candidates,d=o.x,h=o.y;for(s=0,a=c.length;s<a;++s)if(l=c[s],u=l.rc,this.collisioncheck_count++,tmpRect.intersects_rect_off(u,d,h)&&(this.polycheck_count++,tmpQuad.set_from_rect(u),tmpQuad.offset(d,h),tmpQuad.intersects_segment(e,t,n,i))){if(!l.poly)return cr.clearArray(collrect_candidates),!0;if(l.poly.intersects_segment(d+u.left,h+u.top,e,t,n,i))return cr.clearArray(collrect_candidates),!0}return cr.clearArray(collrect_candidates),!1}return this.polycheck_count++,!!o.bquad.intersects_segment(e,t,n,i)&&(!(r=o.collision_poly&&!o.collision_poly.is_empty())||(o.collision_poly.cache_poly(o.width,o.height,o.angle),o.collision_poly.intersects_segment(o.x,o.y,e,t,n,i)))}},{key:"pushOutSolid",value:function(e,t,n,i,o,r){var s,a=i||50,l=e.x,u=e.y,c=null,d=null;for(s=0;s<a;s++)if(e.x=l+t*s,e.y=u+n*s,e.set_bbox_changed(),!this.testOverlap(e,c)&&(c=this.testOverlapSolid(e),c&&(d=c),!c&&(o&&(c=r?this.testOverlap(e,r)?r:null:this.testOverlapJumpThru(e),c&&(d=c)),!c)))return d&&this.pushInFractional(e,t,n,d,16),!0;return e.x=l,e.y=u,e.set_bbox_changed(),!1}},{key:"pushOut",value:function(e,t,n,i,o){var r,s=i||50,a=e.x,l=e.y;for(r=0;r<s;r++)if(e.x=a+t*r,e.y=l+n*r,e.set_bbox_changed(),!this.testOverlap(e,o))return!0;return e.x=a,e.y=l,e.set_bbox_changed(),!1}},{key:"pushInFractional",value:function(e,t,n,i,o){for(var r,s=2,a=!1,l=!1,u=e.x,c=e.y;s<=o;)r=1/s,s*=2,e.x+=t*r*(a?1:-1),e.y+=n*r*(a?1:-1),e.set_bbox_changed(),this.testOverlap(e,i)?(a=!0,l=!0):(a=!1,l=!1,u=e.x,c=e.y);l&&(e.x=u,e.y=c,e.set_bbox_changed())}},{key:"pushOutSolidNearest",value:function(e,t){var n=cr.is_undefined(t)?100:t,i=0,o=e.x,r=e.y,s=0,a=0,l=0,u=this.testOverlapSolid(e);if(!u)return!0;for(;i<=n;){switch(s){case 0:a=0,l=-1,i++;break;case 1:a=1,l=-1;break;case 2:a=1,l=0;break;case 3:a=1,l=1;break;case 4:a=0,l=1;break;case 5:a=-1,l=1;break;case 6:a=-1,l=0;break;case 7:a=-1,l=-1}if(s=(s+1)%8,e.x=cr.floor(o+a*i),e.y=cr.floor(r+l*i),e.set_bbox_changed(),!this.testOverlap(e,u)&&(u=this.testOverlapSolid(e),!u))return!0}return e.x=o,e.y=r,e.set_bbox_changed(),!1}},{key:"registerCollision",value:function(e,t){e.collisionsEnabled&&t.collisionsEnabled&&this.registered_collisions.push([e,t])}},{key:"checkRegisteredCollision",value:function(e,t){var n,i,o;for(n=0,i=this.registered_collisions.length;n<i;n++)if(o=this.registered_collisions[n],o[0]==e&&o[1]==t||o[0]==t&&o[1]==e)return!0;return!1}},{key:"calculateSolidBounceAngle",value:function(t,n,i,o){var r=t.x,s=t.y,a=cr.max(10,cr.distanceTo(n,i,r,s)),l=cr.angleTo(n,i,r,s),u=o||this.testOverlapSolid(t);if(!u)return cr.clamp_angle(l+cr.PI);var c,d,h,m,p=u,f=cr.to_radians(5);for(c=1;c<36;c++)if(d=l-c*f,t.x=n+e.cos(d)*a,t.y=i+e.sin(d)*a,t.set_bbox_changed(),!this.testOverlap(t,p)&&(p=o?null:this.testOverlapSolid(t),!p)){h=d;break}36===c&&(h=cr.clamp_angle(l+cr.PI));var p=u;for(c=1;c<36;c++)if(d=l+c*f,t.x=n+e.cos(d)*a,t.y=i+e.sin(d)*a,t.set_bbox_changed(),!this.testOverlap(t,p)&&(p=o?null:this.testOverlapSolid(t),!p)){m=d;break}if(36===c&&(m=cr.clamp_angle(l+cr.PI)),t.x=r,t.y=s,t.set_bbox_changed(),m===h)return m;var _,g=cr.angleDiff(m,h)/2;_=cr.angleClockwise(m,h)?cr.clamp_angle(h+g+cr.PI):cr.clamp_angle(m+g),assert2(!isNaN(_),"Bounce normal computed as NaN");var v=e.cos(l),y=e.sin(l),b=e.cos(_),w=e.sin(_),C=v*b+y*w,E=v-2*C*b,S=y-2*C*w;return cr.angleTo(0,0,E,S)}},{key:"saveInstanceToJSON",value:function(e,t){var n,i,o,r,s,a=e.type,l=a.plugin,u={};if(t?u.c2=!0:u.uid=e.uid,cr.hasAnyOwnProperty(e.extra)&&(u.ex=CopyExtraObject(e.extra)),e.instance_vars&&e.instance_vars.length)for(u.ivs={},n=0,i=e.instance_vars.length;n<i;n++)u.ivs[e.type.instvar_sids[n].toString()]=e.instance_vars[n];if(l.is_world){if(o={x:e.x,y:e.y,w:e.width,h:e.height,l:e.layer.sid,zi:e.get_zindex()},0!==e.angle&&(o.a=e.angle),1!==e.opacity&&(o.o=e.opacity),.5!==e.hotspotX&&(o.hX=e.hotspotX),.5!==e.hotspotY&&(o.hY=e.hotspotY),0!==e.blend_mode&&(o.bm=e.blend_mode),e.visible||(o.v=e.visible),e.collisionsEnabled||(o.ce=e.collisionsEnabled),e.my_timescale!==-1&&(o.mts=e.my_timescale),a.effect_types.length)for(o.fx=[],n=0,i=a.effect_types.length;n<i;n++)s=a.effect_types[n],o.fx.push({name:s.name,active:e.active_effect_flags[s.index],params:e.effect_params[s.index]});u.w=o}if(e.behavior_insts&&e.behavior_insts.length)for(u.behs={},n=0,i=e.behavior_insts.length;n<i;n++)r=e.behavior_insts[n],r.saveToJSON&&(u.behs[r.type.sid.toString()]=r.saveToJSON());return e.saveToJSON&&(u.data=e.saveToJSON()),u}}],[{key:"segments_intersect",value:function(e,t,n,i,o,r,s,a){var l,u,c,d,h,m,p,f;if(e<n?(u=e,l=n):(u=n,l=e),o<s?(m=o,h=s):(m=s,h=o),l<m||u>h)return!1;if(t<i?(d=t,c=i):(d=i,c=t),r<a?(f=r,p=a):(f=a,p=r),c<f||d>p)return!1;var _=o-e+s-n,g=r-t+a-i,v=n-e,y=i-t,b=s-o,w=a-r,C=cr.abs(y*b-w*v),E=b*g-w*_;if(cr.abs(E)>C)return!1;var S=v*g-y*_;return cr.abs(S)<=C}}]),e}();t.a=s},"./src/sjs/modules/core/math/vector.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new weakmap));return r.position={x:e,y:n},r}return r(t,e),t}(s.a);l.properties={name:"Vector2",x:0,y:0};var u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new WeakMap));return r.position.x=e,r.position.y=n,r}return r(t,e),a(t,[{key:"position",get:function(){return this},set:function(e){this.x=e.x,this.y=e.y}},{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}}]),a(t,[{key:"Difference",value:function(e,n){var i=e.x-n.x,o=e.y-n.y;return new t(i,o)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"sum",value:function(){return this.x+this.y}},{key:"multiply",value:function(e,t){return this._x*=e,this._y*=t,this}},{key:"offset",value:function(e,t){return this._x+=e,this._y+=t,this}}]),t}(s.a);u.properties={name:"Vector",x:_number,y:_number},t.a=u},"./src/sjs/modules/core/pace.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){return i(this,e),this.timer=0,this.rate=0,this.offset=0,this.delta=1,this.targetfps=n,this.timer=(new Date).getTime(),this.rate=t/1e3,this.offset=this.timer-1e3/t,this.delta=0,!0}return o(e,[{key:"Time",value:function(e){return this.timer=(new Date).getTime(),this.timer-this.offset}},{key:"Step",value:function(e){this.delta=this.Time(e);var t=this.rate*this.delta;return t>1&&(this.offset+=Math.floor(t)/this.rate),t-1>0}},{key:"GetStepsPerSecond",value:function(){return 1e3/this.delta}}]),e}();t.a=r},"./src/sjs/modules/core/room.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.started=!1,console.log(n.app),n}return r(t,e),a(t,[{key:"Started",value:function(){return function(){var e=this.Started;return this.Started=!0,e}}}]),t}(s.a);t.a=l},"./src/sjs/modules/core/sjs.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/sjs/modules/app.js"),n("./src/sjs/modules/core/interfaces/IFace.js"));n.d(t,"a",function(){return l});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();console.time("SJS:B:sjs.js");var l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new WeakMap)),r=e;return"undefined"==typeof r&&(r=window.SJS.controller.list(),n.warn("Unable to find app reference.","Using ",r," for ",n)),"Client"==n.constructor.name,"undefined"!=typeof r?(n.app=r,r.client&&r.client.visuals?n.visuals=r.client.visuals:(n.visuals=null,n.warn("Unable to find app visuals reference.","Using ",r," for ",n)),r.client&&r.client.graphics?n.graphics=r.client.graphics:(n.graphics=null,n.trace("Unable to find app loader reference.","Using ",r," for ",n))):(n.graphics=null,n.visuals=null,n.warn("Unable to find app reference.","Using ",r," for ",n)),n}return r(t,e),a(t,[{key:"warn",value:function(e,t,n,i,o){console.warn(t,n,i,o)}},{key:"log",value:function(e){console.trace(e,"\n",this)}}]),t}(s.a);console.timeEnd("SJS:B:sjs.js")},"./src/sjs/modules/core/state.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/interfaces/IFace.js"),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,new WeakMap));if(r.initalized=!1,"object"==("undefined"==typeof n?"undefined":a(n))&&(r.app=n,r.visuals=r.app.client.visuals,r.graphics=r.app.client.graphics),"undefined"!=typeof e){var s=[e.update,e.draw,e.init,e.name,e.html];r.update=s[0],r.draw=s[1],r.init=s[2],r.name=s[3],r.html=s[4]}return r}return r(t,e),l(t,[{key:"update",value:function(){}},{key:"draw",value:function(){}},{key:"name",value:function(){}},{key:"init",value:function(){}}]),t}(s.a);u.properties={render:function(){},update:function(){},draw:function(){},init:function(){}},t.a=u},"./src/sjs/modules/core/stats.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.x=0,this.y=0,this.w=0,this.h=0,this.s=0,this.a=0,this.c=0,this.colour="",this.oldcol="",this.init()}return o(e,[{key:"set",value:function(e){this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h,this.s=e.s,this.a=e.a,this.c=e.c,this.colour=e.colour,this.oldcol=e.oldcol}},{key:"init",value:function(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.s=0,this.a=0,this.c=0,this.colour=e||0,this.oldcol=t||0}}]),e}();t.a=r},"./src/sjs/modules/etc/metatags.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=(n("./src/sjs/modules/core/interfaces/IFace.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());console.time("SJS:B:metatags.js");var r=function(){function e(t){i(this,e),this.ms_taphighlight="no",this.apple_webapp="yes",this.apple_statusbar="black",this.devicedpi=!0,this.devicewidth=!0,this.head=document.getElementsByTagName("head")[0],this.link=null,this.meta=null,this.count=0,this.width=0,this.cache=!1,this.cacheage=3,this.width=window.innerWidth,this.append(this.new("msapplication-tap-highlight",this.ms_taphighlight)),this.append(this.new("apple-mobile-web-app-capable",this.apple_webapp)),this.append(this.new("apple-mobile-web-app-status-bar-style",this.apple_statusbar)),this.append(this.new("cursor-event-mode","native")),this.append(this.new("touch-event-mode","native")),this.append(this.new("HandheldFriendly","True")),this.devicewidth&&this.append(this.new("viewport","width=device-width, user-scalable=no")),this.devicedpi&&this.append(this.new("viewport","target-densitydpi="+this.width+",-webkit-min-device-pixel-ratio=1,min-resolution:="+this.width+",-moz-device-pixel-ratio=1")),this.append(this.new("viewport","user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1")),this.cache?this.append(this.new("cache-control","max-age="+this.cacheage)):(this.append(this.new("cache-control","max-age=0")),this.append(this.new("cache-control","no-cache")),this.append(this.new("pragma","no-cache"))),this.append(this.new("expires","Tue, 01 Jan 1980 1:00:00 GMT"))}return o(e,[{key:"metaFavicon",value:function(e){this.append(this.metaLink(e,"shortcut icon","image/png"))}},{key:"metaLink",value:function(e,t,n){return this.link=document.createElement("link"),this.link.href=e,this.link.rel=t,this.link.type=n,this.link}},{key:"new",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.meta=document.createElement("meta"),this.meta.content=t,this.meta.name=e,this.meta}},{key:"append",value:function(e){var t=!1;return this.head.appendChild(e)?(this.count++,t=!0):t=!1,t}}]),e}();t.a=r,console.timeEnd("SJS:B:metatags.js")},"./src/sjs/modules/etc/useragent.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.agent=navigator.userAgent,this.mouse=!1,this.touch=!1,this.keyboard=!1,this.windows=!1,this.chrome=!1,this.safari=!1,this.iemobile=!1,this.nokia=!1,this.ie=!1,this.ios=!1,this.blackberry=!1,this.playbook=!1,this.bb10=!1,this.mobile=!1,this.chrome=this.Chrome(),this.safari=this.Safari(),this.iemobile=this.IEMobile(),this.nokia=this.Nokia(),this.ie=this.trident=this.IE(),this.blackberry=this.BlackBerry(),this.ios=this.iOS(),this.android=this.Android(),this.touch=this.Mobile(),this.mouse=!this.Mobile()||this.BlackBerry(),this.keyboard=this.Desktop()||this.BlackBerry(),this.Mobile(),this.Desktop()}return o(e,[{key:"IE",value:function(){return!!this.agent.match(/Trident/i)}},{key:"iOS",value:function(){return!!this.agent.match(/iPhone|iPad|iPod/i)}},{key:"Nokia",value:function(){return!!this.agent.match(/Nokia/i)}},{key:"Mobile",value:function(){return this.mobile=this.IEMobile()||this.BlackBerry()||this.iOS()||this.Android()||this.Nokia()}},{key:"Chrome",value:function(){return this.chrome=!!this.agent.match(/Chrome/i)}},{key:"Safari",value:function(){return!(!this.agent.match(/Safari/i)&&!this.agent.match(/AppleWebKit/i)||this.agent.match(/Chrome/i))}},{key:"Desktop",value:function(){return this.windows=this.IEMobile()||this.IE()||!this.Mobile()}},{key:"Android",value:function(){return!!this.agent.match(/Android/i)}},{key:"IEMobile",
value:function(){var e=this.agent.match(/IEMobile/i),t=this.agent.match(/Windows Phone/i),n=this.agent.match(/touch/i);return!!(e||t||n)}},{key:"BlackBerry",value:function(){return this.playbook=this.agent.match(/PlayBook/i)||!1,this.bb10=this.agent.match(/BB10/i)||!1,!!(this.agent.match(/BlackBerry/i)||this.playbook||this.bb10)}}]),e}();t.a=r},"./src/sjs/modules/ext.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=n("./src/sjs/modules/cookies.js"),l=n("./src/sjs/modules/network/connection.js"),u=n("./src/sjs/modules/input/cursor.js"),c=n("./src/sjs/modules/etc/metatags.js"),d=n("./src/sjs/modules/etc/useragent.js"),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.useragent=new d.a,n.cookies=new a.a,n.metatag=new c.a,n.cursor=new u.a,n.connect=new l.a,n}return r(t,e),t}(s.a);t.a=h},"./src/sjs/modules/graphics.js":function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n("./src/sjs/modules/core/sjs.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(){r(this,e)}return a(e,[{key:"get",value:function(){var e=new Image;return e.src=this.src,e.file=this.file,e.name=this.name,e.number=1+window.apps[0].client.graphics.SpriteLoadErrors++,e.onload=function(){window.apps[0].client.graphics.SpriteLoadErrors--},e}},{key:"retrieveZipFile",value:function(e){e=String(e);for(var t=Application.client.data.Zip.file(e).asUint8Array(),n=[],i=65535,o=t.length,r=0;r*i<o;r++)n.push(String.fromCharCode.apply(null,t.subarray(r*i,(r+1)*i)));var s=btoa(n.join(""));return"data:image/png;base64,"+String(s).trim()}},{key:"getFromZip",value:function(){var e=new Image;String(this.src);return e.src=this.retrieveZipFile(this.src),e.file=this.file,e.name=this.name,e.number=1+window.apps[0].client.graphics.SpriteLoadErrors++,e.onload=function(){window.apps[0].client.graphics.SpriteLoadErrors--},e}},{key:"unload",value:function(){this.Sources.unload(this.name)}}]),e}(),u=function(e){function t(){var e,n,o,s;r(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.path="",o.SpriteWebItems=new Array(0),o.SpriteLoadNumber=0,o.SpriteLoadErrors=0,o.SpriteLoadTime=0,s=n,i(o,s)}return o(t,e),a(t,[{key:"graphicsLibrary",value:function(){return this.Sprite={},this.Sources={},this.Sources.prototype={get:function(){return this.index},getByName:function(e){return this.index[e]},getName:function(e){return this.index[e].name}},this.Sprite=Object.create(this.Base,{constructor:function(e,t){return this.path=e,this.filename=t,e},src:{value:"S:undefined"},file:{value:"S:undefined"},name:{value:"S:undefined"}}),this.Sources=Object.create(this.Sources.prototype,{count:{writable:!0,configurable:!0,value:0},index:{value:new Array},append:{value:function(e){this.index[e.name]!=e&&(this.index[e.name]=e,this.count++)}},unload:{value:function(e){return this.index[e]=null,this.index[e]}}}),!0}}]),t}(s.a),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.Base=new l,n.graphicsLibrary(),n}return o(t,e),a(t,[{key:"load",value:function(e,t){return"undefined"==typeof t&&(t=this.app.options.get("paths").images+""+e),this.Sources.append(this.SpriteAppend(e,t)),this.Sources.getByName(e)}},{key:"loadFromZip",value:function(e){var t=e;return this.Sources.append(this.SpriteAppendZip(e,t)),this.Sources.getByName(e)}},{key:"SpriteCreate",value:function(e,t,n){return this.SpriteLoadNumber++,this.SpriteLoadTime+=10*this.app.delta_speed*this.SpriteLoadNumber,this.sprite=Object.create(this.Sprite,{file:{value:e},src:{value:t},name:{value:n}})}},{key:"SpriteAppend",value:function(e,t){var n=(this.img=this.SpriteCreate(t,this.path+t+".png",e)).get();return n}},{key:"SpriteAppendZip",value:function(e,t){var n=(this.img=this.SpriteCreate(t,t,e)).getFromZip();return n}},{key:"SpriteUnload",value:function(e){delete this.Sources.getByName(e)}},{key:"webLoad",value:function(e,t){return this.SpriteWebItems[e]=new Image,this.SpriteWebItems[e].src=t,this.SpriteWebItems[e]}},{key:"getErrors",value:function(){return this.SpriteLoadErrors}},{key:"getImage",value:function(e){return this.Sources.getByName(e)}}]),t}(u);t.a=c},"./src/sjs/modules/input/cursor.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(t){i(this,e),this.current="auto",this.last="auto",this.changed=!1,this.count=0,this.lock=0,this.delay=4};o.Types={auto:"auto",inherit:"inherit",crosshair:"crosshair",def:"default",help:"help",move:"move",pointer:"pointer",progress:"progress",text:"text",wait:"wait",eresize:"e-resize",neresize:"ne-resize",nwresize:"nw-resize",nresize:"n-resize",seresize:"se-resize",swresize:"sw-resize",sresize:"s-resize",wresize:"w-resize"},t.a=o,window.Cursor=o},"./src/sjs/modules/input/gamepad.js":function(e,t,n){"use strict";function i(e){return"object"==("undefined"==typeof e?"undefined":o(e))?e.pressed:1==e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.position={x:0,y:0},window.vel={x:0,y:0},window.addEventListener("gamepadconnected",function(e){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",e.gamepad.index,e.gamepad.id,e.gamepad.buttons.length,e.gamepad.axes.length)}),t.a=function(){var e=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads:[];if(e){var t=e[0],n=!1,o=!1,r=!1,s=!1,a=!1,l=!1,u=!1,c=!1,d=!1;if(t)for(var h=t.buttons.length;h>0;h--)if(i(t.buttons[h]))switch(h){case 1:l=!0;break;case 2:u=!0;break;case 3:c=!0;break;case 6:d=!0;break;case 4:n=!0;break;case 14:o=!0;break;case 15:r=!0;break;case 12:s=!0;break;case 13:a=!0}return{gp:t,trigger_left:n,left:o,right:r,up:s,down:a,a:l,y:u,x:c,b:d}}}},"./src/sjs/modules/input/input.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/input/gamepad.js"),a=n("./src/sjs/modules/input/inputcontroller.js"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.delay=0,r.touch=!1,r.touch_dist={x:0,y:0},r.key=!1,r.keyPower=0,r.keyup=!1,r.keydown=!1,r.codes=[],r.codeList=[],r.control=!1,r.confine=!1,r.preventNext=!0,r.init_options(),r.keyController.init(r.app),r.down=new r.constructor._Listener("pointerdown","MSPointerDown","mousedown","touchstart",r.app.window,r.pointerdown),r.up=new r.constructor._Listener("pointerup","MSPointerUp","mouseup","touchmove",r.app.window,r.pointerup),r.move=new r.constructor._Listener("pointermove","MSPointerMove","mousemove","touchend",r.app.window,r.pointermove),r.scrollController=r.app.Construct(r.scrollController.prototype,r.scrollController.constructor).init(),r.pointerPoint=n,r.setup_universalMultitouch(),r.setup_documentListeners(),r}return r(t,e),l(t,[{key:"click",value:function(e,t){}},{key:"Click",value:function(e,t){if(console.log(this.document),"undefined"!=typeof t)if(t.click)t.click();else if(document.createEvent&&(console.log(this.document),e.target!==t)){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.target.app}},{key:"preventNextInput",value:function(){return this.preventNext=!0}},{key:"confineMouse",value:function(){return this.confine?(this.y<this.app.client.visuals.fixY(0)?(this.app.window.y=0,this.app.window.inside-=1):this.y>this.app.client.visuals.fixY(this.app.client.setHeight)?(this.app.window.y=this.app.client.visuals.fixW(this.app.client.setHeight),this.app.window.inside+=1):this.app.window.y=-this.app.client.visuals.fixY(0)+this.y,this.x<this.app.client.visuals.fixX(0)?(this.app.window.x=0,this.app.window.inside-=1):this.x>this.app.client.visuals.fixX(this.app.client.setWidth)?(this.app.window.x=this.app.client.visuals.fixW(this.app.client.setWidth),this.app.window.inside+=1):this.app.window.x=-this.app.client.visuals.fixX(0)+this.x):(this.y<this.app.client.visuals.fixY(0)?this.app.window.y=-this.app.client.visuals.fixY(0)+this.y:this.y>this.app.client.visuals.fixY(this.app.client.setHeight)?this.app.window.y=-this.app.client.visuals.fixY(0)+this.y:this.app.window.y=-this.app.client.visuals.fixY(0)+this.y,this.x<this.app.client.visuals.fixX(0)?this.app.window.x=-this.app.client.visuals.fixX(0)+this.x:this.x>this.app.client.visuals.fixX(this.app.client.setWidth)?this.app.window.x=-this.app.client.visuals.fixX(0)+this.x:this.app.window.x=-this.app.client.visuals.fixX(0)+this.x)}},{key:"init_options",value:function(){this.app.options.get("override").SelectStart||this.app.Listener(this.app.canvas.canvas,"selectstart",this.preventDefault),this.app.options.get("override").MSHoldVisual||this.app.Listener(this.app.canvas.canvas,"MSHoldVisual",this.preventDefault),this.app.options.get("override").ContextMenu&&(this.app.document.oncontextmenu=this.preventDefault,this.app.window.self.oncontextmenu=this.preventDefault),this.app.options.get("override").Drag&&(this.app.document.ondragstart=this.preventDefault,this.app.window.self.ondragstart=this.preventDefault),this.app.options.get("flags").mstouch&&this.app.document.body.setAttribute("style","-ms-touch-action: none; ms-content-zooming: none; touch-action: none; -ms-overflow-style: none;"),this.app.options.get("flags").seamless&&(this.app.document.body.style.overflow="hidden"),this.app.options.get("flags").tight&&(this.app.document.body.style.padding="0px",this.app.document.body.style.margin="0px auto")}},{key:"update",value:function(){return this.confineMouse(),this.gamepads=n.i(s.a)(),this.press=!1,this.touch=0,this.app.window.inside=0,this.wheelDelta=0,this.pressed?this.duration++:this.duration=0,this.released?(this.released=!1,this.dist.x=0,this.dist.y=0):null,this.delay>0&&(this.delay-=Math.floor(this.delay-1*this.app.getDelta())),this.codereleased=0,!0}},{key:"setup_documentListeners",value:function(){function e(){document.hidden||document.mozHidden||document.webkitHidden||document.msHidden?setSuspended(!0):setSuspended(!1)}var t=document,n=window;t.addEventListener("mousedown",function(){window.focus()},!0),t.addEventListener("touchstart",function(){window.focus()},!0),n.addEventListener("blur",function(){self.onWindowBlur()}),n.onWindowBlur=function(e){console.log("blur"),SJS.controller.list().input.pointerup(e)},n.setSuspended=function(e){e?console.log("suspended"):console.log("resume")},t.addEventListener("visibilitychange",e,!1),t.addEventListener("mozvisibilitychange",e,!1),t.addEventListener("webkitvisibilitychange",e,!1),t.addEventListener("msvisibilitychange",e,!1)}},{key:"setup_universalMultitouch",value:function(){window.PointerEvent&&(navigator.maxTouchPoints,navigator.maxTouchPoints&&navigator.maxTouchPoints>1),this.multi={list:[]},this.touched={count:0,uplist:[],downlist:[],last:{x:0,y:0},CheckTouchUp:function(){return this.uplist[this.uplist.length-1]},CheckTouchDown:function(){}}}},{key:"setup_msUniversalAppTouch",value:function(){return}}]),t}(a.a);t.a=u},"./src/sjs/modules/input/inputcontroller.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/math/vector.js"),a=n("./src/sjs/modules/core/sjs.js"),l=n("./src/sjs/modules/input/inputlistener.js"),u=n("./src/sjs/modules/input/inputkeycontroller.js"),c=n("./src/sjs/modules/input/inputscrollcontroller.js"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),d(t,[{key:"pointerup",value:function(e){if("undefined"!=typeof e&&"undefined"!=typeof e.target.app){var t=e.target.app.input.constructor;t._pointerup(e)}}},{key:"pointermove",value:function(e){if("undefined"!=typeof e&&"undefined"!=typeof e.target.app){var t=e.target.app.input.constructor;t._pointermove(e)}}},{key:"pointerdown",value:function(e){if("undefined"!=typeof e&&"undefined"!=typeof e.target.app){var t=e.target.app.input.constructor;t._pointerdown(e)}}},{key:"x",get:function(){return this.constructor._x},set:function(e){this.constructor._x=e}},{key:"y",get:function(){return this.constructor._y},set:function(e){this.constructor._y=e}},{key:"last",get:function(){return this.constructor._last},set:function(e){this.constructor._last=e}},{key:"pos",get:function(){return this.constructor._pos},set:function(e){this.constructor._pos=e}},{key:"dist",get:function(){return this.constructor._dist},set:function(e){this.constructor._dist=e}},{key:"end",get:function(){return this.constructor._end},set:function(e){this.constructor._end=e}},{key:"start",get:function(){return this.constructor._start},set:function(e){this.constructor._start=e}},{key:"duration",get:function(){return this.constructor._duration},set:function(e){this.constructor._duration=e}},{key:"angle",get:function(){return 57.2957795*Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}},{key:"angleDelta",get:function(){var e=(this.dist.x*this.dist.x+this.dist.y*this.dist.y)/2;return e}},{key:"position",get:function(){return new s.a(this.x,this.y)},set:function(e){this.x=e.x,this.y=e.y}},{key:"released",get:function(){return this.constructor._released},set:function(e){return this.constructor._released=e}},{key:"pressed",get:function(){return this.constructor._pressed},set:function(e){return this.constructor._pressed=e}},{key:"keyController",get:function(){return this.constructor._keyController},set:function(e){return this.constructor._keyController=e}},{key:"scrollController",get:function(){return this.constructor._scrollController},set:function(e){return this.constructor._scrollController=e}},{key:"horizontal",get:function(){var e=this.app.input.keyController.keyboardCheck("a")-this.app.input.keyController.keyboardCheck("d"),t=this.app.input.keyController.keyboardCheck("leftarrow")-this.app.input.keyController.keyboardCheck("rightarrow"),n=-this.pressed*this.app.input.dist.x,i=-this.pressed*this.app.input.dist.x,o=this.app.client.Math.Clamp(e||t,-1,1),r=this.app.client.Math.Clamp(n||i,-1,1);return{keyboard:o,touch:r}}},{key:"vertical",get:function(){var e=this.app.input.keyController.keyboardCheck("s")-this.app.input.keyController.keyboardCheck("w"),t=this.app.input.keyController.keyboardCheck("downarrow")-this.app.input.keyController.keyboardCheck("uparrow"),n=this.pressed*this.app.input.dist.y,i=this.pressed*this.app.input.dist.y,o=this.app.client.Math.Clamp(e||t,-1,1),r=this.app.client.Math.Clamp(n||i,-1,1);return{keyboard:o,touch:r}}}],[{key:"_pointerup",value:function(e){var t=e.target.app.input,n=e.x||e.clientX||e.pageX,i=e.y||e.clientY||e.pageY;return t.last=t.end=new s.a(n,i),t.pressed=!1,t.released=!0,!0}},{key:"_pointermove",value:function(e){var t=e.target.app.input,n=Number(e.x||e.clientX||e.pageX),i=Number(e.y||e.clientY||e.pageY);if(t.last=t.position=new s.a(n,i),t.pressed){var o=(t.x-t.start.x)*e.target.app.scale,r=(t.y-t.start.y)*e.target.app.scale;t.dist=new s.a(o.toFixedNumber(2),r.toFixedNumber(2))}t.dist.x>0&&.99*this.mouse_last>t.dist.x&&(t.start.x=t.x,t.dist.x=0),t.dist.x<0&&.99*this.mouse_last<t.dist.x&&(t.start.x=t.x,t.dist.x=0),this.mouse_last=t.dist.x}},{key:"_pointerdown",value:function(e){var t=e.target.app.input,n=Number(e.x||e.clientX||e.pageX),i=Number(e.y||e.clientY||e.pageY);t.start=new s.a(n,i),t.pressed=!0,t.touch=!0,t.touched.count++,t.touched.downlist.push(t.position),t.dist=new s.a(0,0)}}]),t}(a.a);h._x=0,h._y=0,h._last=new s.a(0,0),h._pos=new s.a(0,0),h._dist=new s.a(0,0),h._end=new s.a(0,0),h._start=new s.a(0,0),h._duration=0,h._pressed=!1,h._released=!1,h._Listener=l.a,h._keyController=new u.a,h._scrollController=c.a,t.a=h},"./src/sjs/modules/input/inputkeycontroller.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return o(e,[{key:"key_down",value:function(e){e.input.key=!0,e.input.kpressed=!0}},{key:"key_up",value:function(e){e.input.key=!1,e.input.kpressed=!1,e.input.kreleased=!0,e.input.kpressed=!1}},{key:"keyboardCheck",value:function(e){for(var t=this.codeList.length-1,n=t;n>=0;--n)if(this.codeList[n]==e)return!0;return!1}},{key:"keyboardPop",value:function(e){for(var t=this.codeList.length-1,n=t;n>=0;--n)this.codeList[n]==e&&this.codeList.splice(n,1)}},{key:"init",value:function(e){return e.Listener(e.window.self,"keydown",function(t){e.input.preventNext===!0&&t.preventDefault(),e.input.preventNext=!1,e.input.keyController.codedown=e.input.keyController.keyCodes[t.keyCode],e.input.keyController.codeList.push(e.input.keyController.codedown),t.ctrlKey&&(e.input.control=!0),e.input.released=!1,e.input.keyController.key_down(e)}),e.Listener(e.window.self,"keyup",function(t){e.input.preventNext&&t.preventDefault(),e.input.preventNext=!1,e.input.codeup=e.input.keyController.keyCodes[t.keyCode],e.input.keyController.keyboardPop(e.input.codeup),e.input.control=!1,e.input.pressed=!1,e.input.released=!0,e.input.true=!0,e.input.keyController.key_up(e)}),this.codes}},{key:"codeList",get:function(){return this.constructor._codeList}},{key:"keyCodes",get:function(){return this.constructor._keyCodes}}],[{key:"_keyCodes",get:function(){return this.codes=[],this.codes[0]="",this.codes[1]="",this.codes[2]="",this.codes[3]="",this.codes[4]="",this.codes[5]="",this.codes[6]="",this.codes[7]="",this.codes[8]="backspace",this.codes[9]="tab",this.codes[13]="enter",this.codes[16]="shift",this.codes[17]="ctrl",this.codes[18]="alt",this.codes[19]="pause/break",this.codes[20]="capslock",this.codes[27]="escape",this.codes[32]="space",this.codes[33]="pageup",this.codes[34]="pagedown",this.codes[35]="end",this.codes[36]="home",this.codes[37]="leftarrow",this.codes[38]="uparrow",this.codes[39]="rightarrow",this.codes[40]="downarrow",this.codes[45]="insert",this.codes[46]="delete",this.codes[48]="0",this.codes[49]="1",this.codes[50]="2",this.codes[51]="3",this.codes[52]="4",this.codes[53]="5",this.codes[54]="6",this.codes[55]="7",this.codes[56]="8",this.codes[57]="9",this.codes[65]="a",this.codes[66]="b",this.codes[67]="c",this.codes[68]="d",this.codes[69]="e",this.codes[70]="f",this.codes[71]="g",this.codes[72]="h",this.codes[73]="i",this.codes[74]="j",this.codes[75]="k",this.codes[76]="l",this.codes[77]="m",this.codes[78]="n",this.codes[79]="o",this.codes[80]="p",this.codes[81]="q",this.codes[82]="r",this.codes[83]="s",this.codes[84]="t",this.codes[85]="u",this.codes[86]="v",this.codes[87]="w",this.codes[88]="x",this.codes[89]="y",this.codes[90]="z",this.codes[91]="leftwindowkey",this.codes[92]="rightwindowkey",this.codes[93]="selectkey",this.codes[96]="numpad0",this.codes[97]="numpad1",this.codes[98]="numpad2",this.codes[99]="numpad3",this.codes[100]="numpad4",this.codes[101]="numpad5",this.codes[102]="numpad6",this.codes[103]="numpad7",this.codes[104]="numpad8",this.codes[105]="numpad9",this.codes[106]="multiply",this.codes[107]="add",this.codes[109]="subtract",this.codes[110]="decimalpoint",this.codes[111]="divide",this.codes[112]="f1",this.codes[113]="f2",this.codes[114]="f3",this.codes[115]="f4",this.codes[116]="f5",this.codes[117]="f6",this.codes[118]="f7",this.codes[119]="f8",this.codes[120]="f9",this.codes[121]="f10",this.codes[122]="f11",this.codes[123]="f12",this.codes[144]="numlock",this.codes[145]="scrolllock",this.codes[175]="Up (Wii?)",this.codes[176]="Down (Wii?)",this.codes[177]="Left (Wii?)",this.codes[178]="Right (Wii?)",this.codes[170]="- (Wii?)",this.codes[174]="+ (Wii?)",this.codes[172]="1 (Wii?)",this.codes[173]="2 (Wii?)",this.codes[186]="semi-colon",this.codes[187]="equalsign",this.codes[188]="comma",this.codes[189]="dash",this.codes[190]="period",this.codes[191]="forwardslash",this.codes[192]="graveaccent",this.codes[219]="openbracket",this.codes[220]="backslash",this.codes[221]="closebraket",this.codes[222]="singlequote",this.codes}}]),e}();r._codeList=[],t.a=r},"./src/sjs/modules/input/inputlistener.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r,s,a){i(this,e),this.elm=s,window.PointerEvent?this.msPointer(t,a):window.MSPointerEvent?this.Pointer(n,a):this.mousePointer(o,a),("ontouchstart"in window||navigator.maxTouchPoints)&&this.touchPointer(r,a)}return o(e,[{key:"msPointer",value:function(e,t){window.addEventListener(e,t,!1)}},{key:"Pointer",value:function(e,t){window.addEventListener(e,t,!1)}},{key:"touchPointer",value:function(e,t){window.addEventListener(e,t,!1)}},{key:"mousePointer",value:function(e,t){window.addEventListener(e,t,!1)}}]),e}();t.a=r},"./src/sjs/modules/input/inputscrollcontroller.js":function(e,t,n){"use strict";var i={prototype:{x:0,y:1,target:{x:0,y:0},accel:1,active:null,reverse:!1,window:window,doc:document.documentElement,event:function(e,t){this.app.options.get("seamless")&&(this.app.input.scroll.a=!0),this.app.options.get("seamless")&&e.preventDefault()},up:function(){var e=1;this.target.x>this.x&&(this.x+=this.app.client.Math.Clamp(Math.floor((this.target.x-this.x)*e),1,100),this.a=!0),this.target.x<this.x&&(this.x-=this.app.client.Math.Clamp(Math.floor((this.x-this.target.x)*e),1,100),this.a=!0),this.x=this.app.client.Math.Clamp(this.x,0,3*window.innerWidth),this.target.x=this.app.client.Math.Clamp(this.target.x,0,3*window.innerWidth),log(this.x,this.y)},update:function(e,t){var n=(this.app.window.pageXOffset||this.app.document.scrollLeft)-(this.app.document.clientLeft||0),i=(this.app.window.pageYOffset||this.app.document.scrollTop)-(this.app.document.clientTop||0);if(this.active){var o=Math.round(-this.x+this.target.x)/10,r=Math.round(-this.y+this.target.y)/10;return n<this.target.x&&(this.x+=this.accel*o),n>this.target.x&&(this.x+=this.accel*o),i<this.target.y&&(this.y+=this.accel*r),i>this.target.y&&(this.y+=this.accel*r),Math.round(this.x/10)!=Math.round(this.target.x/10)||Math.round(this.y/10)!=Math.round(this.target.y/10)}},to:function(e,t){this.target.x=e,this.target.y=t},gMaps:function(){var e=document.getElementById("maps");if(window.ScrollControl.elementInViewport(e)&&0==window.ScrollControl.mapInView){window.ScrollControl.mapInView=!0;var t="";t+='\t\t\t\t<iframe style="float:left;border-radius: 7px;margin:0px auto;width:100%;" height="200" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.ca/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=Toronto,+ON,+Canada&amp;aq=0&amp;oq=Toronto+Cana&amp;sll=43.656877,-79.32085&amp;sspn=0.873329,2.113495&amp;ie=UTF8&amp;hq=&amp;hnear=Toronto,+Toronto+Division,+Ontario&amp;ll=43.653226,-79.383184&amp;spn=61.734526,135.263672&amp;t=m&amp;z=4&amp;output=embed"></iframe>',t+="\t\t\t\t<br>",t+='\t\t\t\t<a href="https://maps.google.ca/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=Toronto,+ON,+Canada&amp;aq=0&amp;oq=Toronto+Cana&amp;sll=43.656877,-79.32085&amp;sspn=0.873329,2.113495&amp;ie=UTF8&amp;hq=&amp;hnear=Toronto,+Toronto+Division,+Ontario&amp;ll=43.653226,-79.383184&amp;spn=61.734526,135.263672&amp;t=m&amp;z=4"></a>',t+="\t\t\t\t<br>",e.innerHTML=t}},scroll:function(e){if(window.ScrollControl.gMaps(),void 0!=window.pageYOffset)return this.x=pageXOffset,this.y=pageYOffset,[pageXOffset,pageYOffset];var t=void 0,n=void 0,i=document,o=i.documentElement,r=i.body;return t=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0,this.x=t,this.y=n,[t,n]}},constructor:function(e){return{app:{value:e},init:{value:function(){return this.to(0,0),this}}}}};t.a=i},"./src/sjs/modules/loader.js":function(e,t,n){"use strict";function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(o,r){try{var s=t[o](r),a=s.value}catch(e){return void n(e)}return s.done?void e(a):Promise.resolve(a).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./src/sjs/modules/core/sjs.js"),l=n("./src/sjs/modules/test.js"),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();window.test=l.a;var c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.ImageCache=[],n.ImageMap=new Map;var i=n;return n.ImageCache.push=function(){var e=Array.prototype.push.apply(this,arguments);return i.ImageMap=i.ImageCache.map(function(e){return e.name}),e},n.ImageBuffer=[],n.ImageBufferTime=3,n.asyncLoadCacheIndex=0,window.Loader=n,n}return s(t,e),u(t,[{key:"checkLoaded",value:function(e){var t=this;return this.getImageReference(e).complete?this.ImageBuffer.splice(this.ImageBuffer.indexOf(e)):setTimeout(function(){t.checkLoaded(e)},this.ImageBufferTime),this.getImageReference(e)}},{key:"getBufferLength",value:function(){return this.ImageBuffer.length}},{key:"getImageReference",value:function(e){return this.ImageCache[this.ImageMap.indexOf(e)]}},{key:"loadImage",value:function(e){var t=this,n=e,i=this.graphics.load(e),o=this.ImageCache.push(i);return i.string=n,this.ImageBuffer.push(n),setTimeout(function(){t.checkLoaded(n)},this.ImageBufferTime+.1*this.ImageBuffer.length),this.ImageCache[o-1]}},{key:"getBase64Image",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0);var i=t.toDataURL("image/png");return i.replace(/^data:image\/(png|jpg);base64,/,"")}},{key:"createImageData",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.width,t.height=e.height,t.style.background="transparent",t.background="transparent";var i=this.app.canvas.buffer.getContext("2d"),e=(i.getImageData(0,0,100,100),document.createElement("img"));e.src=this.app.canvas.canvas.toDataURL("image/png"),n.drawImage(e,0,0);var o=n.getImageData(0,0,e.width,e.height);return o}},{key:"asyncLoadImage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var i,o,r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,this.app.client.graphics.load(i);case 3:return o=e.sent,o.string=i,e.next=7,this.ImageCache.push(o);case 7:return r=e.sent,e.next=10,this.ImageBuffer.push(i+n);case 10:return e.next=12,setTimeout(function(){var e=s.checkLoaded(i);s.ImageCache[r-1]=e},this.ImageBufferTime+.1*this.ImageBuffer.length);case 12:return this.asyncLoadCacheIndex=r,e.abrupt("return",this.ImageCache[r-1]);case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"asyncLoadZipImage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var i,o,r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.next=3,this.graphics.loadFromZip(i);case 3:return o=e.sent,o.string=i,e.next=7,this.ImageCache.push(o);case 7:return r=e.sent,e.next=10,this.ImageBuffer.push(i+n);case 10:return e.next=12,setTimeout(function(){var e=s.checkLoaded(i);s.ImageCache[r-1]=e},this.ImageBufferTime+.1*this.ImageBuffer.length);case 12:return this.asyncLoadCacheIndex=r,e.abrupt("return",this.ImageCache[r-1]);case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"asyncLoadImageData",value:function(){function e(e,n,i,o){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,i,o){var r,s,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.asyncLoadCacheIndex,e.next=3,this.asyncLoadImage(t,"_blit").then(function(e){a.ImageBuffer.push(t+"_blit");a[n]=e,a[n].addEventListener("load",function(){a[n]=a.visuals.blit(a[n],i,o),a[n].string=n,a.ImageCache.push(a[n]),a.ImageBuffer.splice(a.ImageBuffer.indexOf(t+"_blit2"),1)})});case 3:
return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"asyncLoadImageDataFromZip",value:function(){function e(e,n,i,o){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,i,o){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.asyncLoadCacheIndex,e.next=3,this.asyncLoadZipImage(t,"_blit").then(function(e){});case 3:return s=e.sent,e.abrupt("return",s||t);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(a.a);t.a=c},"./src/sjs/modules/network/connection.js":function(e,t,n){"use strict";function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(o,r){try{var s=t[o](r),a=s.value}catch(e){return void n(e)}return s.done?void e(a):Promise.resolve(a).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){o(this,e),this.DisableDefaultCallback=!1,this.XMLHttpRequest=window.XMLHttpRequest||ActiveXObject("Microsoft.XMLHTTP"),this.Error="",this.ErrorAttempt="SJS:XML:Request",this.ErrorOffline="SJS:Offline",this.ConnectionAttempts=0,this.offline=!1,this.testurl="https://httpbin.org/get",this.window=window,this.offline=!0,this.XML(t||this.testurl)}return r(e,[{key:"XML",value:function(){function e(e,n,i,o){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,i,o){var r,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.offline){e.next=4;break}return this.Error=this.ErrorOffline,console.warn(this.Error),e.abrupt("return");case 4:return this.Error=this.ErrorAttempt+""+this.ConnectionAttempts,console.time(this.Error),this.XMLHttpRequest||(this.XMLHttpRequest=ActiveXObject("Microsoft.XMLHTTP")),r=new this.XMLHttpRequest,r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(n&&n(r.response,i,o),s.ready(r.response,i,o))},e.next=11,r.open("HEAD",t+"?h="+Math.floor(65536*(1+Math.random())),!1);case 11:return e.next=13,r.send();case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"ready",value:function(){function e(e,n,i){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.Error=this.ErrorAttempt+""+this.ConnectionAttempts,console.timeEnd(this.Error),this.ConnectionAttempts++;case 3:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.a=s},"./src/sjs/modules/render/setInnerHTML.js":function(e,t,n){"use strict";var i=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e},o=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=i(function(e,t){e.innerHTML=t}),a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&r.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),window.setInnerHTML=s},"./src/sjs/modules/render/twitter.js":function(e,t,n){"use strict"},"./src/sjs/modules/renderer.js":function(e,t,n){"use strict";function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(o,r){try{var s=t[o](r),a=s.value}catch(e){return void n(e)}return s.done?void e(a):Promise.resolve(a).then(function(e){i("next",e)},function(e){i("throw",e)})}return i("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./src/sjs/modules/core/state.js"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=new WeakMap,c=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));window.Renderer=i,u.set(i,i.constructor.properties);var s=n;for(console.trace(i),s;s>=0;s--)i.buffer=e[s];return i}return s(t,e),l(t,[{key:"rRender",value:function(e,t){setInnerHTML(e,t)}},{key:"aRender",value:function(e,t){"undefined"!=typeof e&&"null"!=typeof e||(e=document.getElementsByTagName("body")[0]),"undefined"!=t&&"undefinedundefined"!=t&&e.insertAdjacentHTML("beforeend",t)}},{key:"queueMarkup",value:function(e){var t=e();return t=t.replace(/>\s+</g,"><"),t=t.trim()}},{key:"renderMarkup",value:function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(){var t,n,i,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.buffer,n=t.length,i=i,o=n-1;case 2:if(!(o>=0)){e.next=9;break}return r=t[o],e.next=6,this.aRender(i,r);case 6:o--,e.next=2;break;case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"buffer",get:function(){return this.get("buffer")},set:function(e){this.get("buffer").push(e)}}]),t}(a.a);c.properties={name:"Renderer",buffer:[],version:"0.0.1"},t.a=c,new c,window.MarkupBuffer=[],window.MarkupRecall=function(e){var t=e();t=t.replace(/>\s+</g,"><"),c.buffer.push(t)},window.MarkupRender=function(){for(var e=document.getElementsByTagName("body")[0],t=0;t<c.buffer.length;t++){var n=c.buffer[t],e=e;c.aRender(e,n)}},window.rRender=c.rRender,window.aRender=c.aRender},"./src/sjs/modules/test.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.StartPhase=2,n.StartAlpha=2,n.xxx=0,n.start=!1,n.continue=!1,n.sceneX=-190,n.scenePhase=0,n.sceneEndX=1,n.sceneStartSpeed=3,n.sceneEndSpeed=4,n.sceneSpeed=n.sceneStartSpeed,n}return r(t,e),a(t,[{key:"draw",value:function(){var e=this.app.getScaledWidth(),t=(this.app.getScaledHeight(),this.app.getHeight()),n=this.app.getWidth(),i=.5+.5*Math.sin(this.sceneX/120);2==this.scenePhase&&this.sceneX>320&&(i=.5+.5*Math.sin(320/120)),this.Background={},this.Background.width=e;var o=.25+.55*Math.sin(this.sceneX/120)-this.sceneEndX;2==this.scenePhase&&(o=this.sceneEndX,this.sceneSpeed=this.sceneEndSpeed),this.visuals.rect_gradient(n/2,t/2,this.Background.width,t,1,.9*i,1,"transparent","#5e5fdf"),this.visuals.rect_gradient(n/2,0*t,this.Background.width,2*t,1,.9*i,1,"transparent","#5e5fdf"),2==this.scenePhase&&(this.sceneEndX>0?this.sceneEndX-=.1:this.sceneEndX=0)}},{key:"update",value:function(){var e=this.sceneSpeed;this.scenePhase>2?this.scenePhase=2:2==this.scenePhase?this.sceneX+=e:this.scenePhase<2&&(2==this.scenePhase&&this.app.input.released&&0==this.continue&&(this.continue=!0),this.app.input.released&&(this.sceneSpeed=10),this.sceneX+=e,this.sceneX>520&&(this.sceneX=-190,this.scenePhase++),this.scenePhase>2&&(this.scenePhase=2))}}]),t}(s.a);t.a=l},"./src/sjs/modules/update.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./src/sjs/modules/core/sjs.js"),a=n("./src/sjs/modules/client/step.js"),l=n("./src/sjs/modules/core/state.js"),u=n("./src/sjs/modules/core/math/vector.js"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.last=new u.a,n.difference=new u.a,n.scaler={s:1,x:1,y:1},n.scaling=!0,n.scalediff=0,n.lastscale=1,n.fullscale=!1,n.resized=!1,n.frames=0,void 0==n.app.main.init&&n.warn(n,n.app.main,"Undefined main loop. "),n}return r(t,e),c(t,[{key:"inital",value:function(e){this.step=new this.step(new WeakMap),this.state=new this.state(e.main,e)}},{key:"scale",value:function(e){var t=new u.a(window.innerWidth,window.innerHeight);return this==window?log("Warning: Scale: [this === window]"):this.pause>.5?log("Warning: Paused",30):1==this.set?log("Warning: Scale: Duplicate Run",30):(e.app.options.canvas.override?(e.app.options.canvas.size.width!==e.width&&(e.width=e.app.options.canvas.size.width,document.body.clientHeight>t.y),e.app.options.canvas.size.height!==e.height&&(e.height=e.app.options.canvas.size.height),e.app.options.canvas.position.center&&e.app.options.canvas.size.left!==app.width/2&&(e.app.canvas.getCanvas().style.left=-e.width/2+t.x/2+"px",e.app.options.canvas.buffer&&(e.app.canvas.getBuffer().style.left=-e.width/2+t.x/2+"px"))):(t.y!==e.height&&(e.height=t.y),t.x!==e.width&&(e.width=t.x)),this.set=1,this.scaler.x=e.height/e.setHeight,this.scaler.y=e.width/e.setWidth,this.fullscale?this.scaler.s=this.scaler.x:this.scaler.s=this.scaler.x<this.scaler.y?this.scaler.x:this.scaler.y,isNaN(this.scaler.s)?this.set=0:(this.scalediff=this.scaler.s-this.lastscale,this.set=0,this.lastscale=this.scaler.s,this.scaler.s))}},{key:"size",value:function(e){return 0!=this.difference.sum()&&(console.log(e.width),e.app.canvas.canvas.width=this.last.x=e.width,e.app.canvas.canvas.height=this.last.y=e.height,e.app.canvas.buffer.width=this.last.x=e.width,e.app.canvas.buffer.height=this.last.y=e.height,!0)}},{key:"sizedelta",value:function(e){var t=new u.a(this.last.x,this.last.y),n=new u.a(e.width,e.height);return t.equals(n)?(this.difference=new u.a,!1):(this.difference=(new u.a).Difference(t,n),!0)}},{key:"step",set:function(e){this.get("data")[0]=e},get:function(){return this.get("data")[0]}},{key:"state",set:function(e){e.init(),e.initalized=!0,this.get("data")[1]=e},get:function(){return this.get("data")[1]}}]),t}(s.a);d.properties={data:[a.a,l.a]},t.a=d},"./src/sjs/modules/user.js":function(e,t,n){"use strict";t.a={name:"",id:"",locale:"",gender:"",updated_time:"",timezone:"",quotes:"",response:{},get:function(){return this.response},fbconnect:function(e,t){window.fbAsyncInit=function(){FB.init({appId:e,status:!0,cookie:!0,xfbml:!0}),FB.login(function(){FB.api("/me/feed","post",{message:"Hello, world!"})},{scope:"publish_actions"})},function(e){var t,n="facebook-jssdk",i=e.getElementsByTagName("script")[0];e.getElementById(n)||(t=e.createElement("script"),t.id=n,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",i.parentNode.insertBefore(t,i))}(document)},facebook:function(e){this.response=e,this.name=this.response.name,this.id=this.response.id,this.locale=this.response.locale,this.gender=this.response.gender,this.updated_time=this.response.updated_time,this.timezone=this.response.timezone,this.quotes=this.response.quotes}}},"./src/sjs/modules/utils.js":function(e,t,n){"use strict";function i(e){return new Promise(function(t){return setTimeout(t,e)})}Number.prototype.toFixedNumber=function(e,t){var n=Math.pow(t||10,e);return+(Math.round(this*n)/n)};var o={};window.timer=function(e){o[e+"_start"]=window.performance.now()},window.timerEnd=function(e){if(o[e+"_start"]){var t=window.performance.now()-o[e+"_start"],n=o[e+"_amount"]=o[e+"_amount"]?o[e+"_amount"]+1:1,i=o[e+"_sum"]=o[e+"_sum"]?o[e+"_sum"]+t:t;return o[e+"_avg"]=i/n,delete o[e+"_start"],t}};var r=r||{};r.FNV_OFFSET_32=2166136261,r.randomHash=function(){r.FNV_OFFSET_32="#"+Math.floor(16777215*Math.random()).toString(16)},r.hashFnv32a=function(e){for(var t=r.FNV_OFFSET_32,n=0;n<e.length;n++)t^=255&e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0},r.toHex=function(e){return("0000000"+(e>>>0).toString(16)).substr(-8)},r.requestAnimationFrame=function(){Date.now||(Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout}},r.loadExternalJS=function(e){!function(e,t,n){function i(){for(;a[0]&&"loaded"==a[0][c];)s=a.shift(),s[u]=!l.parentNode.insertBefore(s,l)}for(var o,r,s,a=[],l=e.scripts[0],u="onreadystatechange",c="readyState";o=n.shift();)r=e.createElement(t),""in l?(r.async=!1,e.head.appendChild(r)):l[c]?(a.push(r),r[u]=i):e.write("<"+t+' src="'+o+'" defer></'+t+">"),r.src=o}(document,"script",e)},r.convertArrayOfObjectsToCSV=function(e){var t,n,i,o,r,s;return s=e.data||null,null!=s&&s.length?(o=e.columnDelimiter||",",r=e.lineDelimiter||"\n",i=Object.keys(s[0]),t="",t+=i.join(o),t+=r,s.forEach(function(e){n=0,i.forEach(function(i){n>0&&(t+=o),t+=e[i],n++}),t+=r}),t):null},r.writeToCSV=function(e){var t=fs.createWriteStream("log.txt",{flags:"a"});t.write("Initial line..."),t.end("this is the end line");var n="",i=this.convertArrayOfObjectsToCSV(SpiceJS.logs("values")[1]),o="data:text/csv;charset=utf-8,";i.forEach(function(e,t){n=e.join(","),o+=t<i.length?n+"\n":n});var r=encodeURI(o),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",e+".csv"),s.click()},window.wait=i,window.utils=r;window.utils},"./src/sjs/modules/visuals.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/sjs/modules/core/sjs.js"),n("./src/sjs/modules/core/stats.js"),n("./src/sjs/modules/core/api.js")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.stat=new n.stat;var r=n.app.canvas;window.utils.requestAnimationFrame(name,0,0),n.scale=n.app.scale,n.canvas=r.canvas,n.buffer=r.buffer,n.blitter=r.blitter;var s={alpha:!0};n.blitter_context=n.blitter.getContext("2d",s),s={alpha:!1},n.canvas_context=n.canvas.getContext("2d",s);var a=n.app.options.global.globalCompositeOperation;return n.canvas_context.globalCompositeOperation=a,n.blitter_context.globalCompositeOperation=a,n.buffer_context.globalCompositeOperation=a,n.app.options.canvas.buffer?n.buffer_context=n.buffer.getContext("2d",s):n.buffer_context=n.canvas.getContext("2d",s),n.linearSampling=!1,n.buffer_context.imageSmoothingEnabled!=n.linearSampling&&n.buffer_context.mozImageSmoothingEnabled!=n.linearSampling&&n.buffer_context.msImageSmoothingEnabled!=n.linearSampling&&n.buffer_context.webkitImageSmoothingEnabled!=n.linearSampling&&(n.buffer_context.webkitImageSmoothingEnabled=n.linearSampling),n}return r(t,e),a(t,[{key:"fixX",value:function(e){return(e*this.scale+this.app.client.width/2-this.app.client.setWidth/2*this.scale).toFixedNumber(2)}},{key:"fixY",value:function(e){return(e*this.scale+this.app.client.height/2-this.app.client.setHeight/2*this.scale).toFixedNumber(2)}},{key:"fixW",value:function(e){return(e*this.scale).toFixedNumber(2)}},{key:"fixH",value:function(e){return(e*this.scale).toFixedNumber(2)}},{key:"flip",value:function(){this.scale=this.app.client.scale;var e=String("transparent"==this.app.canvas.canvas.style.background);this.fillStyle=e="false",e!=this.laststyle?this.fillStyle=e:(this.fillStyle="false",this.screen_fill(this.app.client.visuals.bleed,this.app.options.canvas.background)),this.debug&&this.app.client.fps&&this.text(this.app.client.fps,this.app.client.setWidth-125,25,"#FFFFFF"),this.app.options.canvas.buffer?(this.app.client.update.state.initalized&&this.app.client.update.state.draw(),this.canvas_context.drawImage(this.buffer,0,0),this.fillStyle===!0&&this.buffer_context.clearRect(0,0,this.window.innerWidth,this.window.innerHeight)):(this.fillStyle===!0&&this.buffer_context.clearRect(0,0,this.window.innerWidth,this.window.innerHeight),this.app.client.update.state.initalized&&this.app.client.update.state.draw())}},{key:"setBleed",value:function(e){this.bleed=e}},{key:"position",get:function(){var e=(this.app.input.x-(-this.app.getWidth()/2+this.window.innerWidth/2)+this.app.options.canvas.position.left/3).toFixedNumber(2),t=(this.app.input.y-this.app.options.canvas.position.top).toFixedNumber(2);return new Vector(e,t)}}]),t}(s.a);t.a=l},"./src/sjs/spice.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=(n("./src/sjs/modules/utils.js"),n("./src/sjs/modules/core/build.js")),a=(n("./src/sjs/modules/render/setInnerHTML.js"),n("./src/sjs/modules/render/twitter.js"),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),l=(window.JSZip=n("./node_modules/jszip/lib/index.js"),window.JSZipUtils=n("./node_modules/jszip-utils/lib/index.js"),window),u=window.Windows="undefined"==typeof u?l:u,c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return r(t,e),a(t,[{key:"time",value:function(e){console.timeEnd(e)}},{key:"timeEnd",value:function(e){console.timeEnd(e)}},{key:"aState",get:function(){return State}},{key:"controller",get:function(){return this.constructor.map.get(this).controller}},{key:"statistics",get:function(){return this.constructor.map.get(this).statistics}},{key:"window",get:function(){return l}}]),t}(s.a);c.properties={temp:{},controller:{list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e?window.apps[e]:window.apps.length>1?window.apps:window.apps[0]}}},t.a=new c(new WeakMap)},"./src/winjs/js/base.js":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var globalObject="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};!function(e){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(WinJS){var require,define;return function(){"use strict";function e(e,t){e=e||"";var n=e.split("/");return n.pop(),t.map(function(e){if("."===e[0]){var t=e.split("/"),i=n.slice(0);return t.forEach(function(e){".."===e?i.pop():"."!==e&&i.push(e)}),i.join("/")}return e})}function t(t,o,r){return t.map(function(t){if("exports"===t)return r;if("require"===t)return function(t,n){require(e(o,t),n)};var s=i[t];if(!s)throw new Error("Undefined dependency: "+t);return s.resolved||(s.resolved=n(s.dependencies,s.factory,t,s.exports),"undefined"==typeof s.resolved&&(s.resolved=s.exports)),s.resolved})}function n(e,n,i,o){var r=t(e,i,o);return n&&n.apply?n.apply(null,r):n}var i={};define=function(t,n,o){Array.isArray(n)||(o=n,n=[]);var r={dependencies:e(t,n),factory:o};n.indexOf("exports")!==-1&&(r.exports={}),i[t]=r},require=function(e,t){Array.isArray(e)||(e=[e]),n(e,t)}}(),define("amd",function(){}),define("WinJS/Core/_WinJS",{}),define("WinJS/Core/_Global",[],function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};return e}),define("WinJS/Core/_BaseCoreUtils",["./_Global"],function(e){"use strict";function t(e){return e.supportedForProcessing=!0,e}var n=!!e.Windows;return{hasWinRT:n,markSupportedForProcessing:t,_setImmediate:e.setImmediate?e.setImmediate.bind(e):function(t){e.setTimeout(t,0)}}}),define("WinJS/Core/_WriteProfilerMark",["./_Global"],function(e){"use strict";return e.msWriteProfilerMark||function(){}}),define("WinJS/Core/_Base",["./_WinJS","./_Global","./_BaseCoreUtils","./_WriteProfilerMark"],function(e,t,n,i){"use strict";function o(e,t,n){var i,o,r,s=Object.keys(t),a=Array.isArray(e);for(o=0,r=s.length;o<r;o++){var l=s[o],u=95!==l.charCodeAt(0),c=t[l];!c||"object"!==("undefined"==typeof c?"undefined":_typeof(c))||void 0===c.value&&"function"!=typeof c.get&&"function"!=typeof c.set?u?a?e.forEach(function(e){e[l]=c}):e[l]=c:(i=i||{},i[l]={value:c,enumerable:u,configurable:!0,writable:!0}):(void 0===c.enumerable&&(c.enumerable=u),n&&c.setName&&"function"==typeof c.setName&&c.setName(n+"."+l),i=i||{},i[l]=c)}i&&(a?e.forEach(function(e){Object.defineProperties(e,i)}):Object.defineProperties(e,i))}return function(){function n(n,i){var o=n||{};if(i){var r=i.split(".");o===t&&"WinJS"===r[0]&&(o=e,r.splice(0,1));for(var s=0,a=r.length;s<a;s++){var l=r[s];o[l]||Object.defineProperty(o,l,{value:{},writable:!1,enumerable:!0,configurable:!0}),o=o[l]}}return o}function r(e,t,i){var r=n(e,t);return i&&o(r,i,t||"<ANONYMOUS>"),r}function s(e,n){return r(t,e,n)}function a(e){var t,n,o=c.uninitialized;return{setName:function(e){t=e},get:function(){switch(o){case c.initialized:return n;case c.uninitialized:o=c.working;try{i("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{i("WinJS.Namespace._lazy:"+t+",StopTM"),o=c.uninitialized}return e=null,o=c.initialized,n;case c.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(o){case c.working:throw"Illegal: reentrancy on initialization";default:o=c.initialized,n=e}},enumerable:!0,configurable:!0}}function l(e,i,r){var s=[e],a=null;return i&&(a=n(t,i),s.push(a)),o(s,r,i||"<ANONYMOUS>"),a}var u=e;u.Namespace||(u.Namespace=Object.create(Object.prototype));var c={uninitialized:1,working:2,initialized:3};Object.defineProperties(u.Namespace,{defineWithParent:{value:r,writable:!0,enumerable:!0,configurable:!0},define:{value:s,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:a,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:l,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,i){return e=e||function(){},n.markSupportedForProcessing(e),t&&o(e.prototype,t),i&&o(e,i),e}function i(e,i,r,s){if(e){i=i||function(){};var a=e.prototype;return i.prototype=Object.create(a),n.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),r&&o(i.prototype,r),s&&o(i,s),i}return t(i,r,s)}function r(e){e=e||function(){};var t,n;for(t=1,n=arguments.length;t<n;t++)o(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:i,mix:r})}(),{Namespace:e.Namespace,Class:e.Class}}),define("WinJS/Core/_ErrorFromName",["./_Base"],function(e){"use strict";var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),define("WinJS/Core/_WinRT",["exports","./_Global","./_Base"],function(e,t,n){"use strict";e.msGetWeakWinRTProperty=t.msGetWeakWinRTProperty,e.msSetWeakWinRTProperty=t.msSetWeakWinRTProperty;var i=["Windows.ApplicationModel.DesignMode.designModeEnabled","Windows.ApplicationModel.Resources.Core.ResourceContext","Windows.ApplicationModel.Resources.Core.ResourceManager","Windows.ApplicationModel.Search.SearchQueryLinguisticDetails","Windows.Data.Text.SemanticTextQuery","Windows.Foundation.Collections.CollectionChange","Windows.Foundation.Diagnostics","Windows.Foundation.Uri","Windows.Globalization.ApplicationLanguages","Windows.Globalization.Calendar","Windows.Globalization.DateTimeFormatting","Windows.Globalization.Language","Windows.Phone.UI.Input.HardwareButtons","Windows.Storage.ApplicationData","Windows.Storage.CreationCollisionOption","Windows.Storage.BulkAccess.FileInformationFactory","Windows.Storage.FileIO","Windows.Storage.FileProperties.ThumbnailType","Windows.Storage.FileProperties.ThumbnailMode","Windows.Storage.FileProperties.ThumbnailOptions","Windows.Storage.KnownFolders","Windows.Storage.Search.FolderDepth","Windows.Storage.Search.IndexerOption","Windows.Storage.Streams.RandomAccessStreamReference","Windows.UI.ApplicationSettings.SettingsEdgeLocation","Windows.UI.ApplicationSettings.SettingsCommand","Windows.UI.ApplicationSettings.SettingsPane","Windows.UI.Core.AnimationMetrics","Windows.UI.Core.SystemNavigationManager","Windows.UI.Input.EdgeGesture","Windows.UI.Input.EdgeGestureKind","Windows.UI.Input.PointerPoint","Windows.UI.ViewManagement.HandPreference","Windows.UI.ViewManagement.InputPane","Windows.UI.ViewManagement.UIColorType","Windows.UI.ViewManagement.UISettings","Windows.UI.WebUI.Core.WebUICommandBar","Windows.UI.WebUI.Core.WebUICommandBarBitmapIcon","Windows.UI.WebUI.Core.WebUICommandBarClosedDisplayMode","Windows.UI.WebUI.Core.WebUICommandBarIconButton","Windows.UI.WebUI.Core.WebUICommandBarSymbolIcon","Windows.UI.WebUI.WebUIApplication"],o=!1;try{t.Windows.UI.ViewManagement.InputPane.getForCurrentView(),o=!0}catch(e){}i.forEach(function(i){var r=i.split("."),s={};s[r[r.length-1]]={get:function(){return o?r.reduce(function(e,t){return e?e[t]:null},t):null}},n.Namespace.defineWithParent(e,r.slice(0,-1).join("."),s)})}),define("WinJS/Core/_Events",["exports","./_Base"],function(e,t){"use strict";function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}function i(){for(var e={},t=0,i=arguments.length;t<i;t++){var o=arguments[t];e["on"+o]=n(o)}return e}var o=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),r={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],o=0,r=i.length;o<r;o++){var s=i[o];if(s.useCapture===n&&s.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var i=new o(e,t,this);n=n.slice(0,n.length);for(var r=0,s=n.length;r<s&&!i._stopImmediatePropagationCalled;r++)n[r].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var o=0,r=i.length;o<r;o++){var s=i[o];if(s.listener===t&&s.useCapture===n){i.splice(o,1),0===i.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:i,eventMixin:r})}),define("require-json",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("require-json!strings/en-us/Microsoft.WinJS.resjson",{"tv/scrollViewerPageDown":"Page Down","tv/scrollViewerPageUp":"Page Up","ui/appBarAriaLabel":"App Bar","ui/appBarCommandAriaLabel":"App Bar Item","ui/appBarOverflowButtonAriaLabel":"View more","ui/autoSuggestBoxAriaLabel":"Autosuggestbox","ui/autoSuggestBoxAriaLabelInputNoPlaceHolder":"Autosuggestbox, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelInputPlaceHolder":"Autosuggestbox, {0}, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelQuery":"Suggestion: {0}","_ui/autoSuggestBoxAriaLabelQuery.comment":"Suggestion: query text (example: Suggestion: contoso)","ui/autoSuggestBoxAriaLabelSeparator":"Separator: {0}","_ui/autoSuggestBoxAriaLabelSeparator.comment":"Separator: separator text (example: Separator: People or Separator: Apps)","ui/autoSuggestBoxAriaLabelResult":"Result: {0}, {1}","_ui/autoSuggestBoxAriaLabelResult.comment":"Result: text, detailed text (example: Result: contoso, www.contoso.com)","ui/averageRating":"Average Rating","ui/backbuttonarialabel":"Back","ui/chapterSkipBackMediaCommandDisplayText":"Chapter back","ui/chapterSkipForwardMediaCommandDisplayText":"Chapter forward","ui/clearYourRating":"Clear your rating","ui/closedCaptionsLabelNone":"Off",
"ui/closedCaptionsMediaCommandDisplayText":"Closed captioning","ui/closeOverlay":"Close","ui/commandingSurfaceAriaLabel":"CommandingSurface","ui/commandingSurfaceOverflowButtonAriaLabel":"View more","ui/datePicker":"Date Picker","ui/fastForwardMediaCommandDisplayText":"Fast forward","ui/fastForwardFeedbackDisplayText":" {0}X","ui/fastForwardFeedbackSlowMotionDisplayText":"0.5X","ui/flipViewPanningContainerAriaLabel":"Scrolling Container","ui/flyoutAriaLabel":"Flyout","ui/goToFullScreenButtonLabel":"Go full screen","ui/goToLiveMediaCommandDisplayText":"LIVE","ui/hubViewportAriaLabel":"Scrolling Container","ui/listViewViewportAriaLabel":"Scrolling Container","ui/mediaErrorAborted":"Playback was interrupted. Please try again.","ui/mediaErrorNetwork":"There was a network connection error.","ui/mediaErrorDecode":"The content could not be decoded","ui/mediaErrorSourceNotSupported":"This content type is not supported.","ui/mediaErrorUnknown":"There was an unknown error.","ui/mediaPlayerAudioTracksButtonLabel":"Audio tracks","ui/mediaPlayerCastButtonLabel":"Cast","ui/mediaPlayerChapterSkipBackButtonLabel":"Previous","ui/mediaPlayerChapterSkipForwardButtonLabel":"Next","ui/mediaPlayerClosedCaptionsButtonLabel":"Closed captions","ui/mediaPlayerFastForwardButtonLabel":"Fast forward","ui/mediaPlayerFullscreenButtonLabel":"Fullscreen","ui/mediaPlayerLiveButtonLabel":"LIVE","ui/mediaPlayerNextTrackButtonLabel":"Next","ui/mediaPlayerOverlayActiveOptionIndicator":"(On)","ui/mediaPlayerPauseButtonLabel":"Pause","ui/mediaPlayerPlayButtonLabel":"Play","ui/mediaPlayerPlayFromBeginningButtonLabel":"Replay","ui/mediaPlayerPlayRateButtonLabel":"Playback rate","ui/mediaPlayerPreviousTrackButtonLabel":"Previous","ui/mediaPlayerRewindButtonLabel":"Rewind","ui/mediaPlayerStopButtonLabel":"Stop","ui/mediaPlayerTimeSkipBackButtonLabel":"8 second replay","ui/mediaPlayerTimeSkipForwardButtonLabel":"30 second skip","ui/mediaPlayerToggleSnapButtonLabel":"Snap","ui/mediaPlayerVolumeButtonLabel":"Volume","ui/mediaPlayerZoomButtonLabel":"Zoom","ui/menuCommandAriaLabel":"Menu Item","ui/menuAriaLabel":"Menu","ui/navBarContainerViewportAriaLabel":"Scrolling Container","ui/nextTrackMediaCommandDisplayText":"Next track","ui/off":"Off","ui/on":"On","ui/pauseMediaCommandDisplayText":"Pause","ui/playFromBeginningMediaCommandDisplayText":"Play again","ui/playbackRateHalfSpeedLabel":"0.5x","ui/playbackRateNormalSpeedLabel":"Normal","ui/playbackRateOneAndHalfSpeedLabel":"1.5x","ui/playbackRateDoubleSpeedLabel":"2x","ui/playMediaCommandDisplayText":"Play","ui/pivotAriaLabel":"Pivot","ui/pivotViewportAriaLabel":"Scrolling Container","ui/replayMediaCommandDisplayText":"Play again","ui/rewindMediaCommandDisplayText":"Rewind","ui/rewindFeedbackDisplayText":" {0}X","ui/rewindFeedbackSlowMotionDisplayText":"0.5X","ui/searchBoxAriaLabel":"Searchbox","ui/searchBoxAriaLabelInputNoPlaceHolder":"Searchbox, enter to submit query, esc to clear text","ui/searchBoxAriaLabelInputPlaceHolder":"Searchbox, {0}, enter to submit query, esc to clear text","ui/searchBoxAriaLabelButton":"Click to submit query","ui/seeMore":"See more","ui/selectAMPM":"Select A.M P.M","ui/selectDay":"Select Day","ui/selectHour":"Select Hour","ui/selectMinute":"Select Minute","ui/selectMonth":"Select Month","ui/selectYear":"Select Year","ui/settingsFlyoutAriaLabel":"Settings Flyout","ui/stopMediaCommandDisplayText":"Stop","ui/tentativeRating":"Tentative Rating","ui/timePicker":"Time Picker","ui/timeSeparator":":","ui/timeSkipBackMediaCommandDisplayText":"Skip back","ui/timeSkipForwardMediaCommandDisplayText":"Skip forward","ui/toolbarAriaLabel":"ToolBar","ui/toolbarOverflowButtonAriaLabel":"View more","ui/unrated":"Unrated","ui/userRating":"User Rating","ui/zoomMediaCommandDisplayText":"Zoom","ui/appBarIcons/previous":"","_ui/appBarIcons/previous.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/next":"","_ui/appBarIcons/next.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/play":"","_ui/appBarIcons/play.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pause":"","_ui/appBarIcons/pause.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/edit":"","_ui/appBarIcons/edit.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/save":"","_ui/appBarIcons/save.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clear":"","_ui/appBarIcons/clear.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/delete":"","_ui/appBarIcons/delete.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remove":"","_ui/appBarIcons/remove.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/add":"","_ui/appBarIcons/add.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cancel":"","_ui/appBarIcons/cancel.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accept":"","_ui/appBarIcons/accept.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/more":"","_ui/appBarIcons/more.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/redo":"","_ui/appBarIcons/redo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/undo":"","_ui/appBarIcons/undo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/home":"","_ui/appBarIcons/home.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/up":"","_ui/appBarIcons/up.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/forward":"","_ui/appBarIcons/forward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/right":"","_ui/appBarIcons/right.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/back":"","_ui/appBarIcons/back.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/left":"","_ui/appBarIcons/left.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/favorite":"","_ui/appBarIcons/favorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/camera":"","_ui/appBarIcons/camera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settings":"","_ui/appBarIcons/settings.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/video":"","_ui/appBarIcons/video.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sync":"","_ui/appBarIcons/sync.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/download":"","_ui/appBarIcons/download.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail":"","_ui/appBarIcons/mail.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/find":"","_ui/appBarIcons/find.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/help":"","_ui/appBarIcons/help.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/upload":"","_ui/appBarIcons/upload.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji":"","_ui/appBarIcons/emoji.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twopage":"","_ui/appBarIcons/twopage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/leavechat":"","_ui/appBarIcons/leavechat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailforward":"","_ui/appBarIcons/mailforward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clock":"","_ui/appBarIcons/clock.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/send":"","_ui/appBarIcons/send.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/crop":"","_ui/appBarIcons/crop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotatecamera":"","_ui/appBarIcons/rotatecamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/people":"","_ui/appBarIcons/people.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/closepane":"","_ui/appBarIcons/closepane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openpane":"","_ui/appBarIcons/openpane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/world":"","_ui/appBarIcons/world.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/flag":"","_ui/appBarIcons/flag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/previewlink":"","_ui/appBarIcons/previewlink.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/globe":"","_ui/appBarIcons/globe.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/trim":"","_ui/appBarIcons/trim.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attachcamera":"","_ui/appBarIcons/attachcamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomin":"","_ui/appBarIcons/zoomin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bookmarks":"","_ui/appBarIcons/bookmarks.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/document":"","_ui/appBarIcons/document.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/protecteddocument":"","_ui/appBarIcons/protecteddocument.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page":"","_ui/appBarIcons/page.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bullets":"","_ui/appBarIcons/bullets.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/comment":"","_ui/appBarIcons/comment.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail2":"","_ui/appBarIcons/mail2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactinfo":"","_ui/appBarIcons/contactinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hangup":"","_ui/appBarIcons/hangup.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/viewall":"","_ui/appBarIcons/viewall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mappin":"","_ui/appBarIcons/mappin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phone":"","_ui/appBarIcons/phone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/videochat":"","_ui/appBarIcons/videochat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switch":"","_ui/appBarIcons/switch.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact":"","_ui/appBarIcons/contact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rename":"","_ui/appBarIcons/rename.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pin":"","_ui/appBarIcons/pin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/musicinfo":"","_ui/appBarIcons/musicinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/go":"","_ui/appBarIcons/go.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/keyboard":"","_ui/appBarIcons/keyboard.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockleft":"","_ui/appBarIcons/dockleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockright":"","_ui/appBarIcons/dockright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockbottom":"","_ui/appBarIcons/dockbottom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remote":"","_ui/appBarIcons/remote.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/refresh":"","_ui/appBarIcons/refresh.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotate":"","_ui/appBarIcons/rotate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shuffle":"","_ui/appBarIcons/shuffle.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/list":"","_ui/appBarIcons/list.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shop":"","_ui/appBarIcons/shop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/selectall":"","_ui/appBarIcons/selectall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/orientation":"","_ui/appBarIcons/orientation.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/import":"","_ui/appBarIcons/import.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/importall":"","_ui/appBarIcons/importall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/browsephotos":"","_ui/appBarIcons/browsephotos.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/webcam":"","_ui/appBarIcons/webcam.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pictures":"","_ui/appBarIcons/pictures.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/savelocal":"","_ui/appBarIcons/savelocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/caption":"","_ui/appBarIcons/caption.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stop":"","_ui/appBarIcons/stop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showresults":"","_ui/appBarIcons/showresults.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/volume":"","_ui/appBarIcons/volume.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repair":"","_ui/appBarIcons/repair.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/message":"","_ui/appBarIcons/message.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page2":"","_ui/appBarIcons/page2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarday":"","_ui/appBarIcons/calendarday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarweek":"","_ui/appBarIcons/calendarweek.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendar":"","_ui/appBarIcons/calendar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/characters":"","_ui/appBarIcons/characters.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreplyall":"","_ui/appBarIcons/mailreplyall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/read":"","_ui/appBarIcons/read.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/link":"","_ui/appBarIcons/link.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accounts":"","_ui/appBarIcons/accounts.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showbcc":"","_ui/appBarIcons/showbcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hidebcc":"","_ui/appBarIcons/hidebcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cut":"","_ui/appBarIcons/cut.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attach":"","_ui/appBarIcons/attach.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/paste":"","_ui/appBarIcons/paste.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/filter":"","_ui/appBarIcons/filter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/copy":"","_ui/appBarIcons/copy.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji2":"","_ui/appBarIcons/emoji2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/important":"","_ui/appBarIcons/important.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreply":"","_ui/appBarIcons/mailreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/slideshow":"","_ui/appBarIcons/slideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sort":"","_ui/appBarIcons/sort.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/manage":"","_ui/appBarIcons/manage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/allapps":"","_ui/appBarIcons/allapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disconnectdrive":"","_ui/appBarIcons/disconnectdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mapdrive":"","_ui/appBarIcons/mapdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newwindow":"","_ui/appBarIcons/newwindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openwith":"","_ui/appBarIcons/openwith.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactpresence":"","_ui/appBarIcons/contactpresence.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/priority":"","_ui/appBarIcons/priority.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/uploadskydrive":"","_ui/appBarIcons/uploadskydrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gototoday":"","_ui/appBarIcons/gototoday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/font":"","_ui/appBarIcons/font.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontcolor":"","_ui/appBarIcons/fontcolor.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact2":"","_ui/appBarIcons/contact2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/folder":"","_ui/appBarIcons/folder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/audio":"","_ui/appBarIcons/audio.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/placeholder":"","_ui/appBarIcons/placeholder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/view":"","_ui/appBarIcons/view.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/setlockscreen":"","_ui/appBarIcons/setlockscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settile":"","_ui/appBarIcons/settile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cc":"","_ui/appBarIcons/cc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stopslideshow":"","_ui/appBarIcons/stopslideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/permissions":"","_ui/appBarIcons/permissions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/highlight":"","_ui/appBarIcons/highlight.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disableupdates":"","_ui/appBarIcons/disableupdates.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unfavorite":"","_ui/appBarIcons/unfavorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unpin":"","_ui/appBarIcons/unpin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openlocal":"","_ui/appBarIcons/openlocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mute":"","_ui/appBarIcons/mute.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/italic":"","_ui/appBarIcons/italic.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/underline":"","_ui/appBarIcons/underline.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bold":"","_ui/appBarIcons/bold.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/movetofolder":"","_ui/appBarIcons/movetofolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/likedislike":"","_ui/appBarIcons/likedislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dislike":"","_ui/appBarIcons/dislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/like":"","_ui/appBarIcons/like.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignright":"","_ui/appBarIcons/alignright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/aligncenter":"","_ui/appBarIcons/aligncenter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignleft":"","_ui/appBarIcons/alignleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoom":"","_ui/appBarIcons/zoom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomout":"","_ui/appBarIcons/zoomout.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openfile":"","_ui/appBarIcons/openfile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/otheruser":"","_ui/appBarIcons/otheruser.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/admin":"","_ui/appBarIcons/admin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/street":"","_ui/appBarIcons/street.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/map":"","_ui/appBarIcons/map.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clearselection":"","_ui/appBarIcons/clearselection.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontdecrease":"","_ui/appBarIcons/fontdecrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontincrease":"","_ui/appBarIcons/fontincrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontsize":"","_ui/appBarIcons/fontsize.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cellphone":"","_ui/appBarIcons/cellphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reshare":"","_ui/appBarIcons/reshare.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/tag":"","_ui/appBarIcons/tag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatone":"","_ui/appBarIcons/repeatone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatall":"","_ui/appBarIcons/repeatall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/outlinestar":"","_ui/appBarIcons/outlinestar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/solidstar":"","_ui/appBarIcons/solidstar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calculator":"","_ui/appBarIcons/calculator.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/directions":"","_ui/appBarIcons/directions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/target":"","_ui/appBarIcons/target.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/library":"","_ui/appBarIcons/library.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phonebook":"","_ui/appBarIcons/phonebook.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/memo":"","_ui/appBarIcons/memo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/microphone":"","_ui/appBarIcons/microphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/postupdate":"","_ui/appBarIcons/postupdate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/backtowindow":"","_ui/appBarIcons/backtowindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fullscreen":"","_ui/appBarIcons/fullscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newfolder":"","_ui/appBarIcons/newfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarreply":"","_ui/appBarIcons/calendarreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unsyncfolder":"","_ui/appBarIcons/unsyncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reporthacked":"","_ui/appBarIcons/reporthacked.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/syncfolder":"","_ui/appBarIcons/syncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/blockcontact":"","_ui/appBarIcons/blockcontact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switchapps":"","_ui/appBarIcons/switchapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/addfriend":"","_ui/appBarIcons/addfriend.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/touchpointer":"","_ui/appBarIcons/touchpointer.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gotostart":"","_ui/appBarIcons/gotostart.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zerobars":"","_ui/appBarIcons/zerobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/onebar":"","_ui/appBarIcons/onebar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twobars":"","_ui/appBarIcons/twobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/threebars":"","_ui/appBarIcons/threebars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fourbars":"","_ui/appBarIcons/fourbars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/scan":"","_ui/appBarIcons/scan.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/preview":"","_ui/appBarIcons/preview.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hamburger":"","_ui/appBarIcons/hamburger.comment":"{Locked=qps-ploc,qps-plocm}"}),define("WinJS/Core/_Resources",["exports","./_Global","./_WinRT","./_Base","./_Events","require-json!strings/en-us/Microsoft.WinJS.resjson"],function(e,t,n,i,o,r){"use strict";function s(e){var t=v("ms-resource:///Microsoft.WinJS/"+e);return t.empty&&(t=a(e)),t}function a(e){var t=r[e];return"string"==typeof t&&(t={value:t}),t||{value:e,empty:!0}}function l(e){var t=arguments;return t.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,n,i,o,r,s){if(r||s)throw l(_.malformedFormatStringInput,r||s);return n&&"{"||i&&"}"||t[(0|o)+1]})),e}var u,c,d=!1,h="contextchanged",m=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),o.eventMixin),p=new m,f=o._createEventProperty,_={get malformedFormatStringInput(){return"Malformed, did you mean to escape your '{0}'?"}};i.Namespace.define("WinJS.Resources",{_getWinJSString:s}),i.Namespace._moduleDefine(e,"WinJS.Resources",{addEventListener:function(t,i,o){if(n.Windows.ApplicationModel.Resources.Core.ResourceManager&&!d&&t===h)try{var r=e._getResourceContext();r?r.qualifierValues.addEventListener("mapchanged",function(t){e.dispatchEvent(h,{qualifier:t.key,changed:t.target[t.key]})},!1):n.Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(t){e.dispatchEvent(h,{qualifier:t.key,changed:t.target[t.key]})},!1),d=!0}catch(e){}p.addEventListener(t,i,o)},removeEventListener:p.removeEventListener.bind(p),dispatchEvent:p.dispatchEvent.bind(p),_formatString:l,_getStringWinRT:function(t){if(!u){var i=n.Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{u=i.getSubtree("Resources")}catch(e){}u||(u=i)}var o,r,s;try{var a=e._getResourceContext();s=a?u.getValue(t,a):u.getValue(t),s&&(o=s.valueAsString,void 0===o&&(o=s.toString()))}catch(e){}if(!o)return e._getStringJS(t);try{r=s.getQualifierValue("Language")}catch(e){return{value:o}}return{value:o,lang:r}},_getStringJS:function(e){var n=t.strings&&t.strings[e];return"string"==typeof n&&(n={value:n}),n||{value:e,empty:!0}},_getResourceContext:function(){if(t.document&&"undefined"==typeof c){var e=n.Windows.ApplicationModel.Resources.Core.ResourceContext;c=e.getForCurrentView?e.getForCurrentView():null}return c},oncontextchanged:f(h)});var g=n.Windows.ApplicationModel.Resources.Core.ResourceManager?e._getStringWinRT:e._getStringJS,v=function(e){return g(e)};i.Namespace._moduleDefine(e,null,{_formatString:l,_getWinJSString:s}),i.Namespace._moduleDefine(e,"WinJS.Resources",{getString:{get:function(){return v},set:function(e){v=e}}})}),define("WinJS/Core/_Trace",["./_Global"],function(e){"use strict";function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),define("WinJS/Promise/_StateMachine",["../Core/_Global","../Core/_BaseCoreUtils","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Trace"],function(e,t,n,i,o,r){"use strict";function s(){}function a(e,t){var n;n=t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"function"==typeof t.then?D:R,e._value=t,e._setState(n)}function l(e,t,n,i,o,r){return{exception:e,error:t,promise:n,handler:r,id:i,parent:o}}function u(e,t,n,i){var o=n._isException,r=n._errorId;return l(o?t:null,o?null:t,e,r,n,i)}function c(e,t,n){var i=n._isException,o=n._errorId;return b(e,o,i),l(i?t:null,i?null:t,e,o,n)}function d(e,t){var n=++W;return b(e,n),l(null,t,e,n)}function h(e,t){var n=++W;return b(e,n,!0),l(t,null,e,n)}function m(e,t,n,i){var o=r._traceAsyncOperationStarting("WinJS.Promise.done");y(e,{c:t,e:n,p:i,asyncOpID:o})}function p(e,t,n,i){e._value=t,g(e,t,n,i),e._setState(z)}function f(t,n){var i=t._value,o=t._listeners;if(o){t._listeners=null;var s,a;for(s=0,a=Array.isArray(o)?o.length:1;s<a;s++){var l=1===a?o:o[s],u=l.c,c=l.promise;if(r._traceAsyncOperationCompleted(l.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),c){r._traceAsyncCallbackStarting(l.asyncOpID);try{c._setCompleteValue(u?u(i):i)}catch(e){c._setExceptionValue(e)}finally{r._traceAsyncCallbackCompleted()}c._state!==D&&c._listeners&&n.push(c)}else G.prototype.done.call(t,u)}}}function _(t,n){var i=t._value,o=t._listeners;if(o){t._listeners=null;var s,a;for(s=0,a=Array.isArray(o)?o.length:1;s<a;s++){var l=1===a?o:o[s],c=l.e,d=l.promise,h=e.Debug&&(i&&i.name===P?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(r._traceAsyncOperationCompleted(l.asyncOpID,h),d){var m=!1;try{c?(r._traceAsyncCallbackStarting(l.asyncOpID),m=!0,c.handlesOnError||g(d,i,u,t,c),d._setCompleteValue(c(i))):d._setChainedErrorValue(i,t)}catch(e){d._setExceptionValue(e)}finally{m&&r._traceAsyncCallbackCompleted()}d._state!==D&&d._listeners&&n.push(d)}else J.prototype.done.call(t,null,c)}}}function g(e,t,n,i,o){if(j._listeners[k]){if(t instanceof Error&&t.message===P)return;j.dispatchEvent(k,n(e,t,i,o))}}function v(e,t){var n=e._listeners;if(n){var i,o;for(i=0,o=Array.isArray(n)?n.length:1;i<o;i++){var r=1===o?n:n[i],s=r.p;if(s)try{s(t)}catch(e){}r.c||r.e||!r.promise||r.promise._progress(t)}}}function y(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function b(e,t,n){e._isException=n||!1,e._errorId=t}function w(e,t,n,i){e._value=t,g(e,t,n,i),e._setState(H)}function C(e,t){var n;n=t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"function"==typeof t.then?D:F,e._value=t,e._setState(n)}function E(e,t,n,i){var o=new q(e),s=r._traceAsyncOperationStarting("WinJS.Promise.then");return y(e,{promise:o,c:t,e:n,p:i,asyncOpID:s}),o}function S(n){var i;return new Y(function(o){n?i=e.setTimeout(o,n):t._setImmediate(o)},function(){i&&e.clearTimeout(i)})}function I(e,t){var n=function(){t.cancel()},i=function(){e.cancel()};return e.then(n),t.then(i,i),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var x=n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),o.eventMixin),j=new x;j._listeners={};var k="error",P="Canceled",T=!1,O={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};O.all=O.promise|O.thenPromise|O.errorPromise|O.exceptionPromise|O.completePromise;var A,M,D,L,N,B,R,F,z,H,W=1;A={name:"created",enter:function(e){e._setState(M)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},M={name:"working",enter:s,cancel:function(e){e._setState(N)},done:m,then:E,_completed:a,_error:p,_notify:s,_progress:v,_setCompleteValue:C,_setErrorValue:w},D={name:"waiting",enter:function(e){var t=e._value;if(t instanceof q&&t._state!==H&&t._state!==F)y(t,{promise:e});else{var n=function n(i){t._errorId?e._chainedError(i,t):(g(e,i,u,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(L)},done:m,then:E,_completed:a,_error:p,_notify:s,_progress:v,_setCompleteValue:C,_setErrorValue:w},L={name:"waiting_canceled",enter:function(e){e._setState(B);var t=e._value;t.cancel&&t.cancel()},cancel:s,done:m,then:E,_completed:a,_error:p,_notify:s,_progress:v,_setCompleteValue:C,_setErrorValue:w},N={name:"canceled",enter:function(e){e._setState(B),e._cancelAction()},cancel:s,done:m,then:E,_completed:a,_error:p,_notify:s,_progress:v,_setCompleteValue:C,_setErrorValue:w},B={name:"canceling",enter:function(e){var t=new Error(P);t.name=t.message,e._value=t,e._setState(z)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},R={name:"complete_notify",enter:function(e){if(e.done=G.prototype.done,e.then=G.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(F)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:f,_progress:s,_setCompleteValue:s,_setErrorValue:s},F={name:"success",enter:function(e){e.done=G.prototype.done,e.then=G.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:f,_progress:s,_setCompleteValue:s,_setErrorValue:s},z={name:"error_notify",enter:function(e){if(e.done=J.prototype.done,e.then=J.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(H)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:_,_progress:s,_setCompleteValue:s,_setErrorValue:s},H={name:"error",enter:function(e){e.done=J.prototype.done,e.then=J.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:_,_progress:s,_setCompleteValue:s,_setErrorValue:s};var V,U=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,c,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,d);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,c,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,h);
return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),q=n.Class.derive(U,function(e){T&&(T===!0||T&O.thenPromise)&&(this._stack=Y._getStack()),this._creator=e,this._setState(A),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),J=n.Class.define(function(e){T&&(T===!0||T&O.errorPromise)&&(this._stack=Y._getStack()),this._value=e,g(this,e,d)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||g(null,n,u,this,t);var i=t(n);return void(i&&"object"===("undefined"==typeof i?"undefined":_typeof(i))&&"function"==typeof i.done&&i.done())}catch(e){n=e}n instanceof Error&&n.message===P||Y._doneHandler(n)},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||g(null,i,u,this,t),n=new G(t(i))}catch(e){n=e===i?this:new K(e)}return n}},{supportedForProcessing:!1}),K=n.Class.derive(J,function(e){T&&(T===!0||T&O.exceptionPromise)&&(this._stack=Y._getStack()),this._value=e,g(this,e,h)},{},{supportedForProcessing:!1}),G=n.Class.define(function(e){if(T&&(T===!0||T&O.completePromise)&&(this._stack=Y._getStack()),e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.then){var t=new q(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&"function"==typeof t.done&&t.done()}catch(e){Y._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new G(t)}catch(e){return new K(e)}}},{supportedForProcessing:!1}),Y=n.Class.derive(U,function(e,t){T&&(T===!0||T&O.promise)&&(this._stack=Y._getStack()),this._oncancel=t,this._setState(A),this._run();try{var n=this._completed.bind(this),i=this._error.bind(this),o=this._progress.bind(this);e(n,i,o)}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(e){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){j.addEventListener(e,t,n)},any:function(e){return new Y(function(t,n){var i=Object.keys(e);0===i.length&&t();var o=0;i.forEach(function(r){Y.as(e[r]).then(function(){t({key:r,value:e[r]})},function(s){return s instanceof Error&&s.name===P?void(++o===i.length&&t(Y.cancel)):void n({key:r,value:e[r]})})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.then?e:new G(e)},cancel:{get:function(){return V=V||new J(new i(P))}},dispatchEvent:function(e,t){return j.dispatchEvent(e,t)},is:function(e){return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"function"==typeof e.then},join:function(e){return new Y(function(t,n,i){var o=Object.keys(e),r=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},a=0,l=o.length,u=function(e){if(0===--l){var a=Object.keys(r).length;if(0===a)t(s);else{var u=0;o.forEach(function(e){var t=r[e];t instanceof Error&&t.name===P&&u++}),u===a?t(Y.cancel):n(r)}}else i({Key:e,Done:!0})};if(o.forEach(function(t){var n=e[t];void 0===n?a++:Y.then(n,function(e){s[t]=e,u(t)},function(e){r[t]=e,u(t)})}),l-=a,0===l)return void t(s)},function(){Object.keys(e).forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){j.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return Y.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var o=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){o[r]=Y.as(e[r]).then(t,n,i)}),Y.join(o)},timeout:function(e,t){var n=S(e);return t?I(n,t):n},wrap:function(e){return new G(e)},wrapError:function(e){return new J(e)},_veryExpensiveTagWithStack:{get:function(){return T},set:function(e){T=e}},_veryExpensiveTagWithStack_tag:O,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!Y.is(e))return Y.wrap(e);var n,i,o=new Y(function(e,t){n=e,i=t},function(){n=null,i=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){i&&i(e)}),o}});return Object.defineProperties(Y,o.createEventProperties(k)),Y._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:U,Promise:Y,state_created:A}}),define("WinJS/Promise",["./Core/_Base","./Promise/_StateMachine"],function(e,t){"use strict";return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),define("WinJS/Core/_Log",["exports","./_Global","./_Base"],function(e,t,n){"use strict";function i(e,t,n){var i=e;return"function"==typeof i&&(i=i()),(n&&a.test(n)?"":n?n+": ":"")+(t?t.replace(s,":")+": ":"")+i}function o(n,i,o){var r=e.formatLog(n,i,o);t.console&&t.console[o&&a.test(o)?o:"log"](r)}function r(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var s=/\s+/g,a=/^(error|warn|info|log)$/,l=null;n.Namespace._moduleDefine(e,"WinJS.Utilities",{startLog:function(t){t=t||{},"string"==typeof t&&(t={tags:t});var n=t.type&&new RegExp("^("+r(t.type).replace(s," ").split(" ").join("|")+")$"),i=t.excludeTags&&new RegExp("(^|\\s)("+r(t.excludeTags).replace(s," ").split(" ").join("|")+")(\\s|$)","i"),a=t.tags&&new RegExp("(^|\\s)("+r(t.tags).replace(s," ").split(" ").join("|")+")(\\s|$)","i"),l=t.action||o;if(!(n||i||a||e.log))return void(e.log=l);var u=function e(t,o,r){n&&!n.test(r)||i&&i.test(o)||a&&!a.test(o)||l(t,o,r),e.next&&e.next(t,o,r)};u.next=e.log,e.log=u},stopLog:function(){e.log=null},formatLog:i}),n.Namespace._moduleDefine(e,"WinJS",{log:{get:function(){return l},set:function(e){l=e}}})}),define("WinJS/Scheduler",["exports","./Core/_Global","./Core/_Base","./Core/_ErrorFromName","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WriteProfilerMark","./Promise"],function(e,t,n,i,o,r,s,a,l){"use strict";function u(e){var t={},n="_prev"+e,i="_next"+e;return t["_remove"+e]=function(){var e=this[n],t=this[i];t&&(t[n]=e),e&&(e[i]=t),this[n]=null,this[i]=null},t["_insert"+e+"Before"]=function(e){var t=this[n];return t&&(t[i]=e),e[i]=this,e[n]=t,this[n]=e,e},t["_insert"+e+"After"]=function(e){var t=this[i];return this[i]=e,e[i]=t,e[n]=this,t&&(t[n]=e),e},t}function c(e,t,n){return void 0!==n?"("+e+";"+t+";"+n+")":void 0!==t?"("+e+";"+t+")":void 0!==e?"("+e+")":""}function d(e,t,n,i){a("WinJS.Scheduler:"+e+c(n,i)+","+t)}function h(e,t,n,i,o){var r=e.name||void 0!==i||void 0!==o;a("WinJS.Scheduler:"+t+":"+e.id+(r?c(e.name,i,o):"")+","+n)}function m(){return!1}function p(e){throw"Illegal call by job("+e.id+") in state: "+this.name}function f(e){return function(t,n,i){t._setState(e,n,i)}}function _(e,t){e._setPriority(t)}function g(e,t){function n(e,t){o.log&&o.log(t+": MARKER: "+e.name,"winjs scheduler","log")}function i(e,t){o.log&&o.log(t+": JOB("+e.id+"): state: "+(e._state?e._state.name:"")+(e.name?", name: "+e.name:""),"winjs scheduler","log")}o.log&&o.log("highWaterMark: "+je,"winjs scheduler","log");var r=0,s=t?we[we.length-1]:we[0],a=s;do a instanceof he&&n(a,r),a instanceof U&&i(a,r),r++,a=t?a["_prev"+e]:a["_next"+e];while(a)}function v(){function e(e,n){t+="    "+(n?"*":" ")+"id: "+e.id+", priority: "+D(e.priority).name+(e.name?", name: "+e.name:"")+"\n"}var t="";t+="Jobs:\n";var n=D(je),i=0;for(Ee&&(e(Ee,!0),i++);n.priority>=be.min;)n instanceof U&&(e(n,!1),i++),n=n._nextJob;0===i&&(t+="     None\n"),t+="Drain requests:\n";for(var o=0,r=Ie.length;o<r;o++)t+="    "+(0===o?"*":" ")+"priority: "+D(Ie[o].priority).name+", name: "+Ie[o].name+"\n";return 0===Ie.length&&(t+="     None\n"),t}function y(){var e=we[0];do{if(e instanceof U)return!1;e=e._nextJob}while(e);return!0}function b(){return 0===Ie.length?null:Ie[0].priority}function w(e){d("drain","StartTM",e.name,D(e.priority).name)}function C(e,t){t&&d("drain-canceled","info",e.name,D(e.priority).name),d("drain","StopTM",e.name,D(e.priority).name)}function E(e,t,n){Ie.push({priority:e,complete:t,name:n}),1===Ie.length&&(w(Ie[0]),e>je&&(je=e,fe=!0))}function S(e,t){var n,i=Ie.length;for(n=0;n<i;n++)if(Ie[n].complete===e){0===n&&(C(Ie[0],t),Ie[1]&&w(Ie[1])),Ie.splice(n,1);break}}function I(){var e=Ie.shift();e&&(C(e),Ie[0]&&w(Ie[0]),e.complete())}function x(){var e=!1;if(Ie.length)for(var t=b();+t===t&&t>je;)pe=t,I(),e=!0,t=b();return e}function j(e){return e>=be.aboveNormal+1?Te.HIGH:e>=be.belowNormal?Te.NORMAL:Te.IDLE}function k(e,t){return Oe[e]>=Oe[t]}function P(e,t){return Oe[e]>Oe[t]}function T(e){switch(e){case Te.HIGH:return!1;case Te.NORMAL:return Te.isTaskScheduledAtPriorityOrHigher(Te.HIGH);case Te.IDLE:return Te.isTaskScheduledAtPriorityOrHigher(Te.NORMAL)}}function O(e,t){var n=D(t);n.priority>je&&(je=n.priority,fe=!0),n._insertJobAfter(e)}function A(e,t){var n=D(t);n.priority>je&&(je=n.priority,fe=!0),n._nextMarker._insertJobBefore(e)}function M(e){return e|=0,e=Math.max(e,ve),e=Math.min(e,ye)}function D(e){return e=M(e),we[-1*(e-ye)]}function L(e){me=!0,d("timeslice","StartTM");var t,n,i,o=!0,r=!1,s=!1;fe=!1;try{for(var a=Ae(),l=a+xe,u=function(){return r=!1,!!fe||(!!T(j(je))||!Ie.length&&(Ae()>l&&(r=!0,!0)))};je>=be.min&&!u()&&!s;){t=!1,n=D(je)._nextJob;do{if(pe=n.priority,n instanceof U)i!==n.priority&&(+i===i&&d("priority","StopTM",D(i).name),d("priority","StartTM",D(n.priority).name),i=n.priority),t=!0,o=!1,Ee=n,h(Ee,"job-running","StartTM",D(pe).name),n._execute(u),h(Ee,"job-running","StopTM",D(pe).name),Ee=null,o=!0;else{var c=j(je);je=n.priority,t=x();var m=j(je);!P(c,m)||Se&&!Te.isTaskScheduledAtPriorityOrHigher(m)||(s=!0)}n=n._nextJob}while(n&&!t&&!s&&!T(j(je)));fe=!1}}finally{Ee=null,o||(h(n,"job-error","info"),h(n,"job-running","StopTM",D(pe).name),n.cancel()),+i===i&&d("priority","StopTM",D(i).name);for(var p=!1;je>=be.min&&!p;){t=!1,n=D(je)._nextJob;do n instanceof U?p=!0:(je=n.priority,t=x()),n=n._nextJob;while(n&&!t&&!p)}var f;f=o?r?"timeslice exhausted":je<be.min?"jobs exhausted":s?"reached WWA priority boundary":"WWA host work":"job error",e&&(Ce=null),me=!1,je>=be.min&&N(),d("yielding","info",f),d("timeslice","StopTM")}}function N(e){+e!==e&&(e=je);var t=j(e);if(!me&&(!Ce||Se&&!k(Ce,t))){var n=++Me,i=function(){De<n&&(De=Me,L(!0))};Te.execAsyncAtPriority(i,t),Ce=t}}function B(e,t){var n=ge++;void 0===t&&(t="Drain Request "+n),e=+e===e?e:be.min,e=M(e);var i,o=new l(function(n){i=n,E(e,i,t)},function(){S(i,!0)});return me||N(),o}function R(e){return Te.execAtPriority(e,Te.HIGH)}function F(){return new K}function z(e,t,n,i){t=t||be.normal,n=n||null;var o=++_e,r=s._traceAsyncOperationStarting("WinJS.Utilities.Scheduler.schedule: "+o+c(i));return i=i||"",new U(o,e,t,n,i,r)}function H(){if(me)return pe;switch(Te.getCurrentPriority()){case Te.HIGH:return be.high;case Te.NORMAL:return be.normal;case Te.IDLE:return be.idle}}function W(e){return function(t,n){var i;return new l(function(o){i=z(function(){o(t)},e,null,n)},function(){i.cancel()})}}n.Namespace.define("WinJS.Utilities",{_linkedListMixin:u});var V={get jobInfoIsNoLongerValid(){return"The job info object can only be used while the job is running"}},U=n.Class.define(function(e,t,n,i,o,r){this._id=e,this._work=t,this._context=i,this._name=o,this._asyncOpID=r,this._setPriority(n),this._setState(Y),h(this,"job-scheduled","info")},{completed:{get:function(){return!!this._state.completed}},id:{get:function(){return this._id}},name:{get:function(){return this._name},set:function(e){this._name=e}},owner:{get:function(){return this._owner},set:function(e){this._owner&&this._owner._remove(this),this._owner=e,this._owner&&this._owner._add(this)}},priority:{get:function(){return this._priority},set:function(e){e=M(e),this._state.setPriority(this,e)}},cancel:function(){this._state.cancel(this)},pause:function(){this._state.pause(this)},resume:function(){this._state.resume(this)},_execute:function(e){this._state.execute(this,e)},_executeDone:function(e){return this._state.executeDone(this,e)},_blockedDone:function(e){return this._state.blockedDone(this,e)},_setPriority:function(e){+this._priority===this._priority&&this._priority!==e&&h(this,"job-priority-changed","info",D(this._priority).name,D(e).name),this._priority=e},_setState:function(e,t,n){this._state&&o.log&&o.log("Transitioning job ("+this.id+") from: "+this._state.name+" to: "+e.name,"winjs scheduler","log"),this._state=e,this._state.enter(this,t,n)}});n.Class.mix(U,u("Job"));var q={complete:1,continue:2,block:3},J=n.Class.define(function(e,t){this._job=t,this._result=null,this._yieldPolicy=q.complete,this._shouldYield=e},{job:{get:function(){return this._throwIfDisabled(),this._job}},shouldYield:{get:function(){return this._throwIfDisabled(),this._shouldYield()}},setPromise:function(e){this._throwIfDisabled(),this._result=e,this._yieldPolicy=q.block},setWork:function(e){this._throwIfDisabled(),this._result=e,this._yieldPolicy=q.continue},_disablePublicApi:function(){this._publicApiDisabled=!0},_throwIfDisabled:function(){if(this._publicApiDisabled)throw new i("WinJS.Utilities.Scheduler.JobInfoIsNoLongerValid",V.jobInfoIsNoLongerValid)}}),K=n.Class.define(function(){this._jobs={}},{cancelAll:function(){var e=this._jobs,t=Object.keys(e);this._jobs={};for(var n=0,i=t.length;n<i;n++)e[t[n]].cancel()},_add:function(e){this._jobs[e.id]=e},_remove:function(e){delete this._jobs[e.id]}}),G=n.Class.define(function(e){this.name=e,this.enter=p,this.execute=p,this.executeDone=p,this.blockedDone=p,this.cancel=p,this.pause=p,this.resume=p,this.setPriority=p}),Y=new G("created"),X=new G("scheduled"),Z=new G("paused"),Q=new G("canceled"),$=new G("running"),ee=new G("running_paused"),te=new G("running_resumed"),ne=new G("running_canceled"),ie=new G("running_canceled_blocked"),oe=new G("cooperative_yield"),re=new G("cooperative_yield_paused"),se=new G("blocked"),ae=new G("blocked_waiting"),le=new G("blocked_paused"),ue=new G("blocked_paused_waiting"),ce=new G("blocked_canceled"),de=new G("complete");Y.enter=function(e){A(e,e.priority),e._setState(X)},X.enter=function(){N()},X.execute=f($),X.cancel=f(Q),X.pause=f(Z),X.resume=m,X.setPriority=function(e,t){e.priority!==t&&(e._setPriority(t),e.pause(),e.resume())},Z.enter=function(e){h(e,"job-paused","info"),e._removeJob()},Z.cancel=f(Q),Z.pause=m,Z.resume=function(e){h(e,"job-resumed","info"),A(e,e.priority),e._setState(X)},Z.setPriority=_,Q.enter=function(e){h(e,"job-canceled","info"),s._traceAsyncOperationCompleted(e._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_CANCELED),e._removeJob(),e._work=null,e._context=null,e.owner=null},Q.cancel=m,Q.pause=m,Q.resume=m,Q.setPriority=m,$.enter=function(e,t){e._removeJob();var n=e.priority,i=e._work,o=e._context;e._work=null,e._context=null;var r=new J(t,e);s._traceAsyncCallbackStarting(e._asyncOpID);try{Te.execAtPriority(function(){i.call(o,r)},j(n))}finally{s._traceAsyncCallbackCompleted(),r._disablePublicApi()}e._context=o;var a=e._executeDone(r._yieldPolicy);e._setState(a,r._result,n)},$.executeDone=function(e,t){switch(t){case q.complete:return de;case q.continue:return oe;case q.block:return se}},$.cancel=function(e){fe=!0,e._setState(ne)},$.pause=function(e){fe=!0,e._setState(ee)},$.resume=m,$.setPriority=_,ee.enter=m,ee.executeDone=function(e,t){switch(t){case q.complete:return de;case q.continue:return re;case q.block:return le}},ee.cancel=f(ne),ee.pause=m,ee.resume=f(te),ee.setPriority=_,te.enter=m,te.executeDone=function(e,t){switch(t){case q.complete:return de;case q.continue:return oe;case q.block:return se}},te.cancel=f(ne),te.pause=f(ee),te.resume=m,te.setPriority=_,ne.enter=m,ne.executeDone=function(e,t){switch(t){case q.complete:case q.continue:return Q;case q.block:return ie}},ne.cancel=m,ne.pause=m,ne.resume=m,ne.setPriority=m,ie.enter=function(e,t){t.cancel(),e._setState(Q)},oe.enter=function(e,t,n){h(e,"job-yielded","info"),n===e.priority?O(e,e.priority):A(e,e.priority),e._work=t,e._setState(X)},re.enter=function(e,t){h(e,"job-yielded","info"),e._work=t,e._setState(Z)},se.enter=function(e,t,n){h(e,"job-blocked","StartTM"),e._work=t,e._setState(ae),t.done(function(t){h(e,"job-blocked","StopTM");var i=e._blockedDone(t);e._setState(i,t,n)},function(t){return t&&"Canceled"===t.name||h(e,"job-error","info"),h(e,"job-blocked","StopTM"),e._setState(Q),l.wrapError(t)})},ae.enter=m,ae.blockedDone=function(e,t){return"function"==typeof t?oe:de},ae.cancel=f(ce),ae.pause=f(ue),ae.resume=m,ae.setPriority=_,le.enter=function(e,t,n){h(e,"job-blocked","StartTM"),e._work=t,e._setState(ue),t.done(function(t){h(e,"job-blocked","StopTM");var i=e._blockedDone(t);e._setState(i,t,n)},function(t){return t&&"Canceled"===t.name||h(e,"job-error","info"),h(e,"job-blocked","StopTM"),e._setState(Q),l.wrapError(t)})},ue.enter=m,ue.blockedDone=function(e,t){return"function"==typeof t?re:de},ue.cancel=f(ce),ue.pause=m,ue.resume=f(ae),ue.setPriority=_,ce.enter=function(e){e._work.cancel(),e._work=null},ce.blockedDone=function(){return Q},ce.cancel=m,ce.pause=m,ce.resume=m,ce.setPriority=m,de.completed=!0,de.enter=function(e){s._traceAsyncOperationCompleted(e._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_SUCCESS),e._work=null,e._context=null,e.owner=null,h(e,"job-completed","info")},de.cancel=m,de.pause=m,de.resume=m,de.setPriority=m;var he=n.Class.define(function(e,t){this.priority=e,this.name=t},{});n.Class.mix(he,u("Job"),u("Marker"));var me,pe,fe,_e=0,ge=0,ve=-15,ye=15,be={max:15,high:13,aboveNormal:9,normal:0,belowNormal:-9,idle:-13,min:-15},we=[new he(15,"max"),new he(14,"14"),new he(13,"high"),new he(12,"12"),new he(11,"11"),new he(10,"10"),new he(9,"aboveNormal"),new he(8,"8"),new he(7,"7"),new he(6,"6"),new he(5,"5"),new he(4,"4"),new he(3,"3"),new he(2,"2"),new he(1,"1"),new he(0,"normal"),new he(-1,"-1"),new he(-2,"-2"),new he(-3,"-3"),new he(-4,"-4"),new he(-5,"-5"),new he(-6,"-6"),new he(-7,"-7"),new he(-8,"-8"),new he(-9,"belowNormal"),new he(-10,"-10"),new he(-11,"-11"),new he(-12,"-12"),new he(-13,"idle"),new he(-14,"-14"),new he(-15,"min"),new he(-16,"<TAIL>")],Ce=null,Ee=null,Se=!(!t.MSApp||!t.MSApp.execAtPriority),Ie=[],xe=30,je=be.min;we.reduce(function(e,t){return e&&(e._insertJobAfter(t),e._insertMarkerAfter(t)),t});var ke=t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,16)},Pe={execAsyncAtPriority:function(e,n){n===Te.HIGH&&t.setTimeout(e,0),ke(e)},execAtPriority:function(e){return e()},getCurrentPriority:function(){return Pe.NORMAL},isTaskScheduledAtPriorityOrHigher:function(){return!1},HIGH:"high",NORMAL:"normal",IDLE:"idle"},Te=Se?t.MSApp:Pe,Oe={};Oe[Te.IDLE]=1,Oe[Te.NORMAL]=2,Oe[Te.HIGH]=3;var Ae=t.performance&&t.performance.now&&t.performance.now.bind(t.performance)||Date.now.bind(Date),Me=0,De=0;n.Namespace._moduleDefine(e,"WinJS.Utilities.Scheduler",{Priority:be,schedule:z,createOwnerToken:F,execHigh:R,requestDrain:B,currentPriority:{get:H},schedulePromiseHigh:W(be.high),schedulePromiseAboveNormal:W(be.aboveNormal),schedulePromiseNormal:W(be.normal),schedulePromiseBelowNormal:W(be.belowNormal),schedulePromiseIdle:W(be.idle),retrieveState:v,_JobNode:U,_JobInfo:J,_OwnerToken:K,_dumpList:g,_isEmpty:{get:y},_usingWwaScheduler:{get:function(){return Se},set:function(e){Se=e,Te=Se?t.MSApp:Pe}},_MSApp:{get:function(){return Te},set:function(e){Te=e}},_TIME_SLICE:xe})}),define("WinJS/Core/_BaseUtils",["exports","./_Global","./_Base","./_BaseCoreUtils","./_ErrorFromName","./_Resources","./_Trace","../Promise","../Scheduler"],function(e,t,n,i,o,r,s,a,l){"use strict";function u(e){return e}function c(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}function d(e,n){return e?c(e,n||t,u):null}function h(e){return e.length>0&&0!==e.indexOf("-moz")&&"-"===e.charAt(0)&&(e=e.slice(1)),e.replace(/\-[a-z]/g,function(e){return e[1].toUpperCase()})}function m(e,t){return""===e?t:e+t.charAt(0).toUpperCase()+t.slice(1)}function p(e,t){return(""!==e?"-"+e.toLowerCase()+"-":"")+t}function f(){if(!t.document)return{};for(var e={},n=t.document.documentElement.style,i=["","webkit","ms","Moz"],o=["animation","transition","transform","animation-name","animation-duration","animation-delay","animation-timing-function","animation-iteration-count","animation-direction","animation-fill-mode","grid-column","grid-columns","grid-column-span","grid-row","grid-rows","grid-row-span","transform-origin","transition-property","transition-duration","transition-delay","transition-timing-function","scroll-snap-points-x","scroll-snap-points-y","scroll-chaining","scroll-limit","scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","touch-action","overflow-style","user-select"],r={},s=0,a=o.length;s<a;s++)for(var l=o[s],u=h(l),c=0,d=i.length;c<d;c++){var f=i[c],_=m(f,u);if(_ in n){var g=p(f,l);e[l]={cssName:g,scriptName:_},r[l]=f;break}}return e.animationPrefix=p(r.animation,""),e.keyframes=p(r.animation,"keyframes"),e}function _(){for(var e={},n=["","WebKit"],i=[{eventObject:"TransitionEvent",events:["transitionStart","transitionEnd"]},{eventObject:"AnimationEvent",events:["animationStart","animationEnd"]}],o=0,r=i.length;o<r;o++){for(var s=i[o],a="",l=0,u=n.length;l<u;l++){var c=n[l];if(c+s.eventObject in t){a=c.toLowerCase();break}}for(var l=0,d=s.events.length;l<d;l++){var h=s.events[l];e[h]=m(a,h),""===a&&(e[h]=e[h].toLowerCase())}}return e.manipulationStateChanged="MSManipulationEvent"in t?"ManipulationEvent":null,e}function g(e,t){function n(){return a.timeout(e).then(function(){i=null})}var i=null,o=null,r=null,s=null;return function(){o?(r=this,s=[].slice.call(arguments,0)):i?(r=this,s=[].slice.call(arguments,0),o=i.then(function(){var e=r;r=null;var a=s;s=null,i=n(),o=null,t.apply(e,a)})):(i=n(),t.apply(this,arguments))}}var v,y={get notSupportedForProcessing(){return"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"}},b=0,w={},C=!1,E=t.navigator.platform,S="iPhone"===E||"iPad"===E||"iPod"===E;n.Namespace._moduleDefine(e,"WinJS.Utilities",{_setHasWinRT:{value:function(e){i.hasWinRT=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return i.hasWinRT},configurable:!1,enumerable:!0},_setIsiOS:{value:function(e){S=e},configurable:!1,writable:!1,enumerable:!1},_isiOS:{get:function(){return S},configurable:!1,enumerable:!0},_getMemberFiltered:c,getMember:d,_browserStyleEquivalents:f(),_browserEventEquivalents:_(),_getCamelCasedName:h,ready:function e(n,i){return new a(function(o,r){function s(){if(n)try{n(),o()}catch(e){r(e)}else o()}var a=e._testReadyState;a||(a=t.document?t.document.readyState:"complete"),"complete"===a||t.document&&null!==t.document.body?i?l.schedule(function(){s()},l.Priority.normal,null,"WinJS.Utilities.ready"):s():t.addEventListener("DOMContentLoaded",s,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:i.markSupportedForProcessing,configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(e){var n=!0;switch(n=n&&e!==t,n=n&&e!==t.location,n=n&&!(e instanceof t.HTMLIFrameElement),n=n&&!("function"==typeof e&&!e.supportedForProcessing),t.frames.length){case 0:break;case 1:n=n&&e!==t.frames[0];break;default:for(var i=0,s=t.frames.length;n&&i<s;i++)n=n&&e!==t.frames[i]}if(n)return e;throw new o("WinJS.Utilities.requireSupportedForProcessing",r._formatString(y.notSupportedForProcessing,e))},configurable:!1,writable:!1,enumerable:!0},_setImmediate:i._setImmediate,_requestAnimationFrame:t.requestAnimationFrame?t.requestAnimationFrame.bind(t):function(e){var n=++b;return w[n]=e,v=v||t.setTimeout(function(){var e=w,t=Date.now();w={},v=null,Object.keys(e).forEach(function(n){e[n](t)})},16),n},_cancelAnimationFrame:t.cancelAnimationFrame?t.cancelAnimationFrame.bind(t):function(e){delete w[e]},_yieldForEvents:t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,0)},_yieldForDomModification:t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,0)},_throttledFunction:g,_shallowCopy:function(e){return this._mergeAll([e])},_merge:function(e,t){return this._mergeAll([e,t])},_mergeAll:function(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t},_getProfilerMarkIdentifier:function(e){var t="";return e.id&&(t+=" id='"+e.id+"'"),e.className&&(t+=" class='"+e.className+"'"),t},_now:function(){return t.performance&&t.performance.now&&t.performance.now()||Date.now()},_traceAsyncOperationStarting:s._traceAsyncOperationStarting,_traceAsyncOperationCompleted:s._traceAsyncOperationCompleted,_traceAsyncCallbackStarting:s._traceAsyncCallbackStarting,_traceAsyncCallbackCompleted:s._traceAsyncCallbackCompleted,_version:"4.4.0"}),n.Namespace._moduleDefine(e,"WinJS",{validation:{get:function(){return C},set:function(e){C=e}}}),n.Namespace.define("WinJS",{strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}),define("WinJS/Core",["./Core/_Base","./Core/_BaseCoreUtils","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Global","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WinRT","./Core/_WriteProfilerMark"],function(){}),define("WinJS/_Signal",["./Core/_Base","./Promise/_StateMachine"],function(e,t){"use strict";var n=e.Class.derive(t.PromiseStateMachine,function(e){this._oncancel=e,this._setState(t.state_created),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),i=e.Class.define(function(e){this._promise=new n(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{_Signal:i}),i}),define("WinJS/Utilities/_Control",["exports","../Core/_Global","../Core/_Base"],function(e,t,n){"use strict";function i(e,t){o(e,t)}function o(e,t,n){if("object"===("undefined"==typeof t?"undefined":_typeof(t)))for(var i=Object.keys(t),o=0,r=i.length;o<r;o++){var s=i[o],a=t[s];if(s.length>2){var l=s[0],u=s[1];if(!("o"!==l&&"O"!==l||"n"!==u&&"N"!==u)&&"function"==typeof a&&e.addEventListener){e.addEventListener(s.substr(2),a);continue}}n||(e[s]=a)}}t.document&&n.Namespace._moduleDefine(e,"WinJS.UI",{DOMEventMixin:n.Namespace._lazy(function(){return{_domElement:null,addEventListener:function(e,t,n){(this.element||this._domElement).addEventListener(e,t,n||!1)},dispatchEvent:function(e,n){var i=t.document.createEvent("Event");return i.initEvent(e,!1,!1),i.detail=n,"object"===("undefined"==typeof n?"undefined":_typeof(n))&&Object.keys(n).forEach(function(e){i[e]=n[e]}),(this.element||this._domElement).dispatchEvent(i)},removeEventListener:function(e,t,n){(this.element||this._domElement).removeEventListener(e,t,n||!1)}}}),setOptions:i,_setOptions:o})}),define("WinJS/Utilities/_ElementUtilities",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WinRT","../Promise","../Scheduler"],function(e,t,n,i,o,r,s){"use strict";function a(){return V||(V={},Object.keys(t.CSS2Properties.prototype).forEach(function(e){V[e]=""})),V}function l(e,n){return t.getComputedStyle(e,n)||a()}function u(e){for(var t=e.length,n=t-1;n>=0;n--)e[n]||(e.splice(n,1),t--);return t}function c(e){var t=e.className||"";return"string"==typeof t?t:t.baseVal||""}function d(e,t){var n=e.className||"";return"string"==typeof n?e.className=t:e.className.baseVal=t,e}function h(e,t){if(e.classList){if(t.indexOf(" ")<0)e.classList.add(t);else{var n=t.split(" ");u(n);for(var i=0,o=n.length;i<o;i++)e.classList.add(n[i])}return e}var r,s=c(e),a=s.split(" "),l=u(a);if(t.indexOf(" ")>=0){var n=t.split(" ");u(n);for(var i=0;i<l;i++){var h=n.indexOf(a[i]);h>=0&&n.splice(h,1)}n.length>0&&(r=n.join(" "))}else{for(var m=!1,i=0;i<l;i++)if(a[i]===t){m=!0;break}m||(r=t)}return r&&(l>0&&a[0].length>0?d(e,s+" "+r):d(e,r)),e}function m(e,t){if(e.classList){if(0===e.classList.length)return e;var n=t.split(" ");u(n);for(var i=0,o=n.length;i<o;i++)e.classList.remove(n[i]);return e}var n,r,s=c(e);if(t.indexOf(" ")>=0)n=t.split(" "),r=u(n);else{if(s.indexOf(t)<0)return e;n=[t],r=1}for(var a,l=s.split(" "),h=u(l),i=h-1;i>=0;i--)n.indexOf(l[i])>=0&&(l.splice(i,1),a=!0);return a&&d(e,l.join(" ")),e}function p(e,t){if(e.classList)return e.classList.toggle(t),e;for(var n=c(e),i=n.trim().split(" "),o=i.length,r=!1,s=0;s<o;s++)i[s]===t&&(r=!0);return r?d(e,i.reduce(function(e,n){return n===t?e:e&&e.length>0?e+" "+n:n},"")):o>0&&i[0].length>0?d(e,n+" "+t):d(e,n+t),e}function f(e,t,n){e.getAttribute(t)!==""+n&&e.setAttribute(t,n)}function _(e,t,n,i){var o=Math.max(t,Math.min(n,+e));return 0===o?0:o||Math.max(t,Math.min(n,i))}function g(e,t){if(!U.test(t)&&q.test(t)){var n=e.style.left;return e.style.left=t,t=e.style.pixelLeft,e.style.left=n,t}return Math.round(parseFloat(t))||0}function v(e,t){return g(e,l(e,null)[t])}function y(e){return parseFloat(e)||0}function b(e,t){return y(l(e,null)[t])}function w(e){var t=l(e);return{top:y(t.marginTop),right:y(t.marginRight),bottom:y(t.marginBottom),left:y(t.marginLeft)}}function C(e,t,n,i,o){var r=t.toLowerCase();e._eventsMap||(e._eventsMap={}),e._eventsMap[r]||(e._eventsMap[r]=[]),e._eventsMap[r].push({listener:n,useCapture:i,data:o})}function E(e,t,n,i){var o=t.toLowerCase(),r=e._eventsMap&&e._eventsMap[o];if(r)for(var s=r.length-1;s>=0;s--){var a=r[s];if(a.listener===n&&!!i==!!a.useCapture)return r.splice(s,1),a}return null}function S(e,t){var n=t.toLowerCase();return e._eventsMap&&e._eventsMap[n]&&e._eventsMap[n].slice(0)||[]}function I(e,t,n){for(;e;){for(var i=S(e,t),o=0,r=i.length;o<r;o++)i[o].listener.call(e,n);e=e.parentNode}}function x(e){return(e.relatedTarget&&"IFRAME"===e.relatedTarget.tagName||e.target&&"IFRAME"===e.target.tagName)&&(e.relatedTarget=null),e}function j(e,t,n,i){if(i)throw"This custom WinJS event only supports bubbling";C(e,t,n,i)}function k(e,t){var n=t.changedTouches,i=null;if(!n)return i;for(var o=0,r=n.length;o<r;o++){var s=n[o],a=new Z(t,{pointerType:G.MSPOINTER_TYPE_TOUCH,pointerId:s.identifier,isPrimary:0===o,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,radiusX:s.radiusX,radiusY:s.radiusY,rotationAngle:s.rotationAngle,force:s.force,_currentTouch:s}),l=e(a);i=i||l}return i}function P(e,t){return t.pointerType=G.MSPOINTER_TYPE_MOUSE,t.pointerId=-1,t.isPrimary=!0,e(t)}function T(e,t){return e(t)}function O(e,n,i,o){var r,s,a,l,u=n.toLowerCase(),c=Q[u];t.MSPointerEvent?(a=function(e){return e._normalizedType=u,l=!0,T(i,e)},e.addEventListener(c.mspointer,a,o)):(c.mouse&&(r=function(e){return e._normalizedType=u,l?void(l=!1):P(i,e)},e.addEventListener(c.mouse,r,o)),c.touch&&(s=function(e){return e._normalizedType=u,l=!0,k(i,e)},e.addEventListener(c.touch,s,o))),C(e,n,i,o,{mouseWrapper:r,touchWrapper:s,mspointerWrapper:a})}function A(e,t,n,i){var o=t.toLowerCase(),r=E(e,t,n,i);if(r){var s=Q[o];r.data.mouseWrapper&&e.removeEventListener(s.mouse,r.data.mouseWrapper,i),r.data.touchWrapper&&e.removeEventListener(s.touch,r.data.touchWrapper,i),r.data.mspointerWrapper&&e.removeEventListener(s.mspointer,r.data.mspointerWrapper,i)}}function M(){var e=t.document.createElement("div");e.style.direction="rtl",e.innerHTML="<div style='width: 100px; height: 100px; overflow: scroll; visibility:hidden'><div style='width: 10000px; height: 100px;'></div></div>",t.document.body.appendChild(e);var n=e.firstChild;n.scrollLeft>0&&(ae=!0),n.scrollLeft+=100,0===n.scrollLeft&&(le=!0),t.document.body.removeChild(e),se=!0}function D(e){var t=l(e),n=e.scrollLeft;return"rtl"===t.direction&&(se||M(),ae&&(n=e.scrollWidth-e.clientWidth-n),n=Math.abs(n)),{scrollLeft:n,scrollTop:e.scrollTop
}}function L(e,t,n){if(void 0!==t){var i=l(e);"rtl"===i.direction&&(se||M(),le?t=-t:ae&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}void 0!==n&&(e.scrollTop=n)}function N(e){return D(e)}function B(e,t){t=t||{},L(e,t.scrollLeft,t.scrollTop)}function R(e){return e.uniqueID||e._uniqueID||(e._uniqueID="element__"+ ++de),e.uniqueID||e._uniqueID}function F(e){e.id||(e.id=R(e))}function z(e){var n=t.document.documentElement,i=N(n);return{left:e.clientX+("rtl"===t.document.body.dir?-i.scrollLeft:i.scrollLeft),top:e.clientY+n.scrollTop}}function H(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=e.querySelector("."+t[i]);r&&n.push(r)}return n}if(t.document){var W=167,V=null,U=/^-?\d+\.?\d*(px)?$/i,q=/^-?\d+/i,J=t.MSGestureEvent||{MSGESTURE_FLAG_BEGIN:1,MSGESTURE_FLAG_CANCEL:4,MSGESTURE_FLAG_END:2,MSGESTURE_FLAG_INERTIA:8,MSGESTURE_FLAG_NONE:0},K=t.MSManipulationEvent||{MS_MANIPULATION_STATE_ACTIVE:1,MS_MANIPULATION_STATE_CANCELLED:6,MS_MANIPULATION_STATE_COMMITTED:7,MS_MANIPULATION_STATE_DRAGGING:5,MS_MANIPULATION_STATE_INERTIA:2,MS_MANIPULATION_STATE_PRESELECT:3,MS_MANIPULATION_STATE_SELECTING:4,MS_MANIPULATION_STATE_STOPPED:0},G=t.MSPointerEvent||{MSPOINTER_TYPE_TOUCH:"touch",MSPOINTER_TYPE_PEN:"pen",MSPOINTER_TYPE_MOUSE:"mouse"},Y="onfocusin"in t.document.documentElement,X=null;t.addEventListener(Y?"focusout":"blur",function(e){if(e.target===t){var n=X;n&&I(n,"focusout",x({type:"focusout",target:n,relatedTarget:null})),X=null}}),t.document.documentElement.addEventListener(Y?"focusin":"focus",function(e){var t=X;X=e.target,t&&I(t,"focusout",x({type:"focusout",target:t,relatedTarget:X})),X&&I(X,"focusin",x({type:"focusin",target:X,relatedTarget:t}))},!0);var Z=function(e,t){t=t||{},this.__eventObject=e;var n=this;Object.keys(t).forEach(function(e){Object.defineProperty(n,e,{value:t[e]})})};["altKey","AT_TARGET","bubbles","BUBBLING_PHASE","button","buttons","cancelable","cancelBubble","CAPTURING_PHASE","clientX","clientY","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","getModifierState","height","hwTimestamp","initEvent","initMouseEvent","initPointerEvent","initUIEvent","isPrimary","isTrusted","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","pointerId","pointerType","pressure","preventDefault","relatedTarget","rotation","screenX","screenY","shiftKey","srcElement","stopImmediatePropagation","stopPropagation","target","tiltX","tiltY","timeStamp","toElement","type","view","which","width","x","y","_normalizedType","_fakedBySemanticZoom"].forEach(function(e){Object.defineProperty(Z.prototype,e,{get:function(){var t=this.__eventObject[e];return"function"==typeof t?t.bind(this.__eventObject):t},configurable:!0})});var Q={pointerdown:{touch:"touchstart",mspointer:"MSPointerDown",mouse:"mousedown"},pointerup:{touch:"touchend",mspointer:"MSPointerUp",mouse:"mouseup"},pointermove:{touch:"touchmove",mspointer:"MSPointerMove",mouse:"mousemove"},pointerenter:{touch:"touchenter",mspointer:"MSPointerEnter",mouse:"mouseenter"},pointerover:{touch:null,mspointer:"MSPointerOver",mouse:"mouseover"},pointerout:{touch:"touchleave",mspointer:"MSPointerOut",mouse:"mouseout"},pointercancel:{touch:"touchcancel",mspointer:"MSPointerCancel",mouse:null}},$={focusout:{register:j,unregister:E},focusin:{register:j,unregister:E}};if(!t.PointerEvent){var ee={register:O,unregister:A};$.pointerdown=ee,$.pointerup=ee,$.pointermove=ee,$.pointerenter=ee,$.pointerover=ee,$.pointerout=ee,$.pointercancel=ee}var te=n.Class.define(function(e){this._callback=e,this._toDispose=[],this._attributeFilter=[],this._scheduled=!1,this._pendingChanges=[],this._observerCount=0,this._handleCallback=this._handleCallback.bind(this),this._targetElements=[]},{observe:function(e,t){this._targetElements.indexOf(e)===-1&&this._targetElements.push(e),this._observerCount++,t.attributes&&this._addRemovableListener(e,"DOMAttrModified",this._handleCallback),t.attributeFilter&&(this._attributeFilter=t.attributeFilter)},disconnect:function(){this._observerCount=0,this._targetElements=[],this._toDispose.forEach(function(e){e()})},_addRemovableListener:function(e,t,n){e.addEventListener(t,n),this._toDispose.push(function(){e.removeEventListener(t,n)})},_handleCallback:function(e){e.stopPropagation();var t=e.attrName;if((!this._attributeFilter.length||this._attributeFilter.indexOf(t)!==-1)&&this._targetElements.indexOf(e.target)!==-1){var n=t.indexOf("aria")>=0;"tabindex"===t&&(t="tabIndex"),this._pendingChanges.push({type:"attributes",target:e.target,attributeName:t}),1!==this._observerCount||n?this._scheduled===!1&&(this._scheduled=!0,i._setImmediate(this._dispatchEvent.bind(this))):this._dispatchEvent()}},_dispatchEvent:function(){try{this._callback(this._pendingChanges)}finally{this._pendingChanges=[],this._scheduled=!1}}},{_isShim:!0}),ne=t.MutationObserver||te,ie=null,oe=n.Class.define(function(){t.addEventListener("resize",this._handleResize.bind(this))},{subscribe:function(e,t){e.addEventListener(this._resizeEvent,t),h(e,this._resizeClass)},unsubscribe:function(e,t){m(e,this._resizeClass),e.removeEventListener(this._resizeEvent,t)},_handleResize:function(){for(var e=t.document.querySelectorAll("."+this._resizeClass),n=e.length,i=0;i<n;i++){var o=t.document.createEvent("Event");o.initEvent(this._resizeEvent,!1,!0),e[i].dispatchEvent(o)}},_resizeClass:{get:function(){return"win-element-resize"}},_resizeEvent:{get:function(){return"WinJSElementResize"}}}),re=n.Class.define(function(e,t,n){n=n||{},this.registerThruWinJSCustomEvents=!!n.registerThruWinJSCustomEvents,this.objectName=e,this.object=t,this.capture={},this.bubble={}},{addEventListener:function(t,n,i,o){n=n.toLowerCase();var r=this._getHandlers(o),s=r[n];s||(s=this._getListener(n,o),s.refCount=0,r[n]=s,this.registerThruWinJSCustomEvents?e._addEventListener(this.object,n,s,o):this.object.addEventListener(n,s,o)),s.refCount++,t.addEventListener(this._getEventName(n,o),i),h(t,this._getClassName(n,o))},removeEventListener:function(t,n,i,o){n=n.toLowerCase();var r=this._getHandlers(o),s=r[n];s&&(s.refCount--,0===s.refCount&&(this.registerThruWinJSCustomEvents?e._removeEventListener(this.object,n,s,o):this.object.removeEventListener(n,s,o),delete r[n])),m(t,this._getClassName(n,o)),t.removeEventListener(this._getEventName(n,o),i)},_getHandlers:function(e){return e?this.capture:this.bubble},_getClassName:function(e,t){var n=t?"capture":"bubble";return"win-"+this.objectName.toLowerCase()+"-event-"+e+n},_getEventName:function(e,t){var n=t?"capture":"bubble";return"WinJS"+this.objectName+"Event-"+e+n},_getListener:function(e,n){var i=function(i){for(var o=t.document.querySelectorAll("."+this._getClassName(e,n)),r=o.length,s=!1,a=0;a<r;a++){var l=t.document.createEvent("Event");l.initEvent(this._getEventName(e,n),!1,!0),l.detail={originalEvent:i};var u=o[a].dispatchEvent(l);s=s||!u}return s};return i.bind(this)}}),se=!1,ae=!1,le=!1,ue=t.navigator.msManipulationViewsEnabled||t.navigator.userAgent.indexOf("MSAppHost")>=0,ce=!(!t.MSPointerEvent&&!t.TouchEvent),de=0,he=".win-selectionborder, .win-selectionbackground, .win-selectioncheckmark, .win-selectioncheckmarkbackground",me="_msDataKey";n.Namespace._moduleDefine(e,"WinJS.Utilities",{_dataKey:me,_supportsSnapPoints:{get:function(){return ue}},_supportsTouchDetection:{get:function(){return ce}},_uniqueID:R,_ensureId:F,_clamp:_,_getCursorPos:z,_getElementsByClasses:H,_createGestureRecognizer:function(){if(t.MSGesture)return new t.MSGesture;var e=function(){};return{addEventListener:e,removeEventListener:e,addPointer:e,stop:e}},_MSGestureEvent:J,_MSManipulationEvent:K,_elementsFromPoint:function(e,n){if(t.document.msElementsFromPoint)return t.document.msElementsFromPoint(e,n);var i=t.document.elementFromPoint(e,n);return i?[i]:null},_matchesSelector:function(e,t){var n=e.matches||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector;return n.call(e,t)},_selectionPartsSelector:he,_isSelectionRendered:function(e){return e.querySelectorAll(he).length>0},_addEventListener:function(e,t,n,o){var r=t&&t.toLowerCase(),s=$[r],a=i._browserEventEquivalents[t];s?s.register(e,t,n,o):a?e.addEventListener(a,n,o):e.addEventListener(t,n,o)},_removeEventListener:function(e,t,n,o){var r=t&&t.toLowerCase(),s=$[r],a=i._browserEventEquivalents[t];s?s.unregister(e,t,n,o):a?e.removeEventListener(a,n,o):e.removeEventListener(t,n,o)},_initEventImpl:function(e,n,i){i=i.toLowerCase();var o=Q[i];if(o)switch(e.toLowerCase()){case"pointer":t.PointerEvent||(arguments[2]=o.mspointer);break;default:arguments[2]=o[e.toLowerCase()]}n["init"+e+"Event"].apply(n,Array.prototype.slice.call(arguments,2))},_initMouseEvent:function(e){this._initEventImpl.apply(this,["Mouse",e].concat(Array.prototype.slice.call(arguments,1)))},_initPointerEvent:function(e){this._initEventImpl.apply(this,["Pointer",e].concat(Array.prototype.slice.call(arguments,1)))},_PointerEventProxy:Z,_bubbleEvent:I,_setPointerCapture:function(e,t){e.setPointerCapture&&e.setPointerCapture(t)},_releasePointerCapture:function(e,t){e.releasePointerCapture&&e.releasePointerCapture(t)},_MSPointerEvent:G,_getComputedStyle:l,_zoomToDuration:W,_zoomTo:function(e,t){this._supportsSnapPoints&&e.msZoomTo?e.msZoomTo(t):s.schedule(function(){var n=D(e),o="number"==typeof e._zoomToDestX?e._zoomToDestX:n.scrollLeft,r="number"==typeof e._zoomToDestY?e._zoomToDestY:n.scrollTop,s=l(e),a=e.scrollWidth-parseInt(s.width,10)-parseInt(s.paddingLeft,10)-parseInt(s.paddingRight,10),u=e.scrollHeight-parseInt(s.height,10)-parseInt(s.paddingTop,10)-parseInt(s.paddingBottom,10);"number"!=typeof t.contentX&&(t.contentX=o),"number"!=typeof t.contentY&&(t.contentY=r);var c=_(t.contentX,0,a),d=_(t.contentY,0,u);if(c!==o||d!==r){e._zoomToId=e._zoomToId||0,e._zoomToId++,e._zoomToDestX=c,e._zoomToDestY=d;var h=e._zoomToId,m=i._now(),p=(e._zoomToDestX-n.scrollLeft)/W,f=(e._zoomToDestY-n.scrollTop)/W,g=function t(){var o=i._now()-m;e._zoomToId===h&&(o>W?(L(e,e._zoomToDestX,e._zoomToDestY),e._zoomToDestX=null,e._zoomToDestY=null):(L(e,n.scrollLeft+o*p,n.scrollTop+o*f),i._requestAnimationFrame(t)))};i._requestAnimationFrame(g)}},s.Priority.high,null,"WinJS.Utilities._zoomTo")},_setActive:function(e,n){var i=!0;try{if(t.HTMLElement&&t.HTMLElement.prototype.setActive)e.setActive();else{var o,r;n&&(o=n.scrollLeft,r=n.scrollTop),e.focus(),n&&(n.scrollLeft=o,n.scrollTop=r)}}catch(e){i=!1}return i},_MutationObserver:ne,_resizeNotifier:{get:function(){return ie||(ie=new oe),ie}},_GenericListener:re,_globalListener:new re("Global",t,{registerThruWinJSCustomEvents:!0}),_documentElementListener:new re("DocumentElement",t.document.documentElement,{registerThruWinJSCustomEvents:!0}),_inputPaneListener:o.Windows.UI.ViewManagement.InputPane?new re("InputPane",o.Windows.UI.ViewManagement.InputPane.getForCurrentView()):{addEventListener:function(){},removeEventListener:function(){}},_addInsertedNotifier:function(n){var o=t.document.createElement("div");return o.style[i._browserStyleEquivalents["animation-name"].scriptName]="WinJS-node-inserted",o.style[i._browserStyleEquivalents["animation-duration"].scriptName]="0.01s",o.style.position="absolute",n.appendChild(o),e._addEventListener(o,"animationStart",function(e){if("WinJS-node-inserted"===e.animationName){var e=t.document.createEvent("Event");e.initEvent("WinJSNodeInserted",!1,!0),n.dispatchEvent(e)}},!1),o},_inDom:function(n){return new r(function(i){if(t.document.body.contains(n))i();else{var o=function e(){n.removeEventListener("WinJSNodeInserted",e,!1),i()};e._addInsertedNotifier(n),n.addEventListener("WinJSNodeInserted",o,!1)}})},_setFlexStyle:function(e,t){var n=e.style;"undefined"!=typeof t.grow&&(n.msFlexPositive=t.grow,n.webkitFlexGrow=t.grow,n.flexGrow=t.grow),"undefined"!=typeof t.shrink&&(n.msFlexNegative=t.shrink,n.webkitFlexShrink=t.shrink,n.flexShrink=t.shrink),"undefined"!=typeof t.basis&&(n.msFlexPreferredSize=t.basis,n.webkitFlexBasis=t.basis,n.flexBasis=t.basis)},Key:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,deleteKey:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindows:91,rightWindows:92,menu:93,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NavigationView:136,NavigationMenu:137,NavigationUp:138,NavigationDown:139,NavigationLeft:140,NavigationRight:141,NavigationAccept:142,NavigationCancel:143,numLock:144,scrollLock:145,browserBack:166,browserForward:167,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,GamepadA:195,GamepadB:196,GamepadX:197,GamepadY:198,GamepadRightShoulder:199,GamepadLeftShoulder:200,GamepadLeftTrigger:201,GamepadRightTrigger:202,GamepadDPadUp:203,GamepadDPadDown:204,GamepadDPadLeft:205,GamepadDPadRight:206,GamepadMenu:207,GamepadView:208,GamepadLeftThumbstick:209,GamepadRightThumbstick:210,GamepadLeftThumbstickUp:211,GamepadLeftThumbstickDown:212,GamepadLeftThumbstickRight:213,GamepadLeftThumbstickLeft:214,GamepadRightThumbstickUp:215,GamepadRightThumbstickDown:216,GamepadRightThumbstickRight:217,GamepadRightThumbstickLeft:218,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222,IME:229},data:function(e){return e[me]||(e[me]={}),e[me]},hasClass:function(e,t){if(e.classList)return e.classList.contains(t);for(var n=c(e),i=n.trim().split(" "),o=i.length,r=0;r<o;r++)if(i[r]===t)return!0;return!1},addClass:h,removeClass:m,toggleClass:p,_setAttribute:f,getRelativeLeft:function(e,t){if(!e)return 0;for(var n=e.offsetLeft,i=e.parentNode;i&&(n-=i.offsetLeft,i!==t);)i=i.parentNode;return n},getRelativeTop:function(e,t){if(!e)return 0;for(var n=e.offsetTop,i=e.parentNode;i&&(n-=i.offsetTop,i!==t);)i=i.parentNode;return n},getScrollPosition:N,setScrollPosition:B,empty:function(e){if(e.childNodes&&e.childNodes.length>0)for(var t=e.childNodes.length-1;t>=0;t--)e.removeChild(e.childNodes.item(t));return e},_isDOMElement:function(e){return e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"string"==typeof e.tagName},getContentWidth:function(e){var t=v(e,"borderLeftWidth")+v(e,"borderRightWidth"),n=v(e,"paddingLeft")+v(e,"paddingRight");return e.offsetWidth-t-n},_getPreciseContentWidth:function(e){var t=b(e,"borderLeftWidth")+b(e,"borderRightWidth"),n=b(e,"paddingLeft")+b(e,"paddingRight");return e.offsetWidth-t-n},getTotalWidth:function(e){var t=v(e,"marginLeft")+v(e,"marginRight");return e.offsetWidth+t},_getPreciseTotalWidth:function(e){var t=b(e,"marginLeft")+b(e,"marginRight");return e.offsetWidth+t},getContentHeight:function(e){var t=v(e,"borderTopWidth")+v(e,"borderBottomWidth"),n=v(e,"paddingTop")+v(e,"paddingBottom");return e.offsetHeight-t-n},_getPreciseContentHeight:function(e){var t=b(e,"borderTopWidth")+b(e,"borderBottomWidth"),n=b(e,"paddingTop")+b(e,"paddingBottom");return e.offsetHeight-t-n},getTotalHeight:function(e){var t=v(e,"marginTop")+v(e,"marginBottom");return e.offsetHeight+t},_getPreciseTotalHeight:function(e){var t=b(e,"marginTop")+b(e,"marginBottom");return e.offsetHeight+t},getPosition:function(t){return e._getPositionRelativeTo(t,null)},getTabIndex:function(e){var t=/BUTTON|COMMAND|MENUITEM|OBJECT|SELECT|TEXTAREA/;if(e.disabled)return-1;var n=e.getAttribute("tabindex");if(null===n||void 0===n){var i=e.tagName;return t.test(i)||e.href&&("A"===i||"AREA"===i||"LINK"===i)||"INPUT"===i&&"hidden"!==e.type||"TH"===i&&e.sorted?0:-1}return parseInt(n,10)},convertToPixels:g,_convertToPrecisePixels:y,_getPreciseMargins:w,eventWithinElement:function(e,t){var n=t.relatedTarget;return!(!n||n===e)&&e.contains(n)},_deprecated:function(e){t.console&&t.console.warn(e)},_syncRenderer:function(e,n){if(n=n||"div","function"==typeof e)return function(t,n){return n?(n.appendChild(e(t)),n):e(t)};var i;return"function"==typeof e.render?i=e:e.winControl&&"function"==typeof e.winControl.render&&(i=e.winControl),function(e,o){var r=o||t.document.createElement(n);if(i.render(e,r),o)return o;var s=r.firstElementChild;if(s&&r.dispose){var a=s.dispose;s.dispose=function(){s.dispose=a,r.appendChild(s),r.dispose()}}return s}},_getPositionRelativeTo:function(e,n){for(var i=e,o=e.offsetParent,r=e.offsetTop,s=e.offsetLeft;(e=e.parentNode)&&e!==n&&e!==t.document.body&&e!==t.document.documentElement;){r-=e.scrollTop;var a=l(e,null).direction;s-="rtl"!==a?e.scrollLeft:-D(e).scrollLeft,e===o&&(r+=e.offsetTop,s+=e.offsetLeft,o=e.offsetParent)}return{left:s,top:r,width:i.offsetWidth,height:i.offsetHeight}},_getHighAndLowTabIndices:function(e){for(var t=e.getElementsByTagName("*"),n=0,i=0,o=!1,r=0,s=t.length;r<s;r++){var a=t[r].getAttribute("tabIndex");if(null!==a&&void 0!==a){var l=parseInt(a,10);l>0&&(l<n||0===n)&&(n=l),o||(0===l?(o=!0,i=0):l>i&&(i=l))}}return{highest:i,lowest:n}},_getLowestTabIndexInList:function(e){for(var t,n=0,i=0;i<e.length;i++)t=parseInt(e[i].getAttribute("tabIndex"),10),0<t&&(t<n||!n)&&(n=t);return n},_getHighestTabIndexInList:function(e){for(var t,n=0,i=0;i<e.length;i++){if(t=parseInt(e[i].getAttribute("tabIndex"),10),0===t)return t;n<t&&(n=t)}return n},_hasCursorKeysBehaviors:function(e){return"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"INPUT"===e.tagName&&(""===e.type||"date"===e.type||"datetime"===e.type||"datetime-local"===e.type||"email"===e.type||"month"===e.type||"number"===e.type||"password"===e.type||"range"===e.type||"search"===e.type||"tel"===e.type||"text"===e.type||"time"===e.type||"url"===e.type||"week"===e.type)},_reparentChildren:function(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}},_maintainFocus:function(n){var i=t.document.activeElement;n(),e._trySetActiveOnAnyElement(i)},_trySetActiveOnAnyElement:function(t,n){return e._tryFocusOnAnyElement(t,!0,n)},_tryFocusOnAnyElement:function(n,i,o){var r=t.document.activeElement;return n===r||(i?e._setActive(n,o):n.focus(),r!==t.document.activeElement)},_trySetActive:function(e,t){return this._tryFocus(e,!0,t)},_tryFocus:function(n,i,o){var r=t.document.activeElement;if(n===r)return!0;var s=e.getTabIndex(n)>=0;return!!s&&(i?e._setActive(n,o):n.focus(),r!==t.document.activeElement)},_setActiveFirstFocusableElement:function(e,t){return this._focusFirstFocusableElement(e,!0,t)},_focusFirstFocusableElement:function(e,t,n){for(var i,o=e.getElementsByTagName("*"),r=this._getLowestTabIndexInList(o),s=0;r;){for(i=0;i<o.length;i++)if(o[i].tabIndex===r){if(this._tryFocus(o[i],t,n))return!0}else r<o[i].tabIndex&&(o[i].tabIndex<s||0===s)&&(s=o[i].tabIndex);r=s,s=0}for(i=0;i<o.length;i++)if(this._tryFocus(o[i],t,n))return!0;return!1},_setActiveLastFocusableElement:function(e,t){return this._focusLastFocusableElement(e,!0,t)},_focusLastFocusableElement:function(e,t,n){var i,o=e.getElementsByTagName("*"),r=this._getHighestTabIndexInList(o),s=0;if(0===r){for(i=o.length-1;i>=0;i--)if(o[i].tabIndex===r){if(this._tryFocus(o[i],t,n))return!0}else s<o[i].tabIndex&&(s=o[i].tabIndex);r=s,s=0}for(;r;){for(i=o.length-1;i>=0;i--)if(o[i].tabIndex===r){if(this._tryFocus(o[i],t,n))return!0}else s<o[i].tabIndex&&o[i].tabIndex<r&&(s=o[i].tabIndex);r=s,s=0}for(i=o.length-2;i>0;i--)if(this._tryFocus(o[i],t,n))return!0;return!1}})}}),define("WinJS/Utilities/_Dispose",["exports","../Core/_Base","../Core/_WriteProfilerMark","./_ElementUtilities"],function(e,t,n,i){"use strict";function o(e,t){var n=!1;i.addClass(e,"win-disposable");var o=e.winControl||e;o.dispose=function(){n||(n=!0,r(e),t&&t())}}function r(e){if(e){n("WinJS.Utilities.disposeSubTree,StartTM");for(var t=e.querySelectorAll(".win-disposable"),i=0,o=t.length;i<o;){var r=t[i];r.winControl&&r.winControl.dispose&&r.winControl.dispose(),r.dispose&&r.dispose(),i+=r.querySelectorAll(".win-disposable").length+1}n("WinJS.Utilities.disposeSubTree,StopTM")}}function s(e){if(e){var t=!1;e.winControl&&e.winControl.dispose&&(e.winControl.dispose(),t=!0),e.dispose&&(e.dispose(),t=!0),t||r(e)}}t.Namespace._moduleDefine(e,"WinJS.Utilities",{markDisposable:o,disposeSubTree:r,_disposeElement:s})}),define("WinJS/ControlProcessor/_OptionsLexer",["exports","../Core/_Base"],function optionsLexerInit(exports,_Base){"use strict";_Base.Namespace._moduleDefine(exports,"WinJS.UI",{_optionsLexer:_Base.Namespace._lazy(function(){function reservedWord(e){return{type:tokenType.reservedWord,value:e,length:e.length,keyword:!0}}function reservedWordLookup(e){switch(e.charCodeAt(0)){case 98:switch(e){case"break":return reservedWord(e)}break;case 99:switch(e){case"case":case"catch":case"class":case"const":case"continue":return reservedWord(e)}break;case 100:switch(e){case"debugger":case"default":case"delete":case"do":return reservedWord(e)}break;case 101:switch(e){case"else":case"enum":case"export":case"extends":return reservedWord(e)}break;case 102:switch(e){case"false":return tokens.falseLiteral;case"finally":case"for":case"function":return reservedWord(e)}break;case 105:switch(e){case"if":case"import":case"in":case"instanceof":return reservedWord(e)}break;case 110:switch(e){case"null":return tokens.nullLiteral;case"new":return reservedWord(e)}break;case 114:switch(e){case"return":return reservedWord(e)}break;case 115:switch(e){case"super":case"switch":return reservedWord(e)}break;case 116:switch(e){case"true":return tokens.trueLiteral;case"this":return tokens.thisKeyword;case"throw":case"try":case"typeof":return reservedWord(e)}break;case 118:switch(e){case"var":case"void":return reservedWord(e)}break;case 119:switch(e){case"while":case"with":return reservedWord(e)}}}var tokenType={leftBrace:1,rightBrace:2,leftBracket:3,rightBracket:4,separator:5,colon:6,semicolon:7,comma:8,dot:9,nullLiteral:10,trueLiteral:11,falseLiteral:12,numberLiteral:13,stringLiteral:14,identifier:15,reservedWord:16,thisKeyword:17,leftParentheses:18,rightParentheses:19,eof:20,error:21},tokens={leftBrace:{type:tokenType.leftBrace,length:1},rightBrace:{type:tokenType.rightBrace,length:1},leftBracket:{type:tokenType.leftBracket,length:1},rightBracket:{type:tokenType.rightBracket,length:1},colon:{type:tokenType.colon,length:1},semicolon:{type:tokenType.semicolon,length:1},comma:{type:tokenType.comma,length:1},dot:{type:tokenType.dot,length:1},nullLiteral:{type:tokenType.nullLiteral,length:4,value:null,keyword:!0},trueLiteral:{type:tokenType.trueLiteral,length:4,value:!0,keyword:!0},falseLiteral:{type:tokenType.falseLiteral,length:5,value:!1,keyword:!0},thisKeyword:{type:tokenType.thisKeyword,length:4,value:"this",keyword:!0},leftParentheses:{type:tokenType.leftParentheses,length:1},rightParentheses:{type:tokenType.rightParentheses,length:1},eof:{type:tokenType.eof,length:0}},lexer=function(){function isIdentifierStartCharacter(e,t,n,i){switch(e){case e>=97&&e<=122&&e:case e>=65&&e<=90&&e:case 36:case 95:return!0;case isWhitespace(e)&&e:case isLineTerminator(e)&&e:return!1;case e>127&&e:return!0;case 92:return!!(n+4<i&&117===t.charCodeAt(n)&&isHexDigit(t.charCodeAt(n+1))&&isHexDigit(t.charCodeAt(n+2))&&isHexDigit(t.charCodeAt(n+3))&&isHexDigit(t.charCodeAt(n+4)));default:return!1}}function readIdentifierPart(e,t,n){for(var i=!1;t<n;){var o=e.charCodeAt(t);switch(o){case o>=97&&o<=122&&o:case o>=65&&o<=90&&o:case 36:case 95:break;case isWhitespace(o)&&o:case isLineTerminator(o)&&o:return i?-t:t;case o>127&&o:break;case o>=48&&o<=57&&o:break;case 92:if(t+5<n&&117===e.charCodeAt(t+1)&&isHexDigit(e.charCodeAt(t+2))&&isHexDigit(e.charCodeAt(t+3))&&isHexDigit(e.charCodeAt(t+4))&&isHexDigit(e.charCodeAt(t+5))){t+=5,i=!0;break}return i?-t:t;default:return i?-t:t}t++}return i?-t:t}function readIdentifierToken(e,t,n){var i=t;t=readIdentifierPart(e,t,n);var o=!1;t<0&&(t=-t,o=!0);var r=e.substr(i,t-i);o&&(r=""+JSON.parse('"'+r+'"'));var s=reservedWordLookup(r);return s?s:{type:tokenType.identifier,length:t-i,value:r}}function isHexDigit(e){switch(e){case e>=48&&e<=57&&e:case e>=97&&e<=102&&e:case e>=65&&e<=70&&e:return!0;default:return!1}}function readHexIntegerLiteral(e,t,n){for(;t<n&&isHexDigit(e.charCodeAt(t));)t++;return t}function isDecimalDigit(e){switch(e){case e>=48&&e<=57&&e:return!0;default:return!1}}function readDecimalDigits(e,t,n){for(;t<n&&isDecimalDigit(e.charCodeAt(t));)t++;return t}function readDecimalLiteral(e,t,n){if(t=readDecimalDigits(e,t,n),t<n&&46===e.charCodeAt(t)&&t+1<n&&isDecimalDigit(e.charCodeAt(t+1))&&(t=readDecimalDigits(e,t+2,n)),t<n){var i=e.charCodeAt(t);if(101===i||69===i){var o=t+1;o<n&&(i=e.charCodeAt(o),43!==i&&45!==i||o++,t=readDecimalDigits(e,o,n))}}return t}function readDecimalLiteralToken(e,t,n,i){var n=readDecimalLiteral(e,n,i),o=n-t;return{type:tokenType.numberLiteral,length:o,value:+e.substr(t,o)}}function isLineTerminator(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function readStringLiteralToken(text,offset,limit){var startOffset=offset,quoteCharCode=text.charCodeAt(offset),hasEscape=!1;for(offset++;offset<limit&&!isLineTerminator(text.charCodeAt(offset));){if(offset+1<limit&&92===text.charCodeAt(offset))switch(hasEscape=!0,text.charCodeAt(offset+1)){case quoteCharCode:case 92:case 10:case 8232:case 8233:offset+=2;continue;case 13:offset+=offset+2<limit&&10===text.charCodeAt(offset+2)?3:2;continue}if(offset++,text.charCodeAt(offset-1)===quoteCharCode)break}var length=offset-startOffset;hasEscape=hasEscape||1===length||text.charCodeAt(offset-1)!==quoteCharCode;var stringValue;return stringValue=hasEscape?eval(text.substr(startOffset,length)):text.substr(startOffset+1,length-2),{type:tokenType.stringLiteral,length:length,value:stringValue}}function isWhitespace(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 65279:return!0;case e<5760&&e:return!1;case 5760:case 6158:case e>=8192&&e<=8202&&e:case 8239:case 8287:case 12288:return!0;default:return!1}}function readWhitespace(e,t,n){for(;t<n;){var i=e.charCodeAt(t);switch(i){case 9:case 11:case 12:case 32:case 160:case 65279:break;case i<5760&&i:return t;case 5760:case 6158:case i>=8192&&i<=8202&&i:case 8239:case 8287:case 12288:break;default:return t}t++}return t}function lex(e,t,n,i){for(;n<i;){var o,r=n,s=t.charCodeAt(n++);switch(s){case isWhitespace(s)&&s:case isLineTerminator(s)&&s:n=readWhitespace(t,n,i),o={type:tokenType.separator,length:n-r};continue;case 34:case 39:o=readStringLiteralToken(t,n-1,i);break;case 40:o=tokens.leftParentheses;break;case 41:o=tokens.rightParentheses;break;case 43:case 45:if(n<i){var a=t.charCodeAt(n);if(46===a){var l=n+1;if(l<i&&isDecimalDigit(t.charCodeAt(l))){o=readDecimalLiteralToken(t,r,l,i);break}}else if(isDecimalDigit(a)){o=readDecimalLiteralToken(t,r,n,i);break}}o={type:tokenType.error,length:n-r,value:t.substring(r,n)};break;case 44:o=tokens.comma;break;case 46:o=tokens.dot,n<i&&isDecimalDigit(t.charCodeAt(n))&&(o=readDecimalLiteralToken(t,r,n,i));break;case 48:var u=n<i?t.charCodeAt(n):0;if(120===u||88===u){var c=readHexIntegerLiteral(t,n+1,i);o={type:tokenType.numberLiteral,length:c-r,value:+t.substr(r,c-r)}}else o=readDecimalLiteralToken(t,r,n,i);break;case s>=49&&s<=57&&s:o=readDecimalLiteralToken(t,r,n,i);break;case 58:o=tokens.colon;break;case 59:o=tokens.semicolon;break;case 91:o=tokens.leftBracket;break;case 93:o=tokens.rightBracket;break;case 123:o=tokens.leftBrace;break;case 125:o=tokens.rightBrace;break;default:if(isIdentifierStartCharacter(s,t,n,i)){o=readIdentifierToken(t,n-1,i);break}o={type:tokenType.error,length:n-r,value:t.substring(r,n)}}n+=o.length-1,e.push(o)}}return function(e){var t=[];return lex(t,e,0,e.length),t.push(tokens.eof),t}}();return lexer.tokenType=tokenType,lexer})})}),define("WinJS/ControlProcessor/_OptionsParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","./_OptionsLexer"],function(e,t,n,i,o,r){"use strict";function s(){throw"Illegal"}function a(e){for(var t=Object.keys(u.tokenType),n=0,i=t.length;n<i;n++)if(e===u.tokenType[t[n]])return t[n];return"<unknown>"}var l={get invalidOptionsRecord(){return"Invalid options record: '{0}', expected to be in the format of an object literal. {1}"},get unexpectedTokenExpectedToken(){return"Unexpected token: {0}, expected token: {1}, at offset {2}"},get unexpectedTokenExpectedTokens(){return"Unexpected token: {0}, expected one of: {1}, at offset {2}"},get unexpectedTokenGeneric(){return"Unexpected token: {0}, at offset {1}"}},u=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return r._optionsLexer}),tokenType:t.Namespace._lazy(function(){return r._optionsLexer.tokenType})}),c=n.requireSupportedForProcessing,d=t.Namespace.defineWithParent(null,null,{BaseInterpreter:t.Namespace._lazy(function(){return t.Class.define(null,{_error:function(e){throw new i("WinJS.UI.ParseError",e)},_currentOffset:function(){for(var e=this._pos,t=0,n=0;n<e;n++)t+=this._tokens[n].length;return t},_evaluateAccessExpression:function(e){switch(this._current.type){case u.tokenType.dot:switch(this._read(),this._current.type){case u.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),e[t];default:this._unexpectedToken(u.tokenType.identifier,u.tokenType.reservedWord)}return;case u.tokenType.leftBracket:this._read();var n=this._evaluateValue();return this._read(u.tokenType.rightBracket),e[n]}},_evaluateAccessExpressions:function(e){for(;;)switch(this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:e=this._evaluateAccessExpression(e);break;default:return e}},_evaluateIdentifier:function(e,t){var n=this._readIdentifier();return t=e?t[n]:this._context[n]},_evaluateIdentifierExpression:function(){var e=this._evaluateIdentifier(!1);switch(this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:return this._evaluateAccessExpressions(e);default:return e}},_initialize:function(e,t,n,i){this._originalSource=t,this._tokens=e,this._context=n,this._functionContext=i,this._pos=0,this._current=this._tokens[0]},_read:function(e){e&&this._current.type!==e&&this._unexpectedToken(e),this._current!==u.tokenType.eof&&(this._current=this._tokens[++this._pos])},_peek:function(e){if(!e||this._current.type===e)return this._current!==u.tokenType.eof?this._tokens[this._pos+1]:void 0},_readAccessExpression:function(e){switch(this._current.type){case u.tokenType.dot:switch(this._read(),this._current.type){case u.tokenType.identifier:case this._current.keyword&&this._current.type:e.push(this._current.value),this._read();break;default:this._unexpectedToken(u.tokenType.identifier,u.tokenType.reservedWord)}return;case u.tokenType.leftBracket:return this._read(),e.push(this._evaluateValue()),void this._read(u.tokenType.rightBracket)}},_readAccessExpressions:function(e){for(;;)switch(this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:this._readAccessExpression(e);break;default:return}},_readIdentifier:function(){var e=this._current.value;return this._read(u.tokenType.identifier),e},_readIdentifierExpression:function(){var e=[];switch(this._peek(u.tokenType.thisKeyword)&&0===e.length?this._read():e.push(this._readIdentifier()),this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:this._readAccessExpressions(e)}return e},_unexpectedToken:function(e){var t=this._current.type===u.tokenType.error?"'"+this._current.value+"'":a(this._current.type);if(e)if(1===arguments.length)e=a(e),this._error(o._formatString(l.unexpectedTokenExpectedToken,t,e,this._currentOffset()));else{for(var n=[],i=0,r=arguments.length;i<r;i++)n.push(a(arguments[i]));e=n.join(", "),this._error(o._formatString(l.unexpectedTokenExpectedTokens,t,e,this._currentOffset()))}else this._error(o._formatString(l.unexpectedTokenGeneric,t,this._currentOffset()))}},{supportedForProcessing:!1})}),OptionsInterpreter:t.Namespace._lazy(function(){return t.Class.derive(d.BaseInterpreter,function(e,t,n,i){
this._initialize(e,t,n,i)},{_error:function(e){throw new i("WinJS.UI.ParseError",o._formatString(l.invalidOptionsRecord,this._originalSource,e))},_evaluateArrayLiteral:function(){var e=[];return this._read(u.tokenType.leftBracket),this._readArrayElements(e),this._read(u.tokenType.rightBracket),e},_evaluateObjectLiteral:function(){var e={};return this._read(u.tokenType.leftBrace),this._readObjectProperties(e),this._tryReadComma(),this._read(u.tokenType.rightBrace),e},_evaluateOptionsLiteral:function(){var e=this._evaluateValue();return this._current.type!==u.tokenType.eof&&this._unexpectedToken(u.tokenType.eof),e},_peekValue:function(){switch(this._current.type){case u.tokenType.falseLiteral:case u.tokenType.nullLiteral:case u.tokenType.stringLiteral:case u.tokenType.trueLiteral:case u.tokenType.numberLiteral:case u.tokenType.leftBrace:case u.tokenType.leftBracket:case u.tokenType.identifier:return!0;default:return!1}},_evaluateValue:function(){switch(this._current.type){case u.tokenType.falseLiteral:case u.tokenType.nullLiteral:case u.tokenType.stringLiteral:case u.tokenType.trueLiteral:case u.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;case u.tokenType.leftBrace:return this._evaluateObjectLiteral();case u.tokenType.leftBracket:return this._evaluateArrayLiteral();case u.tokenType.identifier:return c(this._peek(u.tokenType.identifier).type===u.tokenType.leftParentheses?this._evaluateObjectQueryExpression():this._evaluateIdentifierExpression());default:this._unexpectedToken(u.tokenType.falseLiteral,u.tokenType.nullLiteral,u.tokenType.stringLiteral,u.tokenType.trueLiteral,u.tokenType.numberLiteral,u.tokenType.leftBrace,u.tokenType.leftBracket,u.tokenType.identifier)}},_tryReadElement:function(e){return!!this._peekValue()&&(e.push(this._evaluateValue()),!0)},_tryReadComma:function(){return!!this._peek(u.tokenType.comma)&&(this._read(),!0)},_tryReadElision:function(e){for(var t=!1;this._tryReadComma();)e.push(void 0),t=!0;return t},_readArrayElements:function(e){for(;!this._peek(u.tokenType.rightBracket);){var t=this._tryReadElision(e),n=this._tryReadElement(e),i=this._peek(u.tokenType.comma);if(!n||!i){if(n||t)break;this._unexpectedToken(u.tokenType.falseLiteral,u.tokenType.nullLiteral,u.tokenType.stringLiteral,u.tokenType.trueLiteral,u.tokenType.numberLiteral,u.tokenType.leftBrace,u.tokenType.leftBracket,u.tokenType.identifier);break}this._read()}},_readObjectProperties:function(e){for(;!this._peek(u.tokenType.rightBrace);){var t=this._tryReadObjectProperty(e),n=this._peek(u.tokenType.comma);if(!t||!n){if(t)break;this._unexpectedToken(u.tokenType.numberLiteral,u.tokenType.stringLiteral,u.tokenType.identifier);break}this._read()}},_tryReadObjectProperty:function(e){switch(this._current.type){case u.tokenType.numberLiteral:case u.tokenType.stringLiteral:case u.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),this._read(u.tokenType.colon),e[t]=this._evaluateValue(),!0;default:return!1}},_failReadObjectProperty:function(){this._unexpectedToken(u.tokenType.numberLiteral,u.tokenType.stringLiteral,u.tokenType.identifier,u.tokenType.reservedWord)},_evaluateObjectQueryExpression:function(){var e=this._current.value;this._read(u.tokenType.identifier),this._read(u.tokenType.leftParentheses);var t=this._current.value;this._read(u.tokenType.stringLiteral),this._read(u.tokenType.rightParentheses);var n=c(this._functionContext[e])(t);switch(this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},run:function(){return this._evaluateOptionsLiteral()}},{supportedForProcessing:!1})}),OptionsParser:t.Namespace._lazy(function(){return t.Class.derive(d.OptionsInterpreter,function(e,t){this._initialize(e,t)},{_evaluateAccessExpression:s,_evaluateAccessExpressions:s,_evaluateIdentifier:s,_evaluateIdentifierExpression:s,_evaluateObjectQueryExpression:s,_evaluateValue:function(){switch(this._current.type){case u.tokenType.falseLiteral:case u.tokenType.nullLiteral:case u.tokenType.stringLiteral:case u.tokenType.trueLiteral:case u.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;case u.tokenType.leftBrace:return this._evaluateObjectLiteral();case u.tokenType.leftBracket:return this._evaluateArrayLiteral();case u.tokenType.identifier:return this._peek(u.tokenType.identifier).type===u.tokenType.leftParentheses?this._readObjectQueryExpression():this._readIdentifierExpression();default:this._unexpectedToken(u.tokenType.falseLiteral,u.tokenType.nullLiteral,u.tokenType.stringLiteral,u.tokenType.trueLiteral,u.tokenType.numberLiteral,u.tokenType.leftBrace,u.tokenType.leftBracket,u.tokenType.identifier)}},_readIdentifierExpression:function(){var e=d.BaseInterpreter.prototype._readIdentifierExpression.call(this);return new f(e)},_readObjectQueryExpression:function(){var e=this._current.value;this._read(u.tokenType.identifier),this._read(u.tokenType.leftParentheses);var t=this._current.value;this._read(u.tokenType.stringLiteral),this._read(u.tokenType.rightParentheses);var n=new p(e,t);switch(this._current.type){case u.tokenType.dot:case u.tokenType.leftBracket:var i=[n];return this._readAccessExpressions(i),new f(i);default:return n}}},{supportedForProcessing:!1})})}),h=function(e,t,n){var i=u.lexer(e),o=new d.OptionsInterpreter(i,e,t||{},n||{});return o.run()};Object.defineProperty(h,"_BaseInterpreter",{get:function(){return d.BaseInterpreter}});var m=function(e){var t=u.lexer(e),n=new d.OptionsParser(t,e);return n.run()},p=t.Class.define(function(e,t){this.target=e,this.arg0Value=t});p.supportedForProcessing=!1;var f=t.Class.define(function(e){this.parts=e});f.supportedForProcessing=!1,t.Namespace._moduleDefine(e,"WinJS.UI",{optionsParser:h,_optionsParser:m,_CallExpression:p,_IdentifierExpression:f})}),define("WinJS/ControlProcessor",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_Resources","./Core/_WriteProfilerMark","./ControlProcessor/_OptionsParser","./Promise","./Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l,u){"use strict";function c(e){var n=function(n){for(var i,o=e;o;){if(o.msParentSelectorScope){var r=o.parentNode;if(r&&(i=u._matchesSelector(r,n)?r:r.querySelector(n)))break}o=o.parentNode}return i||t.document.querySelector(n)};return v(n)}function d(e,n){return new l(function(i,s){try{var l,u=e.getAttribute("data-win-options");u&&(l=a.optionsParser(u,t,{select:c(e)}));var d,h=1;n.length>2&&h++;var m=function(){h--,0===h&&(e.winControl=e.winControl||d,i(d))};d=new n(e,l,m),m()}catch(e){o.log&&o.log(r._formatString(g.errorActivatingControl,e&&e.message),"winjs controls","error"),s(e)}})}function h(e,n){return new l(function(i,o){s("WinJS.UI:processAll,StartTM"),e=e||t.document.body;var r=0,a="[data-win-control]",l=e.querySelectorAll(a),u=[];!n&&m(e)&&u.push(e);for(var c=0,h=l.length;c<h;c++)u.push(l[c]);if(0===u.length)return s("WinJS.UI:processAll,StopTM"),void i(e);for(var p=function(){r-=1,r<0&&(s("WinJS.UI:processAll,StopTM"),i(e))},_=new Array(u.length),c=0,h=u.length;c<h;c++){var g,v=u[c],b=v.winControl;b?g=b.constructor:_[c]=g=m(v),g&&g.isDeclarativeControlContainer&&(c+=v.querySelectorAll(a).length)}s("WinJS.UI:processAllActivateControls,StartTM");for(var c=0,h=u.length;c<h;c++){var w=_[c],v=u[c];if(w&&!v.winControl&&(r++,d(v,w).then(p,function(e){s("WinJS.UI:processAll,StopTM"),o(e)}),w.isDeclarativeControlContainer&&"function"==typeof w.isDeclarativeControlContainer)){var C=y(w.isDeclarativeControlContainer);C(v.winControl,f)}}s("WinJS.UI:processAllActivateControls,StopTM"),p()})}function m(e){if(e.getAttribute){var n=e.getAttribute("data-win-control");if(n)return i._getMemberFiltered(n.trim(),t,y)}}function p(e,t){return c(t)(e)}function f(e,t){return b?h(e,t):i.ready().then(function(){return b=!0,h(e,t)})}function _(e){if(e&&e.winControl)return l.as(e.winControl);var t=m(e);return t?d(e,t):l.as()}if(t.document){var g={get errorActivatingControl(){return"Error activating control: {0}"}},v=i.markSupportedForProcessing,y=i.requireSupportedForProcessing,b=!1;n.Namespace._moduleDefine(e,"WinJS.UI",{scopedSelect:p,processAll:f,process:_})}}),define("WinJS/Utilities/_ElementListUtilities",["exports","../Core/_Global","../Core/_Base","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s){"use strict";t.document&&n.Namespace._moduleDefine(e,"WinJS.Utilities",{QueryCollection:n.Class.derive(Array,function(e){e&&this.include(e)},{forEach:function(e,t){return Array.prototype.forEach.apply(this,[e,t]),this},get:function(e){return this[e]},setAttribute:function(e,t){return this.forEach(function(n){n.setAttribute(e,t)}),this},getAttribute:function(e){if(this.length>0)return this[0].getAttribute(e)},addClass:function(e){return this.forEach(function(t){s.addClass(t,e)}),this},hasClass:function(e){return this.length>0&&s.hasClass(this[0],e)},removeClass:function(e){return this.forEach(function(t){s.removeClass(t,e)}),this},toggleClass:function(e){return this.forEach(function(t){s.toggleClass(t,e)}),this},listen:function(e,t,n){return this.forEach(function(i){i.addEventListener(e,t,n)}),this},removeEventListener:function(e,t,n){return this.forEach(function(i){i.removeEventListener(e,t,n)}),this},setStyle:function(e,t){return this.forEach(function(n){n.style[e]=t}),this},clearStyle:function(e){return this.forEach(function(t){t.style[e]=""}),this},query:function(t){var n=new e.QueryCollection;return this.forEach(function(e){n.include(e.querySelectorAll(t))}),n},include:function(e){if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.push(e[t]);else e.DOCUMENT_FRAGMENT_NODE&&e.nodeType===e.DOCUMENT_FRAGMENT_NODE?this.include(e.childNodes):this.push(e)},control:function(e,t){return e&&"function"==typeof e?this.forEach(function(n){n.winControl=new e(n,t)}):(t=e,this.forEach(function(e){i.process(e).done(function(e){e&&r.setOptions(e,t)})})),this},template:function t(n,i,r){n instanceof e.QueryCollection&&(n=n[0]);var t=n.winControl;null!==i&&void 0!==i&&i.forEach||(i=[i]),r=r||function(){};var s=this,a=[];return i.forEach(function(e){s.forEach(function(n){a.push(t.render(e,n))})}),r(o.join(a)),this}},{supportedForProcessing:!1}),query:function(n,i){return new e.QueryCollection((i||t.document).querySelectorAll(n))},id:function(n){var i=t.document.getElementById(n);return new e.QueryCollection(i?[i]:[])},children:function(t){return new e.QueryCollection(t.children)}})}),define("WinJS/Utilities/_Hoverable",["exports","../Core/_Global"],function(e,t){"use strict";if(t.document&&(t.document.documentElement.classList.add("win-hoverable"),e.isHoverable=!0,!t.MSPointerEvent)){var n=function n(){t.document.removeEventListener("touchstart",n),t.document.documentElement.classList.remove("win-hoverable"),e.isHoverable=!1};t.document.addEventListener("touchstart",n)}}),define("WinJS/Utilities/_ParallelWorkQueue",["exports","../Core/_Base","../Promise","../Scheduler"],function(e,t,n,i){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_ParallelWorkQueue:t.Namespace._lazy(function(){return t.Class.define(function(e){function t(){u--,c||i.schedule(o,i.Priority.normal,null,"WinJS._ParallelWorkQueue.runNext")}function o(){for(c++;u<e;u++){var n,i;do n=l.shift(),i=n&&a[n];while(n&&!i);if(!i)break;delete a[n];try{i().then(t,t)}catch(e){t()}}c--}function r(e,t,i){var r,u="w"+s++;return new n(function(n,s,c){var d=function(){return r=e().then(n,s,c)};d.data=t,a[u]=d,i?l.unshift(u):l.push(u),o()},function(){delete a[u],r&&r.cancel()})}var s=0,a={},l=[];e=e||3;var u=0,c=0;this.sort=function(e){l.sort(function(t,n){return t=a[t],n=a[n],void 0===t&&void 0===n?0:void 0===t?1:void 0===n?-1:e(t.data,n.data)})},this.queue=r},{},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_VersionManager",["exports","../Core/_Base","../_Signal"],function(e,t,n){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_VersionManager:t.Namespace._lazy(function(){return t.Class.define(function(){this._unlocked=new n,this._unlocked.complete()},{_cancelCount:0,_notificationCount:0,_updateCount:0,_version:0,locked:{get:function(){return 0!==this._notificationCount||0!==this._updateCount}},noOutstandingNotifications:{get:function(){return 0===this._notificationCount}},version:{get:function(){return this._version}},unlocked:{get:function(){return this._unlocked.promise}},_dispose:function(){this._unlocked&&(this._unlocked.cancel(),this._unlocked=null)},beginUpdating:function(){this._checkLocked(),this._updateCount++},endUpdating:function(){this._updateCount--,this._checkUnlocked()},beginNotifications:function(){this._checkLocked(),this._notificationCount++},endNotifications:function(){this._notificationCount--,this._checkUnlocked()},_checkLocked:function(){this.locked||(this._dispose(),this._unlocked=new n)},_checkUnlocked:function(){this.locked||this._unlocked.complete()},receivedNotification:function(){if(this._version++,this._cancel){var e=this._cancel;this._cancel=null,e.forEach(function(e){e&&e.cancel()})}},cancelOnNotification:function(e){return this._cancel||(this._cancel=[],this._cancelCount=0),this._cancel[this._cancelCount++]=e,this._cancelCount-1},clearCancelOnNotification:function(e){this._cancel&&delete this._cancel[e]}},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_ItemsManager",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../_Signal","../Scheduler","../Utilities/_ElementUtilities","./_ParallelWorkQueue","./_VersionManager"],function(e,t,n,i,o,r,s,a,l,u,c,d,h){"use strict";function m(e){return y(function(t,n){return t.then(function(t){return t?e(t,n):null})})}function p(e,t){var n=!1,i=!1;return e.isOnScreen().then(function(e){n=e}),t.isOnScreen().then(function(e){i=e}),(n?0:1)-(i?0:1)}function f(e){if(!/^blob:/i.test(e)&&(j[e]=!0,k.push(e),k.length>T)){var t=k;j={},k=[];for(var n=0,i=t.length-1;i>=0&&n<P;i--){var o=t[i];j[o]||(j[o]=!0,n++)}}}function _(e,n,i){var o=x++;return C=C||new d._ParallelWorkQueue(6),C.queue(function(){return new a(function(i,r){u.schedule(function(o){n||(n=t.document.createElement("img"));var s=j[e];s?(f(e),n.src=e,i(n)):o.setPromise(new a(function(o){var s=t.document.createElement("img"),a=function(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1),n.src=e;var t=new Date;t-S>I&&(S=t,C.sort(p))},l=function(){o(c)},u=function(){o(d)},c=function(){f(e),a(),i(n)},d=function(){a(),r(n)};s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),s.src=e}))},u.Priority.normal,null,"WinJS.UI._ImageLoader._image"+o)})},i)}function g(e){return j[e]}function v(){return t.document.createElement("div")}var y=i.markSupportedForProcessing,b=c._uniqueID,w=m(function(e){if(c._isDOMElement(e.data))return e.data;var n=e.data;void 0===n?n="undefined":null===n?n="null":"object"===("undefined"==typeof n?"undefined":_typeof(n))&&(n=JSON.stringify(n));var i=t.document.createElement("span");return i.textContent=n.toString(),i});n.Namespace._moduleDefine(e,"WinJS.UI",{_normalizeRendererReturn:function(e){if(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.element){var t=a.as(e.element);return t.then(function(t){return{element:t,renderComplete:a.as(e.renderComplete)}})}var t=a.as(e);return t.then(function(e){return{element:e,renderComplete:a.as()}})}return{element:null,renderComplete:a.as()}},simpleItemRenderer:m,_trivialHtmlRenderer:w});var C,E={get listDataSourceIsInvalid(){return"Invalid argument: dataSource must be an object."},get itemRendererIsInvalid(){return"Invalid argument: itemRenderer must be a function."},get itemIsInvalid(){return"Invalid argument: item must be a DOM element that was returned by the Items Manager, and has not been replaced or released."}},S=new Date,I=64,x=0,j={},k=[],P=250,T=1e3;n.Namespace._moduleDefine(e,"WinJS.UI",{_seenUrl:f,_getSeenUrls:function(){return j},_getSeenUrlsMRU:function(){return k},_seenUrlsMaxSize:P,_seenUrlsMRUMaxSize:T}),n.Namespace._moduleDefine(e,"WinJS.UI",{_createItemsManager:n.Namespace._lazy(function(){var t=n.Class.define(function(e){this._itemsManager=e},{beginNotifications:function(){this._itemsManager._versionManager.beginNotifications(),this._itemsManager._beginNotifications()},inserted:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._inserted(e,t,n)},changed:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._changed(e,t)},moved:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._moved(e,t,n)},removed:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._removed(e,t)},countChanged:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._countChanged(e,t)},indexChanged:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._indexChanged(e,t,n)},affectedRange:function(e){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._affectedRange(e)},endNotifications:function(){this._itemsManager._versionManager.endNotifications(),this._itemsManager._endNotifications()},reload:function(){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._reload()}},{supportedForProcessing:!1}),i=n.Class.define(function(e,n,i,r){if(!e)throw new o("WinJS.UI.ItemsManager.ListDataSourceIsInvalid",E.listDataSourceIsInvalid);if(!n)throw new o("WinJS.UI.ItemsManager.ItemRendererIsInvalid",E.itemRendererIsInvalid);this.$pipeline_callbacksMap={},this._listDataSource=e,this.dataSource=this._listDataSource,this._elementNotificationHandler=i,this._listBinding=this._listDataSource.createListBinding(new t(this)),r&&(r.ownerElement&&(this._ownerElement=r.ownerElement),this._profilerId=r.profilerId,this._versionManager=r.versionManager||new h._VersionManager),this._indexInView=r&&r.indexInView,this._itemRenderer=n,this._viewCallsReady=r&&r.viewCallsReady,this._elementMap={},this._handleMap={},this._jobOwner=u.createOwnerToken(),this._notificationsSent=!1,this._listBinding.last&&(this.lastItem=function(){return this._elementForItem(this._listBinding.last())})},{_itemFromItemPromise:function(e){return this._waitForElement(this._elementForItem(e))},_itemFromItemPromiseThrottled:function(e){return this._waitForElement(this._elementForItem(e,!0))},_itemAtIndex:function(e){var t=this._itemPromiseAtIndex(e);this._itemFromItemPromise(t).then(null,function(e){return t.cancel(),a.wrapError(e)})},_itemPromiseAtIndex:function(e){return this._listBinding.fromIndex(e)},_waitForElement:function(e){var t=this;return new a(function(n){if(e)if(t.isPlaceholder(e)){var i=b(e),o=t.$pipeline_callbacksMap[i];o?o.push(n):t.$pipeline_callbacksMap[i]=[n]}else n(e);else n(e)})},_updateElement:function(e,t){var n=b(t),i=this.$pipeline_callbacksMap[n];i&&(delete this.$pipeline_callbacksMap[n],i.forEach(function(t){t(e)}))},_firstItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.first()))},_lastItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.last()))},_previousItem:function(e){return this._listBinding.jumpToItem(this._itemFromElement(e)),this._waitForElement(this._elementForItem(this._listBinding.previous()))},_nextItem:function(e){return this._listBinding.jumpToItem(this._itemFromElement(e)),this._waitForElement(this._elementForItem(this._listBinding.next()))},_itemFromPromise:function(e){return this._waitForElement(this._elementForItem(e))},isPlaceholder:function(e){return!!this._recordFromElement(e).elementIsPlaceholder},itemObject:function(e){return this._itemFromElement(e)},release:function(){this._listBinding.release(),this._elementNotificationHandler=null,this._listBinding=null,this._jobOwner.cancelAll(),this._released=!0},releaseItemPromise:function(e){var t=e.handle,n=this._handleMap[t];n?this._releaseRecord(n):e.cancel()},releaseItem:function(e){var t=this._elementMap[b(e)];this._releaseRecord(t)},_releaseRecord:function(e){e&&(e.renderPromise&&e.renderPromise.cancel(),e.itemPromise&&e.itemPromise.cancel(),e.imagePromises&&e.imagePromises.forEach(function(e){e.cancel()}),e.itemReadyPromise&&e.itemReadyPromise.cancel(),e.renderComplete&&e.renderComplete.cancel(),this._removeEntryFromElementMap(e.element),this._removeEntryFromHandleMap(e.itemPromise.handle,e),e.item&&this._listBinding.releaseItem(e.item))},refresh:function(){return this._listDataSource.invalidateAll()},_handlerToNotifyCaresAboutItemAvailable:function(){return!(!this._elementNotificationHandler||!this._elementNotificationHandler.itemAvailable)},_handlerToNotify:function(){return this._notificationsSent||(this._notificationsSent=!0,this._elementNotificationHandler&&this._elementNotificationHandler.beginNotifications&&this._elementNotificationHandler.beginNotifications()),this._elementNotificationHandler},_defineIndexProperty:function(e,t,n){n.indexObserved=!1,Object.defineProperty(e,"index",{get:function(){return n.indexObserved=!0,t.index}})},_renderPlaceholder:function(e){var t={},n=v(t);return e.elementIsPlaceholder=!0,n},_renderItem:function(t,n,i){function o(){t.then(function(e){r._writeProfilerMark(h+",StartTM"),c.complete(e),r._writeProfilerMark(h+",StopTM")})}var r=this,s=r._indexInView||function(){return!0},c=new l,d=new l,h="_renderItem("+n.item.index+"):itemPromise",m=!0,p=!1;t.then(function(e){p=!0,m&&c.complete(e)}),m=!1;var f=c.promise.then(function(e){if(e){var t=Object.create(e);return r._defineIndexProperty(t,e,n),t.ready=d.promise,t.isOnScreen=function(){return a.wrap(s(e.index))},t.loadImage=function(e,i){var o=_(e,i,t);return n.imagePromises?n.imagePromises.push(o):n.imagePromises=[o],o},t.isImageCached=g,t}return a.cancel});p||(i?(n.stage0=t,n.startStage1=function(){n.startStage1=null,o()}):o()),f.handle=t.handle,n.itemPromise=f,n.itemReadyPromise=d.promise,n.readyComplete=!1;var v="_renderItem("+n.item.index+(p?"):syncItemPromise":"):placeholder"),y="_renderItem("+n.item.index+"):itemReady";this._writeProfilerMark(v+",StartTM");var b=a.as(r._itemRenderer(f,n.element)).then(e._normalizeRendererReturn).then(function(e){return r._released?a.cancel:(f.then(function(e){if(n.pendingReady=function(){n.pendingReady&&(n.pendingReady=null,n.readyComplete=!0,r._writeProfilerMark(y+",StartTM"),d.complete(e),r._writeProfilerMark(y+",StopTM"))},!r._viewCallsReady){var t=u.schedule(n.pendingReady,u.Priority.normal,n,"WinJS.UI._ItemsManager._pendingReady");t.owner=r._jobOwner}}),e)});return this._writeProfilerMark(v+",StopTM"),b},_replaceElement:function(e,t){this._removeEntryFromElementMap(e.element),e.element=t,this._addEntryToElementMap(t,e)},_changeElement:function(e,t,n){e.renderPromise=null;var i=e.element,o=e.item;e.newItem&&(e.item=e.newItem,e.newItem=null),this._replaceElement(e,t),e.item&&e.elementIsPlaceholder&&!n?(e.elementDelayed=null,e.elementIsPlaceholder=!1,this._updateElement(e.element,i),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(e.element,i)):this._handlerToNotify().changed(t,i,o)},_elementForItem:function(e,t){var n,i=e.handle,o=this._recordFromHandle(i,!0);if(!i)return null;if(o)n=o.element;else{o={item:e,itemPromise:e},this._addEntryToHandleMap(i,o);var r=this,s=!1,a=!1,l=r._renderItem(e,o,t).then(function(t){var i=t.element;o.renderComplete=t.renderComplete,e.then(function(e){o.item=e,e||(s=!0,n=null)}),a=!0,o.renderPromise=null,i&&(n?r._presentElements(o,i):n=i)});s||(a||(o.renderPromise=l),n||(n=this._renderPlaceholder(o)),o.element=n,this._addEntryToElementMap(n,o),e.retain())}return n},_addEntryToElementMap:function(e,t){this._elementMap[b(e)]=t},_removeEntryFromElementMap:function(e){delete this._elementMap[b(e)]},_recordFromElement:function(e){var t=this._elementMap[b(e)];if(!t)throw this._writeProfilerMark("_recordFromElement:ItemIsInvalidError,info"),new o("WinJS.UI.ItemsManager.ItemIsInvalid",E.itemIsInvalid);return t},_addEntryToHandleMap:function(e,t){this._handleMap[e]=t},_removeEntryFromHandleMap:function(e){delete this._handleMap[e]},_handleInHandleMap:function(e){return!!this._handleMap[e]},_recordFromHandle:function(e,t){var n=this._handleMap[e];if(!n&&!t)throw new o("WinJS.UI.ItemsManager.ItemIsInvalid",E.itemIsInvalid);return n},_foreachRecord:function(e){var t=this._handleMap;for(var n in t){var i=t[n];e(i)}},_itemFromElement:function(e){return this._recordFromElement(e).item},_elementFromHandle:function(e){if(e){var t=this._recordFromHandle(e,!0);if(t&&t.element)return t.element}return null},_inserted:function(e,t,n){this._handlerToNotify().inserted(e,t,n)},_changed:function(e,t){if(this._handleInHandleMap(t.handle)){var n=this._recordFromHandle(t.handle);n.renderPromise&&n.renderPromise.cancel(),n.itemPromise&&n.itemPromise.cancel(),n.imagePromises&&n.imagePromises.forEach(function(e){e.cancel()}),n.itemReadyPromise&&n.itemReadyPromise.cancel(),n.renderComplete&&n.renderComplete.cancel(),n.newItem=e;var i=this,o=a.as(e);o.handle=n.itemPromise.handle,n.renderPromise=this._renderItem(o,n).then(function(e){n.renderComplete=e.renderComplete,i._changeElement(n,e.element,!1),i._presentElements(n)})}},_moved:function(e,t,n){var i=this._elementFromHandle(e.handle),o=this._elementFromHandle(t),r=this._elementFromHandle(n);this._handlerToNotify().moved(i,o,r,e),this._presentAllElements()},_removed:function(e,t){if(this._handleInHandleMap(e)){var n=this._elementFromHandle(e);this._handlerToNotify().removed(n,t,e),this.releaseItem(n),this._presentAllElements()}else this._handlerToNotify().removed(null,t,e)},_countChanged:function(e,t){this._elementNotificationHandler&&this._elementNotificationHandler.countChanged&&this._handlerToNotify().countChanged(e,t)},_indexChanged:function(e,t,n){var i;if(this._handleInHandleMap(e)){var o=this._recordFromHandle(e);if(o.indexObserved)if(o.elementIsPlaceholder)this._changeElement(o,this._renderPlaceholder(o),!0);else if(o.item.index!==t){o.renderPromise&&o.renderPromise.cancel(),o.renderComplete&&o.renderComplete.cancel();var r=o.newItem||o.item;r.index=t;var s=a.as(r);s.handle=o.itemPromise.handle;var l=this;o.renderPromise=this._renderItem(s,o).then(function(e){o.renderComplete=e.renderComplete,l._changeElement(o,e.element,!1),l._presentElements(o)})}i=o.element}this._elementNotificationHandler&&this._elementNotificationHandler.indexChanged&&this._handlerToNotify().indexChanged(i,t,n)},_affectedRange:function(e){this._elementNotificationHandler&&this._elementNotificationHandler.updateAffectedRange&&this._handlerToNotify().updateAffectedRange(e)},_beginNotifications:function(){this._externalBegin=!0,this._handlerToNotify()},_endNotifications:function(){this._notificationsSent&&(this._notificationsSent=!1,this._externalBegin=!1,this._elementNotificationHandler&&this._elementNotificationHandler.endNotifications&&this._elementNotificationHandler.endNotifications())},_reload:function(){this._elementNotificationHandler&&this._elementNotificationHandler.reload&&this._elementNotificationHandler.reload()},_postEndNotifications:function(){if(this._notificationsSent&&!this._externalBegin&&!this._endNotificationsPosted){this._endNotificationsPosted=!0;var e=this;u.schedule(function(){e._endNotificationsPosted=!1,e._endNotifications()},u.Priority.high,null,"WinJS.UI._ItemsManager._postEndNotifications")}},_presentElement:function(e){var t=e.element;this._replaceElement(e,e.elementDelayed),e.elementDelayed=null,e.elementIsPlaceholder=!1,this._updateElement(e.element,t),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(e.element,t)},_presentElements:function(e,t){t&&(e.elementDelayed=t),this._listBinding.jumpToItem(e.item),e.elementDelayed&&this._presentElement(e),this._postEndNotifications()},_presentAllElements:function(){var e=this;this._foreachRecord(function(t){t.elementDelayed&&e._presentElement(t)})},_writeProfilerMark:function(e){var t="WinJS.UI._ItemsManager:"+(this._profilerId?this._profilerId+":":":")+e;s(t)}},{supportedForProcessing:!1});return function(e,t,n,o){return new i(e,t,n,o)}})})}),define("WinJS/Utilities/_TabContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","./_ElementUtilities"],function(e,t,n,i,o){"use strict";function r(e,n,i,o){var r=t.document.createEvent("UIEvent");return r.initUIEvent(n,!1,!!o,t,i?1:0),!e.dispatchEvent(r)}function s(e){var n=o._getComputedStyle(e);if("none"===n.display||"hidden"===n.visibility)return t.NodeFilter.FILTER_REJECT;if(e._tabContainer)return t.NodeFilter.FILTER_ACCEPT;if(e.parentNode&&e.parentNode._tabContainer){var i=e.parentNode._tabContainer.childFocus;return i&&e.contains(i)?u(e)>=0?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP:t.NodeFilter.FILTER_REJECT}var r=u(e);return r>=0?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP}function a(e){function t(){if(e.currentNode._tabContainer)o=o.concat(a(e));else if(u(e.currentNode)>=0&&o.push(e.currentNode),e.firstChild()){do t();while(e.nextSibling());e.parentNode()}}var n=e.currentNode,i=n._tabContainer.childFocus,o=[];return i?(e.currentNode=i,t(),e.currentNode=n,o):[]}function l(e,n){function i(){var e=t.document.createElement("DIV");return e.tabIndex=n?n:0,e.setAttribute("aria-hidden",!0),e}var o=e.parentNode,s=i();o.insertBefore(s,e);var a=i();o.insertBefore(a,e.nextSibling),s.addEventListener("focus",function(){r(e,"onTabEnter",!0)},!0),a.addEventListener("focus",function(){r(e,"onTabEnter",!1)},!0),this._catcherBegin=s,this._catcherEnd=a;var l=1;this.addRef=function(){l++},this.release=function(){return 0===--l&&(s.parentElement&&o.removeChild(s),a.parentElement&&o.removeChild(a)),l},this.updateTabIndex=function(e){s.tabIndex=e,a.tabIndex=e}}if(t.document){var u=o.getTabIndex,c={attach:function(e,t){return e["win-trackTabHelperObject"]?e["win-trackTabHelperObject"].addRef():e["win-trackTabHelperObject"]=new l(e,t),e["win-trackTabHelperObject"]},detach:function(e){e["win-trackTabHelperObject"].release()||delete e["win-trackTabHelperObject"]}};n.Namespace._moduleDefine(e,"WinJS.UI",{TrackTabBehavior:c,TabContainer:n.Class.define(function(e){this._element=e,this._tabIndex=0,e._tabContainer=this,null===e.getAttribute("tabindex")&&(e.tabIndex=-1);var t=this;e.addEventListener("onTabEnter",function(n){var i=r(t._element,"onTabEntered",n.detail,!0);i||(t.childFocus?t.childFocus.focus():e.focus())}),e.addEventListener("keydown",function(e){var n=e.target;if(e.keyCode===o.Key.tab){var s=!e.shiftKey,a=t._hasMoreElementsInTabOrder(n,s);if(!a){var l=r(t._element,"onTabExiting",s,!0);if(l)return e.stopPropagation(),void e.preventDefault();for(var u=t._element.querySelectorAll("a[href],area[href],button,command,input,link,menuitem,object,select,textarea,th[sorted],[tabindex]"),c=u.length,d=[],h=0;h<c;h++){var m=u[h];d.push(m.tabIndex),m.tabIndex=-1}t._elementTabHelper[s?"_catcherEnd":"_catcherBegin"].tabIndex=-1;var p=function e(){n.removeEventListener("blur",e,!1);for(var i=0;i<c;i++)d[i]!==-1&&(u[i].tabIndex=d[i]);t._elementTabHelper._catcherBegin.tabIndex=t._tabIndex,t._elementTabHelper._catcherEnd.tabIndex=t._tabIndex};n.addEventListener("blur",p,!1),i._yieldForEvents(function(){r(t._element,"onTabExit",s)})}}}),this._elementTabHelper=c.attach(e,this._tabIndex),this._elementTabHelper._catcherBegin.tabIndex=0,this._elementTabHelper._catcherEnd.tabIndex=0},{dispose:function(){c.detach(this._element,this._tabIndex)},childFocus:{set:function(e){e!==this._focusElement&&(e&&e.parentNode?this._focusElement=e:this._focusElement=null)},get:function(){return this._focusElement}},tabIndex:{set:function(e){this._tabIndex=e,this._elementTabHelper.updateTabIndex(e)},get:function(){return this._tabIndex}},_element:null,_skipper:function(e){e.stopPropagation(),e.preventDefault()},_hasMoreElementsInTabOrder:function(e,n){if(!this.childFocus)return!1;for(var i=t.document.createTreeWalker(this._element,t.NodeFilter.SHOW_ELEMENT,s,!1),o=a(i),r=0;r<o.length;r++)if(o[r]===e)return n?r<o.length-1:r>0;
return!1},_focusElement:null},{supportedForProcessing:!1})})}}),define("WinJS/Utilities/_KeyboardBehavior",["exports","../Core/_Global","../Core/_Base","./_Control","./_ElementUtilities","./_TabContainer"],function(e,t,n,i,o,r){"use strict";if(t.document){var s={touch:"touch",pen:"pen",mouse:"mouse",keyboard:"keyboard"},a=s.mouse,l={2:s.touch,3:s.pen,4:s.mouse,touch:s.touch,pen:s.pen,mouse:s.mouse};o._addEventListener(t,"pointerdown",function(e){a=l[e.pointerType]||s.mouse},!0),t.addEventListener("keydown",function(){a=s.keyboard},!0),n.Namespace._moduleDefine(e,"WinJS.UI",{_keyboardSeenLast:{get:function(){return a===s.keyboard},set:function(e){a=e?s.keyboard:s.mouse}},_lastInputType:{get:function(){return a},set:function(e){s[e]&&(a=e)}},_InputTypes:s,_WinKeyboard:function(t){o._addEventListener(t,"pointerdown",function(e){o.removeClass(e.target,"win-keyboard")},!0),t.addEventListener("keydown",function(e){o.addClass(e.target,"win-keyboard")},!0),o._addEventListener(t,"focusin",function(t){e._keyboardSeenLast&&o.addClass(t.target,"win-keyboard")},!1),o._addEventListener(t,"focusout",function(e){o.removeClass(e.target,"win-keyboard")},!1)},_KeyboardBehavior:n.Namespace._lazy(function(){var e=o.Key,s=n.Class.define(function(e,n){e=e||t.document.createElement("DIV"),n=n||{},e._keyboardBehavior=this,this._element=e,this._fixedDirection=s.FixedDirection.width,this._fixedSize=1,this._currentIndex=0,i.setOptions(this,n),this._tabContainer=new r.TabContainer(this.scroller||this._element),this._tabContainer.tabIndex=0,this._element.children.length>0&&(this._tabContainer.childFocus=this._getFocusInto(this._element.children[0])),this._element.addEventListener("keydown",this._keyDownHandler.bind(this)),o._addEventListener(this._element,"pointerdown",this._MSPointerDownHandler.bind(this))},{element:{get:function(){return this._element}},fixedDirection:{get:function(){return this._fixedDirection},set:function(e){this._fixedDirection=e}},fixedSize:{get:function(){return this._fixedSize},set:function(e){+e===e&&(e=Math.max(1,e),this._fixedSize=e)}},currentIndex:{get:function(){return this._element.children.length>0?this._currentIndex:-1},set:function(e){if(+e===e){var t=this._element.children.length;e=Math.max(0,Math.min(t-1,e)),this._currentIndex=e,this._tabContainer.childFocus=this._getFocusInto(this._element.children[e])}}},getAdjacent:{get:function(){return this._getAdjacent},set:function(e){this._getAdjacent=e}},scroller:{get:function(){return this._scroller},set:function(e){this._scroller=e}},_keyDownHandler:function(t){if(!t.altKey){if(o._matchesSelector(t.target,".win-interactive, .win-interactive *"))return;var n=this.currentIndex,i=this._element.children.length-1,r="rtl"===o._getComputedStyle(this._element).direction,a=r?e.rightArrow:e.leftArrow,l=r?e.leftArrow:e.rightArrow,u=this.getAdjacent&&this.getAdjacent(n,t.keyCode);if(+u===u)n=u;else{var c=n%this.fixedSize;t.keyCode===a?this.fixedDirection===s.FixedDirection.width?0!==c&&n--:n>=this.fixedSize&&(n-=this.fixedSize):t.keyCode===l?this.fixedDirection===s.FixedDirection.width?c!==this.fixedSize-1&&n++:n+this.fixedSize-c<=i&&(n+=this.fixedSize):t.keyCode===e.upArrow?this.fixedDirection===s.FixedDirection.height?0!==c&&n--:n>=this.fixedSize&&(n-=this.fixedSize):t.keyCode===e.downArrow?this.fixedDirection===s.FixedDirection.height?c!==this.fixedSize-1&&n++:n+this.fixedSize-c<=i&&(n+=this.fixedSize):t.keyCode===e.home?n=0:t.keyCode===e.end&&(n=this._element.children.length-1)}n=Math.max(0,Math.min(this._element.children.length-1,n)),n!==this.currentIndex&&(this._focus(n,t.keyCode),t.keyCode!==a&&t.keyCode!==l&&t.keyCode!==e.upArrow&&t.keyCode!==e.downArrow||t.stopPropagation(),t.preventDefault())}},_getFocusInto:function(e,t){return e&&e.winControl&&e.winControl._getFocusInto?e.winControl._getFocusInto(t):e},_focus:function(e,t){e=+e===e?e:this.currentIndex;var n=this._element.children[e];n&&(n=this._getFocusInto(n,t),this.currentIndex=e,o._setActive(n,this.scroller))},_MSPointerDownHandler:function(e){var t=e.target;if(t!==this.element){for(;t.parentNode!==this.element;)t=t.parentNode;for(var n=-1;t;)n++,t=t.previousElementSibling;this.currentIndex=n}}},{FixedDirection:{height:"height",width:"width"}});return s})})}}),define("WinJS/Utilities/_SafeHtml",["exports","../Core/_WinJS","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources"],function(e,t,n,i,o,r){"use strict";var s,a,l,u,c,d,h={get nonStaticHTML(){return"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."}};s=a=function(e,t){e.innerHTML=t},l=u=function(e,t){e.outerHTML=t},c=d=function(e,t,n){e.insertAdjacentHTML(t,n)};var m=n.MSApp;if(m&&m.execUnsafeLocalFunction)a=function(e,n){m.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.innerHTML=n}finally{t._execUnsafe=!1}})},u=function(e,n){m.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.outerHTML=n}finally{t._execUnsafe=!1}})},d=function(e,n,i){m.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.insertAdjacentHTML(n,i)}finally{t._execUnsafe=!1}})};else if(n.msIsStaticHTML){var p=function(e){if(!n.msIsStaticHTML(e))throw new o("WinJS.Utitilies.NonStaticHTML",h.nonStaticHTML)};s=function(e,t){p(t),e.innerHTML=t},l=function(e,t){p(t),e.outerHTML=t},c=function(e,t,n){p(n),e.insertAdjacentHTML(t,n)}}i.Namespace._moduleDefine(e,"WinJS.Utilities",{setInnerHTML:s,setInnerHTMLUnsafe:a,setOuterHTML:l,setOuterHTMLUnsafe:u,insertAdjacentHTML:c,insertAdjacentHTMLUnsafe:d})}),define("WinJS/Utilities/_Select",["exports","../Core/_Base","./_SafeHtml"],function(e,t,n){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_Select:t.Namespace._lazy(function(){function e(e){return e.replace(a,function(e){return l[e]||""})}function i(e){return e.replace(u,"")}function o(e){return this[e]}function r(){return this.length}function s(e){return e.getValue||(e.getValue=o),e.getLength||(e.getLength=r),e}var a=/[&<>'"]/g,l={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},u=/[\u200e\u200f]/g;return t.Class.define(function(e,t){this._dataSource=s(t.dataSource),this._index=t.index||0,this._domElement=e,this._domElement.tabIndex=0,t.disabled&&this.setDisabled(t.disabled);var n=this;this._domElement.addEventListener("change",function(){n._index=n._domElement.selectedIndex},!1),this._createSelectElement()},{_index:0,_dataSource:null,dataSource:{get:function(){return this._dataSource},set:function(e){this._dataSource=s(e),this._domElement&&this._createSelectElement()}},setDisabled:function(e){e?this._domElement.setAttribute("disabled","disabled"):this._domElement.removeAttribute("disabled")},_createSelectElement:function(){for(var t=this._dataSource.getLength(),o="",r=0;r<t;r++){var s=""+this._dataSource.getValue(r),a=e(s),l=i(a);o+="<option value='"+l+"'>"+a+"</option>"}n.setInnerHTMLUnsafe(this._domElement,o),this._domElement.selectedIndex=this._index},index:{get:function(){return Math.max(0,Math.min(this._index,this._dataSource.getLength()-1))},set:function(e){if(this._index!==e){this._index=e;var t=this._domElement;t&&t.selectedIndex!==e&&(t.selectedIndex=e)}}},value:{get:function(){return this._dataSource.getValue(this.index)}}})})})}),define("WinJS/Utilities/_Telemetry",["exports"],function(e){"use strict";e.send=function(e,t){}}),define("WinJS/Utilities/_UI",["exports","../Core/_BaseCoreUtils","../Core/_Base"],function(e,t,n){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{eventHandler:function(e){return t.markSupportedForProcessing(e)},Orientation:{horizontal:"horizontal",vertical:"vertical"},CountResult:{unknown:"unknown"},CountError:{noResponse:"noResponse"},DataSourceStatus:{ready:"ready",waiting:"waiting",failure:"failure"},FetchError:{noResponse:"noResponse",doesNotExist:"doesNotExist"},EditError:{noResponse:"noResponse",canceled:"canceled",notPermitted:"notPermitted",noLongerMeaningful:"noLongerMeaningful"},ObjectType:{item:"item",groupHeader:"groupHeader",header:"header",footer:"footer"},SelectionMode:{none:"none",single:"single",multi:"multi"},TapBehavior:{directSelect:"directSelect",toggleSelect:"toggleSelect",invokeOnly:"invokeOnly",none:"none"},SwipeBehavior:{select:"select",none:"none"},GroupHeaderTapBehavior:{invoke:"invoke",none:"none"}})}),define("WinJS/Utilities/_Xhr",["../Core/_Global","../Core/_Base","../Promise","../Scheduler"],function(e,t,n,i){"use strict";function o(e,t,n){i.schedule(function(){e(t)},n,null,"WinJS.xhr")}function r(){}function s(t){var s;return new n(function(n,l,u){var c=i.currentPriority;s=new e.XMLHttpRequest;var d=!1,h=a.exec(t.url.toLowerCase());h?"file"===h[1]&&(d=!0):"file:"===e.location.protocol&&(d=!0),s.onreadystatechange=function(){return s._canceled?void(s.onreadystatechange=r):void(4===s.readyState?(s.status>=200&&s.status<300||d&&0===s.status?o(n,s,c):o(l,s,c),s.onreadystatechange=r):o(u,s,c))},s.open(t.type||"GET",t.url,!0,t.user,t.password),s.responseType=t.responseType||"",Object.keys(t.headers||{}).forEach(function(e){s.setRequestHeader(e,t.headers[e])}),t.customRequestInitializer&&t.customRequestInitializer(s),void 0===t.data?s.send():s.send(t.data)},function(){s.onreadystatechange=r,s._canceled=!0,s.abort()})}var a=/^(\w+)\:\/\//;return t.Namespace.define("WinJS",{xhr:s}),s}),define("WinJS/Utilities",["./Utilities/_Control","./Utilities/_Dispose","./Utilities/_ElementListUtilities","./Utilities/_ElementUtilities","./Utilities/_Hoverable","./Utilities/_ItemsManager","./Utilities/_KeyboardBehavior","./Utilities/_ParallelWorkQueue","./Utilities/_SafeHtml","./Utilities/_Select","./Utilities/_TabContainer","./Utilities/_Telemetry","./Utilities/_UI","./Utilities/_VersionManager","./Utilities/_Xhr"],function(){}),define("WinJS/XYFocus",["require","exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Events","./ControlProcessor/_OptionsParser"],function(e,t,n,i,o,r,s,a){"use strict";function l(e,t){var n=d(e,t);return n?n.target:null}function u(e,t){var i=l(e,t);if(i){var o=n.document.activeElement;if(p(i,-1))return N.dispatchEvent(j.focusChanged,{previousFocusElement:o,keyCode:-1}),i}return null}function c(e,i,o,s){function a(e,t){var n=h();e===x.left||e===x.right?(n.top=Math.max(t.targetRect.top,t.referenceRect.top,A?A.top:Number.MIN_VALUE),n.bottom=Math.min(t.targetRect.bottom,t.referenceRect.bottom,A?A.bottom:Number.MAX_VALUE),n.bottom<=n.top&&(n.top=t.targetRect.top,n.bottom=t.targetRect.bottom),n.height=n.bottom-n.top,n.width=Number.MAX_VALUE,n.left=Number.MIN_VALUE,n.right=Number.MAX_VALUE):(n.left=Math.max(t.targetRect.left,t.referenceRect.left,A?A.left:Number.MIN_VALUE),n.right=Math.min(t.targetRect.right,t.referenceRect.right,A?A.right:Number.MAX_VALUE),n.right<=n.left&&(n.left=t.targetRect.left,n.right=t.targetRect.right),n.width=n.right-n.left,n.height=Number.MAX_VALUE,n.top=Number.MIN_VALUE,n.bottom=Number.MAX_VALUE),A=n}if(o||n.document.activeElement!==T)A=null,T=null,O=null;else if(T&&O){var l=m(T.getBoundingClientRect());l.left===O.left&&l.top===O.top||(A=null,T=null,O=null)}var u=n.document.activeElement,c=d(e,{focusRoot:t.focusRoot,historyRect:A,referenceElement:T,referenceRect:o});if(c&&p(c.target,i)){if(a(e,c),T=c.target,O=c.targetRect,r.hasClass(c.target,S.toggleMode)&&r.removeClass(c.target,S.toggleModeActive),"IFRAME"===c.target.tagName){var f=c.target;if(D.isXYFocusEnabled(f)){var _=m({left:c.referenceRect.left-c.targetRect.left,top:c.referenceRect.top-c.targetRect.top,width:c.referenceRect.width,height:c.referenceRect.height}),g={};g[I.messageDataProperty]={type:I.dFocusEnter,direction:e,referenceRect:_},f.contentWindow.postMessage(g,"*")}}return N.dispatchEvent(j.focusChanged,{previousFocusElement:u,keyCode:i}),!0}if(!s&&top!==window){var _=o;_||(_=n.document.activeElement?m(n.document.activeElement.getBoundingClientRect()):h());var g={};return g[I.messageDataProperty]={type:I.dFocusExit,direction:e,referenceRect:_},n.parent.postMessage(g,"*"),!0}return!1}function d(e,i){function o(e,t,n,i){if(e>=i||t<=n)return 0;var o=Math.min(t,i)-Math.max(e,n),r=Math.min(i-n,t-e);return 0===r?0:o/r}function r(e,t,n,i,r){var s,a,l=0,u=0,c=0;switch(e){case x.left:if(r.left>=i.left)break;s=o(i.top,i.bottom,r.top,r.bottom),a=i.left-r.right,s>0?c=o(n.top,n.bottom,r.top,r.bottom):u=i.bottom<=r.top?r.top-i.bottom:i.top-r.bottom;break;case x.right:if(r.right<=i.right)break;s=o(i.top,i.bottom,r.top,r.bottom),a=r.left-i.right,s>0?c=o(n.top,n.bottom,r.top,r.bottom):u=i.bottom<=r.top?r.top-i.bottom:i.top-r.bottom;break;case x.up:if(r.top>=i.top)break;s=o(i.left,i.right,r.left,r.right),a=i.top-r.bottom,s>0?c=o(n.left,n.right,r.left,r.right):u=i.right<=r.left?r.left-i.right:i.left-r.right;break;case x.down:if(r.bottom<=i.bottom)break;s=o(i.left,i.right,r.left,r.right),a=r.top-i.bottom,s>0?c=o(n.left,n.right,r.left,r.right):u=i.right<=r.left?r.left-i.right:i.left-r.right}return a>=0&&(a=t-a,u=t-u,a>=0&&u>=0&&(a+=a*s,l=a*P.primaryAxisDistanceWeight+u*P.secondaryAxisDistanceWeight+c*P.percentInHistoryShadowWeight)),l}function s(e,t){var i,o;return(!e&&!t||e&&!e.parentNode)&&n.document.activeElement!==n.document.body&&(e=n.document.activeElement),e?(i=e,o=m(i.getBoundingClientRect())):o=t?m(t):h(),{element:i,rect:o}}i=i||{},i.focusRoot=i.focusRoot||t.focusRoot||n.document.body,i.historyRect=i.historyRect||h();var l=Math.max(n.screen.availHeight,n.screen.availWidth),u=s(i.referenceElement,i.referenceRect);if(u.element){var c=u.element.getAttribute(E.focusOverride)||u.element.getAttribute(E.focusOverrideLegacy);if(c){var d=a.optionsParser(c),p=d[e]||d[e[0].toUpperCase()+e.substr(1)];if(p){for(var _,v=u.element;!_&&v;)_=v.querySelector(p),v=v.parentElement;if(_)return _===n.document.activeElement?null:{target:_,targetRect:m(_.getBoundingClientRect()),referenceRect:u.rect,usedOverride:!0}}}}for(var y={element:null,rect:null,score:0},b=i.focusRoot.querySelectorAll("*"),w=0,C=b.length;w<C;w++){var S=b[w];if(u.element!==S&&f(S)&&!g(S)){var I=m(S.getBoundingClientRect());if(0!==I.width&&0!==I.height){var j=r(e,l,i.historyRect,u.rect,I);j>y.score&&(y.element=S,y.rect=I,y.score=j)}}}return y.element?{target:y.element,targetRect:y.rect,referenceRect:u.rect,usedOverride:!1}:null}function h(){return{top:-1,bottom:-1,right:-1,left:-1,height:0,width:0}}function m(e){return{top:Math.floor(e.top),bottom:Math.floor(e.top+e.height),right:Math.floor(e.left+e.width),left:Math.floor(e.left),height:Math.floor(e.height),width:Math.floor(e.width)}}function p(e,t){var i=N.dispatchEvent(j.focusChanging,{nextFocusElement:e,keyCode:t});return i||e.focus(),n.document.activeElement===e}function f(e){var t=e.tagName;if(!e.hasAttribute("tabindex")&&k.indexOf(t)===-1&&!r.hasClass(e,S.focusable))return!1;if("IFRAME"===t&&!D.isXYFocusEnabled(e))return!1;if("DIV"===t&&e.winControl&&e.winControl.disabled)return!1;var n=r._getComputedStyle(e);return"-1"!==e.getAttribute("tabIndex")&&"none"!==n.display&&"hidden"!==n.visibility&&!e.disabled}function _(e){for(var t=e.parentElement;t&&!v(t);)t=t.parentElement;return t}function g(e){var t=_(e);return t&&!r.hasClass(t,S.toggleModeActive)}function v(e){if(r.hasClass(e,S.toggleMode))return!0;if("INPUT"===e.tagName){var t=e.type.toLowerCase();if("date"===t||"datetime"===t||"datetime-local"===t||"email"===t||"month"===t||"number"===t||"password"===t||"range"===t||"search"===t||"tel"===t||"text"===t||"time"===t||"url"===t||"week"===t)return!0}else if("TEXTAREA"===e.tagName)return!0;return!1}function y(e){var t=!1,n=!1,i=!1;e&&(t=r._matchesSelector(e,"."+S.suspended+", ."+S.suspended+" *"),n=v(e),i=r.hasClass(e,S.toggleModeActive));var o=M.RestState;return t?o=M.SuspendedState:n&&(o=i?M.ToggleModeActiveState:M.ToggleModeRestState),o}function b(e){if(!e.defaultPrevented){var n=y(document.activeElement),i="";if(t.keyCodeMap.up.indexOf(e.keyCode)!==-1?i="up":t.keyCodeMap.down.indexOf(e.keyCode)!==-1?i="down":t.keyCodeMap.left.indexOf(e.keyCode)!==-1?i="left":t.keyCodeMap.right.indexOf(e.keyCode)!==-1&&(i="right"),i){var o=n.xyFocus(i,e.keyCode);o&&e.preventDefault()}}}function w(e){if(!e.defaultPrevented){var n=document.activeElement,i=!1,o=y(document.activeElement);t.keyCodeMap.accept.indexOf(e.keyCode)!==-1?i=o.accept(n):t.keyCodeMap.cancel.indexOf(e.keyCode)!==-1&&(i=o.cancel(n)),i&&e.preventDefault()}}var C=r.Key,E={focusOverride:"data-win-xyfocus",focusOverrideLegacy:"data-win-focus"},S={focusable:"win-focusable",suspended:"win-xyfocus-suspended",toggleMode:"win-xyfocus-togglemode",toggleModeActive:"win-xyfocus-togglemode-active",xboxPlatform:"win-xbox"},I={messageDataProperty:"msWinJSXYFocusControlMessage",register:"register",unregister:"unregister",dFocusEnter:"dFocusEnter",dFocusExit:"dFocusExit"},x={left:"left",right:"right",up:"up",down:"down"},j={focusChanging:"focuschanging",focusChanged:"focuschanged"},k=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA"],P={primaryAxisDistanceWeight:30,secondaryAxisDistanceWeight:20,percentInHistoryShadowWeight:1e5};t.keyCodeMap={left:[],right:[],up:[],down:[],accept:[],cancel:[]},t.focusRoot,t.findNextFocusElement=l,t.moveFocus=u;var T,O,A,M;!function(e){function t(e){return e&&e.click&&e.click(),!1}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return!1}var i=function(){function e(){}return e.accept=t,e.cancel=n,e.xyFocus=c,e}();e.RestState=i;var o=function(){function e(){}return e.accept=n,e.cancel=n,e.xyFocus=n,e}();e.SuspendedState=o;var s=function(){function e(){}return e.accept=function(e){return r.addClass(e,S.toggleModeActive),!0},e.cancel=n,e.xyFocus=c,e}();e.ToggleModeRestState=s;var a=function(){function e(){}return e.cancel=function(e){return e&&r.removeClass(e,S.toggleModeActive),!0},e.accept=t,e.xyFocus=n,e}();e.ToggleModeActiveState=a}(M||(M={}));var D;if(function(e){function t(){return a(function(){return!1}),l.length}function i(e){var t=n.document.querySelectorAll("IFRAME"),i=Array.prototype.filter.call(t,function(t){return t.contentWindow===e});return i.length?i[0]:null}function o(e){var t=!1;return a(function(n){n===e&&(t=!0)}),t}function r(e){l.push(e)}function s(e){var t=-1;a(function(n,i){n===e&&(t=i)}),t!==-1&&l.splice(t,1)}function a(e){for(var t=l.length-1;t>=0;t--)try{var n=l[t];n.contentWindow?e(n,t):l.splice(t,1)}catch(e){l.splice(t,1)}}var l=[];e.count=t,e.getIFrameFromWindow=i,e.isXYFocusEnabled=o,e.registerIFrame=r,e.unregisterIFrame=s}(D||(D={})),n.document){t.keyCodeMap.left.push(C.GamepadLeftThumbstickLeft,C.GamepadDPadLeft,C.NavigationLeft),t.keyCodeMap.right.push(C.GamepadLeftThumbstickRight,C.GamepadDPadRight,C.NavigationRight),t.keyCodeMap.up.push(C.GamepadLeftThumbstickUp,C.GamepadDPadUp,C.NavigationUp),t.keyCodeMap.down.push(C.GamepadLeftThumbstickDown,C.GamepadDPadDown,C.NavigationDown),t.keyCodeMap.accept.push(C.GamepadA,C.NavigationAccept),t.keyCodeMap.cancel.push(C.GamepadB,C.NavigationCancel),n.addEventListener("message",function(e){var t=null;try{if(t=e.source,!t)return}catch(e){return}if(e.data&&e.data[I.messageDataProperty]){var i=e.data[I.messageDataProperty];switch(i.type){case I.register:var o=D.getIFrameFromWindow(t);o&&D.registerIFrame(o);break;case I.unregister:var o=D.getIFrameFromWindow(t);o&&D.unregisterIFrame(o);break;case I.dFocusEnter:var r=c(i.direction,-1,i.referenceRect,!0);r||(f(n.document.body)?n.document.body.focus():c(i.direction,-1));break;case I.dFocusExit:var o=D.getIFrameFromWindow(t);if(n.document.activeElement!==o)break;var s=i.referenceRect,a=o.getBoundingClientRect();s.left+=a.left,s.top+=a.top,"number"==typeof s.right&&(s.right+=a.left),"number"==typeof s.bottom&&(s.bottom+=a.top),c(i.direction,-1,s)}}}),o.ready().then(function(){if(r.hasWinRT&&n.Windows&&n.Windows.Xbox&&r.addClass(n.document.body,S.xboxPlatform),n.document.addEventListener("keydown",w,!0),n.document.addEventListener("keydown",b),n.top!==n.window){var e={};e[I.messageDataProperty]={type:I.register,version:1},n.parent.postMessage(e,"*")}});var L={focusRoot:{get:function(){return t.focusRoot},set:function(e){t.focusRoot=e}},findNextFocusElement:l,keyCodeMap:t.keyCodeMap,moveFocus:u,onfocuschanged:s._createEventProperty(j.focusChanged),onfocuschanging:s._createEventProperty(j.focusChanging),_xyFocus:c,_iframeHelper:D};L=o._merge(L,s.eventMixin),L._listeners={};var N=L;i.Namespace.define("WinJS.UI.XYFocus",L)}}),define("WinJS/Fragments",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./Core/_WriteProfilerMark","./Promise","./Utilities/_ElementUtilities","./Utilities/_SafeHtml","./Utilities/_Xhr"],function(e,t,n,i,o,r,s,a,l,u,c,d){"use strict";function h(e,n,i,o){var r=e.src,s=!r;if(s&&(r=n+"script["+i+"]"),r=r.toLowerCase(),!(r in P)){var a=null;P[r]=!0;var u=t.document.createElement("script");if(e.language&&u.setAttribute("language","javascript"),u.setAttribute("type",e.type),u.setAttribute("async","false"),e.id&&u.setAttribute("id",e.id),s){var c=e.text;a=o.then(function(){u.text=c}).then(null,function(){})}else a=new l(function(t){u.onload=u.onerror=function(){t()},u.setAttribute("src",e.src)});return k.appendChild(u),{promise:a,inline:s}}}function m(e,t,n){var i=(t+"script["+n+"]").toLowerCase();i in T||(T[i]=!0,k.appendChild(e.cloneNode(!0)))}function p(e){var t=e.href.toLowerCase();if(!(t in O)){O[t]=!0;var n=e.cloneNode(!1);n.href=e.href,k.appendChild(n)}}function f(e,n){if("string"==typeof e)return g(e,n);var i={docfrag:u.data(e).docFragment};if(!i.docfrag){for(var o=t.document.createDocumentFragment();e.childNodes.length>0;)o.appendChild(e.childNodes[0]);i.docfrag=u.data(e).docFragment=o,e.setAttribute("data-win-hasfragment","")}return n&&S(e),l.as(i)}function _(e,t){return I(e,t).then(function(){return e.document?v(t,e):e}).then(function(){return e.document&&delete e.document,e})}function g(e,t){var n=e.toLowerCase(),i=M[n];if(i)return t&&delete M[n],i.promise?i.promise:l.as(i);i={},t||(M[n]=i);var o=i.promise=_(i,e);return i.promise.then(function(){delete i.promise}),o}function v(e,n){var i=n.document,o=i.body,r=[];j(i.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),p),j(i.getElementsByTagName("style"),function(t,n){m(t,e,n)});var s=l.as();j(i.getElementsByTagName("script"),function(t,n){var i=h(t,e,n,s);i&&(i.inline||(s=i.promise),r.push(i.promise))}),j(o.getElementsByTagName("img"),function(e){e.src=e.src}),j(o.getElementsByTagName("a"),function(e){if(""!==e.href){var t=e.getAttribute("href");t&&"#"!==t[0]&&(e.href=e.href)}});for(var a=o.getElementsByTagName("script");a.length>0;){var u=a[0];u.parentNode.removeChild(u)}return l.join(r).then(function(){for(var e=t.document.createDocumentFragment(),o=t.document.importNode(i.body,!0);o.childNodes.length>0;)e.appendChild(o.childNodes[0]);return n.docfrag=e,n})}function y(){A||(A=!0,j(k.querySelectorAll("script"),function(e){P[e.src.toLowerCase()]=!0}),j(k.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),function(e){O[e.href.toLowerCase()]=!0}))}function b(e,t){return w(e,t,!0)}function w(e,n,i){var r=(e instanceof t.HTMLElement?o._getProfilerMarkIdentifier(e):" href='"+e+"'")+"["+ ++D+"]";return L("WinJS.UI.Fragments:render"+r+",StartTM"),y(),f(e,!i).then(function(e){var t=e.docfrag;i&&(t=t.cloneNode(!0));for(var o=t.firstChild;o;)1===o.nodeType&&(o.msParentSelectorScope=!0),o=o.nextSibling;var s;return n?(n.appendChild(t),s=n):s=t,L("WinJS.UI.Fragments:render"+r+",StopTM"),s})}function C(e,t){return w(e,t,!1)}function E(e){return y(),f(e).then(function(e){return e.docfrag})}function S(e){e?"string"==typeof e?delete M[e.toLowerCase()]:(delete u.data(e).docFragment,e.removeAttribute("data-win-hasfragment")):M={}}function I(e,n){var i=t.document.implementation.createHTMLDocument("frag"),o=i.createElement("base");i.head.appendChild(o);var r=i.createElement("a");return i.body.appendChild(r),o.href=t.document.location.href,r.setAttribute("href",n),o.href=r.href,e.document=i,N(n).then(function(e){c.setInnerHTMLUnsafe(i.documentElement,e),i.head.appendChild(o)})}function x(e){return d({url:e}).then(function(e){return e.responseText})}if(t.document){var j=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},k=t.document.head||t.document.getElementsByTagName("head")[0],P={},T={},O={},A=!1,M={},D=1,L=a,N=x;i.Namespace._moduleDefine(e,"WinJS.UI.Fragments",{renderCopy:b,render:C,cache:E,clearCache:S,_cacheStore:{get:function(){return M}},_getFragmentContents:{get:function(){return N},set:function(e){N=e}},_writeProfilerMark:{get:function(){return L},set:function(e){L=e}}})}}),define("WinJS/Application/_State",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise"],function(e,t,n,i,o,r){"use strict";function s(){var t,o,r,s=i.Class.define(function(e){this.folder=e,this._path=e.path,e.tryGetItemAsync&&(this._tryGetItemAsync=e.tryGetItemAsync.bind(e))},{_tryGetItemAsync:function(e){return this.folder.getFileAsync(e).then(null,function(){return!1})},exists:function(e){return this._tryGetItemAsync(e).then(function(e){return!!e})},remove:function(e){return this._tryGetItemAsync(e).then(function(e){return!!e&&e.deleteAsync()}).then(null,function(){return!1})},writeText:function(e,t){var i=n.Windows.Storage,o=this;return o.folder.createFileAsync(e,i.CreationCollisionOption.openIfExists).then(function(e){return i.FileIO.writeTextAsync(e,t)})},readText:function(e,t){var i=n.Windows.Storage;return this._tryGetItemAsync(e).then(function(e){return e?i.FileIO.readTextAsync(e):t}).then(null,function(){return t})}},{supportedForProcessing:!1});i.Namespace._moduleDefine(e,"WinJS.Application",{local:{get:function(){return t||(t=new s(n.Windows.Storage.ApplicationData.current.localFolder)),t}},temp:{get:function(){return o||(o=new s(n.Windows.Storage.ApplicationData.current.temporaryFolder)),o}},roaming:{get:function(){return r||(r=new s(n.Windows.Storage.ApplicationData.current.roamingFolder)),r}}})}function a(){var t=i.Class.define(function(){this.storage={}},{exists:function(e){return r.as(void 0!==this.storage[e])},remove:function(e){return delete this.storage[e],r.as()},writeText:function(e,t){return this.storage[e]=t,r.as(t.length)},readText:function(e,t){var n=this.storage[e];return r.as("string"==typeof n?n:t)}},{supportedForProcessing:!1});i.Namespace._moduleDefine(e,"WinJS.Application",{local:new t,temp:new t,roaming:new t})}n.Windows.Storage.FileIO&&n.Windows.Storage.ApplicationData&&n.Windows.Storage.CreationCollisionOption?s():a();var l={};i.Namespace._moduleDefine(e,"WinJS.Application",{sessionState:{get:function(){return l},set:function(e){l=e}},_loadState:function(t){return 3===t.previousExecutionState?e.local.readText("_sessionState.json","{}").then(function(t){var n=JSON.parse(t);n&&Object.keys(n).length>0&&(e._sessionStateLoaded=!0),e.sessionState=n}).then(null,function(){e.sessionState={}}):r.as()},_oncheckpoint:function(n,i){if(!(t.MSApp&&t.MSApp.getViewOpener&&t.MSApp.getViewOpener())){var o=e.sessionState;if(o&&Object.keys(o).length>0||e._sessionStateLoaded){var r;try{r=JSON.stringify(o)}catch(e){r="",i.queueEvent({type:"error",detail:e})}n.setPromise(e.local.writeText("_sessionState.json",r).then(null,function(e){i.queueEvent({type:"error",detail:e})}))}}}})}),define("WinJS/Navigation",["exports","./Core/_Base","./Core/_Events","./Core/_WriteProfilerMark","./Promise"],function(e,t,n,i,o){"use strict";var r="navigated",s="navigating",a="beforenavigate",l=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),n.eventMixin),u=new l,c={backStack:[],current:{location:"",initialPlaceholder:!0},forwardStack:[]},d=n._createEventProperty,h=function(e){return i("WinJS.Navigation:navigation,StartTM"),o.as().then(function(){var t=o.as(),n=u.dispatchEvent(a,{setPromise:function(e){t=t.then(function(){return e})},location:e.location,state:e.state});return t.then(function(e){return n||e})})},m=function(e){return o.as().then(function(){var t=o.as();return u.dispatchEvent(s,{setPromise:function(e){t=t.then(function(){return e})},location:c.current.location,state:c.current.state,delta:e}),t})},p=function(e,t){i("WinJS.Navigation:navigation,StopTM");var n=o.as(),s={value:e,location:c.current.location,state:c.current.state,setPromise:function(e){n=n.then(function(){return e})}};return!e&&t&&(s.error=t),u.dispatchEvent(r,s),n},f=function(e,t,n,i){return e=Math.min(e,t.length),e>0?h(t[t.length-e]).then(function(o){if(o)return!1;for(n.push(c.current);e-1>0;)e--,n.push(t.pop());return c.current=t.pop(),m(i).then(p,function(e){throw p(void 0,e||!0),e}).then(function(){return!0})}):o.wrap(!1)};t.Namespace._moduleDefine(e,"WinJS.Navigation",{canGoForward:{get:function(){return c.forwardStack.length>0}},canGoBack:{get:function(){return c.backStack.length>0}},location:{get:function(){return c.current.location}},state:{get:function(){return c.current.state},set:function(e){c.current.state=e}},history:{get:function(){return c},set:function(e){c=e,c.backStack=c.backStack||[],c.forwardStack=c.forwardStack||[],c.current=c.current||{location:"",initialPlaceholder:!0},c.current.location=c.current.location||""}},forward:function(e){return e=e||1,f(e,c.forwardStack,c.backStack,e)},back:function(e){return e=e||1,f(e,c.backStack,c.forwardStack,-e)},navigate:function(e,t){var n={location:e,state:t};return h(n).then(function(e){return!e&&(c.current.initialPlaceholder||c.backStack.push(c.current),c.forwardStack=[],c.current=n,m().then(p,function(e){throw p(void 0,e||!0),e}).then(function(){return!0}))})},addEventListener:function(e,t,n){u.addEventListener(e,t,n)},removeEventListener:function(e,t,n){u.removeEventListener(e,t,n)},onnavigated:d(r),onnavigating:d(s),onbeforenavigate:d(a)})}),define("WinJS/Application",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_Events","./Core/_Log","./Core/_WriteProfilerMark","./Application/_State","./Navigation","./Promise","./_Signal","./Scheduler","./Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l,u,c,d,h){"use strict";function m(e){var n;try{var i=[];n=JSON.stringify(e,function(e,n){return n===t?"[window]":n instanceof t.HTMLElement?"[HTMLElement]":"function"==typeof n?"[function]":"object"===("undefined"==typeof n?"undefined":_typeof(n))?null===n?n:i.indexOf(n)===-1?(i.push(n),n):"[circular]":n})}catch(e){n=JSON.stringify("[object]")}return n}function p(n){if(r.log&&r.log(m(n),"winjs","error"),t.document&&e._terminateApp){var i=n.detail,o=i&&(i.number||i.exception&&(i.exception.number||i.exception.code)||i.error&&i.error.number||i.errorCode||0),s={description:m(i),stack:i&&(i.stack||i.exception&&(i.exception.stack||i.exception.message)||i.error&&i.error.stack||null),errorNumber:o,number:o};e._terminateApp(s,n)}}function f(e,n){t.MSApp&&t.MSApp.terminateApp(e)}function _(e){var t="def"+he++;return{deferral:de[t]=e.getDeferral(),id:t}}function g(e,t){t&&(e=de[t],delete de[t]),e&&e.complete()}function v(){de&&(Object.keys(de).forEach(function(e){de[e].complete()}),de={})}function y(e){function t(t){return s("WinJS.Application:Event_"+e.type+",StopTM"),e._deferral&&g(e._deferral,e._deferralID),t}s("WinJS.Application:Event_"+e.type+",StartTM");var n=u.as();e.setPromise=function(e){n=n.then(function(){return e})},e._stoppedImmediatePropagation=!1,e.stopImmediatePropagation=function(){e._stoppedImmediatePropagation=!0},e.detail=e.detail||{},"object"===_typeof(e.detail)&&(e.detail.setPromise=e.setPromise);try{if(ue._listeners){var i=!1;if(a=ue._listeners[e.type])for(var o=0,r=a.length;o<r&&!e._stoppedImmediatePropagation;o++)i=a[o].listener(e)||i}var a=fe[e.type];a&&a.forEach(function(t){t(e,i)})}catch(t){e.type===K?p(e):S({type:K,detail:t})}return n.then(t,function(e){if(e=t(e),!e||"Canceled"!==e.name)return u.wrapError(e)})}function b(){return ie||(ie=new c,
ie.promise.done(function(){ie=null},function(){ie=null})),ie}function w(e){function t(e){S({type:K,detail:e})}return 0===e.length?b().promise:y(e.shift()).then(null,t)}function C(e){function t(){return C}var n=e.job._queue;0===n.length&&te.length>0&&(n=e.job._queue=I()),e.setPromise(w(n).then(t,t))}function E(){function e(){i=!0}for(var t,n=[],i=!0;i;)0===n.length&&te.length>0&&(n=I()),i=!1,t=w(n),t.done(e,e);ne=d.schedule(function(e){function n(){return C}e.setPromise(t.then(n,n))},d.Priority.high,null,"WinJS.Application._pumpEventQueue"),ne._queue=n}function S(e){s("WinJS.Application:Event_"+e.type+" queued,Info"),te.push(e),oe&&ie&&ie.complete(C)}function I(){var e=te;return te=[],e}function x(e){var t=_(e.activatedOperation);a._loadState(e).then(function(){S({type:U,detail:e,_deferral:t.deferral,_deferralID:t.id})})}function j(e){var t=_(e.suspendingOperation);S({type:W,_deferral:t.deferral,_deferralID:t.id})}function k(){if(S({type:q}),!t.document||!n.Windows.UI.WebUI.WebUIApplication){var e={arguments:"",kind:"Windows.Launch",previousExecutionState:0};a._loadState(e).then(function(){S({type:U,detail:e})})}}function P(){v(),S({type:V})}function T(t){var n={};for(var i in t)n[i]=t[i];var o,r=!0,s=e._terminateApp;try{e._terminateApp=function(e,t){r=!1,o=e,s!==f&&s(e,t)},y({type:K,detail:{error:n,errorLine:t.lineno,errorCharacter:t.colno,errorUrl:t.filename,errorMessage:t.message}})}finally{e._terminateApp=s}return r}function O(e){var t=e.detail,n=t.id;if(t.parent)return void(t.handler&&H&&delete H[n]);if(t.exception instanceof Error){var i={stack:t.exception.stack,message:t.exception.message};t.exception=i}var o=!H;H=H||[],H[n]=t,o&&d.schedule(function(){var e=H;H=null,e.forEach(function(e){S({type:K,detail:e})})},d.Priority.high,null,"WinJS.Application._queuePromiseErrors")}function A(e){var t={e:e,applicationcommands:void 0};ue.dispatchEvent(G,t)}function M(e){var t={type:Y};Object.defineProperty(t,"_winRTBackPressedEvent",{value:e,enumerable:!1}),y(t)}function D(){y({type:X})}function L(e){y({type:Q,kind:e.kind})}function N(e){y({type:$,kind:e.kind})}function B(e){y({type:ee,kind:e.kind})}function R(){var e=n.Windows.UI.Core.SystemNavigationManager;return ae&&e?e.getForCurrentView():null}function F(){if(!re){if(re=!0,t.addEventListener("beforeunload",P,!1),t.document){if(t.addEventListener("error",T,!1),n.Windows.UI.WebUI.WebUIApplication){var e=n.Windows.UI.WebUI.WebUIApplication;e.addEventListener("activated",x,!1),e.addEventListener("suspending",j,!1)}if(n.Windows.UI.ApplicationSettings.SettingsPane){var i=n.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();i.addEventListener("commandsrequested",A)}var o=R();if(o?o.addEventListener("backrequested",M):n.Windows.Phone.UI.Input.HardwareButtons&&n.Windows.Phone.UI.Input.HardwareButtons.addEventListener("backpressed",M),n.Windows.UI.Input.EdgeGesture){var r=n.Windows.UI.Input.EdgeGesture.getForCurrentView();r.addEventListener("starting",L),r.addEventListener("completed",N),r.addEventListener("canceled",B)}}u.addEventListener("error",O)}}function z(){if(re){if(re=!1,t.removeEventListener("beforeunload",P,!1),t.document){if(n.Windows.UI.WebUI.WebUIApplication){t.removeEventListener("error",T,!1);var e=n.Windows.UI.WebUI.WebUIApplication;e.removeEventListener("activated",x,!1),e.removeEventListener("suspending",j,!1)}if(n.Windows.UI.ApplicationSettings.SettingsPane){var i=n.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();i.removeEventListener("commandsrequested",A)}var o=R();if(o?o.removeEventListener("backrequested",M):n.Windows.Phone.UI.Input.HardwareButtons&&n.Windows.Phone.UI.Input.HardwareButtons.removeEventListener("backpressed",M),n.Windows.UI.Input.EdgeGesture){var r=n.Windows.UI.Input.EdgeGesture.getForCurrentView();r.removeEventListener("starting",L),r.removeEventListener("completed",N),r.removeEventListener("canceled",B)}}u.removeEventListener("error",O)}}t.Debug&&(t.Debug.setNonUserCodeExceptions=!0);var H,W="checkpoint",V="unload",U="activated",q="loaded",J="ready",K="error",G="settings",Y="backclick",X="beforerequestingfocusonkeyboardinput",Z="requestingfocusonkeyboardinput",Q="edgystarting",$="edgycompleted",ee="edgycanceled",te=[],ne=null,ie=null,oe=!1,re=!1,se=t.Symbol,ae=!!se&&"symbol"===_typeof(se.iterator),le=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),o.eventMixin),ue=new le,ce=o._createEventProperty,de={},he=0,me={_registered:!1,updateRegistration:function(){var e=ue._listeners&&ue._listeners[Z]||[];!me._registered&&e.length>0&&(me._updateKeydownCaptureListeners(t.top,!0),me._registered=!0),me._registered&&0===e.length&&(me._updateKeydownCaptureListeners(t.top,!1),me._registered=!1)},_keydownCaptureHandler:function(e){me._registered&&me._shouldKeyTriggerTypeToSearch(e)&&D()},_frameLoadCaptureHandler:function(e){me._registered&&me._updateKeydownCaptureListeners(e.target.contentWindow,!0)},_updateKeydownCaptureListeners:function(e,t){if(e){try{t?e.document.addEventListener("keydown",me._keydownCaptureHandler,!0):e.document.removeEventListener("keydown",me._keydownCaptureHandler,!0)}catch(e){}if(e.frames)for(var n=0,i=e.frames.length;n<i;n++){var o=e.frames[n];me._updateKeydownCaptureListeners(o,t);try{t?o.frameElement&&o.frameElement.addEventListener("load",me._frameLoadCaptureHandler,!0):o.frameElement&&o.frameElement.removeEventListener("load",me._frameLoadCaptureHandler,!0)}catch(e){}}}},_shouldKeyTriggerTypeToSearch:function(e){var t=!1;if(!e.metaKey&&(!e.ctrlKey&&!e.altKey||e.getModifierState&&e.getModifierState("AltGraph")))switch(e.keyCode){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:case 223:case 226:case 229:case 231:t=!0}return t}},pe=f,fe={activated:[function(){S({type:J})}],checkpoint:[function(t){a._oncheckpoint(t,e)}],error:[function(e,t){t||p(e)}],backclick:[function(e,t){t?e._winRTBackPressedEvent.handled=!0:l.canGoBack&&(l.back(),e._winRTBackPressedEvent.handled=!0)}],beforerequestingfocusonkeyboardinput:[function(e,t){t||y({type:Z})}]};t.document&&t.document.addEventListener("DOMContentLoaded",k,!1);var _e=i.Namespace._moduleDefine(e,"WinJS.Application",{stop:function(){_e.onactivated=null,_e.oncheckpoint=null,_e.onerror=null,_e.onloaded=null,_e.onready=null,_e.onsettings=null,_e.onunload=null,_e.onbackclick=null,ue=new le,a.sessionState={},oe=!1,I(),ne&&ne.cancel(),ne=null,ie=null,z(),me.updateRegistration(),v()},addEventListener:function(e,t,n){ue.addEventListener(e,t,n),e===Z&&me.updateRegistration()},removeEventListener:function(e,t,n){ue.removeEventListener(e,t,n),e===Z&&me.updateRegistration()},checkpoint:function(){S({type:W})},start:function(){F(),oe=!0,E()},queueEvent:S,_dispatchEvent:y,_terminateApp:{get:function(){return pe},set:function(e){pe=e}},_applicationListener:i.Namespace._lazy(function(){return new h._GenericListener("Application",_e)}),oncheckpoint:ce(W),onunload:ce(V),onactivated:ce(U),onloaded:ce(q),onready:ce(J),onsettings:ce(G),onerror:ce(K),onbackclick:ce(Y)})}),define("WinJS/Animations/_Constants",["exports","../Core/_Base"],function(e,t){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{PageNavigationAnimation:{turnstile:"turnstile",slide:"slide",enterPage:"enterPage",continuum:"continuum"}})}),define("WinJS/Animations/_TransitionAnimation",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise","../Scheduler","../Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a){"use strict";function l(e){return Array.isArray(e)||e instanceof t.NodeList||e instanceof t.HTMLCollection?e:e?[e]:[]}function u(){return++j,"WinJSUIAnimation"+j}function c(e){return"WinJSUIAnimation"===e.substring(0,16)}function d(e){a._getComputedStyle(e,null).opacity}function h(t,n){return function(i){var o={};for(var r in i){var s=i[r];"function"==typeof s&&(s=s(t,n)),o[r]=s}return o.exactTiming||(o.delay+=e._libraryDelay),o}}function m(e,t){var n=e+"|"+t,i=k[n];i&&i(P)}function p(e,t,n){k[e+"|"+t]=n}function f(e,t){delete k[e+"|"+t]}function _(e,t,n,i,o){var r=o.styleCaches[t]||new O(t,o,n);r.cref+=i.length,i.forEach(function(e){m(t,e.property)}),(o.isTransition||i.some(function(e){return r.removed[e[o.nameField]]}))&&(d(e),r.removed={});var s=i.map(function(e){return e[o.nameField]+" "+o.props.map(function(t){return(t[1]?e[t[1]]:"")+t[2]}).join(" ")}).join(", "),a=i.map(function(e){return e[o.nameField]}).join(", ");return""!==r.names&&(s=r.names+", "+s,a=r.names+", "+a),n[o.shorthandProp]=s,r.names=a,r}function g(e,t){t?e():s.schedule(function(){e()},s.Priority.normal,null,"WinJS.UI._Animation._completeAnimationPromise")}function v(e,n,i,s,l){if(i.length>0){var u=e.style,c=a._uniqueID(e);if(S||(S=t.document.createElement("DIV").style),i=i.map(h(n,e)),i.forEach(function(e){var t=o._getCamelCasedName(e.property);e.hasOwnProperty("from")&&(u[t]=e.from),S[t]=e.to,e.to=S[t],e.propertyScriptName=t}),l){var d=_(e,c,u,i,A),m=e.disabled?t.document:e;i.forEach(function(n){var i;s.push(new r(function(r){i=function(i){s&&(m.removeEventListener(o._browserEventEquivalents.transitionEnd,s,!1),f(c,n.property),d.removeName(u,n.propertyScriptName,i?e:null,n.skipStylesReset),t.clearTimeout(l),s=null),g(r,i===T)};var s=function(t){t.target===e&&t.propertyName===n.property&&i()};p(c,n.property,i),m.addEventListener(o._browserEventEquivalents.transitionEnd,s,!1);var a=0;u[n.propertyScriptName]!==n.to&&(u[n.propertyScriptName]=n.to,a=50);var l=t.setTimeout(function(){l=t.setTimeout(i,n.delay+n.duration)},a)},function(){i(T)}))})}else i.forEach(function(e){u[e.propertyScriptName]=e.to})}}function y(e,n,i,s,l){if(l&&i.length>0){var c=e.style,d=a._uniqueID(e);i=i.map(h(n,e));var m,v=e.disabled?t.document:e;i.forEach(function(e){if(e.keyframe)e.keyframe=x.animationPrefix+e.keyframe;else{m||(m=t.document.createElement("STYLE"),t.document.documentElement.appendChild(m)),e.keyframe=u();var n="@"+x.keyframes+" "+e.keyframe+" { from {"+e.property+":"+e.from+";} to {"+e.property+":"+e.to+";}}";m.sheet.insertRule(n,0)}});var y=_(e,d,c,i,M),b=[],w=[];i.forEach(function(n){var i;w.push(new r(function(r){i=function(e){s&&(v.removeEventListener(o._browserEventEquivalents.animationEnd,s,!1),t.clearTimeout(a),s=null),g(r,e===T)};var s=function(t){t.target===e&&t.animationName===n.keyframe&&i()};p(d,n.property,i),b.push({id:d,property:n.property,style:c,keyframe:n.keyframe});var a=t.setTimeout(function(){a=t.setTimeout(i,n.delay+n.duration)},50);v.addEventListener(o._browserEventEquivalents.animationEnd,s,!1)},function(){i(T)}))}),m&&t.setTimeout(function(){var e=m.parentElement;e&&e.removeChild(m)},50);var C=function(){for(var e=0;e<b.length;e++){var t=b[e];f(t.id,t.property),y.removeName(t.style,t.keyframe)}};s.push(r.join(w).then(C,C))}}function b(){I||(I=n.Windows.UI.ViewManagement.UISettings?new n.Windows.UI.ViewManagement.UISettings:{animationsEnabled:!0})}function w(t,n,i){try{for(var o=e.isAnimationEnabled(),a=l(t),u=l(n),c=[],d=0;d<a.length;d++)if(Array.isArray(a[d]))for(var h=0;h<a[d].length;h++)i(a[d][h],d,u,c,o);else i(a[d],d,u,c,o);return c.length?r.join(c):s.schedulePromiseNormal(null,"WinJS.UI._Animation._completeActionPromise").then(null,function(){})}catch(e){return r.wrapError(e)}}function C(e){return Array.isArray(e)?e.map(function(e){return C(e)}):e?(e.delay=N(e.delay),e.duration=N(e.duration),e):void 0}function E(e){return 1===B?e:C(e)}if(t.document){var S,I,x=o._browserStyleEquivalents,j=0,k=[],P=1,T=2,O=i.Class.define(function(e,t,n){this.cref=0,this.id=e,this.desc=t,this.removed={},this.prevStyles=t.props.map(function(e){return n[e[0]]}),this.prevNames=this.names=n[t.nameProp],t.styleCaches[e]=this},{destroy:function(e,t){var n=this.desc;delete n.styleCaches[this.id],t||(""===this.prevNames&&this.prevStyles.every(function(e){return""===e})?e[n.shorthandProp]="":(n.props.forEach(function(t,n){e[t[0]]=this.prevStyles[n]},this),e[n.nameProp]=this.prevNames))},removeName:function(e,t,n,i){var o=this.names,r=o.split(", "),s=r.lastIndexOf(t);s>=0&&(r.splice(s,1),this.names=o=r.join(", "),""===o&&this.desc.isTransition&&(o="none")),--this.cref?(e[this.desc.nameProp]=o,c(t)||(this.removed[t]=!0)):(n&&"none"===o&&(e[this.desc.nameProp]=o,d(n)),this.destroy(e,i))}}),A={shorthandProp:x.transition.scriptName,nameProp:x["transition-property"].scriptName,nameField:"property",props:[[x["transition-duration"].scriptName,"duration","ms"],[x["transition-timing-function"].scriptName,"timing",""],[x["transition-delay"].scriptName,"delay","ms"]],isTransition:!0,styleCaches:[]},M={shorthandProp:x.animation.scriptName,nameProp:x["animation-name"].scriptName,nameField:"keyframe",props:[[x["animation-duration"].scriptName,"duration","ms"],[x["animation-timing-function"].scriptName,"timing",""],[x["animation-delay"].scriptName,"delay","ms"],[x["animation-iteration-count"].scriptName,"","1"],[x["animation-direction"].scriptName,"","normal"],[x["animation-fill-mode"].scriptName,"","both"]],isTransition:!1,styleCaches:[]},D=0,L=function(){return b(),D+I.animationsEnabled>0},N=function(e){return e*B},B=1,R=0;i.Namespace._moduleDefine(e,"WinJS.UI",{disableAnimations:function(){D--},enableAnimations:function(){D++},isAnimationEnabled:{get:function(){return L},set:function(e){L=e}},_libraryDelay:{get:function(){return R},set:function(e){R=e}},executeAnimation:function(e,t){return w(e,E(t),y)},executeTransition:function(e,t){return w(e,E(t),v)},_animationTimeAdjustment:{get:function(){return N},set:function(e){N=e}}}),i.Namespace._moduleDefine(e,"WinJS.Utilities",{_fastAnimations:{get:function(){return.05===B},set:function(e){B=e?.05:1}},_slowAnimations:{get:function(){return 3===B},set:function(e){B=e?3:1}},_animationFactor:{get:function(){return B},set:function(e){B=e}}})}}),define("WinJS/Animations",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_WriteProfilerMark","./Utilities/_ElementUtilities","./Animations/_Constants","./Animations/_TransitionAnimation","./Promise"],function(e,t,n,i,o,r,s,a,l){"use strict";function u(e,t,n){return e.keyframe?e.keyframe:!n||e.left!==t.left||e.top!==t.top||e.rtlflip&&!t.rtlflip?null:e.rtlflip?d(n):n}function c(e,t){return t&&e.rtlflip?d(t):t}function d(e){var t=e+"-rtl";return function(n,i){return"ltr"===r._getComputedStyle(i).direction?e:t}}function h(e){return Array.isArray(e)||e instanceof t.NodeList||e instanceof t.HTMLCollection?e:e?[e]:[]}function m(e){for(var t=[],n=0;n<e.length;n++){var i={top:e[n].offsetTop,left:e[n].offsetLeft},o=r._getComputedStyle(e[n],null)[P.scriptName].split(",");6===o.length&&(i.left+=parseFloat(o[4]),i.top+=parseFloat(o[5])),t.push(i)}return t}function p(e,t,n,i){return function(o){for(var r=e,s=0;s<o;s++)t*=n,r+=t;return i&&(r=Math.min(r,i)),r}}function f(e,t){for(var n=0;n<t.length;n++)t[n].top-=e[n].offsetTop,t[n].left-=e[n].offsetLeft}function _(e,t,n){f(e,t);for(var i=0;i<e.length;i++)0===t[i].top&&0===t[i].left||(e[i].style[P.scriptName]="translate("+t[i].left+"px, "+t[i].top+"px)");return a.executeTransition(e,n)}function g(e,t,n,i,o,r,s,l){function u(e,t,n){if(e){var i={left:t+"px",top:"0px"},o={left:n+"px",top:"0px"};if(+e.length===e.length)for(var r=0,s=e.length;r<s;r++)c.push(e[r]),d.push(i),h.push(o);else c.push(e),d.push(i),h.push(o)}}var c=[],d=[],h=[],m=200,p=0!==t?t<0?-m:m:0,f=0!==n?n<0?-m:m:0;return u(o,t,n),u(r,p,f),u(s,2*p,2*f),u(l,3*p,3*f),d=new O(d),h=new O(h),a.executeTransition(c,[{property:P.cssName,delay:0,duration:350,timing:e,from:b(d),to:b(h)},{property:"opacity",delay:0,duration:350,timing:i?"steps(1, start)":"steps(1, end)",from:i?0:1,to:i?1:0}])}function v(e,t,n){function o(){y(e)}e=h(e),t=h(t);for(var s=0,l=e.length;s<l;s++){var u="rtl"===r._getComputedStyle(e[s]).direction;e[s].style[i._browserStyleEquivalents["transform-origin"].scriptName]=t[Math.min(t.length-1,s)][u?"rtl":"ltr"]}return a.executeTransition(e,n).then(o,o)}function y(e){for(var t=0,n=e.length;t<n;t++)e[t].style[i._browserStyleEquivalents["transform-origin"].scriptName]="",e[t].style[P.scriptName]="",e[t].style.opacity=""}function b(e,t){return t=t||"",function(n,i){var o=e.getOffset(n),s=o.left;return o.rtlflip&&"rtl"===r._getComputedStyle(i).direction&&(s=s.toString(),s="-"===s.charAt(0)?s.substring(1):"-"+s),t+"translate("+s+", "+o.top+")"}}function w(e,t){return t=t||"",function(n){var i=e[n];return"translate("+i.left+"px, "+i.top+"px) "+t}}function C(e,t){return function(n){var i=e[n];return 0===i.left&&0===i.top?t:null}}function E(e,t,n,i){var o=h(t),r=h(n),s=m(r);return new e(o,r,s,i)}function S(e){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i].getBoundingClientRect(),s=-(40+r.left),a=40+(t.innerWidth-r.right),l=t.innerHeight/2-r.top;n.push({ltr:s+"px "+l+"px",rtl:a+"px "+l+"px"})}return n}function I(e){o("WinJS.UI.Animation:"+e)}function x(e,n){var o=n.duration*a._animationFactor,r=i._browserStyleEquivalents.transition.scriptName;e.style[r]=o+"ms "+P.cssName+" "+n.timing,e.style[P.scriptName]=n.to;var s;return new l(function(n){var a=function(t){t.target===e&&t.propertyName===P.cssName&&s()},l=!1;s=function(){l||(t.clearTimeout(u),e.removeEventListener(i._browserEventEquivalents.transitionEnd,a),e.style[r]="",l=!0),n()};var u=t.setTimeout(function(){u=t.setTimeout(s,o)},50);e.addEventListener(i._browserEventEquivalents.transitionEnd,a)},function(){s()})}function j(){return{defaultResizeGrowTransition:{duration:350,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"},defaultResizeShrinkTransition:{duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}}}function k(e,t,n){var o=j()[n.to>n.from?"defaultResizeGrowTransition":"defaultResizeShrinkTransition"];n=i._merge(n,{duration:void 0===n.duration?o.duration:n.duration,timing:void 0===n.timing?o.timing:n.timing});var s=n.actualSize-n.from,a=n.actualSize-n.to;n.anchorTrailingEdge||(s=-s,a=-a);var l="width"===n.dimension?"translateX":"translateY",u={duration:n.duration,timing:n.timing};e.style[P.scriptName]=l+"("+s+"px)",t.style[P.scriptName]=l+"("+-s+"px)",r._getComputedStyle(e).opacity,r._getComputedStyle(t).opacity;var c=i._merge(u,{to:l+"("+a+"px)"}),d=i._merge(u,{to:l+"("+-a+"px)"});return[{element:e,transition:c},{element:t,transition:d}]}var P=i._browserStyleEquivalents.transform,T=[{top:"0px",left:"11px",rtlflip:!0}],O=n.Class.define(function(e,t,n){n=n||T,Array.isArray(e)&&e.length>0?(this.offsetArray=e,1===e.length&&(this.keyframe=u(e[0],n[0],t))):e&&e.hasOwnProperty("top")&&e.hasOwnProperty("left")?(this.offsetArray=[e],this.keyframe=u(e,n[0],t)):(this.offsetArray=n,this.keyframe=c(n[0],t))},{getOffset:function(e){return e>=this.offsetArray.length&&(e=this.offsetArray.length-1),this.offsetArray[e]}},{supportedForProcessing:!1}),A=n.Class.define(function(e,t,n){this.revealedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){I("expandAnimation,StartTM");var e=a.executeAnimation(this.revealedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?200:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}),t=_(this.affectedArray,this.offsetArray,{property:P.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([e,t]).then(function(){I("expandAnimation,StopTM")})}},{supportedForProcessing:!1}),M=n.Class.define(function(e,t,n){this.hiddenArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){I("collapseAnimation,StartTM");var e=a.executeAnimation(this.hiddenArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0}),t=_(this.affectedArray,this.offsetArray,{property:P.cssName,delay:this.hiddenArray.length>0?167:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([e,t]).then(function(){I("collapseAnimation,StopTM")})}},{supportedForProcessing:!1}),D=n.Class.define(function(e,t,n){this.elementArray=t,this.offsetArray=n},{execute:function(){return I("repositionAnimation,StartTM"),_(this.elementArray,this.offsetArray,{property:P.cssName,delay:p(0,33,1,250),duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){I("repositionAnimation,StopTM")})}},{supportedForProcessing:!1}),L=n.Class.define(function(e,t,n){this.addedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){I("addToListAnimation,StartTM");var e=this.affectedArray.length>0?240:0,t=a.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:P.cssName,delay:e,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:e,duration:120,timing:"linear",from:0,to:1}]),n=_(this.affectedArray,this.offsetArray,{property:P.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([t,n]).then(function(){I("addToListAnimation,StopTM")})}},{supportedForProcessing:!1}),N=n.Class.define(function(e,t,n){this.deletedArray=e,this.remainingArray=t,this.offsetArray=n},{execute:function(){I("deleteFromListAnimation,StartTM");var e=a.executeAnimation(this.deletedArray,[{keyframe:"WinJS-scale-down",property:P.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:"none",to:"scale(0.85)"},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]),t=_(this.remainingArray,this.offsetArray,{property:P.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([e,t]).then(function(){I("deleteFromListAnimation,StopTM")})}},{supportedForProcessing:!1}),B=n.Class.define(function(e,t,n,i){this.addedArray=e,this.affectedArray=t,this.offsetArray=n;var o=h(i);this.deletedArray=o,this.deletedOffsetArray=m(o)},{execute:function(){I("_updateListAnimation,StartTM"),f(this.deletedArray,this.deletedOffsetArray);var e=0,t=a.executeAnimation(this.deletedArray,[{keyframe:C(this.deletedOffsetArray,"WinJS-scale-down"),property:P.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:w(this.deletedOffsetArray),to:w(this.deletedOffsetArray,"scale(0.85)")},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]);this.deletedArray.length>0&&(e+=60);var n=_(this.affectedArray,this.offsetArray,{property:P.cssName,delay:e,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});this.affectedArray.length>0?e+=240:e&&(e+=60);var i=a.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:P.cssName,delay:e,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:e,duration:120,timing:"linear",from:0,to:1}]);return l.join([t,n,i]).then(function(){I("_updateListAnimation,StopTM")})}},{supportedForProcessing:!1}),R=n.Class.define(function(e,t,n){this.addedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){I("addToSearchListAnimation,StartTM");var e=a.executeAnimation(this.addedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?240:0,duration:117,timing:"linear",from:0,to:1}),t=_(this.affectedArray,this.offsetArray,{property:P.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([e,t]).then(function(){I("addToSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),F=n.Class.define(function(e,t,n){this.deletedArray=e,this.remainingArray=t,this.offsetArray=n},{execute:function(){I("deleteFromSearchListAnimation,StartTM");var e=a.executeAnimation(this.deletedArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:93,timing:"linear",from:1,to:0}),t=_(this.remainingArray,this.offsetArray,{property:P.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([e,t]).then(function(){I("deleteFromSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),z=n.Class.define(function(e,t,n){this.elementArray=t,this.offsetArray=n},{execute:function(){return I("peekAnimation,StartTM"),_(this.elementArray,this.offsetArray,{property:P.cssName,delay:0,duration:2e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){I("peekAnimation,StopTM")})}},{supportedForProcessing:!1});n.Namespace._moduleDefine(e,"WinJS.UI.Animation",{createExpandAnimation:function(e,t){return E(A,e,t)},createCollapseAnimation:function(e,t){return E(M,e,t)},createRepositionAnimation:function(e){return E(D,null,e)},fadeIn:function(e){return I("fadeIn,StartTM"),a.executeTransition(e,{property:"opacity",delay:0,duration:250,timing:"linear",from:0,to:1}).then(function(){I("fadeIn,StopTM")})},fadeOut:function(e){return I("fadeOut,StartTM"),a.executeTransition(e,{property:"opacity",delay:0,duration:167,timing:"linear",to:0}).then(function(){I("fadeOut,StopTM")})},createAddToListAnimation:function(e,t){return E(L,e,t)},createDeleteFromListAnimation:function(e,t){return E(N,e,t)},_createUpdateListAnimation:function(e,t,n){return E(B,e,n,t)},createAddToSearchListAnimation:function(e,t){return E(R,e,t)},createDeleteFromSearchListAnimation:function(e,t){return E(F,e,t)},showEdgeUI:function(e,t,n){I("showEdgeUI,StartTM");var i=n&&"transition"===n.mechanism,o=new O(t,"WinJS-showEdgeUI",[{top:"-70px",left:"0px"}]);return a[i?"executeTransition":"executeAnimation"](e,{keyframe:o.keyframe,property:P.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i?b(o):o.keyframe||b(o),to:"none"}).then(function(){I("showEdgeUI,StopTM")})},showPanel:function(e,t){I("showPanel,StartTM");var n=new O(t,"WinJS-showPanel",[{top:"0px",left:"364px",rtlflip:!0}]);return a.executeAnimation(e,{keyframe:n.keyframe,property:P.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||b(n),to:"none"}).then(function(){I("showPanel,StopTM")})},hideEdgeUI:function(e,t,n){I("hideEdgeUI,StartTM");var i=n&&"transition"===n.mechanism,o=new O(t,"WinJS-hideEdgeUI",[{top:"-70px",left:"0px"}]);return a[i?"executeTransition":"executeAnimation"](e,{keyframe:o.keyframe,property:P.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:i?b(o):o.keyframe||b(o)}).then(function(){I("hideEdgeUI,StopTM")})},hidePanel:function(e,t){I("hidePanel,StartTM");var n=new O(t,"WinJS-hidePanel",[{top:"0px",left:"364px",rtlflip:!0}]);return a.executeAnimation(e,{keyframe:n.keyframe,property:P.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:n.keyframe||b(n)}).then(function(){I("hidePanel,StopTM")})},showPopup:function(e,t){I("showPopup,StartTM");var n=new O(t,"WinJS-showPopup",[{top:"50px",left:"0px"}]);return a.executeAnimation(e,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:83,duration:83,timing:"linear",from:0,to:1},{keyframe:n.keyframe,property:P.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||b(n),to:"none"}]).then(function(){I("showPopup,StopTM")})},hidePopup:function(e){return I("hidePopup,StartTM"),a.executeAnimation(e,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:83,timing:"linear",from:1,to:0}).then(function(){I("hidePopup,StopTM")})},pointerDown:function(e){return I("pointerDown,StartTM"),a.executeTransition(e,{property:P.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.975, 0.975)"}).then(function(){I("pointerDown,StopTM")})},pointerUp:function(e){return I("pointerUp,StartTM"),a.executeTransition(e,{property:P.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){I("pointerUp,StopTM")})},dragSourceStart:function(e,t){I("dragSourceStart,StartTM");var n=a.executeTransition(e,[{property:P.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(1.05)"},{property:"opacity",delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:.65}]),i=a.executeTransition(t,{property:P.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"});return l.join([n,i]).then(function(){I("dragSourceStart,StopTM")})},dragSourceEnd:function(e,t,n){I("dragSourceEnd,StartTM");var i=new O(t,"WinJS-dragSourceEnd"),o=a.executeTransition(e,[{property:P.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:1}]),r=a.executeAnimation(e,{keyframe:i.keyframe,property:P.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||b(i,"scale(1.05) "),to:"none"}),s=a.executeTransition(n,{property:P.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return l.join([o,r,s]).then(function(){I("dragSourceEnd,StopTM")})},enterContent:function(e,t,n){I("enterContent,StartTM");var i,o=new O(t,"WinJS-enterContent",[{top:"28px",left:"0px",rtlflip:!1}]);if(n&&"transition"===n.mechanism)i=a.executeTransition(e,[{property:P.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:b(o),to:"none"},{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}]);else{var r=a.executeAnimation(e,{keyframe:o.keyframe,property:P.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:o.keyframe||b(o),to:"none"}),s=a.executeTransition(e,{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});i=l.join([r,s])}return i.then(function(){I("enterContent,StopTM")})},exitContent:function(e,t){I("exitContent,StartTM");var n=new O(t,"WinJS-exit",[{top:"0px",left:"0px"}]),i=a.executeAnimation(e,t&&{keyframe:n.keyframe,property:P.cssName,delay:0,duration:117,timing:"linear",from:"none",to:n.keyframe||b(n)}),o=a.executeTransition(e,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return l.join([i,o]).then(function(){I("exitContent,StopTM")})},dragBetweenEnter:function(e,t){I("dragBetweenEnter,StartTM");var n=new O(t,null,[{top:"-40px",left:"0px"},{top:"40px",left:"0px"}]);return a.executeTransition(e,{property:P.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:b(n,"scale(0.95) ")}).then(function(){I("dragBetweenEnter,StopTM")})},dragBetweenLeave:function(e){return I("dragBetweenLeave,StartTM"),a.executeTransition(e,{property:P.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"}).then(function(){I("dragBetweenLeave,StopTM")})},swipeSelect:function(e,t){I("swipeSelect,StartTM");var n=a.executeTransition(e,{property:P.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),i=a.executeAnimation(t,{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return l.join([n,i]).then(function(){I("swipeSelect,StopTM")})},swipeDeselect:function(e,t){I("swipeDeselect,StartTM");var n=a.executeTransition(e,{property:P.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),i=a.executeAnimation(t,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0});return l.join([n,i]).then(function(){I("swipeDeselect,StopTM")})},swipeReveal:function(e,t){I("swipeReveal,StartTM");var n=new O(t,null,[{top:"25px",left:"0px"}]);return a.executeTransition(e,{property:P.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:b(n)}).then(function(){I("swipeReveal,StopTM")})},enterPage:function(e,t){I("enterPage,StartTM");var n=new O(t,"WinJS-enterPage",[{top:"28px",left:"0px",rtlflip:!1}]),i=a.executeAnimation(e,{keyframe:n.keyframe,property:P.cssName,delay:p(0,83,1,333),duration:1e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",
from:n.keyframe||b(n),to:"none"}),o=a.executeTransition(e,{property:"opacity",delay:p(0,83,1,333),duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return l.join([i,o]).then(function(){I("enterPage,StopTM")})},exitPage:function(e,t){I("exitPage,StartTM");var n=new O(t,"WinJS-exit",[{top:"0px",left:"0px"}]),i=a.executeAnimation(e,t&&{keyframe:n.keyframe,property:P.cssName,delay:0,duration:117,timing:"linear",from:"none",to:n.keyframe||b(n)}),o=a.executeTransition(e,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return l.join([i,o]).then(function(){I("exitPage,StopTM")})},crossFade:function(e,t){I("crossFade,StartTM");var n=a.executeTransition(e,{property:"opacity",delay:0,duration:167,timing:"linear",to:1}),i=a.executeTransition(t,{property:"opacity",delay:0,duration:167,timing:"linear",to:0});return l.join([n,i]).then(function(){I("crossFade,StopTM")})},createPeekAnimation:function(e){return E(z,null,e)},updateBadge:function(e,t){I("updateBadge,StartTM");var n=new O(t,"WinJS-updateBadge",[{top:"24px",left:"0px"}]);return a.executeAnimation(e,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1},{keyframe:n.keyframe,property:P.cssName,delay:0,duration:1333,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||b(n),to:"none"}]).then(function(){I("updateBadge,StopTM")})},turnstileForwardIn:function(e){I("turnstileForwardIn,StartTM"),e=h(e);var t=S(e);return v(e,t,[{property:P.cssName,delay:p(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(80deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:p(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){I("turnstileForwardIn,StopTM")})},turnstileForwardOut:function(e){I("turnstileForwardOut,StartTM"),e=h(e);var t=S(e);return v(e,t,[{property:P.cssName,delay:p(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(600px) rotateY(0deg)",to:"perspective(600px) rotateY(-50deg)"},{property:"opacity",delay:p(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){I("turnstileForwardOut,StopTM")})},turnstileBackwardIn:function(e){I("turnstileBackwardIn,StartTM"),e=h(e);var t=S(e);return v(e,t,[{property:P.cssName,delay:p(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(-50deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:p(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){I("turnstileBackwardIn,StopTM")})},turnstileBackwardOut:function(e){I("turnstileBackwardOut,StartTM"),e=h(e);var t=S(e);return v(e,t,[{property:P.cssName,delay:p(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(800px) rotateY(0deg)",to:"perspective(800px) rotateY(80deg)"},{property:"opacity",delay:p(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){I("turnstileBackwardOut,StopTM")})},slideDown:function(e){return I("slideDown,StartTM"),v(e,{ltr:"",rtl:""},[{property:P.cssName,delay:0,duration:250,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"translate(0px, 0px)",to:"translate(0px, 200px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){I("slideDown,StopTM")})},slideUp:function(e){return I("slideUp,StartTM"),v(e,{ltr:"",rtl:""},[{property:P.cssName,delay:0,duration:350,timing:"cubic-bezier(0.17,0.79,0.215,1.0025)",from:"translate(0px, 200px)",to:"translate(0px, 0px)"},{property:"opacity",delay:p(0,34,1,1e3),duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){I("slideUp,StopTM")})},slideRightIn:function(e,n,i,o){return I("slideRightIn,StartTM"),g("cubic-bezier(0.17,0.79,0.215,1.0025)",-t.innerWidth,0,!0,e,n,i,o).then(function(){I("slideRightIn,StopTM")})},slideRightOut:function(e,n,i,o){return I("slideRightOut,StartTM"),g("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,t.innerWidth,!1,e,n,i,o).then(function(){I("slideRightOut,StopTM")})},slideLeftIn:function(e,n,i,o){return I("slideLeftIn,StartTM"),g("cubic-bezier(0.17,0.79,0.215,1.0025)",t.innerWidth,0,!0,e,n,i,o).then(function(){I("slideLeftIn,StopTM")})},slideLeftOut:function(e,n,i,o){return I("slideLeftOut,StartTM"),g("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,-t.innerWidth,!1,e,n,i,o).then(function(){I("slideLeftOut,StopTM")})},continuumForwardIn:function(e,t,n){return I("continuumForwardIn,StartTM"),l.join([a.executeTransition(e,[{property:P.cssName,delay:0,duration:350,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(0.5, 0.5)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),a.executeTransition(t,[{property:P.cssName,delay:0,duration:350,timing:"cubic-bezier(0.24,1.15,0.11,1.1575)",from:"translate(0px, 225px)",to:"translate(0px, 0px)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),v(n,{ltr:"0px 50%",rtl:"100% 50%"},[{property:P.cssName,delay:0,duration:350,timing:"cubic-bezier(0,0.62,0.8225,0.9625)",from:"rotateX(80deg) scale(1.5, 1.5)",to:"rotateX(0deg) scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){I("continuumForwardIn,StopTM")})},continuumForwardOut:function(e,t){return I("continuumForwardOut,StartTM"),l.join([a.executeTransition(e,[{property:P.cssName,delay:0,duration:120,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(1.1, 1.1)"},{property:"opacity",delay:0,duration:120,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]),v(t,{ltr:"0px 100%",rtl:"100% 100%"},[{property:P.cssName,delay:0,duration:152,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"rotateX(0deg) scale(1.0, 1.0) translate(0px, 0px)",to:"rotateX(80deg) scale(1.5, 1.5) translate(0px, 150px)"},{property:"opacity",delay:0,duration:152,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}])]).then(function(){I("continuumForwardOut,StopTM")})},continuumBackwardIn:function(e,t){return I("continuumBackwardIn,StartTM"),l.join([a.executeTransition(e,[{property:P.cssName,delay:0,duration:200,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(1.25, 1.25)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:200,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),v(t,{ltr:"0px 50%",rtl:"100% 50%"},[{property:P.cssName,delay:0,duration:250,timing:"cubic-bezier(0.2975, 0.7325, 0.4725, 0.99)",from:"rotateX(80deg) translate(0px, -100px)",to:"rotateX(0deg) translate(0px, 0px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){I("continuumBackwardIn,StopTM")})},continuumBackwardOut:function(e){return I("continuumBackwardOut,StartTM"),a.executeTransition(e,[{property:P.cssName,delay:0,duration:167,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(0.5, 0.5)"},{property:"opacity",delay:0,duration:167,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){I("continuumBackwardOut,StopTM")})},drillInIncoming:function(e){return I("drillInIncoming,StartTM"),a.executeTransition(e,[{property:P.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(0.84)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){I("drillInIncoming,StopTM")})},drillInOutgoing:function(e){return I("drillInOutgoing,StartTM"),a.executeTransition(e,[{property:P.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(1.29)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){I("drillInOutgoing,StopTM")})},drillOutIncoming:function(e){return I("drillOutIncoming,StartTM"),a.executeTransition(e,[{property:P.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.29)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){I("drillOutIncoming,StopTM")})},drillOutOutgoing:function(e){return I("drillOutOutgoing,StartTM"),a.executeTransition(e,[{property:P.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(0.84)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){I("drillOutOutgoing,StopTM")})},createPageNavigationAnimations:function(t,n,i){function o(){return l.wrap()}return{exit:o,entrance:e.enterPage}},_resizeTransition:function(e,t,n){if(n.to!==n.from&&a.isAnimationEnabled()){for(var i=k(e,t,n),o=[],r=0,s=i.length;r<s;r++)o.push(x(i[r].element,i[r].transition));return l.join(o)}return l.as()},_commandingSurfaceOpenAnimation:function(e){if(!a.isAnimationEnabled())return l.as();var t=e.actionAreaClipper,n=e.actionArea,o=e.overflowAreaClipper,s=e.overflowArea,u=e.oldHeight,c=e.newHeight,d=e.overflowAreaHeight,h=e.menuPositionedAbove,m=c-u,p=[],f=j().defaultResizeGrowTransition;if(h){n.style[P.scriptName]="translateY("+m+"px)",r._getComputedStyle(n).opacity;var _=i._merge(f,{to:"translateY(0px)"});p.push({element:n,transition:_})}else p=k(t,n,{from:u,to:c,actualSize:c,dimension:"height",anchorTrailingEdge:!1});o.style[P.scriptName]="translateY("+(h?m:-m)+"px)",s.style[P.scriptName]="translateY("+(h?d:-d)+"px)",r._getComputedStyle(o).opacity,r._getComputedStyle(s).opacity;for(var g=[],v=0,y=p.length;v<y;v++)g.push(x(p[v].element,p[v].transition));var b=i._merge(f,{to:"translateY(0px)"});return g.push(x(o,b)),g.push(x(s,b)),l.join(g)},_commandingSurfaceCloseAnimation:function(e){if(!a.isAnimationEnabled())return l.as();var t=e.actionAreaClipper,n=e.actionArea,o=e.overflowAreaClipper,s=e.overflowArea,u=e.oldHeight,c=e.newHeight,d=e.overflowAreaHeight,h=e.menuPositionedAbove,m=c-u,p=[],f=j().defaultResizeShrinkTransition;if(h){n.style[P.scriptName]="translateY(0px)",r._getComputedStyle(n).opacity;var _=i._merge(f,{to:"translateY("+-m+"px)"});p.push({element:n,transition:_})}else p=k(t,n,{from:u,to:c,actualSize:u,dimension:"height",anchorTrailingEdge:!1});o.style[P.scriptName]="translateY(0px)",s.style[P.scriptName]="translateY(0px)",r._getComputedStyle(o).opacity,r._getComputedStyle(s).opacity;for(var g=[],v=0,y=p.length;v<y;v++)g.push(x(p[v].element,p[v].transition));var b=i._merge(f,{to:"translateY("+(h?-m:m)+"px)"}),w=i._merge(f,{to:"translateY("+(h?d:-d)+"px)"});return g.push(x(o,b)),g.push(x(s,w)),l.join(g)}})}),define("WinJS/Binding/_BindingParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../ControlProcessor/_OptionsLexer","../ControlProcessor/_OptionsParser"],function(e,t,n,i,o,r,s,a,l){"use strict";function u(e,t){s("WinJS.Binding:bindingParser,StartTM");var n=h.lexer(e),i=new p.BindingInterpreter(n,e,t||{}),o=i.run();return s("WinJS.Binding:bindingParser,StopTM"),o}function c(e){s("WinJS.Binding:bindingParser,StartTM");var t=h.lexer(e),n=new p.BindingParser(t,e),i=n.run();return s("WinJS.Binding:bindingParser,StopTM"),i}var d={get invalidBinding(){return"Invalid binding:'{0}'. Expected to be '<destProp>:<sourceProp>;'. {1}"},get bindingInitializerNotFound(){return"Initializer not found:'{0}'"}},h=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return a._optionsLexer}),tokenType:t.Namespace._lazy(function(){return a._optionsLexer.tokenType})}),m=n.requireSupportedForProcessing,p=t.Namespace.defineWithParent(null,null,{BindingInterpreter:t.Namespace._lazy(function(){return t.Class.derive(l.optionsParser._BaseInterpreter,function(e,t,n){this._initialize(e,t,n)},{_error:function(e){throw new i("WinJS.Binding.ParseError",r._formatString(d.invalidBinding,this._originalSource,e))},_evaluateInitializerName:function(){if(this._current.type===h.tokenType.identifier){var e=this._evaluateIdentifierExpression();return o.log&&!e&&o.log(r._formatString(d.bindingInitializerNotFound,this._originalSource),"winjs binding","error"),m(e)}},_evaluateValue:function(){switch(this._current.type){case h.tokenType.stringLiteral:case h.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;default:return void this._unexpectedToken(h.tokenType.stringLiteral,h.tokenType.numberLiteral)}},_readBindDeclarations:function(){for(var e=[];;)switch(this._current.type){case h.tokenType.identifier:case h.tokenType.thisKeyword:e.push(this._readBindDeclaration());break;case h.tokenType.semicolon:this._read();break;case h.tokenType.eof:return e;default:return void this._unexpectedToken(h.tokenType.identifier,h.tokenType.semicolon,h.tokenType.eof)}},_readBindDeclaration:function(){var e=this._readDestinationPropertyName();this._read(h.tokenType.colon);var t=this._readSourcePropertyName(),n=this._evaluateInitializerName();return{destination:e,source:t,initializer:n}},_readDestinationPropertyName:function(){return this._readIdentifierExpression()},_readSourcePropertyName:function(){return this._readIdentifierExpression()},run:function(){return this._readBindDeclarations()}},{supportedForProcessing:!1})}),BindingParser:t.Namespace._lazy(function(){return t.Class.derive(p.BindingInterpreter,function(e,t){this._initialize(e,t,{})},{_readInitializerName:function(){if(this._current.type===h.tokenType.identifier)return this._readIdentifierExpression()},_readBindDeclaration:function(){var e=this._readDestinationPropertyName();this._read(h.tokenType.colon);var t=this._readSourcePropertyName(),n=this._readInitializerName();return{destination:e,source:t,initializer:n}}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(e,"WinJS.Binding",{_bindingParser:u,_bindingParser2:c})}),define("WinJS/Binding/_DomWeakRefTable",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Scheduler"],function(e,t,n,i,o,r){"use strict";function s(){0===m&&(h=0);var e,t,n=Object.keys(f),i=Date.now()-p;for(e=0,t=n.length;e<t;e++){var o=n[e];f[o].time<i&&delete f[o]}l()}function a(){t.Debug&&t.Debug.debuggerEnabled&&_||h||(0===m?(r.schedule(s,r.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),h=1):h=t.setInterval(s,m))}function l(){t.Debug&&t.Debug.debuggerEnabled&&_||(0===m?h||0!==Object.keys(f).length&&(r.schedule(s,r.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),h=1):h&&0===Object.keys(f).length&&(t.clearInterval(h),h=0))}function u(e,t){return f[t]={element:e,time:Date.now()},a(),t}function c(e){if(g){var n=f[e];return n?n.element:t.document.getElementById(e)}var i=t.document.getElementById(e);if(i)delete f[e],l();else{var n=f[e];n&&(n.time=Date.now(),i=n.element)}return i}if(n.Windows.Foundation.Uri&&n.msSetWeakWinRTProperty&&n.msGetWeakWinRTProperty){var d=new n.Windows.Foundation.Uri("about://blank");return void i.Namespace._moduleDefine(e,"WinJS.Utilities",{_createWeakRef:function(e,t){return n.msSetWeakWinRTProperty(d,t,e),t},_getWeakRefElement:function(e){return n.msGetWeakWinRTProperty(d,e)}})}var h,m=500,p=1e3,f={},_=!0,g=!1;i.Namespace._moduleDefine(e,"WinJS.Utilities",{_DOMWeakRefTable_noTimeoutUnderDebugger:{get:function(){return _},set:function(e){_=e}},_DOMWeakRefTable_sweepPeriod:{get:function(){return m},set:function(e){m=e}},_DOMWeakRefTable_timeout:{get:function(){return p},set:function(e){p=e}},_DOMWeakRefTable_tableSize:{get:function(){return Object.keys(f).length}},_DOMWeakRefTable_fastLoadPath:{get:function(){return g},set:function(e){g=e}},_createWeakRef:u,_getWeakRefElement:c})}),define("WinJS/Binding/_Data",["exports","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Promise","../Scheduler","./_DomWeakRefTable"],function(e,t,n,i,o,r,s,a,l,u){"use strict";var c={get exceptionFromBindingInitializer(){return"Exception thrown from binding initializer: {0}"},get propertyIsUndefined(){return"{0} is undefined"},get unsupportedDataTypeForBinding(){return"Unsupported data type"}},d={_listeners:null,_pendingNotifications:null,_notifyId:0,_getObservable:function(){return this},_cancel:function(e){var t=this._pendingNotifications,n=!1;if(t)for(var i=Object.keys(t),o=i.length-1;o>=0;o--){var r=t[i[o]];r.target===e&&(r.promise&&(r.promise.cancel(),r.promise=null),delete t[i[o]],n=!0)}return n},notify:function(e,t,n){var i=this._listeners&&this._listeners[e];if(i){var o=this;o._cancel(e),o._pendingNotifications=o._pendingNotifications||{};var u=o._notifyId++,d=o._pendingNotifications[u]={target:e},h=function(){delete o._pendingNotifications[u]};return d.promise=l.schedulePromiseNormal(null,"WinJS.Binding.observableMixin.notify").then(function(){for(var e=0,o=i.length;e<o&&d.promise;e++)try{i[e](t,n)}catch(e){r.log&&r.log(s._formatString(c.exceptionFromBindingInitializer,e.toString()),"winjs binding","error")}return h(),t}),d.promise}return a.as()},bind:function(e,t){this._listeners=this._listeners||{};for(var n=this._listeners[e]=this._listeners[e]||[],i=!1,o=0,r=n.length;o<r;o++)if(n[o]===t){i=!0;break}return i||(n.push(t),t(C(this[e]))),this},unbind:function(e,t){if(this._listeners=this._listeners||{},e&&t){var n=this._listeners[e];if(n){for(var i,o=0,r=n.length;o<r;o++)n[o]!==t&&(i=i||[]).push(n[o]);this._listeners[e]=i}}else if(e)this._cancel(e),delete this._listeners[e];else{var s=this;if(s._pendingNotifications){var a=s._pendingNotifications;s._pendingNotifications={},Object.keys(a).forEach(function(e){var t=a[e];t.promise&&t.promise.cancel()})}this._listeners={}}return this}},h={_backingData:null,_initObservable:function(e){this._backingData=e||{}},getProperty:function(e){var t=this._backingData[e];return r.log&&void 0===t&&r.log(s._formatString(c.propertyIsUndefined,e),"winjs binding","warn"),w(t)},setProperty:function(e,t){return this.updateProperty(e,t),this},addProperty:function(e,t){return this[e]||Object.defineProperty(this,e,{get:function(){return this.getProperty(e)},set:function(t){this.setProperty(e,t)},enumerable:!0,configurable:!0}),this.setProperty(e,t)},updateProperty:function(e,t){var n=this._backingData[e],i=C(t);return n!==i&&(this._backingData[e]=i,this._backingData[e]===i)?this.notify(e,i,n):a.as()},removeProperty:function(e){var t,n=this._backingData[e];try{delete this._backingData[e]}catch(e){}try{delete this[e]}catch(e){}return this.notify(e,t,n),this}};Object.keys(d).forEach(function(e){h[e]=d[e]});var m=function(e,t){return g(e,t)},p=0,f=function(){return"bindHandler"+p++},_=function(e,n){if(!t.msGetWeakWinRTProperty)return e;var i=f();return u._getWeakRefElement(n)[i]=e,function(e,t){var o=u._getWeakRefElement(n);o&&o[i](e,t)}},g=function e(t,n,i){function o(){l&&l.forEach(function(e){e.source.unbind(e.prop,e.listener)}),l=null}function r(e){a[e]&&(a[e].complexBind.cancel(),delete a[e])}if(t=w(t),!t)return{cancel:function(){},empty:!0};var s;i||(i=f(),s={},u._createWeakRef(s,i));var a={},l=null;return Object.keys(n).forEach(function(o){var u=n[o];if(u instanceof Function)u=_(u,i),u.bindState=s,l=l||[],l.push({source:t,prop:o,listener:u}),t.bind(o,u);else{var c=function(t){r(o);var n=e(w(t),u,i);if(n.empty){var s=function e(t){Object.keys(t).forEach(function(n){var i=t[n];i instanceof Function?i(void 0,void 0):e(i)})};s(u)}a[o]={source:t,complexBind:n}};c=_(c,i),c.bindState=s,l=l||[],l.push({source:t,prop:o,listener:c}),t.bind(o,c)}}),{cancel:function(){o(),Object.keys(a).forEach(function(e){r(e)})}}},v=n.Class.mix(function(e){this._initObservable(e),Object.defineProperties(this,y(e))},h),y=function(e){function t(e){n[e]={get:function(){return this.getProperty(e)},set:function(t){this.setProperty(e,t)},enumerable:!0,configurable:!0}}for(var n={};e&&e!==Object.prototype;)Object.keys(e).forEach(t),e=Object.getPrototypeOf(e);return n},b=function(e){if(!(!e||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||e instanceof Date||Array.isArray(e)))return n.Class.mix(function(t){this._initObservable(t||Object.create(e))},h,y(e));if(i.validation)throw new o("WinJS.Binding.UnsupportedDataType",s._formatString(c.unsupportedDataTypeForBinding))},w=function(e){if(!e)return e;var t="undefined"==typeof e?"undefined":_typeof(e);if("object"!==t||e instanceof Date||Array.isArray(e))return e;if(e._getObservable)return e._getObservable();var n=new v(e);return n.backingData=e,Object.defineProperty(e,"_getObservable",{value:function(){return n},enumerable:!1,writable:!1}),n},C=function(e){return e&&e.backingData?e.backingData:e};n.Namespace._moduleDefine(e,"WinJS.Binding",{mixin:{value:h,enumerable:!0,writable:!0,configurable:!0},dynamicObservableMixin:{value:h,enumerable:!0,writable:!0,configurable:!0},observableMixin:{value:d,enumerable:!0,writable:!0,configurable:!0},expandProperties:y,define:b,as:w,unwrap:C,bind:m})}),define("WinJS/Binding/_Declarative",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","./_BindingParser","./_Data","./_DomWeakRefTable"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m){"use strict";function p(e,t){var n=e._autoDispose;n&&n.push(t)}function f(e){e._autoDispose=(e._autoDispose||[]).filter(function(e){return e()})}function _(e,t){return e?e.winBindingToken===t?e:void(s.log&&s.log(a._formatString(F.duplicateBindingDetected,e.id),"winjs binding","error")):e}function g(e){if(e.winBindingToken)return e.winBindingToken;var t="_win_bind"+B++;return Object.defineProperty(e,"winBindingToken",{configurable:!1,writable:!1,enumerable:!1,value:t}),t}function v(e,t,n,i,o,r,s){var a=e.initializer;if(a&&(a=a.winControl||a["data-win-control"]||a),a instanceof Function){var l=a(i,e.source,o,e.destination);return s&&(l&&l.cancel?s.bindings.push(function(){l.cancel()}):s.nocache=!0),l}a&&a.render&&(r.count++,s&&(s.nocache=!0),H(a.render).call(a,x(i,e.source),o).then(function(){r.checkComplete()}))}function y(e,t,n,i,o,r){var l,u=!0,c=!1;f(i);var d=function(){if(!c){var n=_(m._getWeakRefElement(e),t);return n||(s.log&&s.log(a._formatString(F.elementNotFound,e),"winjs binding","info"),l&&l.cancel()),n}},h=function(e){var t=d();t&&j(t,o.destination,e),u&&(n.checkComplete(),u=!1)};if(p(i,d),l=M(i,o.source,h)){var g=l.cancel;l.cancel=function(){return c=!0,g.call(l)},r&&r.bindings.push(function(){l.cancel()})}return l}function b(e,n,i,o,r,s,a){var l;return o!==t&&(o=h.as(o)),o._getObservable&&(l=o._getObservable()),l?(s.count++,y(n,i,s,l,e,a)):void j(r,e.destination,x(o,e.source))}function w(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n],l=i.destination;if(1===l.length&&"id"===l[0]){if(o.validation)throw new r("WinJS.Binding.IdBindingNotSupported",a._formatString(F.idBindingNotSupported,t));s.log&&s.log(a._formatString(F.idBindingNotSupported,t),"winjs binding","error"),e.splice(n,1)}}return e}function C(e,n){if(n){var i,o=n.expressions[e];return o||(i=w(d._bindingParser(e,t),e),n.expressions[e]=i),i||(i=o),i}return w(d._bindingParser(e,t),e)}function E(e,n,i,o,r,s){l("WinJS.Binding:processAll,StartTM");var a,u={count:0,checkComplete:function(){this.count--,0===this.count&&(l("WinJS.Binding:processAll,StopTM"),s())}},d=e||t.document.body,h="[data-win-bind],[data-win-control]",p=d.querySelectorAll(h);i||!d.getAttribute("data-win-bind")&&!d.winControl||(a=d),u.count++;var f=n||t;m._DOMWeakRefTable_fastLoadPath=!0;try{var _=c.data(d);_.winBindings=_.winBindings||[];for(var y=a?-1:0,w=p.length;y<w;y++){var E=y<0?a:p[y];if(E.winControl&&E.winControl.constructor&&E.winControl.constructor.isDeclarativeControlContainer){y+=E.querySelectorAll(h).length;var I=E.winControl.constructor.isDeclarativeControlContainer;"function"==typeof I&&(I=H(I))(E.winControl,function(e){return S(e,n,!1,o,r)})}if(E.hasAttribute("data-win-bind")){var x=E.getAttribute("data-win-bind"),j=C(x,o);if(!j.implemented){for(var k=0,P=j.length;k<P;k++){var T=j[k];T.initializer=T.initializer||r,T.initializer?T.implementation=v:T.implementation=b}j.implemented=!0}u.count++;var O=g(E),A=R?O:E.id;A||(E.id=A=O),m._createWeakRef(E,A);var M=c.data(E);M.winBindings=null;var D;o&&o.elements&&(D=o.elements[A],D||(o.elements[A]=D={bindings:[]}));for(var L=0,N=j.length;L<N;L++){var B=j[L],F=B.implementation(B,A,O,f,E,u,D);F&&(M.winBindings=M.winBindings||[],M.winBindings.push(F),_.winBindings.push(F))}u.count--}}}finally{m._DOMWeakRefTable_fastLoadPath=!1}u.checkComplete()}function S(e,t,n,i,o){return new u(function(r,s,a){E(e,t,n,i,o,r,s,a)}).then(null,function(e){return s.log&&s.log(a._formatString(F.errorInitializingBindings,e&&e.message),"winjs binding","error"),u.wrapError(e)})}function I(e){var n=function(n,i,o,r,l){var u=g(o),c=R?u:o.id;c||(o.id=c=u),m._createWeakRef(o,c);var d;if(n!==t&&(n=h.as(n)),n._getObservable&&(d=n._getObservable()),d){var p=M(h.as(n),i,function(t){var n=_(m._getWeakRefElement(c),u);n?j(n,r,e(H(t))):p&&(s.log&&s.log(a._formatString(F.elementNotFound,c),"winjs binding","info"),p.cancel())});return p}var f=x(n,i);f!==l&&j(o,r,e(f))};return z(n)}function x(e,n){if(e!==t&&(e=H(e)),n)for(var i=0,o=n.length;i<o&&null!==e&&void 0!==e;i++)e=H(e[n[i]]);return e}function j(e,n,i){H(i),e=H(e);for(var o=0,r=n.length-1;o<r;o++){if(e=H(e[n[o]]),!e)return void(s.log&&s.log(a._formatString(F.propertyDoesNotExist,n[o],n.join(".")),"winjs binding","error"));if(e instanceof t.Node)return void(s.log&&s.log(a._formatString(F.nestedDOMElementBindingNotSupported,n[o],n.join(".")),"winjs binding","error"))}if(0===n.length)return void(s.log&&s.log(F.cannotBindToThis,"winjs binding","error"));var l=n[n.length-1];s.log&&void 0===e[l]&&s.log(a._formatString(F.creatingNewProperty,l,n.join(".")),"winjs binding","warn"),e[l]=i}function k(e,t,n){return e=H(e),t&&1===t.length&&t[0]?void e.setAttribute(t[0],n):void(s.log&&s.log(F.attributeBindingSingleProperty,"winjs binding","error"))}function P(e,n,i,o,r){var l=g(i),u=R?l:i.id;u||(i.id=u=l),m._createWeakRef(i,u);var c;if(e!==t&&(e=h.as(e)),e._getObservable&&(c=e._getObservable()),c){var d=0,p=M(c,n,function(e){if(1!==++d||e!==r){var t=_(m._getWeakRefElement(u),l);t?k(t,o,H(e)):p&&(s.log&&s.log(a._formatString(F.elementNotFound,u),"winjs binding","info"),p.cancel())}});return p}var f=x(e,n);f!==r&&k(i,o,f)}function T(e,t,n,i){return k(n,i,x(e,t))}function O(e,t,n){n=H(n);var i=x(e,t);Array.isArray(i)?i.forEach(function(e){c.addClass(n,e)}):i&&c.addClass(n,i)}function A(e,t,n,i,o){return W(e,t,n,i,o)}function M(e,t,n){if(t.length>1){for(var i={},o=i,r=0,s=t.length-1;r<s;r++)o=o[t[r]]={};return o[t[t.length-1]]=n,h.bind(e,i,!0)}return 1===t.length?(e.bind(t[0],n,!0),{cancel:function(){e.unbind(t[0],n),this.cancel=D}}):void n(e)}function D(){}function L(e,t,n,i){return j(n,i,x(e,t)),{cancel:D}}function N(e){return z(e)}var B=1e3*Math.random()>>0,R=n.msSetWeakWinRTProperty&&n.msGetWeakWinRTProperty,F={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get creatingNewProperty(){return"Creating new property {0}. Full path:{1}"},get duplicateBindingDetected(){return"Binding against element with id {0} failed because a duplicate id was detected."},get elementNotFound(){return"Element not found:{0}"},get errorInitializingBindings(){return"Error initializing bindings: {0}"},get propertyDoesNotExist(){return"{0} doesn't exist. Full path:{1}"},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"},get nestedDOMElementBindingNotSupported(){return"Binding through a property {0} of type HTMLElement is not supported, Full path:{1}."}},z=o.markSupportedForProcessing,H=o.requireSupportedForProcessing,W=I(function(e){return e});i.Namespace._moduleDefine(e,"WinJS.Binding",{processAll:S,oneTime:N(L),defaultBind:N(A),converter:I,initializer:N,getValue:x,setAttribute:N(P),setAttributeOneTime:N(T),addClassOneTime:N(O)})}),define("WinJS/Binding",["./Binding/_BindingParser","./Binding/_Data","./Binding/_Declarative","./Binding/_DomWeakRefTable"],function(){}),define("WinJS/BindingTemplate/_DataTemplateCompiler",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Binding/_BindingParser","../Binding/_Declarative","../ControlProcessor","../ControlProcessor/_OptionsParser","../Fragments","../Promise","../_Signal","../Utilities/_Dispose","../Utilities/_SafeHtml","../Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g){"use strict";if(t.document){var v={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"}};n.Namespace._moduleDefine(e,"WinJS.Binding",{_TemplateCompiler:n.Namespace._lazy(function(){function e(e,t,n){var i=g.data(e).bindTokens;i&&i.forEach(function(e){e&&e.cancel&&e.cancel()}),t&&t.cancel(),n&&n.cancel()}function y(e,t){return function(n){return u.processAll(n,e,!1,null,t)}}function b(e){return e=Z(e),e instanceof t.Node?null:e}function w(e,t){var n=e.indexOf("\n")!==-1,i=arguments,r=e.replace(me,function(r,s,a,l,u,c,d){if(u||c)throw new o("Format:MalformedInputString","Did you forget to escape a: "+(u||c)+" at: "+d);if(s)return"{";if(a)return"}";var h,m=+l;if(h=m===+m?i[m+1]:t[l],void 0===h)throw new o("Format:MissingPart","Missing part '"+l+"'");if(n){for(var p=d;p>0&&" "===e[--p];);p>=0&&"\n"===e[p]&&(h=C(d-p-1,h))}return h});return r}function C(e,t){for(var n="",i=0;i<e;i++)n+=" ";return t.split("\n").map(function(e,t){return t?n+e:e}).join("\n")}function E(e){return e.trim()}function S(e){return e.join(";\n")}function I(e){return e.join(", ")||"empty"}function x(e){return e.map(function(e){return e.match(ue)?"."+e:+e===e?w("[{0}]",e):w("[{0}]",k(e))}).join("")}function j(e,t,n,i){var t=t.map(function(e){return e.match(ue)?"."+e:(+e===e&&(e=+e),A(k(e)))}).map(function(e){return w("{filter}({temp} = {temp}{part})",{filter:i,temp:n,part:e})});return t.unshift(O(T(n,e))),t.push(n),O(t.join(" && "))}function k(e){return JSON.stringify(e)}function P(e){return e?"new Array("+ +e+")":"[]"}function T(e,t){return""+e+" = "+t}function O(e){return"("+e+")"}function A(e){return"["+e+"]"}function M(e){return e.match(ue)?e:+e===e?+e:k(e)}function D(e){return e=""+e,e.replace(de,function(e){return he[e]||" "})}function L(e,t,n){return n?new String(""+e+t+"_"+n):new String(""+e+t)}function N(e){return e.replace(/\\n/g,"\\n\\\n")}function B(e){return Object.keys(e)}function R(e){return Object.keys(e).map(function(t){return e[t]})}function F(e,t){return z([e,t])}function z(e){for(var t={},n=0,i=e.length;n<i;n++)for(var o=e[n],r=Object.keys(o),s=0,a=r.length;s<a;s++){var l=r[s];t[l]=o[l]}return t}function H(e){return e.reduce(function(e,t){return e?Z(e[t]):null},t)}function W(e,t,n,i){var o=e.children;if(o){var r=Object.keys(o);t&&n&&n(e,t,r.length);for(var s=0,a=r.length;s<a;s++){var l=r[s],u=o[l];W(u,l,n,i)}t&&i&&i(e,t,Object.keys(o).length)}else t&&n&&n(e,t,0),t&&i&&i(e,t,0)}function V(e){return e.replace(/^\s*$/gm,"").replace(/^(.*[^\s])( *)$/gm,function(e,t){return t})}var U=m._cancelBlocker,q=u.defaultBind,J=u.oneTime,K=u.setAttribute,G=u.setAttributeOneTime,Y=u.addClassOneTime,X=m.as,Z=i.requireSupportedForProcessing,Q=_.insertAdjacentHTMLUnsafe,$=g.data,ee=f.markDisposable,te=c.processAll,ne=u.processAll,ie=d._optionsParser,oe=d._CallExpression,re=d._IdentifierExpression,se=l._bindingParser2,ae=c.scopedSelect,le=a,ue=/^[A-Za-z]\w*$/,ce=/[^A-Za-z\w$]/g,de=/[&<>'"]/g,he={"&":"&amp;","<":"&lt;",">":"&gt;",
"'":"&#39;",'"':"&quot;"},me=/({{)|(}})|{(\w+)}|({)|(})/g,pe=/^\s*;\s*$/,fe=/[A-Z]/g,_e=n.Class.define(function(e,t,n,i,o){var r=this;this.compiler=e,this.kind=n,this.base=new String(t),this.tree={children:{},parent:this.base,reference:function(){return r.base}},this.accessExpression=i,this.filter=o||""},{createPathExpression:function(e,t){if(e.length){var n=this,i=e.reduce(function(e,t){return e.children=e.children||{},e.children[t]=e.children[t]||{parent:e},e.children[t]},this.tree);return i.name=i.name||n.compiler.defineInstance(n.kind,t||"",function(){return n.accessExpression(i.parent.name?i.parent.name:i.parent.reference(),e.slice(-1)[0],i.parent.parent===n.base,n.filter,!0)}),i.name}return this.base},lower:function(){var e=this,t=[],n=function(t,n,i){return e.accessExpression(t.parent.name?t.parent.name:t.parent.reference(),n,t.parent.parent===e.base,e.filter,i)};W(this.tree,"",function(i,o,r){t.push(o),r>1?(i.name=i.name||e.compiler.defineInstance(e.kind,t.join("_"),n.bind(null,i,o,!0)),i.reference=function(){return i.name}):1===r&&(i.reference=n.bind(null,i,o))},function(){t.pop()})},deadNodeElimination:function(){W(this.tree,"",null,function(e,t,n){e.name&&!e.name.dead||0===n&&e.parent&&e.parent.children&&delete e.parent.children[t]})},definitions:function(){var e=[];return W(this.tree,"",function(t){t.name&&e.push(t)}),e.map(function(e){return e.name.definition()})}}),ge={capture:"capture",temporary:"temporary",variable:"variable",data:"data",global:"global"},ve={capture:"c",temporary:"t",variable:"iv",data:"d",global:"g"},ye={imported:"import",variable:"variable"},be={imported:"i",variable:"sv"},we={tree:"tree",text:"text",initializer:"initializer",template:"template",error:"error"},Ce={attribute:"attribute",booleanAttribute:"booleanAttribute",inlineStyle:"inlineStyle",textContent:"textContent"},Ee="imports",Se={initial:0,analyze:1,optimze:2,lower:3,compile:4,link:5,done:6},Ie=n.Class.define(function(e,n){if(this._stage=Se.initial,this._staticVariables={},this._staticVariablesCount=0,this._instanceVariables={},this._instanceVariablesCount={},this._debugBreak=n.debugBreakOnRender,this._defaultInitializer=Z(n.defaultInitializer||q),this._optimizeTextBindings=!n.disableTextBindingOptimization,this._templateElement=e,this._templateContent=t.document.createElement(e.tagName),this._extractChild=n.extractChild||!1,this._controls=null,this._bindings=null,this._bindTokens=null,this._textBindingPrefix=null,this._textBindingId=0,this._suffix=[],this._htmlProcessors=[],this._profilerMarkIdentifier=n.profilerMarkIdentifier,this._captureCSE=new _e(this,"container",ge.capture,this.generateElementCaptureAccess.bind(this)),this._dataCSE=new _e(this,"data",ge.data,this.generateNormalAccess.bind(this),this.importFunctionSafe("dataSecurityCheck",Z)),this._globalCSE=new _e(this,this.importFunctionSafe("global",t),ge.global,this.generateNormalAccess.bind(this),this.importFunctionSafe("globalSecurityCheck",Z)),h.renderCopy(this._templateElement,this._templateContent),this._extractChild)for(;this._templateContent.childElementCount>1;)this._templateContent.removeChild(this._templateContent.lastElementChild)},{addClassOneTimeTextBinding:function(e){var t=this,n=this.createTextBindingHole(e.elementCapture.element.tagName,"class",++this._textBindingId);e.textBindingId=n,e.kind=we.text,e.elementCapture.element.classList.add(n),e.elementCapture.refCount--,e.definition=function(){return t.formatCode("{htmlEscape}({value})",{htmlEscape:t._staticVariables.htmlEscape,value:e.value()})}},addClassOneTimeTreeBinding:function(e){var t=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.kind=we.tree,e.definition=function(){return t.formatCode("{element}.classList.add({value})",{element:e.elementCapture,value:e.value()})}},analyze:function(){if(this._stage>Se.analyze)throw"Illegal: once we have moved past analyze we cannot revist it";this._stage=Se.analyze,this._controls=this.gatherControls(),this._bindings=this.gatherBindings(),this._children=this.gatherChildren(),this.cleanControlAndBindingAttributes(),this.async&&this.createAsyncParts(),this.nullableIdentifierAccessTemporary=this.defineInstance(ge.temporary);var e=this._templateContent.innerHTML;this._html=function(){return N(k(e))},this._html.text=e},bindingExpression:function(e){return this._dataCSE.createPathExpression(e.source,e.source.join("_"))},capture:function e(t){var e=t._capture;if(e)return e.refCount++,e;for(var n=[t],i=t.parentNode,o=t.tagName;i!==this._templateContent;)o=i.tagName+"_"+o,n.unshift(i),i=i.parentNode;for(var r=0,s=n.length;r<s;r++){var a=n[r];n[r]=Array.prototype.indexOf.call(i.children,a),i=a}return e=this._captureCSE.createPathExpression(n,o.toLowerCase()),e.element=t,e.element._capture=e,e.refCount=1,e},cleanControlAndBindingAttributes:function(){for(var e="[data-win-bind],[data-win-control]",t=this._templateContent.querySelectorAll(e),n=0,i=t.length;n<i;n++){var o=t[n];o.isDeclarativeControlContainer&&(n+=o.querySelectorAll("[data-win-bind],[data-win-control]").length),o.removeAttribute("data-win-bind"),o.removeAttribute("data-win-control"),o.removeAttribute("data-win-options")}},compile:function(e,t,n){if(this._stage>Se.compile)throw"Illegal: once we have moved past compile we cannot revist it";this._stage=Se.compile;var i=this;this._returnedElement=this._extractChild?"container.firstElementChild":"container";var o,r,s=this._controls.map(function(e){var t;t=e.async?"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options}, controlDone)":"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options})";var n=i.formatCode(t,{target:e.elementCapture,SafeConstructor:e.SafeConstructor,options:i.generateOptionsLiteral(e.optionsParsed,e.elementCapture)});if(e.isDeclarativeControlContainer&&"function"==typeof e.isDeclarativeControlContainer.imported){var o=[n];return o.push(i.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedControlProcessing})",{target:e.elementCapture,isDeclarativeControlContainer:e.isDeclarativeControlContainer,delayedControlProcessing:i._staticVariables.ui_processAll})),o.push(i.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedBindingProcessing}(data, {templateDefaultInitializer}))",{target:e.elementCapture,isDeclarativeControlContainer:e.isDeclarativeControlContainer,delayedBindingProcessing:i._staticVariables.delayedBindingProcessing,templateDefaultInitializer:i._staticVariables.templateDefaultInitializer||k(null)})),o.join(";\n")}return n}),a=this._bindings.map(function(e){switch(e.kind){case we.template:return i.formatCode("({nestedTemplates}[{nestedTemplate}] = {template}.render({path}, {dest}))",{nestedTemplates:i._nestedTemplates,nestedTemplate:k(e.nestedTemplate),template:e.template,path:e.pathExpression,dest:e.elementCapture});case we.initializer:var t;return t=e.initialValue?"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}, {initialValue}))":"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}))",i.formatCode(t,{bindTokens:i._bindTokens,bindToken:k(e.bindToken),initializer:e.initializer,sourceProperties:k(e.source),destProperties:k(e.destination),dest:e.elementCapture,initialValue:e.initialValue});case we.tree:return e.definition();case we.text:break;case we.error:break;default:throw"NYI"}});n?(o=a.filter(function(e,t){return!i._bindings[t].delayable}),r=a.filter(function(e,t){return i._bindings[t].delayable})):(o=a,r=[]);var l=R(this._instanceVariables),u=l.filter(function(e){return e.kind===ge.variable}).map(function(e){return e.definition()}),c=this._captureCSE.definitions(),d=this._globalCSE.definitions(),h=this._dataCSE.definitions(),m=this._children.map(function(e){return i.formatCodeN("{0}.msParentSelectorScope = true",e)}),p=this._suffix.map(function(e){return e()}),f="";n&&r.length&&(f=i.formatCode(De,{delayed_binding_processing:S(r)}));var _=i.formatCode(e,z([this._staticVariables,t||{},{profilerMarkIdentifierStart:k("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StartTM"),profilerMarkIdentifierStop:k("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StopTM"),html:this._html(),tagName:k(this._templateElement.tagName),instance_variable_declarations:I(l),global_definitions:S(d),data_definitions:S(h),instance_variable_definitions:S(u),capture_definitions:S(c),set_msParentSelectorScope:S(m),debug_break:this.generateDebugBreak(),control_processing:S(s),control_counter:this._controlCounter,binding_processing:S(o),renderComplete:f,suffix_statements:S(p),nestedTemplates:this._nestedTemplates,returnedElement:this._returnedElement}]));return this.prettify(_)},createAsyncParts:function(){this._nestedTemplates=this._nestedTemplates||this.defineInstance(ge.variable,"nestedTemplates",function(){return P(0)}),this._controlCounter=this._controlCounter||this.defineInstance(ge.variable,"controlCounter",function(){return k(1)})},createTextBindingHole:function(e,t,n){if(!this._textBindingPrefix){for(var i="";this._html.text.indexOf("textbinding"+i)!==-1;)i=i||0,i++;this._textBindingPrefix="textbinding"+i,this._textBindingRegex=new RegExp("(#?"+this._textBindingPrefix+"_\\d+)")}var o=this._textBindingPrefix+"_"+n;return"IMG"===e&&"src"===t&&(o="#"+o),o},deadCodeElimination:function(){var e=this;Object.keys(this._instanceVariables).forEach(function(t){var n=e._instanceVariables[t];n.kind===ge.capture&&(e._templateContent.contains(n.element)||(n.dead=!0),0===n.refCount&&(n.dead=!0),n.dead&&(n.definition=function(){},n.name=null,delete e._instanceVariables[t]))}),this._controls=this._controls.filter(function(e){return!e.elementCapture.dead}),this._bindings=this._bindings.filter(function(e){return!e.elementCapture.dead}),this._captureCSE.deadNodeElimination()},defineInstance:function(e,t,n){if(this._stage>=Se.compile)throw"Illegal: define instance variable after compilation stage has started";var i=this._instanceVariablesCount[e]||0,o=t?t.replace(ce,"_"):"",r=L(ve[e],i,o);return r.definition=function(){return T(r,n())},r.kind=e,this._instanceVariables[r]=r,this._instanceVariablesCount[e]=i+1,r},defineStatic:function(e,t,n){if(this._stage>=Se.link)throw"Illegal: define static variable after link stage has started";if(t){var i=this._staticVariables[t];if(i)return i}var o=t?t.replace(ce,"_"):"",r=L(be[e],this._staticVariablesCount,o);return r.definition=function(){return T(r,n())},r.kind=e,this._staticVariables[t||r]=r,this._staticVariablesCount++,r},done:function(){if(this._stage>Se.done)throw"Illegal: once we have moved past done we cannot revist it";this._stage=Se.done},emitScopedSelect:function(e,t){return this.formatCode("{scopedSelect}({selector}, {element})",{scopedSelect:this._staticVariables.scopedSelect,selector:k(e),element:t})},emitOptionsNode:function(e,t,n){var i=this;if(e)switch("undefined"==typeof e?"undefined":_typeof(e)){case"object":if(Array.isArray(e)){t.push("[");for(var o=0,r=e.length;o<r;o++)this.emitOptionsNode(e[o],t,n),t.push(",");t.push("]")}else if(e instanceof oe)t.push("select"===e.target?this.emitScopedSelect(e.arg0Value,n):k(null));else if(e instanceof re&&e.parts[0]instanceof oe){var s=e.parts[0];t.push(j("select"===s.target?this.emitScopedSelect(s.arg0Value,n):k(null),e.parts.slice(1),this.nullableIdentifierAccessTemporary,this.importFunctionSafe("requireSupportedForProcessing",Z)))}else e instanceof re?t.push(e.pathExpression):(t.push("{"),Object.keys(e).forEach(function(o){t.push(M(o)),t.push(":"),i.emitOptionsNode(e[o],t,n),t.push(",")}),t.push("}"));break;default:t.push(k(e))}else t.push(k(null))},findGlobalIdentifierExpressions:function(e,t){t=t||[];var n=this;return Object.keys(e).forEach(function(i){var o=e[i];"object"===("undefined"==typeof o?"undefined":_typeof(o))&&(o instanceof re?o.parts[0]instanceof oe||t.push(o):n.findGlobalIdentifierExpressions(o,t))}),t},formatCodeN:function(){if(this._stage<Se.compile)throw"Illegal: format code at before compilation stage has started";return w.apply(null,arguments)},formatCode:function(e,t){if(this._stage<Se.compile)throw"Illegal: format code at before compilation stage has started";return w(e,t)},gatherBindings:function(){for(var e=-1,n=this,i=-1,o=[],r="[data-win-bind],[data-win-control]",s=this._templateContent.querySelectorAll(r),a=0,l=s.length;a<l;a++){var u=s[a];if(u.isDeclarativeControlContainer&&(a+=u.querySelectorAll(r).length),u.hasAttribute("data-win-bind")){var c=u.getAttribute("data-win-bind"),d=se(c,t);d.forEach(function(t){if(t.initializer){var o=t.initializer.join("."),r=H(t.initializer);r.render?(Z(r.render),t.template=n.importFunctionSafe(o,r),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++i,t.kind=we.template):r.winControl&&r.winControl.render?(Z(r.winControl.render),t.template=n.importFunctionSafe(o,r.winControl),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++i,t.kind=we.template):(t.initializer=n.importFunction(o,r),t.bindToken=++e,t.kind=we.initializer)}else t.initializer=n.importFunctionSafe("templateDefaultInitializer",n._defaultInitializer),t.bindToken=++e,t.kind=we.initializer;t.elementCapture=n.capture(u),t.bindingText=c}),o.push.apply(o,d)}}var h=i+1;h>0&&(this.async=!0,this._nestedTemplates=this.defineInstance(ge.variable,"nestedTemplates",function(){return P(h)}));var m=e+1;return m>0&&(this._bindTokens=this.defineInstance(ge.variable,"bindTokens",function(){return P(m)}),this._suffix.push(function(){return n.formatCode("{utilities_data}(returnedElement).bindTokens = {bindTokens}",{utilities_data:n._staticVariables.utilities_data,bindTokens:n._bindTokens})})),o},gatherChildren:function(){var e=this;return Array.prototype.map.call(this._templateContent.children,function(t){return e.capture(t)})},gatherControls:function(){for(var e=this,n=0,o=[],r="[data-win-control]",s=this._templateContent.querySelectorAll(r),a=0,l=s.length;a<l;a++){var u=s[a],c=u.getAttribute("data-win-control"),d=i._getMemberFiltered(c.trim(),t,Z);if(d){var h=u.getAttribute("data-win-options")||k({}),m=d.length>2;m&&(n++,this.async=!0);var p=d.isDeclarativeControlContainer;p&&("function"==typeof p&&(p=this.importFunction(c+"_isDeclarativeControlContainer",p)),u.isDeclarativeControlContainer=p,a+=u.querySelectorAll(r).length);var f={elementCapture:this.capture(u),name:c,SafeConstructor:this.importFunctionSafe(c,d),async:m,optionsText:k(h),optionsParsed:ie(h),isDeclarativeControlContainer:p};o.push(f);var _=this.findGlobalIdentifierExpressions(f.optionsParsed);_.forEach(function(t){t.pathExpression=e.globalExpression(t.parts)})}}return n>0&&(this._controlCounter=this.defineInstance(ge.variable,"controlCounter",function(){return k(n+1)})),o},generateElementCaptureAccess:function(e,t,n){if(n){var i=""+t=="0"?"":" + "+t;return this.formatCodeN("{0}.children[startIndex{1}]",e,i)}return this.formatCodeN("{0}.children[{1}]",e,t)},generateNormalAccess:function(e,t,n,i,o){if(e.indexOf(this.nullableIdentifierAccessTemporary)>=0){var r;return r=o?"{left} && {filter}({temp}{right})":"{left} && ({temp} = {filter}({temp}{right}))",this.formatCode(r,{temp:this.nullableIdentifierAccessTemporary,left:e,right:x([t]),filter:i})}var r;return r=o?"({temp} = {left}) && {filter}({temp}{right})":"({temp} = {left}) && ({temp} = {filter}({temp}{right}))",this.formatCode(r,{temp:this.nullableIdentifierAccessTemporary,left:e,right:x([t]),filter:i})},generateOptionsLiteral:function(e,t){var n=[];return this.emitOptionsNode(e,n,t),n.join(" ")},generateDebugBreak:function(){if(this._debugBreak){var e=this.defineStatic(ye.variable,"debugCounter",function(){return k(0)});return this.formatCodeN("if (++{0} === 1) {{ debugger; }}",e)}return""},globalExpression:function(e){return this._globalCSE.createPathExpression(e,e.join("_"))},importFunction:function(e,t){return this.importFunctionSafe(e,Z(t))},importFunctionSafe:function(e,t){var n=this,i=this.defineStatic(ye.imported,e,function(){return n.formatCodeN("({0}{1})",Ee,x([e]))});if(i.imported&&i.imported!==t)throw"Duplicate import: '"+e+"'";return i.imported=t,i},importAll:function(e){return Object.keys(e).forEach(function(t){Z(e[t])}),this.importAllSafe(e)},importAllSafe:function(e){var t=this,n=Object.keys(e).reduce(function(n,i){return n[i]=t.importFunctionSafe(i,e[i]),n},{});return n},link:function(e){if(this._stage>Se.link)throw"Illegal: once we have moved past link we cannot revist it";this._stage=Se.link;var t=this,n=B(this._staticVariables).filter(function(e){return t._staticVariables[e].kind===ye.imported}).reduce(function(e,n){return e[n]=t._staticVariables[n].imported,e},{}),i=R(this._staticVariables);return new Function(Ee,this.formatCode(Ne,{static_variable_declarations:I(i),static_variable_definitions:S(i.map(function(e){return e.definition()})),body:e.trim()}))(n)},lower:function(){if(this._stage>Se.lower)throw"Illegal: once we have moved past lower we cannot revist it";this._stage=Se.lower,this._captureCSE.lower(),this._dataCSE.lower(),this._globalCSE.lower()},markBindingAsError:function(e){e&&(e.kind=we.error,this.markBindingAsError(e.original))},oneTimeTextBinding:function(e){var t=this,n=this.oneTimeTextBindingAnalyze(e);if(n){var i;e.original&&(i=e.original.initialValue);var o=this.createTextBindingHole(e.elementCapture.element.tagName,n.attribute,++this._textBindingId);switch(e.textBindingId=o,e.kind=we.text,e.elementCapture.refCount--,e.definition=function(){var n;return n=i?"{htmlEscape}({initialValue})":"{htmlEscape}({getter})",t.formatCode(n,{htmlEscape:t._staticVariables.htmlEscape,getter:e.value(),initialValue:i})},n.kind){case Ce.attribute:e.elementCapture.element.setAttribute(n.attribute,o);break;case Ce.booleanAttribute:e.elementCapture.element.setAttribute(n.attribute,o),e.definition=function(){var o;return o=i?'({initialValue} ? {attribute} : "")':'({value} ? {attribute} : "")',t.formatCode(o,{value:e.value(),attribute:k(n.attribute),initialValue:i})},this._htmlProcessors.push(function(e){return e.replace(new RegExp(n.attribute+'="'+o+'"',"i"),o)});break;case Ce.textContent:e.elementCapture.element.textContent=o;break;case Ce.inlineStyle:var r=e.elementCapture.element;if(!r.msReplaceStyle){r.msReplaceStyle=r.getAttribute("style")||"",""!==r.msReplaceStyle&&";"!==r.msReplaceStyle[r.msReplaceStyle.length-1]&&(r.msReplaceStyle=r.msReplaceStyle+";"),r.setAttribute("style","msReplaceStyle:'"+o+"'");var s=r.getAttribute("style");this._htmlProcessors.push(function(e){return e.replace(s,r.msReplaceStyle)})}r.msReplaceStyle=r.msReplaceStyle+n.property+":"+o+";";break;default:throw"NYI"}}},oneTimeTextBindingAnalyze:function(e){var t=e.elementCapture.element,n=t.tagName,i=e.destination[0];switch(n){case"A":switch(i){case"href":return{kind:Ce.attribute,attribute:i}}break;case"IMG":switch(i){case"alt":case"src":case"width":case"height":return{kind:Ce.attribute,attribute:i}}break;case"SELECT":switch(i){case"disabled":case"multiple":case"required":return{kind:Ce.booleanAttribute,attribute:i};case"size":return{kind:Ce.attribute,attribute:i}}break;case"OPTION":switch(i){case"label":case"value":return{kind:Ce.attribute,attribute:i};case"disabled":case"selected":return{kind:Ce.booleanAttribute,attribute:i}}break;case"INPUT":switch(i){case"checked":switch(t.type){case"checkbox":case"radio":return{kind:Ce.booleanAttribute,attribute:i}}break;case"disabled":return{kind:Ce.booleanAttribute,attribute:i};case"max":case"maxLength":case"min":case"step":case"value":return{kind:Ce.attribute,attribute:i};case"size":switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":return{kind:Ce.attribute,attribute:i}}break;case"readOnly":switch(t.type){case"hidden":case"range":case"color":case"checkbox":case"radio":case"file":case"button":break;default:return{kind:Ce.booleanAttribute,attribute:i}}}break;case"BUTTON":switch(i){case"disabled":return{kind:Ce.booleanAttribute,attribute:i};case"value":return{kind:Ce.attribute,attribute:i}}break;case"TEXTAREA":switch(i){case"disabled":case"readOnly":case"required":return{kind:Ce.booleanAttribute,attribute:i};case"cols":case"maxLength":case"placeholder":case"rows":case"wrap":return{kind:Ce.attribute,attribute:i}}}switch(i){case"className":return{kind:Ce.attribute,attribute:"class"};case"dir":case"lang":case"name":case"title":case"tabIndex":return{kind:Ce.attribute,attribute:i};case"style":if(e.destination.length>1){var o=e.destination[1];if("cssText"===o)return;var r="string"==typeof t.style[o];if(r)return("m"===o[0]&&"s"===o[1]||"webkit"===o.substring(0,6))&&(o="-"+o),o=o.replace(fe,function(e){return"-"+e.toLowerCase()}),{kind:Ce.inlineStyle,property:o,attribute:"style"}}break;case"innerText":case"textContent":return{kind:Ce.textContent,attribute:"textContent"}}},oneTimeTreeBinding:function(e){if(1===e.destination.length&&"id"===e.destination[0]){if(i.validation)throw new o("WinJS.Binding.IdBindingNotSupported",s._formatString(v.idBindingNotSupported,e.bindingText));return r.log&&r.log(s._formatString(v.idBindingNotSupported,e.bindingText),"winjs binding","error"),void this.markBindingAsError(e)}if(0===e.destination.length)return r.log&&r.log(v.cannotBindToThis,"winjs binding","error"),void this.markBindingAsError(e);var t,n=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.original&&(t=e.pathExpression,e.original.initialValue=t),e.kind=we.tree,e.definition=function(){var i;return i=t?"({targetPath} || {{}}){prop} = {initialValue}":"({targetPath} || {{}}){prop} = {sourcePath}",n.formatCode(i,{targetPath:j(e.elementCapture,e.destination.slice(0,-1),n.nullableIdentifierAccessTemporary,n.importFunctionSafe("targetSecurityCheck",b)),prop:x(e.destination.slice(-1)),sourcePath:e.value(),initialValue:t})}},optimize:function(){if(this._stage>Se.optimze)throw"Illegal: once we have moved past link we cannot revist it";this._stage=Se.optimze;for(var e=0;e<this._bindings.length;e++){var t=this._bindings[e];if(!t.template)switch(t.initializer.imported){case q:var n=F(t,{kind:we.tree,initializer:this.importFunctionSafe("init_oneTime",J),original:t});n.elementCapture.refCount++,this.oneTimeTreeBinding(n),this._bindings.splice(e,0,n),t.delayable=!0,e++;break;case K:var n=F(t,{kind:we.tree,initializer:this.importFunctionSafe("init_setAttributeOneTime",G),original:t});n.elementCapture.refCount++,this.setAttributeOneTimeTreeBinding(n),this._bindings.splice(e,0,n),t.delayable=!0,e++;break;case J:this.oneTimeTreeBinding(t);break;case G:this.setAttributeOneTimeTreeBinding(t);break;case Y:this.addClassOneTimeTreeBinding(t);break;default:t.initializer&&(t.delayable=!!t.initializer.imported.delayable)}}if(this._optimizeTextBindings){for(var i={},e=0;e<this._bindings.length;e++){var t=this._bindings[e];if(!t.template&&t.kind!==we.error){switch(t.initializer.imported){case J:this.oneTimeTextBinding(t);break;case G:this.setAttributeOneTimeTextBinding(t);break;case Y:this.addClassOneTimeTextBinding(t)}t.textBindingId&&(i[t.textBindingId]=t)}}if(Object.keys(i).length){var o=this._templateContent.innerHTML;o=this._htmlProcessors.reduce(function(e,t){return t(e)},o);for(var r=o.split(this._textBindingRegex),e=1;e<r.length;e+=2){var t=i[r[e]];r[e]=t.definition}this._html=function(){var e=r.map(function(e){return"string"==typeof e?k(e):e()}).join(" + ");return N(e)}}}},prettify:function(e){var t=e.split("\n");return t.filter(function(e){return!pe.test(e)}).join("\n")},setAttributeOneTimeTextBinding:function(e){var t,n=this,i=e.destination[0],o=this.createTextBindingHole(e.elementCapture.element.tagName,i,++this._textBindingId);e.original&&(t=e.original.initialValue),e.textBindingId=o,e.kind=we.text,e.elementCapture.element.setAttribute(i,o),e.elementCapture.refCount--,e.definition=function(){var i;return i=t?"{htmlEscape}({initialValue})":"{htmlEscape}({value})",n.formatCode(i,{htmlEscape:n._staticVariables.htmlEscape,initialValue:t,value:e.value()})}},setAttributeOneTimeTreeBinding:function(e){if(1===e.destination.length&&"id"===e.destination[0]){if(i.validation)throw new o("WinJS.Binding.IdBindingNotSupported",s._formatString(v.idBindingNotSupported,e.bindingText));return r.log&&r.log(s._formatString(v.idBindingNotSupported,e.bindingText),"winjs binding","error"),void this.markBindingAsError(e)}if(1!==e.destination.length||!e.destination[0])return r.log&&r.log(v.attributeBindingSingleProperty,"winjs binding","error"),void this.markBindingAsError(e);var t,n=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.original&&(t=this.defineInstance(ge.variable,"",e.value),e.original.initialValue=t),e.kind=we.tree,e.definition=function(){var i;return i=t?'{element}.setAttribute({attribute}, "" + {initialValue})':'{element}.setAttribute({attribute}, "" + {value})',n.formatCode(i,{element:e.elementCapture,attribute:k(e.destination[0]),initialValue:t,value:e.value()})}}},{_TreeCSE:_e,compile:function(n,i,o){if(!(i instanceof t.HTMLElement))throw"Illegal";le("WinJS.Binding.Template:compile"+o.profilerMarkIdentifier+",StartTM");var r=new Ie(i,o);r.analyze();var s=r.importAllSafe({Signal:p,global:t,document:t.document,cancelBlocker:U,promise_as:X,disposeInstance:e,markDisposable:ee,ui_processAll:te,binding_processAll:ne,insertAdjacentHTMLUnsafe:Q,promise:m,utilities_data:$,requireSupportedForProcessing:Z,htmlEscape:D,scopedSelect:ae,delayedBindingProcessing:y,writeProfilerMark:le});r.optimize(),r.deadCodeElimination(),r.lower();var a,l;switch(o.target){case"render":a=r.async?Oe:Te,l=!1;break;case"renderItem":a=r.async?Le:Me,l=!0}var u=r.compile(a,s,l),c=r.link(u);return r.done(),le("WinJS.Binding.Template:compile"+o.profilerMarkIdentifier+",StopTM"),c}}),xe=V('container.classList.add("win-template");                                                              \nvar html = {html};                                                                                      \n{insertAdjacentHTMLUnsafe}(container, "beforeend", html);                                             \nreturnedElement = {returnedElement};                                                                    \n                                                                                                        \n// Capture Definitions                                                                                  \n{capture_definitions};                                                                                  \n{set_msParentSelectorScope};                                                                            \n                                                                                                        \n'),je=V("// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \n// Binding Processing                                                                                   \n{binding_processing};                                                                                   \n                                                                                                        \nvar result = {promise_as}(returnedElement);                                                             \n"),ke=V('var controlSignal = new {Signal}();                                                                     \nvar controlDone = function () {{ if (--{control_counter} === 0) {{ controlSignal.complete(); }} }};     \ncontrolDone();                                                                                          \n                                                                                                        \n// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \nvar result = controlSignal.promise.then(function () {{                                                  \n    // Binding Processing                                                                               \n    {binding_processing};                                                                               \n    return {promise}.join({nestedTemplates});                                                           \n}}).then(function () {{                                                                                 \n    return returnedElement;                                                                             \n}}).then(null, function (e) {{                                                                          \n    if (typeof e === "object" && e.name === "Canceled") {{ returnedElement.dispose(); }}            \n    return {promise}.wrapError(e);                                                                      \n}});                                                                                                    \n'),Pe=V("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result); }});       \n{suffix_statements};                                                                                    \n"),Te=V('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data); }});                   \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+E(C(4,xe))+"                                           \n                                                                                                        \n    "+E(C(4,je))+"                                      \n    "+E(C(4,Pe))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Oe=V('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data, container); }});        \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+E(C(4,xe))+"                                           \n                                                                                                        \n    "+E(C(4,ke))+"                                 \n    "+E(C(4,Pe))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Ae=V("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result, renderComplete); }});\n{suffix_statements};                                                                                    \n"),Me=V('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+E(C(8,xe))+"                                       \n                                                                                                        \n        "+E(C(8,je))+"                                  \n        "+E(C(8,Ae))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),De=V("renderComplete = element.then(function () {{                                                            \n    return itemPromise;                                                                                 \n}}).then(function (item) {{                                                                             \n    return item.ready || item;                                                                          \n}}).then(function (item) {{                                                                             \n    {delayed_binding_processing};                                                                       \n    return element;                                                                                     \n}});                                                                                                    \n"),Le=V('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+E(C(8,xe))+"                                       \n                                                                                                        \n        "+E(C(8,ke))+"                             \n        "+E(C(8,Ae))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),Ne=V('"use strict";                                                                                         \n                                                                                                        \n// statics                                                                                              \nvar {static_variable_declarations};                                                                     \n{static_variable_definitions};                                                                          \n                                                                                                        \n// generated template rendering function                                                                \nreturn {body};                                                                                          \n');
return Ie})})}}),define("WinJS/BindingTemplate",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_WriteProfilerMark","./Binding/_Declarative","./BindingTemplate/_DataTemplateCompiler","./ControlProcessor","./Fragments","./Promise","./Utilities/_Dispose","./Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m){"use strict";if(t.document){var p=d._cancelBlocker;i.Namespace._moduleDefine(e,"WinJS.Binding",{Template:i.Namespace._lazy(function(){function e(e,n,i){function o(){return m.removeClass(l,"win-loading"),s("WinJS.Binding:templateRender"+e._profilerMarkIdentifier+",StopTM"),g||l}s("WinJS.Binding:templateRender"+e._profilerMarkIdentifier+",StartTM"),1===++e._counter&&(e.debugBreakOnRender||f._debugBreakOnRender);var r=d.wrap(),l=i||t.document.createElement(e.element.tagName);m.addClass(l,"win-template"),m.addClass(l,"win-loading");var _,g,v=e,y=l.children.length,b=function(){var e=m.data(l).winBindings;e&&e.forEach(function(e){e.cancel()}),r.cancel()};e.extractChild?_=c.renderCopy(v.href||v.element,t.document.createElement(v.element.tagName)).then(function(e){var t=e.firstElementChild;return g=t,h.markDisposable(t,b),l.appendChild(t),t}):(h.markDisposable(l,b),_=c.renderCopy(v.href||v.element,l));var w=_.then(function(){function e(){return t(u.processAll).then(function(){return p(n)}).then(function(e){return t(a.processAll,e,!g&&!y,v.bindingCache)}).then(null,function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"Canceled"===e.name&&(g||l).dispose(),d.wrapError(e)})}var t;if(0===y)t=function(e,t,n,i){return e(g||l,t,n,i)};else{var i=l.children;if(i.length===y+1)t=function(e,t,n,o){return e(i[y],t,n,o)};else{for(var o=[],s=y,c=i.length;s<c;s++)o.push(i[s]);t=function(e,t,n,i){var r=[];return o.forEach(function(o){r.push(e(o,t,n,i))}),d.join(r)}}}for(var h=l.firstElementChild;h;)h.msParentSelectorScope=!0,h=h.nextElementSibling;var m=v.processTimeout;return m?(m<0&&(m=0),d.timeout(m).then(function(){return r=e()})):r=e()}).then(o,function(e){return o(),d.wrapError(e)});return{element:_,renderComplete:w}}var f=i.Class.define(function(e,n){this._element=e||t.document.createElement("div"),this._element.winControl=this,this._profilerMarkIdentifier=o._getProfilerMarkIdentifier(this._element),s("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StartTM");var i=this;this._element.renderItem=function(e,t){return i._renderItemImpl(e,t)},n=n||{},this.href=n.href,this.enableRecycling=!!n.enableRecycling,this.processTimeout=n.processTimeout||0,this.bindingInitializer=n.bindingInitializer,this.debugBreakOnRender=n.debugBreakOnRender,this.disableOptimizedProcessing=n.disableOptimizedProcessing,this.extractChild=n.extractChild,this._counter=0,this._compile=!!n._compile,this.href||(this.element.style.display="none"),this.bindingCache={expressions:{}},s("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StopTM")},{_shouldCompile:{get:function(){var e=!0;return e=e&&!f._interpretAll,e=e&&!this.disableOptimizedProcessing,e&&(e=e&&0===this.processTimeout,e=e&&(!this.href||this.href instanceof t.HTMLElement),e||r.log&&r.log("Cannot compile templates which use processTimeout or href properties","winjs binding","warn")),e}},bindingInitializer:{get:function(){return this._bindingInitializer},set:function(e){this._bindingInitializer=e,this._reset()}},debugBreakOnRender:{get:function(){return this._debugBreakOnRender},set:function(e){this._debugBreakOnRender=!!e,this._reset()}},disableOptimizedProcessing:{get:function(){return this._disableOptimizedProcessing},set:function(e){this._disableOptimizedProcessing=!!e,this._reset()}},element:{get:function(){return this._element}},extractChild:{get:function(){return this._extractChild},set:function(e){this._extractChild=!!e,this._reset()}},processTimeout:{get:function(){return this._processTimeout||0},set:function(e){this._processTimeout=e,this._reset()}},render:o.markSupportedForProcessing(function(e,t){return this._renderImpl(e,t)}),_renderImpl:function(t,n){if(this._shouldCompile)try{return this._renderImpl=this._compileTemplate({target:"render"}),this._renderImpl(t,n)}catch(e){return d.wrapError(e)}var i=e(this,t,n);return i.element.then(function(){return i.renderComplete})},_renderInterpreted:function(t,n){return e(this,t,n)},renderItem:function(e,t){return this._renderItemImpl(e,t)},_renderItemImpl:function(t,n){if(this._shouldCompile)try{return this._renderItemImpl=this._compileTemplate({target:"renderItem"}),this._renderItemImpl(t)}catch(e){return{element:d.wrapError(e),renderComplete:d.wrapError(e)}}var i=this;if(this.enableRecycling&&!this.bindingCache.elements&&(this.bindingCache.elements={}),this.enableRecycling&&n&&n.msOriginalTemplate===this){var o=this.bindingCache.elements[n.id],r=!0;if(o&&(o.bindings.forEach(function(e){e()}),o.bindings=[],r=!o.nocache),r)return{element:n,renderComplete:t.then(function(e){return a.processAll(n,e.data,!0,i.bindingCache)})}}var s=e(this,t.then(function(e){return e.data}));return s.element=s.element.then(function(e){return e.msOriginalTemplate=i,e}),s},_compileTemplate:function(e){var t=this,i=l._TemplateCompiler.compile(this,this.href||this.element,{debugBreakOnRender:this.debugBreakOnRender||f._debugBreakOnRender,defaultInitializer:this.bindingInitializer||e.defaultInitializer,disableTextBindingOptimization:e.disableTextBindingOptimization||!1,target:e.target,extractChild:this.extractChild,profilerMarkIdentifier:this._profilerMarkIdentifier}),o=e.resetOnFragmentChange||n.Windows.ApplicationModel.DesignMode.designModeEnabled;if(o){var r=new m._MutationObserver(function(){t._reset(),r.disconnect()});r.observe(m.data(this.element).docFragment,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}return i},_reset:function(){delete this._renderImpl,delete this._renderItemImpl}},{isDeclarativeControlContainer:{value:!0,writable:!1,configurable:!1},render:{value:function(e,t,n){return new f(null,{href:e}).render(t,n)}}});return f})})}}),define("WinJS/BindingList/_BindingListDataSource",["exports","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Binding/_DomWeakRefTable","../Promise","../Scheduler","../Utilities/_UI"],function(e,t,n,i,o,r,s,a){"use strict";n.Namespace._moduleDefine(e,"WinJS.Binding",{_BindingListDataSource:n.Namespace._lazy(function(){function e(e,t){for(var n=e.length;t<n-1;){var i=e.getItem(++t);if(i)return i.key}return null}function l(e,t){for(;t>0;){var n=e.getItem(--t);if(n)return n.key}return null}function u(e,t){Object.keys(t).forEach(function(n){e.addEventListener(n,t[n])})}function c(e,t){Object.keys(t).forEach(function(n){e.removeEventListener(n,t[n])})}function d(e,t){return t?new j(e,t):new x}function h(e,t,n){return t?new k(e,t,n):new x}function m(e,t,n){return t&&e._annotateWithIndex(t,n)}function p(e,t){return this._list.unshift(t),this.itemFromIndex(0)}function f(e,t,n){var i=this._list.indexOfKey(n);return i===-1?S.noLongerMeaningful:(this._list.splice(i,0,t),this.itemFromIndex(i))}function _(e,t,n){var i=this._list.indexOfKey(n);return i===-1?S.noLongerMeaningful:(i+=1,this._list.splice(i,0,t),this.itemFromIndex(i))}function g(e,t){return this._list.push(t),this.itemFromIndex(this._list.length-1)}function v(e,t){var n=this._list.indexOfKey(e);return n===-1?S.noLongerMeaningful:(this._list.setAt(n,t),this.itemFromIndex(n))}function y(e){var t=this._list.indexOfKey(e);if(t===-1)return S.noLongerMeaningful;var n=0;return this._list.move(t,n),this.itemFromIndex(n)}function b(e,t){var n=this._list.indexOfKey(e),i=this._list.indexOfKey(t);return n===-1||i===-1?S.noLongerMeaningful:(i=n<i?i-1:i,this._list.move(n,i),this.itemFromIndex(i))}function w(e,t){var n=this._list.indexOfKey(e),i=this._list.indexOfKey(t);return n===-1||i===-1?S.noLongerMeaningful:(i=n<=i?i:i+1,this._list.move(n,i),this.itemFromIndex(i))}function C(e){var t=this._list.indexOfKey(e);if(t===-1)return S.noLongerMeaningful;var n=this._list.length-1;return this._list.move(t,n),this.itemFromIndex(n)}function E(e){var t=this._list.indexOfKey(e);return t===-1?S.noLongerMeaningful:(this._list.splice(t,1),r.wrap())}var S={get noLongerMeaningful(){return r.wrapError(new i(a.EditError.noLongerMeaningful))}},I=r.wrap().constructor,x=n.Class.derive(I,function(){this._value=null},{release:function(){},retain:function(){return this}},{supportedForProcessing:!1}),j=n.Class.derive(I,function(e,t){this._value=t,this._listBinding=e},{handle:{get:function(){return this._value.key}},index:{get:function(){return this._value.index}},release:function(){this._listBinding._release(this._value,this._listBinding._list.indexOfKey(this._value.key))},retain:function(){return this._listBinding._addRef(this._value,this._listBinding._list.indexOfKey(this._value.key)),this}},{supportedForProcessing:!1}),k=n.Class.derive(r,function(e,t,n){var i=this;this._item=t,this._listBinding=e,r.call(this,function(o){s.schedule(function(){return e._released?void i.cancel():void o(t)},s.Priority.normal,null,"WinJS.Binding.List."+n)})},{handle:{get:function(){return this._item.key}},index:{get:function(){return this._item.index}},release:function(){this._listBinding._release(this._item,this._listBinding._list.indexOfKey(this._item.key))},retain:function(){return this._listBinding._addRef(this._item,this._listBinding._list.indexOfKey(this._item.key)),this}},{supportedForProcessing:!1}),P=n.Class.define(function(e,n,i,r){this._dataSource=e,this._list=n,this._editsCount=0,this._notificationHandler=i,this._pos=-1,this._retained=[],this._retained.length=n.length,this._retainedKeys={},this._affectedRange=null;var s=null;if(t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty||(s=this),i){var a=function(e,t){var n=o._getWeakRefElement(r)||s;return!!n&&(n["_"+e](t),!0)};this._handlers={itemchanged:function e(t){a("itemchanged",t)||n.removeEventListener("itemchanged",e)},iteminserted:function e(t){a("iteminserted",t)||n.removeEventListener("iteminserted",e)},itemmoved:function e(t){a("itemmoved",t)||n.removeEventListener("itemmoved",e)},itemremoved:function e(t){a("itemremoved",t)||n.removeEventListener("itemremoved",e)},reload:function e(){a("reload")||n.removeEventListener("reload",e)}},u(this._list,this._handlers)}},{_itemchanged:function(e){var t=e.detail.key,n=e.detail.index;this._updateAffectedRange(n,"changed");var i=e.detail.newItem,o=this._retained[n];if(o){var r=this._notificationHandler;if(o.index!==n){var s=o.index;o.index=n,r&&r.indexChanged&&r.indexChanged(i.key,n,s)}i=m(this._list,i,n),i._retainedCount=o._retainedCount,this._retained[n]=i,this._retainedKeys[t]=i,this._beginEdits(this._list.length),r&&r.changed&&r.changed(i,o),this._endEdits()}else this._beginEdits(this._list.length),this._endEdits()},_iteminserted:function(t){var n=t.detail.index;this._updateAffectedRange(n,"inserted"),this._beginEdits(this._list.length-1),n<=this._pos&&(this._pos=Math.min(this._pos+1,this._list.length));var i=this._retained;if(i.splice(n,0,0),delete i[n],this._shouldNotify(n)||1===this._list.length){var o=this._notificationHandler;o&&o.inserted&&o.inserted(d(this,m(this._list,this._list.getItem(n),n)),l(this._list,n),e(this._list,n))}this._endEdits()},_itemmoved:function(e){var t=e.detail.oldIndex,n=e.detail.newIndex;this._updateAffectedRange(t,"moved"),this._updateAffectedRange(n,"moved"),this._beginEdits(this._list.length),(t<this._pos||n<=this._pos)&&(n>this._pos?this._pos=Math.max(-1,this._pos-1):t>this._pos&&(this._pos=Math.min(this._pos+1,this._list.length)));var i=this._retained,o=i.splice(t,1)[0];i.splice(n,0,o),o||(delete i[n],o=m(this._list,this._list.getItem(n),n)),o._moved=!0,this._addRef(o,n),this._endEdits()},_itemremoved:function(e){var t=e.detail.key,n=e.detail.index;this._updateAffectedRange(n,"removed"),this._beginEdits(this._list.length+1),n<this._pos&&(this._pos=Math.max(-1,this._pos-1));var i=this._retained,o=this._retainedKeys,r=n in i;i.splice(n,1),delete o[t];var s=this._notificationHandler;r&&s&&s.removed&&s.removed(t,!1),this._endEdits()},_reload:function(){this._retained=[],this._retainedKeys={};var e=this._notificationHandler;e&&e.reload&&e.reload()},_addRef:function(e,t){t in this._retained?this._retained[t]._retainedCount++:(this._retained[t]=e,this._retainedKeys[e.key]=e,e._retainedCount=1)},_release:function(e,t){var n=this._retained[t];n&&(1===n._retainedCount?(delete this._retained[t],delete this._retainedKeys[n.key]):n._retainedCount--)},_shouldNotify:function(e){var t=this._retained;return e in t||e+1 in t||e-1 in t},_updateAffectedRange:function(e,t){if(this._notificationHandler.affectedRange){var n=e,i="removed"!==t?e+1:e;if(this._affectedRange){switch(t){case"inserted":e<=this._affectedRange.end&&++this._affectedRange.end;break;case"removed":e<this._affectedRange.end&&--this._affectedRange.end;break;case"moved":case"changed":}this._affectedRange.start=Math.min(this._affectedRange.start,n),this._affectedRange.end=Math.max(this._affectedRange.end,i)}else this._affectedRange={start:n,end:i}}},_notifyAffectedRange:function(){this._affectedRange&&(this._notificationHandler&&this._notificationHandler.affectedRange&&this._notificationHandler.affectedRange(this._affectedRange),this._affectedRange=null)},_notifyCountChanged:function(){var e=this._countAtBeginEdits,t=this._list.length;if(e!==t){var n=this._notificationHandler;n&&n.countChanged&&n.countChanged(t,e)}},_notifyIndicesChanged:function(){for(var e=this._retained,t=0,n=e.length;t<n;t++){var i=e[t];if(i&&i.index!==t){var o=t,r=i.index;i.index=o;var s=this._notificationHandler;s&&s.indexChanged&&s.indexChanged(i.key,o,r)}}},_notifyMoved:function(){for(var t=this._retained,n=0,i=t.length;n<i;n++){var o=t[n];if(o&&o._moved&&(o._moved=!1,this._release(o,n),this._shouldNotify(n))){var r=this._notificationHandler;r&&r.moved&&r.moved(d(this,o),l(this._list,n),e(this._list,n))}}},_beginEdits:function(e,t){this._editsCount++;var n=this._notificationHandler;if(1===this._editsCount&&n){if(!t){this._editsCount++;var i=this;s.schedule(function(){i._endEdits()},s.Priority.high,null,"WinJS.Binding.List._endEdits")}n.beginNotifications&&n.beginNotifications(),this._countAtBeginEdits=e}},_endEdits:function(){this._editsCount--;var e=this._notificationHandler;0===this._editsCount&&e&&(this._notifyIndicesChanged(),this._notifyMoved(),this._notifyCountChanged(),this._notifyAffectedRange(),e.endNotifications&&e.endNotifications())},jumpToItem:function(e){var t=this._list.indexOfKey(e.handle);return t===-1?r.wrap(null):(this._pos=t,this.current())},current:function(){return this.fromIndex(this._pos)},previous:function(){return this._pos=Math.max(-1,this._pos-1),this._fromIndex(this._pos,!0,"previous")},next:function(){return this._pos=Math.min(this._pos+1,this._list.length),this._fromIndex(this._pos,!0,"next")},releaseItem:function(e){e.release?e.release():this._release(e,this._list.indexOfKey(e.key))},release:function(){this._notificationHandler&&c(this._list,this._handlers),this._notificationHandler=null,this._dataSource._releaseBinding(this),this._released=!0},first:function(){return this.fromIndex(0)},last:function(){return this.fromIndex(this._list.length-1)},fromKey:function(e){var t,n=this._retainedKeys;return t=e in n?n[e]:m(this._list,this._list.getItemFromKey(e),this._list.indexOfKey(e)),d(this,t)},fromIndex:function(e){return this._fromIndex(e,!1,"fromIndex")},_fromIndex:function(e,t,n){var i,o=this._retained;return i=e in o?o[e]:m(this._list,this._list.getItem(e),e),t?h(this,i,n):d(this,i)}},{supportedForProcessing:!1}),T=0,O=n.Class.define(function(e){this._usingWeakRef=t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty,this._bindings={},this._list=e,e.unshift&&(this.insertAtStart=p),e.push&&(this.insertAtEnd=g),e.setAt&&(this.change=v),e.splice&&(this.insertAfter=_,this.insertBefore=f,this.remove=E),e.move&&(this.moveAfter=w,this.moveBefore=b,this.moveToEnd=C,this.moveToStart=y)},{_releaseBinding:function(e){delete this._bindings[e._id]},addEventListener:function(){},removeEventListener:function(){},createListBinding:function(e){var t="ds_"+ ++T,n=new P(this,this._list,e,t);return n._id=t,this._usingWeakRef?(o._createWeakRef(n,t),this._bindings[t]=t):this._bindings[t]=n,n},getCount:function(){return r.wrap(this._list.length)},itemFromKey:function(e){var t=this._list,n=m(t,t.getItemFromKey(e),-1);return Object.defineProperty(n,"index",{get:function(){return t.indexOfKey(e)},enumerable:!1,configurable:!0}),r.wrap(n)},itemFromIndex:function(e){return r.wrap(m(this._list,this._list.getItem(e),e))},list:{get:function(){return this._list}},beginEdits:function(){var e=this._list.length;this._forEachBinding(function(t){t._beginEdits(e,!0)})},endEdits:function(){this._forEachBinding(function(e){e._endEdits()})},_forEachBinding:function(e){if(this._usingWeakRef){var t=[];Object.keys(this._bindings).forEach(function(n){var i=o._getWeakRefElement(n);i?e(i):t.push(n)});for(var n=0,i=t.length;n<i;n++)delete this._bindings[t[n]]}else{var r=this;Object.keys(this._bindings).forEach(function(t){e(r._bindings[t])})}},invalidateAll:function(){return r.wrap()},moveAfter:void 0,moveBefore:void 0,moveToEnd:void 0,moveToStart:void 0},{supportedForProcessing:!1});return O})})}),define("WinJS/BindingList",["exports","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Resources","./Binding/_Data","./BindingList/_BindingListDataSource"],function(e,t,n,i,o,r,s,a){"use strict";function l(e){return Array.prototype.slice.call(e,0)}function u(e){return{handle:e.handle,key:e.key,data:e.data,groupKey:e.groupKey,groupSize:e.groupSize,firstItemKey:e.firstItemKey,firstItemIndexHint:e.firstItemIndexHint}}function c(e){return void 0===e?void 0:+e}function d(e,t){function n(t,n){for(;t<n;t++)e[t]=r[t]}function i(e,t){if(!(t-e<2)){var r=Math.floor((t+e)/2);i(e,r),i(r,t),o(e,r,t),n(e,t)}}function o(n,i,o){for(var s=n,a=i,l=n;l<o;l++)s<i&&(a>=o||t(e[s],e[a])<=0)?(r[l]=e[s],s++):(r[l]=e[a],a++)}var r=new Array(e.length);return i(0,e.length),e}var h={get sparseArrayNotSupported(){return"Sparse arrays are not supported with proxy: true"},get illegalListLength(){return"List length must be assigned a finite positive number"}},m=o._createEventProperty,p={},f=t.Namespace.defineWithParent(null,null,{ListBase:t.Namespace._lazy(function(){var e=t.Class.define(null,{_annotateWithIndex:function(e,t){var n=u(e);return n.index=t,n},onitemchanged:m("itemchanged"),oniteminserted:m("iteminserted"),onitemmoved:m("itemmoved"),onitemmutated:m("itemmutated"),onitemremoved:m("itemremoved"),onreload:m("reload"),_notifyItemChanged:function(e,t,n,i,o,r){this._listeners&&this._listeners.itemchanged&&this.dispatchEvent("itemchanged",{key:e,index:t,oldValue:n,newValue:i,oldItem:o,newItem:r})},_notifyItemInserted:function(e,t,n){this._listeners&&this._listeners.iteminserted&&this.dispatchEvent("iteminserted",{key:e,index:t,value:n});var i=this.length;i!==this._lastNotifyLength&&(this.notify("length",i,this._lastNotifyLength),this._lastNotifyLength=i)},_notifyItemMoved:function(e,t,n,i){this._listeners&&this._listeners.itemmoved&&this.dispatchEvent("itemmoved",{key:e,oldIndex:t,newIndex:n,value:i})},_notifyItemMutated:function(e,t,n){this._listeners&&this._listeners.itemmutated&&this.dispatchEvent("itemmutated",{key:e,value:t,item:n})},_notifyItemRemoved:function(e,t,n,i){this._listeners&&this._listeners.itemremoved&&this.dispatchEvent("itemremoved",{key:e,index:t,value:n,item:i});var o=this.length;o!==this._lastNotifyLength&&(this.notify("length",o,this._lastNotifyLength),this._lastNotifyLength=o)},_notifyReload:function(){if(this._listeners&&this._listeners.reload&&this.dispatchEvent("reload"),e!==this._lastNotifyLength){var e=this.length;this.notify("length",e,this._lastNotifyLength),this._lastNotifyLength=e}},_normalizeIndex:function(e){return e=c(e),e<0?this.length+e:e},_notifyMutatedFromKey:function(e){var t=this.getItemFromKey(e);this._notifyItemMutated(e,t.data,t)},notifyReload:function(){this._notifyReload()},getAt:function(e){e=c(e);var t=this.getItem(e);return t&&t.data},_getArray:function(){for(var e=new Array(this.length),t=0,n=this.length;t<n;t++){var i=this.getItem(t);i&&(e[t]=i.data)}return e},_getFromKey:function(e){var t=this.getItemFromKey(e);return t&&t.data},_getKey:function(e){e=c(e);var t=this.getItem(e);return t&&t.key},concat:function(){var e=this._getArray();return e.concat.apply(e,arguments)},join:function(e){return this._getArray().join(e||",")},slice:function(e,t){return this._getArray().slice(e,t)},indexOf:function(e,t){t=c(t),t=Math.max(0,this._normalizeIndex(t)||0);for(var n=t,i=this.length;n<i;n++){var o=this.getItem(n);if(o&&o.data===e)return n}return-1},lastIndexOf:function(e,t){t=c(t);var n=this.length;t=Math.min(this._normalizeIndex(void 0!==t?t:n),n-1);var i;for(i=t;i>=0;i--){var o=this.getItem(i);if(o&&o.data===e)return i}return-1},every:function(e,t){return this._getArray().every(e,t)},filter:function(e,t){return this._getArray().filter(e,t)},forEach:function(e,t){this._getArray().forEach(e,t)},map:function(e,t){return this._getArray().map(e,t)},some:function(e,t){return this._getArray().some(e,t)},reduce:function(e,t){return arguments.length>1?this._getArray().reduce(e,t):this._getArray().reduce(e)},reduceRight:function(e,t){return arguments.length>1?this._getArray().reduceRight(e,t):this._getArray().reduceRight(e)},createFiltered:function(e){return new f.FilteredListProjection(this,e)},createGrouped:function(e,t,n){return new f.GroupedSortedListProjection(this,e,t,n)},createSorted:function(e){return new f.SortedListProjection(this,e)},dataSource:{get:function(){return this._dataSource=this._dataSource||new a._BindingListDataSource(this)}}},{supportedForProcessing:!1});return t.Class.mix(e,s.observableMixin),t.Class.mix(e,o.eventMixin),e}),ListBaseWithMutators:t.Namespace._lazy(function(){return t.Class.derive(f.ListBase,null,{pop:function(){return this.splice(-1,1)[0]},push:function(e){if(1===arguments.length)return this.splice(this.length,0,e),this.length;var t=l(arguments);return t.splice(0,0,this.length,0),this.splice.apply(this,t),this.length},shift:function(){return this.splice(0,1)[0]},unshift:function(e){if(1===arguments.length)this.splice(0,0,e);else{var t=l(arguments);t.splice(0,0,0,0),this.splice.apply(this,t)}return this.length}},{supportedForProcessing:!1})}),ListProjection:t.Namespace._lazy(function(){return t.Class.derive(f.ListBaseWithMutators,null,{_list:null,_myListeners:null,_addListListener:function(e,t){var n={name:e,handler:t.bind(this)};this._myListeners=this._myListeners||[],this._myListeners.push(n),this._list.addEventListener(e,n.handler)},dispose:function(){var t=this._list,n=this._myListeners;this._myListeners=[];for(var i=0,o=n.length;i<o;i++){var r=n[i];t.removeEventListener(r.name,r.handler)}this._list=new e.List,this._listReload()},getItemFromKey:function(e){return this._list.getItemFromKey(e)},move:function(e,t){e=c(e),t=c(t),e===t||e<0||t<0||e>=this.length||t>=this.length||(e=this._list.indexOfKey(this._getKey(e)),t=this._list.indexOfKey(this._getKey(t)),this._list.move(e,t))},_notifyMutatedFromKey:function(e){this._list._notifyMutatedFromKey(e)},splice:function(e,t,n){e=c(e),e=Math.max(0,this._normalizeIndex(e));var i=l(arguments);return e===this.length?(i[0]=this._list.length,this._list.splice.apply(this._list,i)):(i[0]=this._getKey(e),this._spliceFromKey.apply(this,i))},_setAtKey:function(e,t){this._list._setAtKey(e,t)}},{supportedForProcessing:!1})}),FilteredListProjection:t.Namespace._lazy(function(){return t.Class.derive(f.ListProjection,function(e,t){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._filter=t,this._initFilteredKeys()},{_filter:null,_filteredKeys:null,_initFilteredKeys:function(){for(var e=this._filter,t=this._list,n=[],i=0,o=t.length;i<o;i++){var r=t.getItem(i);r&&e(r.data)&&n.push(r.key)}this._filteredKeys=n},_findInsertionPosition:function(e,t){for(var n,i=this._filter;--t>=0;){var o=this._list.getItem(t);if(o&&i(o.data)){n=o.key;break}}var r=this._filteredKeys,s=n?r.indexOf(n)+1:0;return s},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.oldValue,o=e.detail.newValue,r=e.detail.oldItem,s=e.detail.newItem,a=this._filter,l=a(i),u=a(o);if(l&&u){var c=this._filteredKeys,d=c.indexOf(t);this._notifyItemChanged(t,d,i,o,r,s)}else l&&!u?this._listItemRemoved({detail:{key:t,index:n,value:i,item:r}}):!l&&u&&this._listItemInserted({detail:{key:t,index:n,value:o}})},_listItemInserted:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.value,o=this._filter;if(o(i)){var r=this._findInsertionPosition(t,n),s=this._filteredKeys;s.splice(r,0,t),this._notifyItemInserted(t,r,i)}},_listItemMoved:function(e){var t=e.detail.key,n=e.detail.newIndex,i=e.detail.value,o=this._filteredKeys,r=o.indexOf(t);if(r!==-1){o.splice(r,1);var s=this._findInsertionPosition(t,n);o.splice(s,0,t),this._notifyItemMoved(t,r,s,i)}},_listItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,o=this._filter,r=this._filteredKeys,s=r.indexOf(t),a=s!==-1,l=o(n);a&&l?this._notifyItemMutated(t,n,i):a&&!l?(r.splice(s,1),this._notifyItemRemoved(t,s,n,i)):!a&&l&&this._listItemInserted({detail:{key:t,index:this._list.indexOfKey(t),value:n}})},_listItemRemoved:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,o=this._filteredKeys,r=o.indexOf(t);r!==-1&&(o.splice(r,1),this._notifyItemRemoved(t,r,n,i))},_listReload:function(){this._initFilteredKeys(),this._notifyReload()},length:{get:function(){return this._filteredKeys.length},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",h.illegalListLength);var t=this.length;t>e&&this.splice(e,t-e)}},getItem:function(e){return e=c(e),this.getItemFromKey(this._filteredKeys[e])},indexOfKey:function(e){return this._filteredKeys.indexOf(e)},notifyMutated:function(e){return e=c(e),this._notifyMutatedFromKey(this._filteredKeys[e])},setAt:function(e,t){e=c(e),this._setAtKey(this._filteredKeys[e],t)},_spliceFromKey:function(e,t){if(arguments.length>2){var n=l(arguments);n[1]=0,this._list._spliceFromKey.apply(this._list,n)}var i=[];if(t){for(var o=[],r=this._filteredKeys,s=r.indexOf(e),a=s,u=r.length;a<u&&a-s<t;a++){var e=r[a];o.push(e)}var c=this;o.forEach(function(e){i.push(c._list._spliceFromKey(e,1)[0])})}return i}},{supportedForProcessing:!1})}),SortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(f.ListProjection,function(e,t){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=t,this._initSortedKeys()},{_sortFunction:null,_sortedKeys:null,_initSortedKeys:function(){for(var e=this._list,t=[],n=0,i=e.length;n<i;n++){var o=e.getItem(n);o&&(t[n]=o.key)}var r=this._sortFunction,s=d(t,function(t,n){return t=e.getItemFromKey(t).data,n=e.getItemFromKey(n).data,r(t,n)});this._sortedKeys=s},_findInsertionPos:function(e,t,n,i,o){for(var r=this._sortFunction,s=this._sortedKeys,a=Math.max(0,i||-1),l=Math.min(s.length,o||Number.MAX_VALUE),u=a;a<=l;){u=(a+l)/2>>>0;var c=s[u];if(!c)break;var d=this.getItemFromKey(c),h=r(d.data,n);if(h<0)a=u+1;else{if(0===h)return this._findStableInsertionPos(e,t,a,l,u,n);l=u-1}}return a},_findBeginningOfGroup:function(e,t,n,i,o){for(var r=0,s=e;r<=s;){e=(r+s)/2>>>0;var a=i[e],l=n.getItemFromKey(a),u=t(l.data,o);u<0?r=e+1:s=e-1}return r},_findEndOfGroup:function(e,t,n,i,o){for(var r=e,s=i.length;r<=s;){e=(r+s)/2>>>0;var a=i[e];if(!a)return i.length;var l=n.getItemFromKey(a),u=t(l.data,o);u<=0?r=e+1:s=e-1}return r},_findStableInsertionPos:function(e,t,n,i,o,r){var s=this._list,a=s.length,l=this._sortFunction,u=this._sortedKeys;if(t<a/2){for(var c=t-1;c>=0;c--){var d=s.getItem(c);if(0===l(d.data,r))return a-n>i?u.indexOf(d.key,n)+1:u.lastIndexOf(d.key,i)+1}return this._findBeginningOfGroup(o,l,s,u,r)}for(var c=t+1;c<a;c++){var d=s.getItem(c);if(0===l(d.data,r))return a-n>i?u.indexOf(d.key,n):u.lastIndexOf(d.key,i)}return this._findEndOfGroup(o,l,s,u,r)},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.newValue,i=e.detail.oldValue,o=this._sortFunction;if(0===o(i,n)){var r=this.indexOfKey(t);this._notifyItemChanged(t,r,i,n,e.detail.oldItem,e.detail.newItem)}else this._listItemRemoved({detail:{key:t,index:e.detail.index,value:e.detail.oldValue,item:e.detail.oldItem}}),this._listItemInserted({detail:{key:t,index:e.detail.index,value:e.detail.newValue}})},_listItemInserted:function(e,t,n){var i=e.detail.key,o=e.detail.index,r=e.detail.value,s=this._findInsertionPos(i,o,r,t,n);this._sortedKeys.splice(s,0,i),this._notifyItemInserted(i,s,r)},_listItemMoved:function(e,t,n){var i=e.detail.key,o=e.detail.newIndex,r=e.detail.value,s=this._sortedKeys,a=s.indexOf(i,t);s.splice(a,1);var l=this._findInsertionPos(i,o,r,t,n);s.splice(l,0,i),l!==a&&this._notifyItemMoved(i,a,l,r)},_listItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,o=this._list.indexOfKey(t),r=this._sortedKeys.indexOf(t);this._sortedKeys.splice(r,1);var s=this._findInsertionPos(t,o,n);return this._sortedKeys.splice(r,0,t),r===s?void this._notifyItemMutated(t,n,i):(this._listItemRemoved({detail:{key:t,index:o,value:n,item:i}}),void this._listItemInserted({detail:{key:t,index:o,value:n}}))},_listItemRemoved:function(e,t){var n=e.detail.key,i=e.detail.value,o=e.detail.item,r=this._sortedKeys,s=r.indexOf(n,t);r.splice(s,1),this._notifyItemRemoved(n,s,i,o)},_listReload:function(){this._initSortedKeys(),this._notifyReload()},length:{get:function(){return this._sortedKeys.length},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",h.illegalListLength);var t=this.length;t>e&&this.splice(e,t-e)}},getItem:function(e){return e=c(e),this.getItemFromKey(this._sortedKeys[e])},indexOfKey:function(e){return this._sortedKeys.indexOf(e)},notifyMutated:function(e){e=c(e),this._notifyMutatedFromKey(this._sortedKeys[e])},setAt:function(e,t){e=c(e),this._setAtKey(this._sortedKeys[e],t)},_spliceFromKey:function(e,t){if(arguments.length>2){var n=l(arguments);n[1]=0,this._list._spliceFromKey.apply(this._list,n)}var i=[];if(t){for(var o=[],r=this._sortedKeys,s=r.indexOf(e),a=s,u=r.length;a<u&&a-s<t;a++)o.push(r[a]);var c=this;o.forEach(function(e){i.push(c._list._spliceFromKey(e,1)[0])})}return i}},{supportedForProcessing:!1})}),GroupedSortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(f.SortedListProjection,function(e,t,n,i){this._list=e,this._addListListener("itemchanged",this._listGroupedItemChanged),this._addListListener("iteminserted",this._listGroupedItemInserted),this._addListListener("itemmoved",this._listGroupedItemMoved),this._addListListener("itemmutated",this._listGroupedItemMutated),this._addListListener("itemremoved",this._listGroupedItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=function(e,n){return e=t(e),n=t(n),i?i(e,n):e<n?-1:e===n?0:1},this._groupKeyOf=t,this._groupDataOf=n,this._initSortedKeys(),this._initGroupedItems()},{_groupKeyOf:null,_groupDataOf:null,_groupedItems:null,_initGroupedItems:function(){for(var e={},t=this._list,n=this._groupKeyOf,i=0,o=t.length;i<o;i++){var r=u(t.getItem(i));r.groupKey=n(r.data),e[r.key]=r}this._groupedItems=e},_groupsProjection:null,_listGroupedItemChanged:function(e){var t=e.detail.key,n=e.detail.oldValue,i=e.detail.newValue,o=this._groupedItems,r=o[t],s=u(r);s.data=i,s.groupKey=this._groupKeyOf(i),o[t]=s;var a;r.groupKey===s.groupKey?(a=this.indexOfKey(t),this._notifyItemChanged(t,a,n,i,r,s)):(a=e.detail.index,
this._listItemChanged({detail:{key:t,index:a,oldValue:n,newValue:i,oldItem:r,newItem:s}}))},_listGroupedItemInserted:function(e){var t=e.detail.key,n=e.detail.value,i=this._groupKeyOf(n);this._groupedItems[t]={handle:t,key:t,data:n,groupKey:i};var o,r;if(this._groupsProjection){var s=this._groupsProjection._groupItems[i];s&&(o=s.firstItemIndexHint,r=o+s.groupSize)}this._listItemInserted(e,o,r)},_listGroupedItemMoved:function(e){var t,n,i=this._groupedItems[e.detail.key].groupKey;if(this._groupsProjection){var o=this._groupsProjection._groupItems[i];t=o.firstItemIndexHint,n=t+o.groupSize}this._listItemMoved(e,t,n)},_listGroupedItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=this._groupedItems,o=i[t],r=this._groupKeyOf(n);if(o.groupKey===r)this._notifyItemMutated(t,n,o);else{var s=u(o);s.groupKey=r,i[t]=s;var a=this._list.indexOfKey(t);this._listItemRemoved({detail:{key:t,index:a,value:n,item:o}}),this._listItemInserted({detail:{key:t,index:a,value:n}})}},_listGroupedItemRemoved:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.value,o=this._groupedItems,r=o[t];delete o[t];var s,a;if(this._groupsProjection){var l=this._groupsProjection._groupItems[r.groupKey];s=l.firstItemIndexHint,a=s+l.groupSize}this._listItemRemoved({detail:{key:t,index:n,value:i,item:r}},s,a)},_listReload:function(){this._initGroupedItems(),f.SortedListProjection.prototype._listReload.call(this)},groups:{get:function(){return null===this._groupsProjection&&(this._groupsProjection=new f.GroupsListProjection(this,this._groupKeyOf,this._groupDataOf)),this._groupsProjection}},getItemFromKey:function(e){return this._groupedItems[e]}},{supportedForProcessing:!1})}),GroupsListProjection:t.Namespace._lazy(function(){return t.Class.derive(f.ListBase,function(e,t,n){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._groupKeyOf=t,this._groupDataOf=n,this._initGroupKeysAndItems()},{_list:null,_addListListener:function(e,t){this._list.addEventListener(e,t.bind(this))},_groupDataOf:null,_groupKeyOf:null,_groupOf:function(e){return this.getItemFromKey(this._groupKeyOf(e.data))},_groupKeys:null,_groupItems:null,_initGroupKeysAndItems:function(){for(var e,t=this._groupDataOf,n=this._list,i={},o=[],r=null,s=null,a=0,l=n.length;a<l;a++){var u=n.getItem(a),c=u.groupKey;c!==r?(s&&(s.groupSize=e),e=1,r=c,s={handle:c,key:c,data:t(u.data),firstItemKey:u.key,firstItemIndexHint:a},i[c]=s,o.push(c)):e++}s&&(s.groupSize=e),this._groupKeys=o,this._groupItems=i},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.newValue,o=this._list,r=o.getItemFromKey(t).groupKey,s=this._groupItems,a=s[r];if(a.firstItemIndexHint===n){var l=u(a);l.data=this._groupDataOf(i),l.firstItemKey=t,s[r]=l,this._notifyItemChanged(r,this._groupKeys.indexOf(r),a.data,l.data,a,l)}},_listItemInserted:function(e){var t,n,i,o,r,s=e.detail.key,a=e.detail.index,l=e.detail.value,c=this._list,d=c.getItemFromKey(s).groupKey,h=this._groupItems,m=this._groupKeys,p=h[d];if(p)n=p,i=u(n),i.groupSize++,n.firstItemIndexHint===a&&(i.groupData=this._groupDataOf(l),i.firstItemKey=s,i.firstItemIndexHint=a),h[d]=i,t=m.indexOf(d),this._notifyItemChanged(d,t,n.data,i.data,n,i);else{for(o=0,r=m.length;o<r&&(p=h[m[o]],!(p.firstItemIndexHint>=a));o++);t=o,p={handle:d,key:d,data:this._groupDataOf(l),groupSize:1,firstItemKey:s,firstItemIndexHint:a},m.splice(t,0,d),h[d]=p,this._notifyItemInserted(d,t,p.data)}for(o=t+1,r=m.length;o<r;o++)n=h[m[o]],i=u(n),i.firstItemIndexHint++,h[i.key]=i,this._notifyItemChanged(i.key,o,n.data,i.data,n,i)},_listItemMoved:function(e){var t=e.detail.key,n=e.detail.oldIndex,i=e.detail.newIndex,o=this._list,r=o.getItemFromKey(t).groupKey,s=this._groupItems,a=s[r];if(a.firstItemIndexHint===i||a.firstItemIndexHint===n){var l=o.getItem(a.firstItemIndexHint),c=u(a);c.data=this._groupDataOf(l.data),c.firstItemKey=l.key,s[r]=c,this._notifyItemChanged(r,this._groupKeys.indexOf(r),a.data,c.data,a,c)}},_listItemRemoved:function(e){var t,n,i=e.detail.index,o=e.detail.item,r=this._groupItems,s=this._groupKeys,a=o.groupKey,l=r[a],c=s.indexOf(a);if(1===l.groupSize)s.splice(c,1),delete r[a],this._notifyItemRemoved(a,c,l.data,l),c--;else{if(t=l,n=u(t),n.groupSize--,t.firstItemIndexHint===i){var d=this._list.getItem(i);n.data=this._groupDataOf(d.data),n.firstItemKey=d.key}r[a]=n,this._notifyItemChanged(a,c,t.data,n.data,t,n)}for(var h=c+1,m=s.length;h<m;h++)t=r[s[h]],n=u(t),n.firstItemIndexHint--,r[n.key]=n,this._notifyItemChanged(n.key,h,t.data,n.data,t,n)},_listReload:function(){this._initGroupKeysAndItems(),this._notifyReload()},length:{get:function(){return this._groupKeys.length}},getItem:function(e){return e=c(e),this._groupItems[this._groupKeys[e]]},getItemFromKey:function(e){return this._groupItems[e]},indexOfKey:function(e){return this._groupKeys.indexOf(e)}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(e,"WinJS.Binding",{List:t.Namespace._lazy(function(){return t.Class.derive(f.ListBaseWithMutators,function(e,t){if(this._currentKey=0,this._keys=null,this._keyMap={},t=t||p,this._proxy=t.proxy,this._binding=t.binding,this._proxy){if(Object.keys(e).length!==e.length)throw new i("WinJS.Binding.List.NotSupported",h.sparseArrayNotSupported);this._data=e,this._currentKey=e.length}else if(e){for(var n=this._keyMap,o=0,r=0,a=e.length;r<a;r++)if(r in e){var l=e[r];this._binding&&(l=s.as(l));var u=o.toString();o++,n[u]={handle:u,key:u,data:l}}o!==r&&this._initializeKeys(),this._currentKey=o}},{_currentKey:0,_keys:null,_keyMap:null,_modifyingData:0,_initializeKeys:function(){if(!this._keys){var e=[];if(this._data){for(var t=this._keyMap,n=this._data,i=0,o=n.length;i<o;i++)if(i in n){var r=i.toString();if(e[i]=r,!(r in t)){var a=n[i];this._binding&&(a=s.as(a)),t[r]={handle:r,key:r,data:a}}}}else Object.keys(this._keyMap).forEach(function(t){e[t>>>0]=t});this._keys=e}},_lazyPopulateEntry:function(e){if(this._data&&e in this._data){var t=this._data[e];this._binding&&(t=s.as(t));var n=e.toString(),i={handle:n,key:n,data:t};return this._keyMap[i.key]=i,i}},_assignKey:function(){return(++this._currentKey).toString()},length:{get:function(){return this._data?this._data.length:this._keys?this._keys.length:this._currentKey},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",h.illegalListLength);this._initializeKeys();var t=this.length;if(t>e?this.splice(e,t-e):e=t,this._data){this._modifyingData++;try{this._data.length=e}finally{this._modifyingData--}}this._keys&&(this._keys.length=e)}},getItem:function(e){var t,n;return e=c(e),this._keys?(n=this._keys[e],t=n&&this._keyMap[n]):(n=e.toString(),t=this._keyMap[n]||this._lazyPopulateEntry(e)),t},getItemFromKey:function(e){var t;return t=this._keys||!this._data?this._keyMap[e]:this.getItem(e>>>0)},indexOfKey:function(e){var t=-1;if(this._keys)t=this._keys.indexOf(e);else{var n=e>>>0;n<this._currentKey&&(t=n)}return t},move:function(e,t){if(e=c(e),t=c(t),this._initializeKeys(),!(e===t||e<0||t<0||e>=this.length||t>=this.length)){if(this._data){this._modifyingData++;try{var n=this._data.splice(e,1)[0];this._data.splice(t,0,n)}finally{this._modifyingData--}}var i=this._keys.splice(e,1)[0];this._keys.splice(t,0,i),this._notifyItemMoved(i,e,t,this.getItemFromKey(i).data)}},notifyMutated:function(e){e=c(e);var t=this._keys?this._keys[e]:e.toString();this._notifyMutatedFromKey(t)},setAt:function(e,t){e=c(e),this._initializeKeys();var n=this.length;if(e===n)this.push(t);else if(e<n){if(this._data){this._modifyingData++;try{this._data[e]=t}finally{this._modifyingData--}}if(this._binding&&(t=s.as(t)),e in this._keys){var i=this._keys[e],o=this._keyMap[i],r=u(o);r.data=t,this._keyMap[i]=r,this._notifyItemChanged(i,e,o.data,t,o,r)}}},_setAtKey:function(e,t){this.setAt(this.indexOfKey(e),t)},reverse:function(){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.reverse()}finally{this._modifyingData--}}return this._keys.reverse(),this._notifyReload(),this},sort:function(e){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.sort(e)}finally{this._modifyingData--}}var t=this;return this._keys.sort(function(n,i){return n=t._keyMap[n],i=t._keyMap[i],e?e(n.data,i.data):(n=(n&&n.data||"").toString(),i=(n&&i.data||"").toString(),n<i?-1:n===i?0:1)}),this._notifyReload(),this},pop:function(){if(0!==this.length){this._initializeKeys();var e=this._keys.pop(),t=this._keyMap[e],n=t&&t.data;if(this._data){this._modifyingData++;try{this._data.pop()}finally{this._modifyingData--}}return delete this._keyMap[e],this._notifyItemRemoved(e,this._keys.length,n,t),n}},push:function(){this._initializeKeys();for(var e=arguments.length,t=0;t<e;t++){var n=arguments[t];this._binding&&(n=s.as(n));var i=this._assignKey();if(this._keys.push(i),this._data){this._modifyingData++;try{this._data.push(arguments[t])}finally{this._modifyingData--}}this._keyMap[i]={handle:i,key:i,data:n},this._notifyItemInserted(i,this._keys.length-1,n)}return this.length},shift:function(){if(0!==this.length){this._initializeKeys();var e=this._keys.shift(),t=this._keyMap[e],n=t&&t.data;if(this._data){this._modifyingData++;try{this._data.shift()}finally{this._modifyingData--}}return delete this._keyMap[e],this._notifyItemRemoved(e,0,n,t),n}},unshift:function(){this._initializeKeys();for(var e=arguments.length,t=e-1;t>=0;t--){var n=arguments[t];this._binding&&(n=s.as(n));var i=this._assignKey();if(this._keys.unshift(i),this._data){this._modifyingData++;try{this._data.unshift(arguments[t])}finally{this._modifyingData--}}this._keyMap[i]={handle:i,key:i,data:n},this._notifyItemInserted(i,0,n)}return this.length},splice:function(e,t,n){e=c(e),this._initializeKeys(),e=Math.max(0,this._normalizeIndex(e)),t=Math.max(0,Math.min(t||0,this.length-e));for(var i=[];t;){var o=this._keys[e],r=this._keyMap[o],a=r&&r.data;if(i.push(a),this._keys.splice(e,1),this._data){this._modifyingData++;try{this._data.splice(e,1)}finally{this._modifyingData--}}delete this._keyMap[o],this._notifyItemRemoved(o,e,a,r),--t}if(arguments.length>2)for(var l=2,u=arguments.length;l<u;l++){var d=arguments[l];this._binding&&(d=s.as(d));var h=Math.min(e+l-2,this.length),m=this._assignKey();if(this._keys.splice(h,0,m),this._data){this._modifyingData++;try{this._data.splice(h,0,arguments[l])}finally{this._modifyingData--}}this._keyMap[m]={handle:m,key:m,data:d},this._notifyItemInserted(m,h,d)}return i},_spliceFromKey:function(e){this._initializeKeys();var t=l(arguments);return t[0]=this._keys.indexOf(e),this.splice.apply(this,t)}},{supportedForProcessing:!1})})})}),define("WinJS/Res",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./ControlProcessor/_OptionsParser","./Promise"],function(e,t,n,i,o,r,s,a){"use strict";function l(e,n){e=e||t.document.body;var n=n||0;if(n<4){if(0===n&&e.getAttribute){var r=e.getAttribute("data-win-res");if(r){var l=s.optionsParser(r);d(e,e,l,n)}}var u="[data-win-res],[data-win-control]",c=e.querySelectorAll(u);if(0===c.length)return a.as(e);for(var m=0,f=c.length;m<f;m++){var _=c[m];if(_.winControl&&_.winControl.constructor&&_.winControl.constructor.isDeclarativeControlContainer){var g=_.winControl.constructor.isDeclarativeControlContainer;"function"==typeof g&&(g=p(g),g(_.winControl,h),m+=_.querySelectorAll(u).length)}if(_.hasAttribute("data-win-res")){var l=s.optionsParser(_.getAttribute("data-win-res"));d(_,_,l,n)}}}else if(i.validation)throw new o("WinJS.Res.NestingExceeded","NestingExceeded");return a.as(e)}function u(e,t){for(var n=Object.keys(t),o=0,s=n.length;o<s;o++){var a=n[o],l=t[a],u=r.getString(l);u&&u.empty?i.validation&&c(l):(e.setAttribute(a,u.value),void 0!==u.lang&&void 0!==e.lang&&e.lang!==u.lang&&(e.lang=u.lang))}}function c(e){throw new o("WinJS.Res.NotFound",r._formatString("NotFound: {0}",e))}function d(e,t,n,o){var s=Object.keys(n);t=p(t);for(var a=0,h=s.length;a<h;a++){var m=s[a],f=n[m];if("string"==typeof f){var _=r.getString(f);_&&_.empty?i.validation&&c(f):(t[m]=_.value,void 0!==_.lang&&void 0!==e.lang&&e.lang!==_.lang&&(e.lang=_.lang),"innerHTML"===m&&l(t,o+1))}else e===t&&"attributes"===m?u(e,f):d(e,t[m],f,o)}}function h(e){if(!m)return i.ready().then(function(){return m=!0,l(e)});try{return l(e)}catch(e){return a.wrapError(e)}}var m=!1,p=i.requireSupportedForProcessing;n.Namespace._moduleDefine(e,"WinJS.Resources",{processAll:h})}),define("WinJS/Pages/_BasePage",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WriteProfilerMark","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l){"use strict";function u(e){var n=t.document.createElement("a");return n.href=e,n.href}function c(e){return t.document.location.href.toLowerCase()===e.toLowerCase()}function d(e,a){var d=h(e);return e=u(e),d||(d=n.Class.define(function(n,s,a,u){var d=this;this._disposed=!1,this.element=n=n||t.document.createElement("div"),l.addClass(n,"win-disposable"),n.msSourceLocation=e,this.uri=e,this.selfhost=c(e),n.winControl=this,l.addClass(n,"pagecontrol");var h=" uri='"+e+"'"+i._getProfilerMarkIdentifier(this.element);o("WinJS.UI.Pages:createPage"+h+",StartTM");var m=r.wrap().then(function(){return d.load(e)}),p=m.then(function(e){return r.join({loadResult:e,initResult:d.init(n,s)})}).then(function(e){return d.render(n,s,e.loadResult)});this.elementReady=p.then(function(){return n}),this.renderComplete=p.then(function(){return d.process(n,s)}).then(function(){return d.processed(n,s)}).then(function(){return d});var f=function(){a&&a(d),o("WinJS.UI.Pages:createPage"+h+",StopTM")};this.renderComplete.then(f,f),this.readyComplete=this.renderComplete.then(function(){return u}).then(function(){return d.ready(n,s),d}).then(null,function(e){return d.error(e)})},f),d=n.Class.mix(d,s.DOMEventMixin),p[e.toLowerCase()]=d),a&&(d=n.Class.mix(d,a)),d.selfhost=c(e),d}function h(e){return e=u(e),p[e.toLowerCase()]}function m(e){e=u(e),delete p[e.toLowerCase()]}if(t.document){var p={},f={dispose:function(){this._disposed||(this._disposed=!0,a.disposeSubTree(this.element),this.element=null)},load:function(e){},init:function(e,t){},process:function(e,t){},processed:function(e,t){},render:function(e,t,n){},ready:function(e,t){},error:function(e){return r.wrapError(e)}};n.Namespace._moduleDefine(e,null,{abs:u,define:d,get:h,remove:m,viewMap:p})}}),define("WinJS/Pages",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./ControlProcessor","./Fragments","./Pages/_BasePage","./Promise"],function(e,t,n,i,o,r,s,a){"use strict";function l(e,o){var r=s.get(e);return r||(r=s.define(e,h)),o&&(r=n.Class.mix(r,o)),r.selfhost&&i.ready(function(){d(s.abs(e),t.document.body)},!0),r}function u(e){var t=s.get(e);return t||(t=l(e)),t}function c(e){r.clearCache(s.abs(e)),s.remove(e)}function d(e,t,n,i){var o=u(e),r=new o(t,n,null,i);return r.renderComplete.then(null,function(e){return a.wrapError({error:e,page:r})})}if(t.document){var h={load:function(e){if(!this.selfhost)return r.renderCopy(s.abs(e))},process:function(e,t){return o.processAll(e)},render:function(e,t,n){return this.selfhost||e.appendChild(n),e}};n.Namespace._moduleDefine(e,"WinJS.UI.Pages",{define:l,get:u,_remove:c,render:d,_viewMap:s.viewMap})}}),define("WinJS/Controls/HtmlControl",["exports","../Core/_Global","../Core/_Base","../Pages"],function(e,t,n,i){"use strict";t.document&&n.Namespace._moduleDefine(e,"WinJS.UI",{HtmlControl:n.Class.define(function(e,t,n){i.render(t.uri,e,t).then(n,function(){n()})})})}),define("base",["WinJS/Core/_WinJS","WinJS/Core","WinJS/Promise","WinJS/_Signal","WinJS/Scheduler","WinJS/Utilities","WinJS/XYFocus","WinJS/Fragments","WinJS/Application","WinJS/Navigation","WinJS/Animations","WinJS/Binding","WinJS/BindingTemplate","WinJS/BindingList","WinJS/Res","WinJS/Pages","WinJS/ControlProcessor","WinJS/Controls/HtmlControl"],function(e){"use strict";return e.Namespace.define("WinJS.Utilities",{_require:require,_define:define}),e}),require(["WinJS/Core/_WinJS","base"],function(e){globalObject.WinJS=e,module.exports=e}),globalObject.WinJS})}()}).call(exports,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./src/winjs/js/ui.js":function(e,t,n){(function(i){var o,r,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var l="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof i?i:{};!function(i){r=[n("./src/winjs/js/base.js")],o=i,s="function"==typeof o?o.apply(t,r):o,!(void 0!==s&&(e.exports=s))}(function(t){var n=t.Utilities._require,i=t.Utilities._define;i("WinJS/VirtualizedDataSource/_VirtualizedDataSourceImpl",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Scheduler","../_Signal","../Utilities/_UI"],function(e,t,n,i,o,r,s,l,u,c,d,h,m){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{VirtualizedDataSource:n.Namespace._lazy(function(){function e(e,n){function r(e){var t="WinJS.UI.VirtualizedDataSource:"+gi+":"+e+",StartTM";u(t),s.log&&s.log(t,"winjs vds","perf")}function w(e){var t="WinJS.UI.VirtualizedDataSource:"+gi+":"+e+",StopTM";u(t),s.log&&s.log(t,"winjs vds","perf")}function C(e){return"number"==typeof e&&e>=0}function E(e){return C(e)&&e===Math.floor(e)}function S(e){if(null===e)e=void 0;else if(void 0!==e&&!E(e))throw new o("WinJS.UI.ListDataSource.InvalidIndexReturned",y.invalidIndexReturned);return e}function I(e){if(null===e)e=void 0;else if(void 0!==e&&!E(e)&&e!==_.unknown)throw new o("WinJS.UI.ListDataSource.InvalidCountReturned",y.invalidCountReturned);return e}function x(){var e=(fn++).toString(),t={handle:e,item:null,itemNew:null,fetchListeners:null,cursorCount:0,bindingMap:null};return Hn[e]=t,t}function j(){return x()}function k(e,t){e.prev=t.prev,e.next=t,e.prev.next=e,t.prev=e}function P(e){e.lastInSequence&&(delete e.lastInSequence,e.prev.lastInSequence=!0),e.firstInSequence&&(delete e.firstInSequence,e.next.firstInSequence=!0),e.prev.next=e.next,e.next.prev=e.prev}function T(e){for(;!e.firstInSequence;)e=e.prev;return e}function O(e){for(;!e.lastInSequence;)e=e.next;return e}function A(e,t,n){return t.prev.next=n.next,n.next.prev=t.prev,t.prev=e.prev,n.next=e,t.prev.next=t,e.prev=n,!0}function M(e,t,n){return t.prev.next=n.next,n.next.prev=t.prev,t.prev=e,n.next=e.next,e.next=t,n.next.prev=n,!0}function D(e){delete e.lastInSequence,delete e.next.firstInSequence}function L(e){var t=e.next;e.lastInSequence=!0,t.firstInSequence=!0,t===Fn&&pe(Fn,void 0)}function N(e,t,n,i){k(e,t);var o=e.prev;o.lastInSequence&&(n?delete o.lastInSequence:e.firstInSequence=!0,i?delete t.firstInSequence:e.lastInSequence=!0)}function B(e,t){e.key=t,Wn[e.key]=e}function R(e,t,n){+t===t&&(e.index=t,n[t]=e,kn||(e.firstInSequence&&e.prev&&e.prev.index===t-1&&D(e.prev),e.lastInSequence&&e.next&&e.next.index===t+1&&D(e)))}function F(e,t){var n=t===Vn?j():x();return k(n,e),n}function z(e,t,n){var i=F(e,n);return i.firstInSequence=!0,i.lastInSequence=!0,R(i,t,n),i}function H(e,t){return z(e,t,Vn)}function W(e,t){var n=F(e,t);return delete e.firstInSequence,n.prev.index===n.index-1?delete n.prev.lastInSequence:n.firstInSequence=!0,R(n,e.index-1,t),n}function V(e,t){var n=F(e.next,t);return delete e.lastInSequence,n.next.index===n.index+1?delete n.next.firstInSequence:n.lastInSequence=!0,R(n,e.index+1,t),n}function U(e,t,n,i){N(e,t,n,i),Wn[e.key]=e,void 0!==e.index&&(Vn[e.index]=e)}function q(e){P(e),e.key&&delete Wn[e.key],void 0!==e.index&&Vn[e.index]===e&&delete Vn[e.index];var t=e.bindingMap;for(var n in t){var i=t[n].handle;i&&Hn[i]===e&&delete Hn[i]}Hn[e.handle]===e&&delete Hn[e.handle]}function J(e){return!Hn[e.handle]}function K(e,t,n,i,o){var r=o?null:t[e-1];if(r&&(r.next!==i||i.firstInSequence))r=r.next;else if(r=t[e+1],!r){r=n.next;for(var s;;){if(r.firstInSequence&&(s=r),!(e>=r.index)||r===i)break;r=r.next}r!==i||i.firstInSequence||(r=s&&void 0===s.index?s:void 0)}return r}function G(e){return!e.item&&!e.itemNew&&e!==Fn}function Y(e,t){Object.defineProperty(e,"handle",{value:t,writable:!1,enumerable:!1,configurable:!0})}function X(e,t,n){Y(e,n),Object.defineProperty(e,"index",{get:function(){for(;t.slotMergedWith;)t=t.slotMergedWith;return t.index},enumerable:!1,configurable:!0})}function Z(e){if(void 0===e)return e;var t=JSON.stringify(e);if(void 0===t)throw new o("WinJS.UI.ListDataSource.ObjectIsNotValidJson",y.objectIsNotValidJson);return t}function Q(t){return e.itemSignature?e.itemSignature(t.data):Z(t.data)}function $(t){var n=t.itemNew;t.itemNew=null,n&&(n=Object.create(n),X(n,t,t.handle),e.compareByIdentity||(t.signature=Q(n))),t.item=n,delete t.indexRequested,delete t.keyRequested}function ee(e){return e.bindingMap||e.cursorCount>0}function te(e){return ee(e)||e.fetchListeners||e.directFetchListeners}function ne(e){return te(e)||!e.firstInSequence&&ee(e.prev)||!e.lastInSequence&&ee(e.next)||!ci&&(!e.firstInSequence&&e.prev!==Rn&&!(e.prev.item||e.prev.itemNew))|(!e.lastInSequence&&e.next!==Fn&&!(e.next.item||e.next.itemNew))}function ie(e){L(e),q(e)}function oe(){if(!En){qn&&!J(qn)||(qn=Fn.prev);for(var e=qn.prev,t=qn.next,n=0,i=function(e){e===Fn||ne(e)||(n<=un?n++:ie(e))};e||t;){if(e){var o=e;e=o.prev,o!==Rn&&i(o)}if(t){var r=t;t=r.next,r!==zn&&i(r)}}Un=0}}function re(e){te(e)||(Un++,En||Gn||(qn=e,Un>un&&!Jn&&(Jn=!0,d.schedule(function(){Jn=!1,oe()},d.Priority.idle,null,"WinJS.UI.VirtualizedDataSource.releaseSlotIfUnrequested"))))}function se(e){for(var t in mn)e(mn[t])}function ae(e,t){for(var n in e.bindingMap)t(e.bindingMap[n].bindingRecord,n)}function le(e){return e.notificationsSent||(e.notificationsSent=!0,e.notificationHandler.beginNotifications&&e.notificationHandler.beginNotifications()),e.notificationHandler}function ue(){bn||xn||se(function(e){e.notificationsSent&&(e.notificationsSent=!1,e.notificationHandler.endNotifications&&e.notificationHandler.endNotifications())})}function ce(e,t){var n=e.bindingMap;if(n){var i=n[t];if(i){var o=i.handle;if(o)return o}}return e.handle}function de(e,t){return e&&e.handle!==t&&(e=Object.create(e),Y(e,t)),e}function he(e){var t=Bn;Bn=e,se(function(e){e.notificationHandler&&e.notificationHandler.countChanged&&le(e).countChanged(Bn,t)})}function me(e,t){ae(e,function(n,i){n.notificationHandler.indexChanged&&le(n).indexChanged(ce(e,i),e.index,t)})}function pe(e,t){var n=e.index;if(void 0!==n&&Vn[n]===e&&delete Vn[n],+t===t)R(e,t,Vn);else{if(+n!==n)return;delete e.index}me(e,n)}function fe(e,t,n,i,o){var r={};if((i||!t.lastInSequence)&&(o||!n.firstInSequence))if(t===Rn)if(n===Fn)for(var s in mn)r[s]=mn[s];else for(var s in n.bindingMap)r[s]=mn[s];else if(n===Fn||n.bindingMap)for(var s in t.bindingMap)(n===Fn||n.bindingMap[s])&&(r[s]=mn[s]);for(var s in e.bindingMap)r[s]=mn[s];return r}function _e(e){var t,n=e.prev,i=e.next,o=fe(e,n,i);for(t in o){var r=o[t];r.notificationHandler&&le(r).inserted(r.itemPromiseFromKnownSlot(e),n.lastInSequence||n===Rn?null:ce(n,t),i.firstInSequence||i===Fn?null:ce(i,t))}}function ge(e){var t=e.item;$(e),ae(e,function(n,i){var o=ce(e,i);le(n).changed(de(e.item,o),de(t,o))})}function ve(e,t,n,i,o){var r,s=t.prev;if(t===e){if(!e.firstInSequence||!n)return;t=e.next}else if(s===e){if(!e.lastInSequence||!i)return;s=e.prev}if(!o){var a=fe(e,s,t,n,i);for(r in a){var l=a[r];le(l).moved(l.itemPromiseFromKnownSlot(e),(s.lastInSequence||s===e.prev)&&!n||s===Rn?null:ce(s,r),(t.firstInSequence||t===e.next)&&!i||t===Fn?null:ce(t,r))}se(function(t){t.adjustCurrentSlot(e)})}P(e),N(e,t,n,i)}function ye(e,t){ke(e,!0),ae(e,function(n,i){le(n).removed(ce(e,i),t)}),se(function(t){t.adjustCurrentSlot(e)}),q(e)}function be(e){for(;!e.firstInSequence;)e=e.prev;var t;do{t=e.lastInSequence;var n=e.next;ye(e,!0),e=n}while(!t)}function we(e){var t;if(!e)return t;for(var n=0;!e.firstInSequence;)n++,e=e.prev;return"number"==typeof e.indexNew?e.indexNew+n:"number"==typeof e.index?e.index+n:t}function Ce(e,t){for(e=e.next;e;e=e.next)if(e.firstInSequence){var n=void 0!==e.indexNew?e.indexNew:e.index;void 0!==n&&(e.indexNew=n+t)}jn+=t,kn=!0,Gn?Et():Tn++}function Ee(e,t){if(e.firstInSequence){var n;if(t<0)n=e.indexNew,void 0!==n?delete e.indexNew:n=e.index,e.lastInSequence||(e=e.next,void 0!==n&&(e.indexNew=n));else if(!e.lastInSequence){var i=e.next;n=i.indexNew,void 0!==n?delete i.indexNew:n=i.index,void 0!==n&&(e.indexNew=n)}}Ce(e,t)}function Se(e,t){for(var n=Rn;n!==Fn;n=n.next){var i=n.indexNew;if(void 0!==i&&e<=i){Ce(n,t);break}}}function Ie(){var e,t,n;for(e=Rn;;e=e.next){if(e.firstInSequence){if(t=e,void 0!==e.indexNew){if(n=e.indexNew,delete e.indexNew,isNaN(n))break}else n=e.index;e!==Rn&&e.prev.index===n-1&&D(e.prev)}if(e.lastInSequence)for(var i=n,o=t;o!==e.next;o=o.next)i!==o.index&&pe(o,i),+i===i&&i++;if(e===Fn)break}for(;e!==zn;e=e.next)void 0!==e.index&&e!==Fn&&pe(e,void 0);kn=!1,jn&&+Bn===Bn&&(gn?gn.reset():he(Bn+jn),jn=0)}function xe(e,t,n,i,o){if(e.item)return new c(function(t){o?o(t,e.item):t(e.item)});var r={listBindingID:i,retained:!1};return e[t]||(e[t]={}),e[t][n]=r,r.promise=new c(function(e,t){r.complete=o?function(t){o(e,t)}:e,r.error=t},function(){for(;e.slotMergedWith;)e=e.slotMergedWith;var i=e[t];if(i){if(delete i[n],Object.keys(i).length>0)return;delete e[t]}re(e)}),r.promise}function je(e,t){for(var n in t)t[n].complete(e)}function ke(e,t){var n=e.fetchListeners,i=e.directFetchListeners;if(n||i){$(e);var o=e.item,r=function(e){t?je(o,e):Dn.push(function(){je(o,e)})};i&&(e.directFetchListeners=null,r(i)),n&&(e.fetchListeners=null,r(n)),re(e)}}function Pe(){var e=Dn;Dn=[];for(var t=0,n=e.length;t<n;t++)e[t]()}function Te(e,t){var n=e.directFetchListeners;if(n){e.directFetchListeners=null;for(var i in n)n[i].error(t);re(e)}}function Oe(e){return e.firstInSequence&&W(e,Vn),e.lastInSequence&&V(e,Vn),e.itemNew&&$(e),tt(),e}function Ae(e){if(!e.firstInSequence){var t=e.prev;return t===Rn?null:Oe(t)}return Oe(W(e,Vn))}function Me(e){if(!e.lastInSequence){var t=e.next;return t===Fn?null:Oe(t)}return Oe(V(e,Vn))}function De(e){return e?xe(e,"directFetchListeners",(_n++).toString()):c.wrap(null)}function Le(e){if("string"!=typeof e||!e)throw new o("WinJS.UI.ListDataSource.KeyIsInvalid",y.keyIsInvalid)}function Ne(e){var t=H(zn);return B(t,e),t.keyRequested=!0,t}function Be(e,t){Le(e);var n=Wn[e];return n||(n=Ne(e),n.hints=t),Oe(n)}function Re(e){if("number"!=typeof e||e<0)throw new o("WinJS.UI.ListDataSource.IndexIsInvalid",y.indexIsInvalid);if(Fn.index<=e)return null;var t=Vn[e];if(!t){var n=K(e,Vn,Rn,Fn);if(!n)return null;n===Fn&&e>=Fn&&pe(Fn,void 0),t=n.prev.index===e-1?V(n.prev,Vn):n.index===e+1?W(n,Vn):H(n,e)}return t.item||(t.indexRequested=!0),Oe(t)}function Fe(e){var t=H(zn);return t.description=e,Oe(t)}function ze(e){if(dn=e,cn!==dn){var n=function(){hn=!1,cn!==dn&&(cn=dn,vi.dispatchEvent(b,cn))};dn===f.failure?n():hn||(hn=!0,t.setTimeout(n,40))}}function He(e){var t=e.fetchID;return t&&Mn[t]}function We(e,t){e.fetchID=t}function Ve(){var e=An;return An++,Mn[e]=!0,e}function Ue(e,t,n){var i=Ve();We(e,i);for(var o=e;!o.firstInSequence&&t>0;)o=o.prev,t--,We(o,i);for(var r=e;!r.lastInSequence&&n>0;)r=r.next,n--,We(r,i);return i}function qe(e){var t=e.items,n=e.offset,i=e.totalCount,o=e.absoluteIndex,r=e.atStart,s=e.atEnd;if(C(o)){if(C(i)){var a=t.length;o-n+a===i&&(s=!0)}n===o&&(r=!0)}r&&(t.unshift(Ln),e.offset++),s&&t.push(Nn)}function Je(e,t,n){return delete Mn[n],t===Tn&&!J(e)||(tt(),!1)}function Ke(e,t,n,i){var s=Tn;n.then(function(n){if(!n.items||!n.items.length)return c.wrapError(new o(g.doesNotExist));var a="itemsFetched id="+t+" count="+n.items.length;r(a),Je(e,s,t)&&(+i===i&&(n.absoluteIndex=i),qe(n),gt(e,n.items,n.offset,n.totalCount,n.absoluteIndex)),w(a)}).then(null,function(n){Je(e,s,t)&&vt(e,n)})}function Ge(e,t,n,i){var s=Tn;i.then(function(i){if(!i.items||!i.items.length)return c.wrapError(new o(g.doesNotExist));var a="itemsFetched id="+n+" count="+i.items.length;r(a),Je(t,s,n)&&(i.absoluteIndex=e,qe(i),yt(e,t,i.items,i.offset,i.totalCount,i.absoluteIndex)),w(a)}).then(null,function(){Je(t,s,n)&&bt(e,t,s)})}function Ye(e,t){var n=Ue(e,0,t-1);di?Ke(e,n,di(n,t),0):Ke(e,n,ci(n,0,0,t-1),0)}function Xe(e,t){var n=Ue(e,t-1,0);Ke(e,n,hi(n,t))}function Ze(e,t,n){var i=Ue(e,t,n);Ke(e,i,ui(i,e.key,t,n,e.hints))}function Qe(e,t,n){var i=e.index;if(t>i&&(t=i),ci){var o=Ue(e,t,n);Ke(e,o,ci(o,i,t,n),i)}else if(e.key)Ze(e,t,n);else{var r,s,a=Rn,l=i+1;for(r=e.prev;r!==Rn;r=r.prev)if(void 0!==r.index&&r.key){s=i-r.index,l>s&&(l=s,a=r);break}for(r=e.next;r!==Fn;r=r.next)if(void 0!==r.index&&r.key){s=r.index-i,l>s&&(l=s,a=r);break}if(a===Rn){var o=Ue(e,0,i+1);Ge(0,e,o,di(o,i+1))}else{var u=Math.max(a.index-i,0),c=Math.max(i-a.index,0),o=Ue(a,u,c);Ge(a.index,e,o,ui(o,a.key,u,c,e.hints))}}}function $e(e,t,n){var i=Ue(e,t,n);Ke(e,i,mi(i,e.description,t,n))}function et(){if(!Gn){for(var e,t,n,i,o,r,s,a,l=!1,u=!1,c=Rn.next;c!==zn;){var d=c.next;if(c!==Fn&&G(c)&&(u=!0,e?t++:(e=c,t=1),He(c)&&(l=!0),c.keyRequested&&!n&&(n=c,i=t-1),void 0===c.description||o||(o=c,r=t-1),c.indexRequested&&!s&&(s=c,a=t-1),c.lastInSequence||d===zn||!G(d))){if(l)l=!1;else{if(vn=!1,!e.firstInSequence&&e.prev.key&&ui?Ze(e.prev,0,t):!c.lastInSequence&&d.key&&ui?Ze(d,t,0):e.prev!==Rn||e.firstInSequence||!di&&!ci?d===Fn&&!c.lastInSequence&&hi?Xe(c,t):n?Ze(n,i,t-1-i):o?$e(o,r,t-1-r):s?Qe(s,a,t-1-a):"number"==typeof e.index?Qe(e,t-1,0):be(e):Ye(e,t),vn)return void tt();if(Gn)return}e=s=n=null}c=d}ze(u?f.waiting:f.ready)}}function tt(){On||(On=!0,d.schedule(function(){On=!1,et(),ue()},d.Priority.max,null,"WinJS.UI.ListDataSource._fetch"))}function nt(t){var n=t.itemNew;if(!n)return!1;var i=t.item;for(var o in i)switch(o){case"data":break;default:if(i[o]!==n[o])return!0}return e.compareByIdentity?i.data!==n.data:t.signature!==Q(n)}function it(e){te(e)?nt(e)?ge(e):e.itemNew=null:e.item=null}function ot(e){e.item?it(e):ke(e)}function rt(e,t){e.key||B(e,t.key),e.itemNew=t,ot(e)}function st(e,t,n){var i=t.bindingMap;if(i)for(var o in n)if(i[o]){var r=t.fetchListeners;for(var s in r){var a=r[s];a.listBindingID===o&&a.retained&&(delete r[s],a.complete(null))}var l=i[o].bindingRecord;le(l).removed(ce(t,o),!0,ce(e,o)),t.bindingMap&&delete t.bindingMap[o]}}function at(e,t){if(e.index!==t.index){var n=t.index;t.index=e.index,me(t,n)}t.slotMergedWith=e;var i=t.bindingMap;for(var o in i){e.bindingMap||(e.bindingMap={});var r=i[o];r.handle||(r.handle=t.handle),Hn[r.handle]=e,e.bindingMap[o]=r}se(function(n){n.adjustCurrentSlot(t,e)});var s=t.itemNew||t.item;if(s&&(s=Object.create(s),X(s,e,e.handle),rt(e,s)),e.item)t.directFetchListeners&&Dn.push(function(){je(e.item,t.directFetchListeners)}),t.fetchListeners&&Dn.push(function(){je(e.item,t.fetchListeners)});else{var a;for(a in t.directFetchListeners)e.directFetchListeners||(e.directFetchListeners={}),e.directFetchListeners[a]=t.directFetchListeners[a];for(a in t.fetchListeners)e.fetchListeners||(e.fetchListeners={}),e.fetchListeners[a]=t.fetchListeners[a]}e.itemNew&&ke(e),t.handle=(fn++).toString(),L(t),q(t)}function lt(e,t,n){t&&t.key&&(n||(n=t.itemNew||t.item),delete t.key,delete Wn[n.key],t.itemNew=null,t.item=null),n&&rt(e,n),t&&at(e,t)}function ut(e){if("object"!==("undefined"==typeof e?"undefined":a(e)))throw new o("WinJS.UI.ListDataSource.InvalidItemReturned",y.invalidItemReturned);if(e===Ln)return Rn;if(e===Nn)return Fn;if(e.key)return i.validation&&Le(e.key),Wn[e.key];throw new o("WinJS.UI.ListDataSource.InvalidKeyReturned",y.invalidKeyReturned)}function ct(e,t){var n=ut(t);n===e&&(n=null),n&&st(e,n,e.bindingMap),lt(e,n,t)}function dt(e,t,n,i){if(t&&e.key&&e.key!==t.key)return Et(),!1;var o=Vn[n];
if(o)if(o===e)o=null;else{if(o.key&&(e.key||t&&o.key!==t.key))return Et(),!1;if(!e.key&&o.bindingMap)return!1}var r;if(t)if(r=Wn[t.key],r===e)r=null;else if(r&&r.bindingMap)return!1;return o?(st(e,o,e.bindingMap),delete Vn[n],pe(e,n),e.prev.index===n-1&&D(e.prev),e.next.index===n+1&&D(e),i.slotNext=o.slotNext,t||(t=o.itemNew||o.item,t&&(r=Wn[t.key]))):pe(e,n),r&&o!==r&&st(e,r,e.bindingMap),lt(e,r,t),o&&o!==r&&at(e,o),!0}function ht(e,t,n){if(t.key&&e.key&&t.key!==e.key)return Et(),!1;for(var i in e.bindingMap)n[i]=!0;return st(e,t,n),lt(e,t),!0}function mt(e,t){for(var n={};e;){var i=e.firstInSequence?null:e.prev;if(t.firstInSequence||t.prev!==Rn){if(t=t.firstInSequence?W(t,Vn):t.prev,!ht(t,e,n))return}else ye(e,!0);e=i}}function pt(e,t){for(var n={};e;){var i=e.lastInSequence?null:e.next;if(t.lastInSequence||t.next!==Fn){if(t=t.lastInSequence?V(t,Vn):t.next,!ht(t,e,n))return}else ye(e,!0);e=i}}function ft(e){for(var t=0;t<e.length;t++){var n=e[t];mt(n.slotBeforeSequence,n.slotFirstInSequence),pt(n.slotAfterSequence,n.slotLastInSequence)}}function _t(e,t){function n(t){for(var n=Fn.prev;!(n.index<e)&&n!==t;){var o=n.prev;void 0!==n.index&&ye(n,!0),n=o}i=0}for(var i=0,o=Fn.prev;!(o.index<e)||i>0;){var r=o.prev;if(o===Rn){n(Rn);break}if(o.key){if(o.index>=e)return Et(),!1;if(!(o.index>=t))return ui?Ze(o,0,i):Qe(o,0,i),!1;n(o)}else o.indexRequested||o.firstInSequence?n(r):i++;o=r}return!0}function gt(e,t,n,i,o){var s="WinJS.UI.ListDataSource.processResults";return r(s),o=S(o),i=I(i),En?void w(s):(kn&&Ie(),!C(i)&&i!==_.unknown||i===Bn||Fn.firstInSequence?(vn=!0,function(){var r,s,a,l,u=t.length;if("number"!=typeof o)for(r=0;r<u;r++)if(a=ut(t[r]),a&&void 0!==a.index){o=a.index+n-r;break}"number"==typeof o&&t[u-1]===Nn?i=o-n+u-1:!C(i)||void 0!==o&&null!==o||(o=i-(u-1)+n),C(i)&&!_t(i,o-n)&&(i=void 0);var c=new Array(u);for(r=0;r<u;r++){var d=null;if(a=ut(t[r])){if(r>0&&!a.firstInSequence&&a.prev.key&&a.prev.key!==t[r-1].key||"number"==typeof o&&void 0!==a.index&&a.index!==o-n+r)return void Et();(a===Rn||a===Fn||a.bindingMap)&&(d=a)}if("number"==typeof o&&(a=Vn[o-n+r])){if(a.key&&a.key!==t[r].key)return void Et();!d&&a.bindingMap&&(d=a)}if(r===n){if(e.key&&e.key!==t[r].key||"number"==typeof e.index&&"number"==typeof o&&e.index!==o)return void Et();d||(d=e)}c[r]=d}for(r=0;r<u;r++)a=c[r],a&&void 0!==a.index&&a!==Rn&&a!==Fn&&ct(a,t[r]);var h,m,p=[],f=!0;for(r=0;r<u;r++)if(a=c[r],a&&a!==Fn){var _=r;if(void 0===a.index){var g={};dt(a,t[r],o-n+r,g);var v,y=a,b=a;for(s=r-1;!y.firstInSequence&&(v=t[s],v!==Ln);s--){var w=o-n+s;if(w<0)break;if(!dt(y.prev,v,w,g))break;y=y.prev,s>=0&&(c[s]=y)}for(s=r+1;!b.lastInSequence&&(v=t[s],v!==Nn&&s!==i||b.next===Fn)&&(b.next===Fn||dt(b.next,v,o-n+s,g))&&(b=b.next,s<u&&(c[s]=b),_=s,b!==Fn);s++);if(h=y.firstInSequence?null:y.prev,m=b.lastInSequence?null:b.next,h&&L(h),m&&L(b),"number"==typeof o){if(b===Fn)h&&M(Fn,T(h),h);else{var E=g.slotNext;E||(E=K(b.index,Vn,Rn,Fn,!0)),A(E,y,b)}y.prev.index===y.index-1&&D(y.prev),b.next.index===b.index+1&&D(b)}else f||(l=c[r-1],l&&(y.prev!==l&&(b===Fn?(h&&M(Fn,T(h),h),A(y,T(l),l)):M(l,y,b)),D(l)));if(f=!1,Kn)return;p.push({slotBeforeSequence:h,slotFirstInSequence:y,slotLastInSequence:b,slotAfterSequence:m})}r!==n||a===e||J(e)||(h=e.firstInSequence?null:e.prev,m=e.lastInSequence?null:e.next,st(a,e,a.bindingMap),at(a,e),p.push({slotBeforeSequence:h,slotFirstInSequence:a,slotLastInSequence:a,slotAfterSequence:m})),r=_}for(C(i)&&Fn.index!==i&&pe(Fn,i),ft(p),r=0;r<u;r++)if(a=c[r]){for(s=r-1;s>=0;s--){var S=c[s+1];ct(c[s]=S.firstInSequence?W(c[s+1],Vn):S.prev,t[s])}for(s=r+1;s<u;s++)l=c[s-1],a=c[s],a?a.firstInSequence&&(a.prev!==l&&M(l,a,O(a)),D(l)):ct(c[s]=l.lastInSequence?V(l,Vn):l.next,t[s]);break}delete e.description}(),Kn||(void 0!==i&&i!==Bn&&he(i),tt()),ue(),Pe(),void w(s)):(Et(),void w(s)))}function vt(e,t){switch(t.name){case g.noResponse:ze(f.failure),Te(e,t);break;case g.doesNotExist:e.indexRequested?_t(e.index):(e.keyRequested||e.description)&&be(e),ue(),Et()}}function yt(e,t,n,i,r,s){s=S(s),r=I(r);var a=e-i,l=n.length;if(t.index>=a&&t.index<a+l)gt(t,n,t.index-a,r,t.index);else if(i===l-1&&e<t.index||C(r)&&r<=t.index)vt(t,new o(g.doesNotExist));else if(t.index<a){var u=Ue(t,0,a-t.index);Ge(a,t,u,ui(u,n[0].key,a-t.index,0))}else{var c=a+l-1,u=Ue(t,t.index-c,0);Ge(c,t,u,ui(u,n[l-1].key,0,t.index-c))}}function bt(e,t,n){switch(n.name){case g.doesNotExist:e===Rn.index?(_t(0),vt(t,n)):Et();break;default:vt(t,n)}}function wt(){for(var e=0;e<fi.length&&"beginRefresh"!==fi[e].kind;e++);for(var t=e;t<fi.length&&"beginRefresh"!==fi[t].kind;t++);if(t>e&&t+(t-e)<fi.length){for(var n=!0,i=t-e,o=0;o<i;o++)if(fi[e+o].kind!==fi[t+o].kind){n=!1;break}if(n&&s.log){s.log(y.refreshCycleIdentified,"winjs vds","error");for(var o=e;o<t;o++)s.log(""+(o-e)+": "+JSON.stringify(fi[o]),"winjs vds","error")}return n}}function Ct(){return++pi>l&&wt()?void ze(f.failure):(fi[++_i%fi.length]={kind:"beginRefresh"},$n={firstInSequence:!0,lastInSequence:!0,index:-1},ei={firstInSequence:!0,lastInSequence:!0},$n.next=ei,ei.prev=$n,Zn=!1,Qn=void 0,ti={},ni={},ii={},ii[-1]=$n,void(oi={}))}function Et(){if(!Kn){if(Kn=!0,ze(f.waiting),In)return In=!1,void Qt();if(!En){var e=++Tn;Gn=!0,Xn=0,d.schedule(function(){if(Tn===e){Kn=!1,Ct();for(var t=Rn.next;t!==zn;){var n=t.next;ne(t)||t===Fn||ie(t),t=n}Ot()}},d.Priority.high,null,"WinJS.VirtualizedDataSource.beginRefresh")}}}function St(){return Yn=Yn||new h,Et(),Yn.promise}function It(e,t){return delete Mn[t],e===Tn&&(Xn--,!0)}function xt(e,t,n,i,s){var a=Tn;Xn++,i.then(function(t){if(!t.items||!t.items.length)return c.wrapError(new o(g.doesNotExist));var i="itemsFetched id="+n+" count="+t.items.length;r(i),It(a,n)&&(qe(t),Bt(e,t.items,t.offset,t.totalCount,"number"==typeof s?s:t.absoluteIndex)),w(i)}).then(null,function(i){It(a,n)&&Rt(e,t,i)})}function jt(e,t,n,i){if(ui)xt(e.key,!1,t,ui(t,e.key,n,i,e.hints));else{var o=10,r=e.index;ii[r]&&ii[r].firstInSequence?xt(e.key,!1,t,ci(t,r-1,Math.min(n+o,r)-1,i+1+o),r-1):ii[r]&&ii[r].lastInSequence?xt(e.key,!1,t,ci(t,r+1,Math.min(n+o,r)+1,i-1+o),r+1):xt(e.key,!1,t,ci(t,r,Math.min(n+o,r),i+o),r)}}function kt(e){di?xt(null,!0,e,di(e,1),0):ci&&xt(null,!0,e,ci(e,0,0,0),0)}function Pt(e){return Mn[ti[e]]}function Tt(e,t){for(var n,i,o,r=3,s=Tn,a=0,l=e;l!==zn;l=l.next){if(!n&&l.key&&!oi[l.key]&&!Pt(l.key)){var u=ni[l.key];(!u||u.firstInSequence||u.lastInSequence)&&(n=l,i=u,o=Ve())}if(n){var c=Pt(l.key);if(oi[l.key]||ni[l.key]||c||(l.key&&(ti[l.key]=o),a++),l.lastInSequence||l.next===Fn||c){if(jt(n,o,!i||i.firstInSequence?r:0,a-1+r),!t)break;n=null,a=0}}else l.key&&G(l)&&!oi[l.key]&&(ni[l.key]||(o=Ve(),xt(l.key,!1,o,ui(o,l.key,1,1,l.hints))))}0!==Xn||Zn||Tn!==s||kt(Ve())}function Ot(){var e=Tn;do ri=!1,si=!0,Tt(Rn.next,!0),si=!1;while(0===Xn&&ri&&Tn===e&&Gn);0===Xn&&Tn===e&&Kt()}function At(e){var t=Tn;if(e){var n=Wn[e];n||(n=Rn.next);do ai=!1,li=!0,Tt(n,!1),li=!1;while(ai&&Tn===t&&Gn)}si?ri=!0:0===Xn&&Tn===t&&Ot()}function Mt(e){if("object"===("undefined"==typeof e?"undefined":a(e))&&e){if(e===Ln)return $n;if(e===Nn)return ei;if(e.key)return ni[e.key];throw new o("WinJS.UI.ListDataSource.InvalidKeyReturned",y.invalidKeyReturned)}throw new o("WinJS.UI.ListDataSource.InvalidItemReturned",y.invalidItemReturned)}function Dt(e,t){for(;void 0===e.index;){if(R(e,t,ii),e.firstInSequence)return!0;e=e.prev,t--}return e.index===t||(Et(),!1)}function Lt(e,t){e.key=t.key,ni[e.key]=e,e.item=t}function Nt(){for(var e=ei;!e.firstInSequence;)if(e=e.prev,e===$n)return null;return e}function Bt(e,t,n,i,o){o=S(o),i=I(i);var r=!1;Zn=!0;var s=o-n,a=t[0];a.key===e&&(r=!0);var l=Mt(a);if(l){if(+s===s&&!Dt(l,s))return}else{if(ii[s])return void Et();var u;if(void 0!==o&&(u=ii[s-1])){if(!u.lastInSequence)return void Et();l=V(u,ii)}else{var c=+s===s?K(s,ii,$n,ei):Nt($n,ei);if(!c)return void Et();l=z(c,s,ii)}Lt(l,t[0])}for(var d=t.length,h=1;h<d;h++){a=t[h],a.key===e&&(r=!0);var m=Mt(a);if(m){if(void 0!==l.index&&!Dt(m,l.index+1))return;if(m!==l.next){if(!l.lastInSequence||!m.firstInSequence)return void Et();var p=O(m);if(p!==ei)M(l,m,p);else{var f=T(l);if(f===$n)return void Et();A(m,f,l)}D(l)}else l.lastInSequence&&D(l)}else{if(!l.lastInSequence)return void Et();m=V(l,ii),Lt(m,a)}l=m}if(r||(oi[e]=!0),!C(i)&&!ei.firstInSequence){var g=ei.prev.index;void 0!==g&&(i=g+1)}if(C(i)||i===_.unknown){if(C(Qn)){if(i!==Qn)return void Et()}else Qn=i;C(Qn)&&!ii[Qn]&&R(ei,Qn,ii)}li?ai=!0:At(e)}function Rt(e,t,n){switch(n.name){case g.noResponse:ze(f.failure);break;case g.doesNotExist:t?(R(ei,0,ii),Qn=0,Kt()):(oi[e]=!0,li?ai=!0:At(e))}}function Ft(e){return e===$n?Rn:e===ei?Fn:Wn[e.key]}function zt(e){return e===Rn?$n:e===Fn?ei:ni[e.key]}function Ht(e){D(e),e.next.mergedForRefresh=!0}function Wt(e,t){B(t,e.key),t.itemNew=e.item}function Vt(e,t,n){var i=j();Wt(e,i),N(i,t,n,!n);var o=e.index;return+o!==o&&(o=n?i.prev.index+1:t.next.index-1),R(i,o,Vn),i}function Ut(e,t,n){e?(st(e,t,e.bindingMap),lt(e,t,n.item)):(Wt(n,t),t.indexRequested&&ot(t))}function qt(e,t,n){return!t.key&&(e?(n.mergeWithPrev=!t.firstInSequence,n.mergeWithNext=!t.lastInSequence):n.stationary=!0,Ut(e,t,n),!0)}function Jt(e){var t;if(e.indexRequested)t=e.index;else{var n=zt(e);n&&(t=n.index)}return t}function Kt(){pi=0,fi=new Array(100),_i=-1,kn=!0,ti={};var e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v=[],y=[];for(p=0,a=$n;a;a=a.next)a.sequenceNumber=p,a.firstInSequence&&(u=a),a.lastInSequence&&(y[p]={first:u,last:a,matchingItems:0},p++);for(qn=null,Un=0,n=Rn.next;n!==zn;)a=ni[n.key],o=n.next,n!==Fn&&(ne(n)?n.key&&!a?ye(n,!1):0===Qn||n.indexRequested&&n.index>=Qn?ye(n,!0):n.item||n.keyRequested?n.itemNew=a.item:n.key&&(n.keyRequested||(delete Wn[n.key],delete n.key),n.itemNew=null):ie(n)),n=o;for(n=Rn.next;n!==Fn;)o=n.next,n.indexRequested&&(a=ii[n.index],a&&Ut(Ft(a),n,a)),n=o;var b,w,C,E,S,I=0,x=[];for(c=0,n=Rn;n!==zn;n=n.next){if(n.firstInSequence)for(u=n,C=null,e=0;e<p;e++)x[e]=0;if(n.indexRequested&&(C=n),a=zt(n),a&&x[a.sequenceNumber]++,n.lastInSequence){for(w=0,e=I;e<p;e++)w<x[e]&&(w=x[e],b=e);d={first:u,last:n,sequenceNew:w>0?y[b]:void 0,matchingItems:w},C&&(d.indexRequested=!0,d.stationarySlot=C),v[c]=d,n===Fn&&(E=c,S=d),c++,void 0!==y[b].first.index&&(I=b)}}v[0].sequenceNew!==y[0]&&(L(Rn),v[0].first=Rn.next,v.unshift({first:Rn,last:Rn,sequenceNew:y[0],matchingItems:1}),E++,c++);var j=!Fn.firstInSequence;for(S.sequenceNew!==y[p-1]&&(L(Fn.prev),S.last=Fn.prev,E++,v.splice(E,0,{first:Fn,last:Fn,sequenceNew:y[p-1],matchingItems:1}),c++,S=v[E]),e=0;e<c;e++)f=v[e].sequenceNew,f&&f.matchingItems<v[e].matchingItems&&(f.matchingItems=v[e].matchingItems,f.sequenceOld=v[e]);for(y[p-1].sequenceOld=S,S.stationarySlot=Fn,y[0].sequenceOld=v[0],v[0].stationarySlot=Rn,e=0;e<=E;e++)d=v[e],d.sequenceNew&&(m=d.sequenceNew.sequenceOld)===h&&h.last!==Fn?(Ht(m.last),m.last=d.last,delete v[e]):h=d;for(h=null,e=E;e>=0;e--)d=v[e],d&&(d.sequenceNew&&(m=d.sequenceNew.sequenceOld)===h&&d.last!==Fn?(Ht(d.last),m.first=d.first,delete v[e]):h=d);j&&delete Fn.mergedForRefresh;var k=[];for(e=E+1;e<c;e++)if(d=v[e],d&&(!d.sequenceNew||d.sequenceNew.sequenceOld!==d)){var P=!0,T=null,O=null,N=0;for(a=zt(d.first),a&&(T=O=a,N=1),n=d.first;n!==d.last;n=n.next){var B=zt(n.next);if(a&&B&&(a.lastInSequence||a.next!==B)){P=!1;break}a&&!T&&(T=O=a),B&&T&&(O=B,N++),a=B}if(P&&T&&void 0!==T.index){var R;T.firstInSequence||(r=Ft(T.prev),r&&(R=r.index));var F;if(O.lastInSequence||(s=Ft(O.next),s&&(F=s.index)),(!s||s.lastInSequence||s.mergedForRefresh)&&(void 0===R||void 0===F||F-R-1>=N)){for(d.locationJustDetermined=!0,a=T;a.locationJustDetermined=!0,a!==O;a=a.next);var u=Ft(T),z=Ft(O);k.push({slotBeforeSequence:u.firstInSequence?null:u.prev,slotFirstInSequence:u,slotLastInSequence:z,slotAfterSequence:z.lastInSequence?null:z.next})}}}for(e=0;e<c;e++)if(d=v[e],d&&!d.indexRequested&&!d.locationJustDetermined&&(!d.sequenceNew||d.sequenceNew.sequenceOld!==d)){d.sequenceNew=null,n=d.first;var H;do{if(H=n===d.last,o=n.next,n!==Rn&&n!==Fn&&n!==zn&&!n.item&&!n.keyRequested)if(ye(n,!0),d.first===n){if(d.last===n){delete v[e];break}d.first=n.next}else d.last===n&&(d.last=n.prev);n=o}while(!H)}for(e=0;e<p;e++){for(f=y[e],a=f.first;!Ft(a)&&!a.lastInSequence;a=a.next);if(a.lastInSequence&&!Ft(a))f.firstInner=f.lastInner=null;else{for(f.firstInner=a,a=f.last;!Ft(a);a=a.prev);f.lastInner=a}}for(e=0;e<p;e++)if(f=y[e],f&&f.firstInner&&(d=f.sequenceOld)){var W=0;for(n=d.first;!0&&(a=zt(n),a&&a.sequenceNumber===f.firstInner.sequenceNumber&&(a.ordinal=W),!n.lastInSequence);n=n.next,W++);var V=[];for(a=f.firstInner;!0;a=a.next){if(W=a.ordinal,void 0!==W){for(var U=0,q=V.length-1;U<=q;){var J=Math.floor(.5*(U+q));V[J].ordinal<W?U=J+1:q=J-1}V[U]=a,U>0&&(a.predecessor=V[U-1])}if(a===f.lastInner)break}var K=[],Y=V.length;for(a=V[Y-1],t=Y;t--;)a.stationary=!0,K[t]=a,a=a.predecessor;d.stationarySlot=Ft(K[0]),a=K[0],n=Ft(a),i=n.prev;for(var X=n.firstInSequence;!a.firstInSequence;)if(a=a.prev,l=Ft(a),!l||a.locationJustDetermined)for(;!X&&i!==Rn&&(n=i,i=n.prev,X=n.firstInSequence,!qt(l,n,a)););for(t=0;t<Y-1;t++){a=K[t],n=Ft(a);var l,Z=K[t+1],Q=null,ee=Ft(Z);for(o=n.next,a=a.next;a!==Z&&!Q&&n!==ee;a=a.next)if(l=Ft(a),!l||a.locationJustDetermined)for(;o!==ee;){if(o.mergedForRefresh){Q=a.prev;break}if(n=o,o=n.next,qt(l,n,a))break}if(Q)for(i=ee.prev,a=Z.prev;a!==Q&&ee!==n;a=a.prev)if(l=Ft(a),!l||a.locationJustDetermined)for(;i!==n&&(ee=i,i=ee.prev,!qt(l,ee,a)););for(;o!==ee;)n=o,o=n.next,n!==Rn&&G(n)&&!n.keyRequested&&ye(n)}for(a=K[Y-1],n=Ft(a),o=n.next,X=n.lastInSequence;!a.lastInSequence;)if(a=a.next,l=Ft(a),!l||a.locationJustDetermined)for(;!X&&o!==Fn&&(n=o,o=n.next,X=n.lastInSequence,!qt(l,n,a)););}for(e=0;e<p;e++)if(f=y[e],f.firstInner)for(i=null,a=f.firstInner;!0;a=a.next){if(n=Ft(a)){if(!a.stationary){var te,oe=!1,re=!1;if(i)te=i.next,oe=!0;else{var se;for(se=f.firstInner;!se.stationary&&se!==f.lastInner;se=se.next);if(se.stationary)te=Ft(se),re=!0;else if(_=a.index,0===_)te=Rn.next,oe=!0;else if(void 0===_)te=zn;else{te=Rn.next;for(var ae=null;;){if(te.firstInSequence&&(ae=te),_<te.index&&ae||te===Fn)break;te=te.next}!te.firstInSequence&&ae&&(te=ae)}}n.mergedForRefresh&&(delete n.mergedForRefresh,n.lastInSequence||(n.next.mergedForRefresh=!0)),oe=oe||a.mergeWithPrev,re=re||a.mergeWithNext;var le=a.locationJustDetermined;ve(n,te,oe,re,le),le&&re&&(te.mergedForRefresh=!0)}i=n}if(a===f.lastInner)break}for(e=0;e<p;e++)if(f=y[e],f.firstInner)for(i=null,a=f.firstInner;!0;a=a.next){if(n=Ft(a),!n){var ce;if(i)ce=i.next;else{var de;for(de=f.firstInner;!Ft(de);de=de.next);ce=Ft(de)}n=Vt(a,ce,!!i);var B=zt(ce);ce.mergedForRefresh||B&&B.locationJustDetermined||($(n),_e(n))}if(i=n,a===f.lastInner)break}Vn=[];var me=-1;for(n=Rn,g=0;n!==zn;g++){var o=n.next;if(n.firstInSequence&&(u=n,g=0),void 0===me){var fe=Jt(n);void 0!==fe&&(me=fe-g)}if(void 0!==me&&!n.lastInSequence){var ge=Jt(n.next);if(void 0!==ge&&ge!==me+g+1){L(n);for(var be=!0,we=n.next,Ce=!1;!Ce&&we!==Fn;){var Ee=we.next;Ce=we.lastInSequence,ve(we,Ee,!be,!1),be=!1,we=Ee}}}if(n.lastInSequence){_=me;for(var Se=u;Se!==o;){var Ie=Se.next;if(_>=Qn&&Se!==Fn)ye(Se,!0);else{var xe=Vn[_];_!==Se.index?(delete Vn[_],pe(Se,_)):+_===_&&Vn[_]!==Se&&(Vn[_]=Se),Se.itemNew&&ot(Se),xe&&(Se.key?(st(Se,xe,Se.bindingMap),at(Se,xe),+_===_&&(Vn[_]=Se)):(st(xe,Se,xe.bindingMap),at(xe,Se),+_===_&&(Vn[_]=xe))),+_===_&&_++}Se=Ie}me=void 0}n=o}var je,ke=-2;for(n=Rn,g=0;n!==zn;g++){var o=n.next;if(n.firstInSequence&&(u=n,g=0),delete n.mergedForRefresh,n.lastInSequence)if(void 0===u.index){r=u.prev;var Te;r&&(Te=zt(r))&&!Te.lastInSequence&&(a=zt(n))&&a.prev===Te?(M(r,u,n),D(r)):n===Fn||je||A(zn,u,n)}else{if(ke<n.index&&!je)ke=n.index;else{for(s=Rn.next;s.index<n.index;s=s.next);for(var we=u;we!==o;){var Ee=we.next;a=zt(we),ve(we,s,s.prev.index===we.index-1,s.index===we.index+1,a&&a.locationJustDetermined),we=Ee}}r=u.prev,r&&r.index===u.index-1&&D(r)}n===Fn&&(je=!0),n=o}kn=!1,ft(k),void 0!==Qn&&Qn!==Bn&&he(Qn),ue();var Oe=[];for(e=0;e<p;e++){f=y[e];var Ae=[];n=null,g=0;var Me;for(a=f.first;!0&&(a===$n?Ae.push(Ln):a===ei?Ae.push(Nn):(Ae.push(a.item),n||(n=Ft(a),Me=g)),!a.lastInSequence);a=a.next,g++);n&&Oe.push({slot:n,results:Ae,offset:Me})}for(Ct(),Gn=!1,Pe(),e=0;e<Oe.length;e++){var De=Oe[e];gt(De.slot,De.results,De.offset,Bn,De.slot.index)}if(Yn){var Le=Yn;Yn=null,Le.complete()}tt()}function Gt(e,t,n,i,o,r,s){var a=Cn.prev,l={prev:a,next:Cn,applyEdit:e,editType:t,complete:n,error:i,keyUpdate:o};a.next=l,Cn.prev=l,En=!0,(Kn||Gn)&&(Tn++,Gn=!1,Kn=!0),Cn.next===l&&Qt(),l.failed||(r(),l.undo=s),bn||$t()}function Yt(){wn=!1;var e=Cn.next.next;Cn.next=e,e.prev=Cn}function Xt(){for(;Cn.prev!==Cn;){var e=Cn.prev;e.error&&e.error(new o(v.canceled)),e.undo&&!Kn&&e.undo(),Cn.prev=e.prev}Cn.next=Cn,bn=!1,$t()}function Zt(t){function n(){In||(r?Sn=!0:Qt())}function i(e){if(e){var i;if(s&&s.key!==e.key){var o=e.key;if(t.undo){if(i=s.slot){var a=i.key;a&&delete Wn[a],B(i,o),i.itemNew=e,i.item?(ge(i),ue()):ke(i)}}else s.key=o}else t.editType===yi.change&&(i.itemNew=e,r||it(i))}Yt(),t.complete&&t.complete(e),n()}function o(e){switch(e.Name){case v.noResponse:return ze(f.failure),In=!0,void(wn=!1);case v.notPermitted:break;case v.noLongerMeaningful:Et()}t.failed=!0,Yt(),Xt(),t.error&&t.error(e),n()}if(!wn){var r=!0,s=t.keyUpdate;e.beginEdits&&!yn&&(yn=!0,e.beginEdits()),wn=!0,t.applyEdit().then(i,o),r=!1}}function Qt(){for(;Cn.next!==Cn;)if(Sn=!1,Zt(Cn.next),!Sn)return;en()}function $t(){Ie(),ue(),Pe(),Cn.next===Cn&&en()}function en(){En=!1,e.endEdits&&yn&&!bn&&(yn=!1,e.endEdits()),Kn?(Kn=!1,Et()):tt()}function tn(e){return Le(e),Wn[e]||Ne(e)}function nn(e,t,n,i,o){var r=j();return N(r,n,i,o),e&&B(r,e),r.itemNew=t,Ee(r,1),bn||xn||(r.firstInSequence||"number"!=typeof r.prev.index?r.lastInSequence||"number"!=typeof r.next.index||R(r,r.next.index-1,Vn):R(r,r.prev.index+1,Vn)),$(r),_e(r),r}function on(e,t,n,i,o){var r={key:e};return new c(function(e,s){Gt(o,yi.insert,e,s,r,function(){if(n){var e={key:r.key,data:t};r.slot=nn(r.key,e,n,i,!i)}},function(){var e=r.slot;e&&(Ee(e,-1),ye(e,!1))})})}function rn(e,t,n,i){return new c(function(o,r){var s,a,l,u;Gt(i,yi.move,o,r,null,function(){a=e.next,l=e.firstInSequence,u=e.lastInSequence;var i=e.prev;s="number"!=typeof e.index&&(l||!i.item)&&(u||!a.item),Ee(e,-1),ve(e,t,n,!n),Ee(e,1),s&&(L(i),l||mt(i,e),u||pt(a,e))},function(){s?Et():(Ee(e,-1),ve(e,a,!l,!u),Ee(e,1))})})}function sn(){function e(){xn||(Ie(),ue(),Pe())}this.invalidateAll=function(){return 0===Bn?(this.reload(),c.wrap()):St()},this.reload=function(){gn&&gn.cancel(),Yn&&Yn.cancel();for(var e=Rn.next;e!==zn;e=e.next){var t=e.fetchListeners;for(var n in t)t[n].promise.cancel();var i=e.directFetchListeners;for(var n in i)i[n].promise.cancel()}an(),se(function(e){e.notificationHandler&&e.notificationHandler.reload()})},this.beginNotifications=function(){xn=!0},this.inserted=function(t,n,i,o){if(En)Et();else{var r=t.key,s=Wn[n],a=Wn[i],l="string"==typeof n,u="string"==typeof i;if(l?a&&!a.firstInSequence&&(s=a.prev):u&&s&&!s.lastInSequence&&(a=s.next),(l||u)&&!s&&!a&&Rn.next===Fn)return void Et();if(Wn[r])return void Et();if(s&&a&&(s.next!==a||s.lastInSequence||a.firstInSequence))return void Et();if(s&&(s.keyRequested||s.indexRequested)||a&&(a.keyRequested||a.indexRequested))return void Et();if(s||a)nn(r,t,a?a:s.next,!!s,!!a);else if(Rn.next===Fn)nn(r,t,Rn.next,!0,!0);else{if(void 0===o)return void Et();Se(o,1)}e()}},this.changed=function(t){if(En)Et();else{var n=t.key,i=Wn[n];i&&(i.keyRequested?Et():(i.itemNew=t,i.item&&(ge(i),e())))}},this.moved=function(t,n,i,o,r){if(En)Et();else{var s=t.key,a=Wn[s],l=Wn[n],u=Wn[i];a&&a.keyRequested||l&&l.keyRequested||u&&u.keyRequested?Et():a?l&&u&&(l.next!==u||l.lastInSequence||u.firstInSequence)?Et():l||u?(Ee(a,-1),ve(a,u?u:l.next,!!l,!!u),Ee(a,1),e()):(Ee(a,-1),ye(a,!1),void 0!==o&&(o<r&&r--,Se(r,1)),e()):l||u?(void 0!==o&&(Se(o,-1),o<r&&r--),this.inserted(t,n,i,r)):void 0!==o&&(Se(o,-1),o<r&&r--,Se(r,1),e())}},this.removed=function(t,n){if(En)Et();else{var i;i="string"==typeof t?Wn[t]:Vn[n],i?i.keyRequested?Et():(Ee(i,-1),ye(i,!1),e()):void 0!==n&&(Se(n,-1),e())}},this.endNotifications=function(){xn=!1,e()}}function an(){ze(f.ready),gn=null,yn=!1,bn=!1,wn=!1,Cn={},Cn.next=Cn,Cn.prev=Cn,En=!1,In=!1,jn=0,kn=!1,Pn=0,Mn={},Dn=[],Bn=_.unknown,Rn={firstInSequence:!0,lastInSequence:!0,index:-1},Fn={firstInSequence:!0,lastInSequence:!0},zn={firstInSequence:!0,lastInSequence:!0},Rn.next=Fn,Fn.prev=Rn,Fn.next=zn,zn.prev=Fn,Hn={},Wn={},Vn={},Vn[-1]=Rn,Un=0,qn=null,Jn=!1,Kn=!1,Gn=!1,Yn=null}var ln,un,cn,dn,hn,mn,pn,fn,_n,gn,vn,yn,bn,wn,Cn,En,Sn,In,xn,jn,kn,Pn,Tn,On,An,Mn,Dn,Ln,Nn,Bn,Rn,Fn,zn,Hn,Wn,Vn,Un,qn,Jn,Kn,Gn,Yn,Xn,Zn,Qn,$n,ei,ti,ni,ii,oi,ri,si,ai,li,ui,ci,di,hi,mi,pi=0,fi=new Array(100),_i=-1;e.itemsFromKey&&(ui=function(t,n,i,o,s){var a="fetchItemsFromKey id="+t+" key="+n+" countBefore="+i+" countAfter="+o;r(a),fi[++_i%fi.length]={kind:"itemsFromKey",key:n,countBefore:i,countAfter:o};var l=e.itemsFromKey(n,i,o,s);return w(a),l}),e.itemsFromIndex&&(ci=function(t,n,i,o){var s="fetchItemsFromIndex id="+t+" index="+n+" countBefore="+i+" countAfter="+o;r(s),fi[++_i%fi.length]={kind:"itemsFromIndex",index:n,countBefore:i,countAfter:o};var a=e.itemsFromIndex(n,i,o);return w(s),a}),e.itemsFromStart&&(di=function(t,n){var i="fetchItemsFromStart id="+t+" count="+n;r(i),fi[++_i%fi.length]={kind:"itemsFromStart",count:n};var o=e.itemsFromStart(n);return w(i),o}),e.itemsFromEnd&&(hi=function(t,n){var i="fetchItemsFromEnd id="+t+" count="+n;r(i),fi[++_i%fi.length]={kind:"itemsFromEnd",count:n};var o=e.itemsFromEnd(n);return w(i),o}),e.itemsFromDescription&&(mi=function(t,n,i,o){var s="fetchItemsFromDescription id="+t+" desc="+n+" countBefore="+i+" countAfter="+o;r(s),fi[++_i%fi.length]={kind:"itemsFromDescription",description:n,countBefore:i,countAfter:o};var a=e.itemsFromDescription(n,i,o);return w(s),a});var gi=++p,vi=this,yi={insert:"insert",change:"change",move:"move",remove:"remove"};if(!e)throw new o("WinJS.UI.ListDataSource.ListDataAdapterIsInvalid",y.listDataAdapterIsInvalid);un=e.compareByIdentity?0:200,n&&"number"==typeof n.cacheSize&&(un=n.cacheSize),e.setNotificationHandler&&(ln=new sn,e.setNotificationHandler(ln)),cn=f.ready,hn=!1,mn={},pn=0,fn=1,_n=0,Tn=0,On=!1,An=1,Ln={},Nn={},an(),this.createListBinding=function(e){function t(e){e&&e.cursorCount++}function n(e){e&&0===--e.cursorCount&&re(e)}function i(e){t(e),n(h),h=e}function o(e,t){e===h&&(t||(t=!h||h.lastInSequence||h.next===Fn?null:h.next),i(t))}function r(e){var t=e.bindingMap,n=t[d].handle;delete e.bindingMap[d];var i=!0,o=!0;for(var r in t)if(i=!1,n&&t[r].handle===n){o=!1;break}n&&o&&delete Hn[n],i&&(e.bindingMap=null,re(e))}function s(e,t){e.bindingMap||(e.bindingMap={});var n=e.bindingMap[d];if(n?n.count++:e.bindingMap[d]={bindingRecord:mn[d],count:1},e.fetchListeners){var i=e.fetchListeners[t];i&&(i.retained=!0)}}function a(e){var t=Hn[e];if(t){var n=t.bindingMap[d];if(0===--n.count){var i=t.fetchListeners;for(var o in i){var s=i[o];s.listBindingID===d&&(s.retained=!1)}r(t)}}}function l(t){var n=ce(t,d),i=(_n++).toString(),o=xe(t,"fetchListeners",i,d,function(e,t){e(de(t,n))});return X(o,t,n),e&&(o.retain=function(){return p._retainItem(t,i),o},o.release=function(){p._releaseItem(n)}),o}function u(t){var n;return!m&&t?n=l(t):(m?(n=new c(function(){}),n.cancel()):n=c.wrap(null),Y(n,null),e&&(n.retain=function(){return n},n.release=function(){})),i(t),n}var d=(pn++).toString(),h=null,m=!1;mn[d]={notificationHandler:e,notificationsSent:!1,adjustCurrentSlot:o,itemPromiseFromKnownSlot:l};var p={_retainItem:function(e,t){s(e,t)},_releaseItem:function(e){a(e)},jumpToItem:function(e){return u(e?Hn[e.handle]:null)},current:function(){return u(h)},previous:function(){return u(h?Ae(h):null)},next:function(){return u(h?Me(h):null)},releaseItem:function(e){this._releaseItem(e.handle)},release:function(){m=!0,n(h),h=null;for(var e=Rn.next;e!==zn;){var t=e.next,i=e.fetchListeners;for(var o in i){var s=i[o];s.listBindingID===d&&(s.promise.cancel(),delete i[o])}e.bindingMap&&e.bindingMap[d]&&r(e),e=t}delete mn[d]}};return(di||ci)&&(p.first=function(){return u(Me(Rn))}),hi&&(p.last=function(){return u(Ae(Fn))}),ui&&(p.fromKey=function(e,t){return u(Be(e,t))}),(ci||di&&ui)&&(p.fromIndex=function(e){return u(Re(e))}),mi&&(p.fromDescription=function(e){return u(Fe(e))}),p},this.invalidateAll=function(){return St()};var bi=function(e,t){var n=new h;e.then(function(e){n.complete(e)},function(e){n.error(e)});var i=n.promise.then(null,function(n){return"WinJS.UI.VirtualizedDataSource.resetCount"===n.name?(gn=null,e=t.getCount()):c.wrapError(n)}),r=0,s={get:function(){return r++,new c(function(e,t){i.then(e,t)},function(){0===--r&&(n.promise.cancel(),e.cancel(),s===gn&&(gn=null))})},reset:function(){n.error(new o("WinJS.UI.VirtualizedDataSource.resetCount"))},cancel:function(){n.promise.cancel(),e.cancel(),s===gn&&(gn=null)}};return s};this.getCount=function(){if(e.getCount){var t=this;return c.wrap().then(function(){if(bn||En)return Bn;var n;if(!gn){var i;n=e.getCount();var o;n.then(function(){gn===i&&(gn=null),o=!0},function(){gn===i&&(gn=null),o=!0}),jn=0,o||(i=gn=bi(n,t))}return gn?gn.get():n}).then(function(e){if(!E(e)&&void 0!==e)throw new o("WinJS.UI.ListDataSource.InvalidRequestedCountReturned",y.invalidRequestedCountReturned);return e!==Bn&&(Bn===_.unknown?Bn=e:(he(e),ue())),0===e&&(Rn.next!==Fn||Fn.next!==zn?Et():Rn.lastInSequence&&(D(Rn),Fn.index=0)),e}).then(null,function(e){return e.name===m.CountError.noResponse?(ze(f.failure),Bn):c.wrapError(e)})}return c.wrap(Bn)},ui&&(this.itemFromKey=function(e,t){return De(Be(e,t))}),(ci||di&&ui)&&(this.itemFromIndex=function(e){return De(Re(e))}),mi&&(this.itemFromDescription=function(e){return De(Fe(e))}),this.beginEdits=function(){bn=!0},e.insertAtStart&&(this.insertAtStart=function(t,n){return on(t,n,Rn.lastInSequence?null:Rn.next,!0,function(){return e.insertAtStart(t,n)})}),e.insertBefore&&(this.insertBefore=function(t,n,i){var o=tn(i);return on(t,n,o,!1,function(){return e.insertBefore(t,n,i,we(o))})}),e.insertAfter&&(this.insertAfter=function(t,n,i){var o=tn(i);return on(t,n,o?o.next:null,!0,function(){return e.insertAfter(t,n,i,we(o))})}),e.insertAtEnd&&(this.insertAtEnd=function(t,n){return on(t,n,Fn.firstInSequence?null:Fn,!1,function(){return e.insertAtEnd(t,n)})}),e.change&&(this.change=function(t,n){var i=tn(t);return new c(function(o,r){var s;Gt(function(){return e.change(t,n,we(i))},yi.change,o,r,null,function(){s=i.item,i.itemNew={key:t,data:n},s?ge(i):ke(i)},function(){s?(i.itemNew=s,ge(i)):Et()})})}),e.moveToStart&&(this.moveToStart=function(t){var n=tn(t);return rn(n,Rn.next,!0,function(){return e.moveToStart(t,we(n))})}),e.moveBefore&&(this.moveBefore=function(t,n){var i=tn(t),o=tn(n);return rn(i,o,!1,function(){return e.moveBefore(t,n,we(i),we(o))})}),e.moveAfter&&(this.moveAfter=function(t,n){var i=tn(t),o=tn(n);return rn(i,o.next,!0,function(){return e.moveAfter(t,n,we(i),we(o))})}),e.moveToEnd&&(this.moveToEnd=function(t){var n=tn(t);return rn(n,Fn,!1,function(){return e.moveToEnd(t,we(n))})}),e.remove&&(this.remove=function(t){Le(t);var n=Wn[t];return new c(function(i,o){var r,s,a;Gt(function(){return e.remove(t,we(n))},yi.remove,i,o,null,function(){n&&(r=n.next,s=n.firstInSequence,a=n.lastInSequence,Ee(n,-1),ye(n,!1))},function(){n&&(U(n,r,!s,!a),Ee(n,1),_e(n))})})}),this.endEdits=function(){bn=!1,$t()}}var l=100,p=1,f=m.DataSourceStatus,_=m.CountResult,g=m.FetchError,v=m.EditError,y={get listDataAdapterIsInvalid(){return"Invalid argument: listDataAdapter must be an object or an array."},get indexIsInvalid(){return"Invalid argument: index must be a non-negative integer."},get keyIsInvalid(){return"Invalid argument: key must be a string."},get invalidItemReturned(){return"Error: data adapter returned item that is not an object."},get invalidKeyReturned(){return"Error: data adapter returned item with undefined or null key."},get invalidIndexReturned(){return"Error: data adapter should return undefined, null or a non-negative integer for the index."},get invalidCountReturned(){return"Error: data adapter should return undefined, null, CountResult.unknown, or a non-negative integer for the count."},get invalidRequestedCountReturned(){return"Error: data adapter should return CountResult.unknown, CountResult.failure, or a non-negative integer for the count."},get refreshCycleIdentified(){return"refresh cycle found, likely data inconsistency"}},b="statuschanged",w=n.Class.define(function(){},{_baseDataSourceConstructor:e,_isVirtualizedDataSource:!0},{supportedForProcessing:!1});return n.Class.mix(w,r.eventMixin),w})})}),i("WinJS/VirtualizedDataSource/_GroupDataSource",["exports","../Core/_Base","../Core/_ErrorFromName","../Promise","../Scheduler","../Utilities/_UI","./_VirtualizedDataSourceImpl"],function(e,t,n,i,o,r,s){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_GroupDataSource:t.Namespace._lazy(function(){function e(){return new n(r.FetchError.doesNotExist)}function a(e){return e&&e.firstReached&&e.lastReached}var l=101,u=t.Class.define(function(e){this._groupDataAdapter=e},{beginNotifications:function(){},inserted:function(e,t,n){this._groupDataAdapter._inserted(e,t,n)},changed:function(e,t){this._groupDataAdapter._changed(e,t)},moved:function(e,t,n){this._groupDataAdapter._moved(e,t,n)},removed:function(e,t){this._groupDataAdapter._removed(e,t)},countChanged:function(e,t){0===e&&0!==t&&this._groupDataAdapter.invalidateGroups()},indexChanged:function(e,t,n){this._groupDataAdapter._indexChanged(e,t,n)},endNotifications:function(){this._groupDataAdapter._endNotifications()},reload:function(){this._groupDataAdapter._reload()}},{supportedForProcessing:!1}),c=t.Class.define(function(e,t,n,i){this._listBinding=e.createListBinding(new u(this)),this._groupKey=t,this._groupData=n,this._initializeState(),this._batchSize=l,this._count=null,i&&("number"==typeof i.groupCountEstimate&&(this._count=i.groupCountEstimate<0?null:Math.max(i.groupCountEstimate,1)),"number"==typeof i.batchSize&&(this._batchSize=i.batchSize+1)),this._listBinding.last&&(this.itemsFromEnd=function(e){var t=this;return this._fetchItems(function(){return t._lastGroup},function(e){if(e)return!1;var n=t._count;return+n!==n||(n>0||void 0)},function(){t._fetchBatch(t._listBinding.last(),t._batchSize-1,0)},e-1,0)})},{setNotificationHandler:function(e){this._listDataNotificationHandler=e},compareByIdentity:!0,itemsFromKey:function(e,t,n,i){var o=this;return this._fetchItems(function(){return o._keyMap[e]},function(){var e=o._lastGroup;return!e||(+e.index!==e.index||void 0)},function(){i=i||{};var e="string"==typeof i.groupMemberKey&&o._listBinding.fromKey?o._listBinding.fromKey(i.groupMemberKey):"number"==typeof i.groupMemberIndex&&o._listBinding.fromIndex?o._listBinding.fromIndex(i.groupMemberIndex):void 0!==i.groupMemberDescription&&o._listBinding.fromDescription?o._listBinding.fromDescription(i.groupMemberDescription):o._listBinding.first(),t=Math.floor(.5*(o._batchSize-1));o._fetchBatch(e,t,o._batchSize-1-t)},t,n)},itemsFromIndex:function(e,t,n){var i=this;return this._fetchItems(function(){return i._indexMap[e]},function(){var t=i._lastGroup;return!t||(+t.index!==t.index||(e<=t.index||void 0))},function(){i._fetchNextIndex()},t,n)},getCount:function(){if(this._lastGroup&&"number"==typeof this._lastGroup.index)return i.wrap(this._count);var e=this,t=new i(function(t){var n={initialBatch:function(){e._fetchNextIndex()},getGroup:function(){return null},countBefore:0,countAfter:0,complete:function(n){n&&(e._count=0);var i=e._count;return"number"==typeof i&&(t(i),!0)}};e._fetchQueue.push(n),e._itemBatch||e._continueFetch(n)});return"number"==typeof this._count?i.wrap(this._count):t},invalidateGroups:function(){this._beginRefresh(),this._initializeState()},_initializeState:function(){this._count=null,this._indexMax=null,this._keyMap={},this._indexMap={},this._lastGroup=null,this._handleMap={},this._fetchQueue=[],this._itemBatch=null,this._itemsToFetch=0,this._indicesChanged=!1},_releaseItem:function(e){delete this._handleMap[e.handle],
this._listBinding.releaseItem(e)},_processBatch:function(){for(var e=null,t=null,n=null,i=0,r=!0,s=0;s<this._batchSize;s++){var a=this._itemBatch[s],l=a?this._groupKey(a):null;if(a&&(r=!1),t&&null!==l&&l===t.key)i++,t.lastItem===e?(t.lastItem.handle!==t.firstItem.handle&&this._releaseItem(t.lastItem),t.lastItem=a,this._handleMap[a.handle]=t,t.size++):t.firstItem===a&&(t.firstItem.handle!==t.lastItem.handle&&this._releaseItem(t.firstItem),t.firstItem=n,this._handleMap[n.handle]=t,t.size+=i);else{var u=null;if(t&&(t.lastReached=!0,"number"==typeof t.index&&(u=t.index+1)),a){var c=this._keyMap[l];if(c||(c={key:l,data:this._groupData(a),firstItem:a,lastItem:a,size:1},this._keyMap[c.key]=c,this._handleMap[a.handle]=c),s>0&&(c.firstReached=!0,t||(u=0)),"number"!=typeof c.index&&"number"==typeof u){for(var d=c;d;d=this._nextGroup(d))d.index=u,this._indexMap[u]=d,u++;this._indexMax=u,"number"==typeof this._count&&!this._lastGroup&&this._count<=this._indexMax&&(this._count=this._indexMax+1)}n=a,i=0,t=c}else t&&(this._lastGroup=t,"number"==typeof t.index&&(this._count=t.index+1),this._listDataNotificationHandler.invalidateAll(),t=null)}e=a}var h;for(h=this._fetchQueue[0];h&&h.complete(r);h=this._fetchQueue[0])this._fetchQueue.splice(0,1);if(h){var m=this;o.schedule(function(){m._continueFetch(h)},o.Priority.normal,null,"WinJS.UI._GroupDataSource._continueFetch")}else this._itemBatch=null},_processPromise:function(e,t){e.retain(),this._itemBatch[t]=e;var n=this;e.then(function(e){n._itemBatch[t]=e,0===--n._itemsToFetch&&n._processBatch()})},_fetchBatch:function(e,t){this._itemBatch=new Array(this._batchSize),this._itemsToFetch=this._batchSize,this._processPromise(e,t);var n;for(this._listBinding.jumpToItem(e),n=t-1;n>=0;n--)this._processPromise(this._listBinding.previous(),n);for(this._listBinding.jumpToItem(e),n=t+1;n<this._batchSize;n++)this._processPromise(this._listBinding.next(),n)},_fetchAdjacent:function(e,t){this._fetchBatch(this._listBinding.fromKey?this._listBinding.fromKey(e.key):this._listBinding.fromIndex(e.index),t?0:this._batchSize-1,t?this._batchSize-1:0)},_fetchNextIndex:function(){var e=this._indexMap[this._indexMax-1];e?this._fetchAdjacent(e.lastItem,!0):this._fetchBatch(this._listBinding.first(),1,this._batchSize-2)},_continueFetch:function(e){if(e.initialBatch)e.initialBatch(),e.initialBatch=null;else{var t=e.getGroup();if(t){var n,i;t.firstReached?t.lastReached?e.countBefore>0&&0!==t.index&&!a(n=this._previousGroup(t))?this._fetchAdjacent(n&&n.lastReached?n.firstItem:t.firstItem,!1):(i=this._nextGroup(t),this._fetchAdjacent(i&&i.firstReached?i.lastItem:t.lastItem,!0)):this._fetchAdjacent(t.lastItem,!0):this._fetchAdjacent(t.firstItem,!1)}else this._fetchNextIndex()}},_fetchComplete:function(e,t,n,i,o){if(a(e)){var s=this._previousGroup(e);if(i||a(s)||0===e.index||0===t){var l=this._nextGroup(e);if(i||a(l)||this._lastGroup===e||0===n){for(var u=0,c=e;u<t&&(s=this._previousGroup(c),a(s));)c=s,u++;for(var d=0,h=e;d<n&&(l=this._nextGroup(h),a(l));)h=l,d++;for(var m=u+1+d,p=new Array(m),f=0;f<m;f++){var _={key:c.key,data:c.data,firstItemKey:c.firstItem.key,groupSize:c.size},g=c.firstItem.index;"number"==typeof g&&(_.firstItemIndexHint=g),p[f]=_,c=this._nextGroup(c)}var v={items:p,offset:u};return v.totalCount="number"==typeof this._count?this._count:r.CountResult.unknown,"number"==typeof e.index&&(v.absoluteIndex=e.index),h===this._lastGroup&&(v.atEnd=!0),o(v),!0}}}return!1},_fetchItems:function(t,n,o,r,s){var a=this;return new i(function(i,l){function u(o){var u=t();return u?a._fetchComplete(u,r,s,d,i,l):d&&!n(o)?(l(e()),!0):h>2?(l(e()),!0):(o?h++:h=0,!1)}var c=t(),d=!c,h=0;if(!u()){var m={initialBatch:d?o:null,getGroup:t,countBefore:r,countAfter:s,complete:u};a._fetchQueue.push(m),a._itemBatch||a._continueFetch(m)}})},_previousGroup:function(e){return e&&e.firstReached?(this._listBinding.jumpToItem(e.firstItem),this._handleMap[this._listBinding.previous().handle]):null},_nextGroup:function(e){return e&&e.lastReached?(this._listBinding.jumpToItem(e.lastItem),this._handleMap[this._listBinding.next().handle]):null},_invalidateIndices:function(e){this._count=null,this._lastGroup=null,"number"==typeof e.index&&(this._indexMax=e.index>0?e.index:null);for(var t=e;t&&"number"==typeof t.index;t=this._nextGroup(t))delete this._indexMap[t.index],t.index=null},_releaseGroup:function(e){this._invalidateIndices(e),delete this._keyMap[e.key],this._lastGroup===e&&(this._lastGroup=null),e.firstItem!==e.lastItem&&this._releaseItem(e.firstItem),this._releaseItem(e.lastItem)},_beginRefresh:function(){if(this._fetchQueue=[],this._itemBatch){for(var e=0;e<this._batchSize;e++){var t=this._itemBatch[e];t&&(t.cancel&&t.cancel(),this._listBinding.releaseItem(t))}this._itemBatch=null}this._itemsToFetch=0,this._listDataNotificationHandler.invalidateAll()},_processInsertion:function(e,t,n){var i=this._handleMap[t],o=this._handleMap[n],r=null;i&&(i.lastReached&&t===i.lastItem.handle&&(r=this._groupKey(e))!==i.key?this._lastGroup===i&&(this._lastGroup=null,this._count=null):this._releaseGroup(i),this._beginRefresh()),o&&o!==i&&(this._invalidateIndices(o),o.firstReached&&n===o.firstItem.handle&&(null!==r?r:this._groupKey(e))!==o.key||this._releaseGroup(o),this._beginRefresh())},_processRemoval:function(e){var t=this._handleMap[e];if(!t||e!==t.firstItem.handle&&e!==t.lastItem.handle){if(this._itemBatch)for(var n=0;n<this._batchSize;n++){var i=this._itemBatch[n];if(i&&i.handle===e){this._beginRefresh();break}}}else this._releaseGroup(t),this._beginRefresh()},_inserted:function(e,t,n){var i=this;e.then(function(e){i._processInsertion(e,t,n)})},_changed:function(e,t){var n=this._handleMap[e.handle];if(n&&e.handle===n.firstItem.handle&&(this._releaseGroup(n),this._beginRefresh()),this._groupKey(e)!==this._groupKey(t)){this._listBinding.jumpToItem(e);var i=this._listBinding.previous().handle;this._listBinding.jumpToItem(e);var o=this._listBinding.next().handle;this._processRemoval(e.handle),this._processInsertion(e,i,o)}},_moved:function(e,t,n){this._processRemoval(e.handle);var i=this;e.then(function(e){i._processInsertion(e,t,n)})},_removed:function(e,t){t||this._processRemoval(e)},_indexChanged:function(e,t,n){"number"==typeof n&&(this._indicesChanged=!0)},_endNotifications:function(){if(this._indicesChanged){this._indicesChanged=!1;for(var e in this._keyMap){var t=this._keyMap[e];if(t.firstReached&&t.lastReached){var n=t.lastItem.index+1-t.firstItem.index;isNaN(n)||(t.size=n)}}this._beginRefresh()}},_reload:function(){this._initializeState(),this._listDataNotificationHandler.reload()}},{supportedForProcessing:!1});return t.Class.derive(s.VirtualizedDataSource,function(e,t,n,i){var o=new c(e,t,n,i);this._baseDataSourceConstructor(o),this.extensions={invalidateGroups:function(){o.invalidateGroups()}}},{},{supportedForProcessing:!1})})})}),i("WinJS/VirtualizedDataSource/_GroupedItemDataSource",["../Core/_Base","./_GroupDataSource"],function(e,t){"use strict";e.Namespace.define("WinJS.UI",{computeDataSourceGroups:function(e,n,i,o){function r(e){if(e){var t=Object.create(e);return t.groupKey=n(e),i&&(t.groupData=i(e)),t}return null}function s(e){var t=Object.create(e);return t.then=function(t,n,i){return e.then(function(e){return t(r(e))},n,i)},t}var a=Object.create(e);a.createListBinding=function(t){var n;t?(n=Object.create(t),n.inserted=function(e,n,i){return t.inserted(s(e),n,i)},n.changed=function(e,n){return t.changed(r(e),r(n))},n.moved=function(e,n,i){return t.moved(s(e),n,i)}):n=null;for(var i=e.createListBinding(n),o=Object.create(i),a=["first","last","fromDescription","jumpToItem","current"],l=0,u=a.length;l<u;l++)!function(e){i[e]&&(o[e]=function(){return s(i[e].apply(i,arguments))})}(a[l]);return i.fromKey&&(o.fromKey=function(e){return s(i.fromKey(e))}),i.fromIndex&&(o.fromIndex=function(e){return s(i.fromIndex(e))}),o.prev=function(){return s(i.prev())},o.next=function(){return s(i.next())},o};for(var l=["itemFromKey","itemFromIndex","itemFromDescription","insertAtStart","insertBefore","insertAfter","insertAtEnd","change","moveToStart","moveBefore","moveAfter","moveToEnd"],u=0,c=l.length;u<c;u++)!function(t){e[t]&&(a[t]=function(){return s(e[t].apply(e,arguments))})}(l[u]);["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]&&(a[t]=function(){return e[t].apply(e,arguments)})});var d=null;return Object.defineProperty(a,"groups",{get:function(){return d||(d=new t._GroupDataSource(e,n,i,o)),d},enumerable:!0,configurable:!0}),a}})}),i("WinJS/VirtualizedDataSource/_StorageDataSource",["exports","../Core/_WinRT","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_WriteProfilerMark","../Animations","../Promise","../Utilities/_UI","./_VirtualizedDataSourceImpl"],function(e,t,n,i,o,r,s,a,l,u){"use strict";i.Namespace._moduleDefine(e,"WinJS.UI",{StorageDataSource:i.Namespace._lazy(function(){var e=i.Class.define(function(e,n){r("WinJS.UI.StorageDataSource:constructor,StartTM");var i,o=t.Windows.Storage.FileProperties.ThumbnailMode.singleItem,s=256,a=t.Windows.Storage.FileProperties.ThumbnailOptions.useCurrentScale,l=!0;if("Pictures"===e?(o=t.Windows.Storage.FileProperties.ThumbnailMode.picturesView,i=t.Windows.Storage.KnownFolders.picturesLibrary,s=190):"Music"===e?(o=t.Windows.Storage.FileProperties.ThumbnailMode.musicView,i=t.Windows.Storage.KnownFolders.musicLibrary,s=256):"Documents"===e?(o=t.Windows.Storage.FileProperties.ThumbnailMode.documentsView,i=t.Windows.Storage.KnownFolders.documentsLibrary,s=40):"Videos"===e&&(o=t.Windows.Storage.FileProperties.ThumbnailMode.videosView,i=t.Windows.Storage.KnownFolders.videosLibrary,s=190),i){var u=new t.Windows.Storage.Search.QueryOptions;u.folderDepth=t.Windows.Storage.Search.FolderDepth.deep,u.indexerOption=t.Windows.Storage.Search.IndexerOption.useIndexerWhenAvailable,this._query=i.createFileQueryWithOptions(u)}else this._query=e;if(n){if("number"==typeof n.mode&&(o=n.mode),"number"==typeof n.requestedThumbnailSize)s=Math.max(1,Math.min(n.requestedThumbnailSize,1024));else switch(o){case t.Windows.Storage.FileProperties.ThumbnailMode.picturesView:case t.Windows.Storage.FileProperties.ThumbnailMode.videosView:s=190;break;case t.Windows.Storage.FileProperties.ThumbnailMode.documentsView:case t.Windows.Storage.FileProperties.ThumbnailMode.listView:s=40;break;case t.Windows.Storage.FileProperties.ThumbnailMode.musicView:case t.Windows.Storage.FileProperties.ThumbnailMode.singleItem:s=256}"number"==typeof n.thumbnailOptions&&(a=n.thumbnailOptions),"boolean"==typeof n.waitForFileLoad&&(l=!n.waitForFileLoad)}this._loader=new t.Windows.Storage.BulkAccess.FileInformationFactory(this._query,o,s,a,l),this.compareByIdentity=!1,this.firstDataRequest=!0,r("WinJS.UI.StorageDataSource:constructor,StopTM")},{setNotificationHandler:function(e){this._notificationHandler=e,this._query.addEventListener("contentschanged",function(){e.invalidateAll()}),this._query.addEventListener("optionschanged",function(){e.invalidateAll()})},itemsFromEnd:function(e){var t=this;return r("WinJS.UI.StorageDataSource:itemsFromEnd,info"),this.getCount().then(function(n){return 0===n?a.wrapError(new o(l.FetchError.doesNotExist)):t.itemsFromIndex(n-1,Math.min(n-1,e-1),1)})},itemsFromIndex:function(e,t,n){function i(e){c._notificationHandler.changed(c._item(e.target))}t+n>64&&(t=Math.min(t,32),n=64-(t+1));var s=e-t,u=t+1+n,c=this;c.firstDataRequest&&(c.firstDataRequest=!1,u=Math.max(u,32));var d="WinJS.UI.StorageDataSource:itemsFromIndex("+s+"-"+(s+u-1)+")";return r(d+",StartTM"),this._loader.getItemsAsync(s,u).then(function(n){var h=n.size;if(h<=t)return a.wrapError(new o(l.FetchError.doesNotExist));var m=new Array(h),p=new Array(h);n.getMany(0,p);for(var f=0;f<h;f++)m[f]=c._item(p[f]),p[f].addEventListener("propertiesupdated",i);var _={items:m,offset:t,absoluteIndex:e};return h<u&&(_.totalCount=s+h),r(d+",StopTM"),_})},itemsFromDescription:function(e,t,n){var i=this;return r("WinJS.UI.StorageDataSource:itemsFromDescription,info"),this._query.findStartIndexAsync(e).then(function(e){return i.itemsFromIndex(e,t,n)})},getCount:function(){return r("WinJS.UI.StorageDataSource:getCount,info"),this._query.getItemCountAsync()},itemSignature:function(e){return e.folderRelativeId},_item:function(e){return{key:e.path||e.folderRelativeId,data:e}}},{supportedForProcessing:!1});return i.Class.derive(u.VirtualizedDataSource,function(t,n){this._baseDataSourceConstructor(new e(t,n))},{},{loadThumbnail:function(e,i){var o,l,u=!1;return new a(function(c){var d=!!i,h=function(h){if(h){var m=n.URL.createObjectURL(h,{oneTimeOnly:!0});l=l?l.then(function(t){return e.loadImage(m,t)}):e.loadImage(m,i).then(function(t){return e.isOnScreen().then(function(e){var n;return e&&d?n=s.fadeIn(t).then(function(){return t}):(t.style.opacity=1,n=a.wrap(t)),n})}),h.type===t.Windows.Storage.FileProperties.ThumbnailType.icon||h.returnedSmallerCachedSize||(r("WinJS.UI.StorageDataSource:loadThumbnail complete,info"),e.data.removeEventListener("thumbnailupdated",o),u=!1,l=l.then(function(e){o=null,l=null,c(e)}))}};o=function(e){u&&h(e.target.thumbnail)},e.data.addEventListener("thumbnailupdated",o),u=!0,h(e.data.thumbnail)},function(){e.data.removeEventListener("thumbnailupdated",o),u=!1,o=null,l&&(l.cancel(),l=null)})},supportedForProcessing:!1})})})}),i("WinJS/VirtualizedDataSource",["./VirtualizedDataSource/_VirtualizedDataSourceImpl","./VirtualizedDataSource/_GroupDataSource","./VirtualizedDataSource/_GroupedItemDataSource","./VirtualizedDataSource/_StorageDataSource"],function(){}),i("WinJS/Vui",["require","exports","./Core/_Global","./Utilities/_ElementUtilities"],function(e,t,n,i){function o(e){if(!e.defaultPrevented){var t=e.target,n=r[t.tagName];if(n)switch(e.state){case u.active:t[s.vuiData]||i.hasClass(t,a.active)?(i.removeClass(t,a.disambiguation),n.reactivate(t,e.label)):(i.addClass(t,a.active),n.activate(t,e.label));break;case u.disambiguation:i.addClass(t,a.active),i.addClass(t,a.disambiguation),n.disambiguate(t,e.label);break;case u.inactive:i.removeClass(t,a.active),i.removeClass(t,a.disambiguation),n.deactivate(t)}}}var r,s={vuiData:"_winVuiData"},a={active:"win-vui-active",disambiguation:"win-vui-disambiguation"},l={ListeningModeStateChanged:"ListeningStateChanged"},u={active:"active",disambiguation:"disambiguation",inactive:"inactive"};!function(e){e.BUTTON={activate:function(e,t){var n={nodes:[],width:e.style.width,height:e.style.height},o=i._getComputedStyle(e);for(e.style.width=o.width,e.style.height=o.height;e.childNodes.length;)n.nodes.push(e.removeChild(e.childNodes[0]));e[s.vuiData]=n,e.textContent=t},disambiguate:function(e,t){e.textContent=t},reactivate:function(e,t){e.textContent=t},deactivate:function(e){e.innerHTML="";var t=e[s.vuiData];e.style.width=t.width,e.style.height=t.height,t.nodes.forEach(function(t){return e.appendChild(t)}),delete e[s.vuiData]}}}(r||(r={})),n.document&&n.document.addEventListener(l.ListeningModeStateChanged,o)}),i("WinJS/_Accents",["require","exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s){function a(e,t){y.push({selector:e,props:t}),l()}function l(){0!==y.length&&b===-1&&(b=r._setImmediate(function(){b=-1,h();var e=v?p.lightThemeSelector:p.darkThemeSelector,t=p.hoverSelector+" "+e,i=n.document.createElement("style");i.id=p.accentStyleId,i.textContent=y.map(function(n){var i="  "+n.props.map(function(e){return e.name+": "+g[e.value]+";"}).join("\n  "),o=n.selector.split(",").map(function(e){return d(e)}),r=o.join(",\n"),s=r+" {\n"+i+"\n}",a=n.props.some(function(e){return 0!==e.value});if(a){var l="  "+n.props.map(function(e){return e.name+": "+g[e.value?e.value+3:e.value]+";"}).join("\n  "),u=[];o.forEach(function(n){if(n.indexOf(p.hoverSelector)!==-1&&n.indexOf(t)===-1){u.push(n.replace(p.hoverSelector,t));var i=n.replace(p.hoverSelector,"").trim();f.indexOf(i[0])!==-1&&u.push(n.replace(p.hoverSelector+" ",t))}else u.push(e+" "+n),f.indexOf(n[0])!==-1&&u.push(e+n);s+="\n"+u.join(",\n")+" {\n"+l+"\n}"})}return s}).join("\n"),n.document.head.appendChild(i)}))}function u(){var e=(i.Windows.UI.ViewManagement.UIColorType,_.getColorValue(i.Windows.UI.ViewManagement.UIColorType.accent)),t=c(e,1);g[0]!==t&&(g.length=0,g.push(t,c(e,v?.6:.4),c(e,v?.8:.6),c(e,v?.9:.7),c(e,v?.4:.6),c(e,v?.6:.8),c(e,v?.7:.9)),l())}function c(e,t){return"rgba("+e.r+","+e.g+","+e.b+","+t+")"}function d(e){return e.replace(/  /g," ").replace(/  /g," ").trim()}function h(){var e=n.document.head.querySelector("#"+p.accentStyleId);e&&e.parentNode.removeChild(e)}function m(){y.length=0,h()}var p={accentStyleId:"WinJSAccentsStyle",themeDetectionTag:"winjs-themedetection-tag",hoverSelector:"html.win-hoverable",lightThemeSelector:".win-ui-light",darkThemeSelector:".win-ui-dark"},f=[".","#",":"],_=null,g=[],v=!1,y=[],b=-1;!function(e){e[e.accent=0]="accent",e[e.listSelectRest=1]="listSelectRest",e[e.listSelectHover=2]="listSelectHover",e[e.listSelectPress=3]="listSelectPress",e[e._listSelectRestInverse=4]="_listSelectRestInverse",e[e._listSelectHoverInverse=5]="_listSelectHoverInverse",e[e._listSelectPressInverse=6]="_listSelectPressInverse"}(t.ColorTypes||(t.ColorTypes={}));var w=t.ColorTypes;t.createAccentRule=a;var C=n.document.createElement(p.themeDetectionTag);n.document.head.appendChild(C);var E=s._getComputedStyle(C);v="0"===E.opacity,C.parentElement.removeChild(C);try{_=new i.Windows.UI.ViewManagement.UISettings,_.addEventListener("colorvalueschanged",u),u()}catch(e){g.push("rgb(0, 120, 215)","rgba(0, 120, 215, "+(v?"0.6":"0.4")+")","rgba(0, 120, 215, "+(v?"0.8":"0.6")+")","rgba(0, 120, 215, "+(v?"0.9":"0.7")+")","rgba(0, 120, 215, "+(v?"0.4":"0.6")+")","rgba(0, 120, 215, "+(v?"0.6":"0.8")+")","rgba(0, 120, 215, "+(v?"0.7":"0.9")+")")}var S={ColorTypes:w,createAccentRule:a,_colors:g,_reset:m,_isDarkTheme:v};o.Namespace.define("WinJS.UI._Accents",S)}),i("require-style",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),i("require-style!less/styles-intrinsic",[],function(){}),i("require-style!less/colors-intrinsic",[],function(){}),i("WinJS/Controls/IntrinsicControls",["../Utilities/_Hoverable","../_Accents","require-style!less/styles-intrinsic","require-style!less/colors-intrinsic"],function(e,t){"use strict";t.createAccentRule(".win-link,         .win-progress-bar,         .win-progress-ring,         .win-ring",[{name:"color",value:t.ColorTypes.accent}]),t.createAccentRule("::selection,         .win-button.win-button-primary,         .win-dropdown option:checked,         select[multiple].win-dropdown option:checked",[{name:"background-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-textbox:focus,         .win-textarea:focus,         .win-textbox:focus:hover,         .win-textarea:focus:hover",[{name:"border-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-textbox::-ms-clear:hover:not(:active),         .win-textbox::-ms-reveal:hover:not(:active)",[{name:"color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-checkbox:checked::-ms-check,         .win-textbox::-ms-clear:active,         .win-textbox::-ms-reveal:active",[{name:"background-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-progress-bar::-webkit-progress-value,         .win-progress-ring::-webkit-progress-value,         .win-ring::-webkit-progress-value",[{name:"background-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-progress-bar:not(:indeterminate)::-moz-progress-bar,         .win-progress-ring:not(:indeterminate)::-moz-progress-bar,         .win-ring:not(:indeterminate)::-moz-progress-bar",[{name:"background-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-checkbox:indeterminate::-ms-check,         .win-checkbox:hover:indeterminate::-ms-check,         .win-radio:checked::-ms-check",[{name:"border-color",value:t.ColorTypes.accent}]),t.createAccentRule(".win-slider::-ms-thumb,         .win-slider::-ms-fill-lower",[{name:"background",value:t.ColorTypes.accent}]),t.createAccentRule(".win-slider::-webkit-slider-thumb",[{name:"background",value:t.ColorTypes.accent}]),t.createAccentRule(".win-slider::-moz-range-thumb",[{name:"background",value:t.ColorTypes.accent}])}),i("WinJS/Controls/ElementResizeInstrument/_ElementResizeInstrument",["require","exports","../../Core/_BaseUtils","../../Core/_Base","../../Core/_Global","../../Core/_Log","../../Core/_ErrorFromName","../../Core/_Events","../../Promise","../../Utilities/_ElementUtilities"],function(e,t,n,i,o,r,s,a,l,u){"use strict";var c="display: block;position:absolute;top: 0;left: 0;height: 100%;width: 100%;overflow: hidden;pointer-events: none;z-index: -1;",d="win-resizeinstrument",h="about:blank",m={resize:"resize",_ready:"_ready"},p="resize",f="msHighContrastAdjust"in document.documentElement.style,_=function(){function e(){var e=this;this._disposed=!1,this._elementLoaded=!1,this._running=!1,this._objectWindowResizeHandlerBound=this._objectWindowResizeHandler.bind(this);var t=o.document.createElement("OBJECT");t.setAttribute("style",c),f?t.style.visibility="hidden":t.data=h,t.type="text/html",t.winControl=this,u.addClass(t,d),u.addClass(t,"win-disposable"),this._element=t,this._elementLoadPromise=new l(function(n){t.onload=function(){e._disposed||(e._elementLoaded=!0,e._objWindow.addEventListener(p,e._objectWindowResizeHandlerBound),n())}})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_objWindow",{get:function(){return this._elementLoaded&&this._element.contentDocument&&this._element.contentDocument.defaultView||null},enumerable:!0,configurable:!0}),e.prototype.addedToDom=function(){var e=this;if(!this._disposed){var t=this.element;if(!o.document.body.contains(t))throw new s("WinJS.UI._ElementResizeInstrument","ElementResizeInstrument initialization failed");r.log&&"static"===u._getComputedStyle(t.parentElement).position&&r.log("_ElementResizeInstrument can only detect size changes that are made to it's nearest positioned ancestor. Its parent element is not currently positioned."),!this._elementLoaded&&f&&(t.data="about:blank"),this._elementLoadPromise.then(function(){e._running=!0,e.dispatchEvent(m._ready,null);var t=l.timeout(50),n=function n(){e.removeEventListener(m.resize,n),t.cancel()};e.addEventListener(m.resize,n),t.then(function(){e._objectWindowResizeHandler()})})}},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._elementLoadPromise.cancel(),this._objWindow&&this._objWindow.removeEventListener.call(this._objWindow,p,this._objectWindowResizeHandlerBound),this._running=!1)},e.prototype.addEventListener=function(e,t,n){},e.prototype.dispatchEvent=function(e,t){return!1},e.prototype.removeEventListener=function(e,t,n){},e.prototype._objectWindowResizeHandler=function(){var e=this;this._running&&this._batchResizeEvents(function(){e._fireResizeEvent()})},e.prototype._batchResizeEvents=function(e){this._pendingResizeAnimationFrameId&&n._cancelAnimationFrame(this._pendingResizeAnimationFrameId),this._pendingResizeAnimationFrameId=n._requestAnimationFrame(function(){e()})},e.prototype._fireResizeEvent=function(){this._disposed||this.dispatchEvent(m.resize,null)},e.EventNames=m,e}();t._ElementResizeInstrument=_,i.Class.mix(_,a.eventMixin)}),i("WinJS/Controls/ElementResizeInstrument",["require","exports"],function(e,t){function n(){return i||e(["./ElementResizeInstrument/_ElementResizeInstrument"],function(e){i=e}),i._ElementResizeInstrument}var i=null,o=Object.create({},{_ElementResizeInstrument:{get:function(){return n()}}});return o}),i("WinJS/Controls/ItemContainer/_Constants",["exports","../../Core/_Base"],function(e,t){"use strict";var n={};n._listViewClass="win-listview",n._viewportClass="win-viewport",n._rtlListViewClass="win-rtl",n._horizontalClass="win-horizontal",n._verticalClass="win-vertical",n._scrollableClass="win-surface",n._itemsContainerClass="win-itemscontainer",n._listHeaderContainerClass="win-headercontainer",n._listFooterContainerClass="win-footercontainer",n._padderClass="win-itemscontainer-padder",n._proxyClass="_win-proxy",n._itemClass="win-item",n._itemBoxClass="win-itembox",n._itemsBlockClass="win-itemsblock",n._containerClass="win-container",n._containerEvenClass="win-container-even",n._containerOddClass="win-container-odd",n._backdropClass="win-backdrop",n._footprintClass="win-footprint",n._groupsClass="win-groups",n._selectedClass="win-selected",n._selectionBorderClass="win-selectionborder",n._selectionBackgroundClass="win-selectionbackground",n._selectionCheckmarkClass="win-selectioncheckmark",n._selectionCheckmarkBackgroundClass="win-selectioncheckmarkbackground",n._pressedClass="win-pressed",n._headerClass="win-groupheader",n._headerContainerClass="win-groupheadercontainer",n._groupLeaderClass="win-groupleader",n._progressClass="win-progress",n._revealedClass="win-revealed",n._itemFocusClass="win-focused",n._itemFocusOutlineClass="win-focusedoutline",n._zoomingXClass="win-zooming-x",n._zoomingYClass="win-zooming-y",n._listLayoutClass="win-listlayout",n._gridLayoutClass="win-gridlayout",n._headerPositionTopClass="win-headerpositiontop",n._headerPositionLeftClass="win-headerpositionleft",n._structuralNodesClass="win-structuralnodes",n._singleItemsBlockClass="win-single-itemsblock",n._uniformGridLayoutClass="win-uniformgridlayout",n._uniformListLayoutClass="win-uniformlistlayout",n._cellSpanningGridLayoutClass="win-cellspanninggridlayout",n._laidOutClass="win-laidout",n._nonDraggableClass="win-nondraggable",n._nonSelectableClass="win-nonselectable",n._dragOverClass="win-dragover",n._dragSourceClass="win-dragsource",n._clipClass="win-clip",n._selectionModeClass="win-selectionmode",n._noCSSGrid="win-nocssgrid",n._hidingSelectionMode="win-hidingselectionmode",n._hidingSelectionModeAnimationTimeout=250,n._INVALID_INDEX=-1,n._UNINITIALIZED=-1,n._LEFT_MSPOINTER_BUTTON=0,n._RIGHT_MSPOINTER_BUTTON=2,n._TAP_END_THRESHOLD=10,n._DEFAULT_PAGES_TO_LOAD=5,n._DEFAULT_PAGE_LOAD_THRESHOLD=2,n._MIN_AUTOSCROLL_RATE=150,n._MAX_AUTOSCROLL_RATE=1500,n._AUTOSCROLL_THRESHOLD=100,n._AUTOSCROLL_DELAY=50,n._DEFERRED_ACTION=250,n._DEFERRED_SCROLL_END=250,n._SELECTION_CHECKMARK="",n._LISTVIEW_PROGRESS_DELAY=2e3;var i={uninitialized:0,low:1,medium:2,high:3},o={rebuild:0,remeasure:1,relayout:2,realize:3};n._ScrollToPriority=i,n._ViewChange=o,t.Namespace._moduleDefine(e,"WinJS.UI",n)}),i("WinJS/Controls/ItemContainer/_ItemEventsHandler",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_WriteProfilerMark","../../Animations","../../Animations/_TransitionAnimation","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","./_Constants"],function(e,t,n,i,o,r,s,a,l,u,c,d){"use strict";var h=o._browserStyleEquivalents.transform;i.Namespace._moduleDefine(e,"WinJS.UI",{_ItemEventsHandler:i.Namespace._lazy(function(){function e(e,n){var i=t.document.createElement("div");return i.className=e,n||i.setAttribute("aria-hidden",!0),i}var s=u._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",a=i.Class.define(function(e){this._site=e,this._work=[],this._animations={}},{dispose:function(){this._disposed||(this._disposed=!0,u._removeEventListener(t,"pointerup",this._resetPointerDownStateBound),u._removeEventListener(t,"pointercancel",this._resetPointerDownStateBound))},onPointerDown:function(e){r("WinJS.UI._ItemEventsHandler:MSPointerDown,StartTM");var i,a,l=this._site,h=e.pointerType===s;if(l.pressedElement=e.target,n.Windows.UI.Input.PointerPoint){var m=this._getCurrentPoint(e),p=m.properties;h||p.isInverted||p.isEraser||p.isMiddleButtonPressed?i=a=!1:(a=p.isRightButtonPressed,i=!a&&p.isLeftButtonPressed)}else i=e.button===d._LEFT_MSPOINTER_BUTTON,a=e.button===d._RIGHT_MSPOINTER_BUTTON;this._DragStartBound=this._DragStartBound||this.onDragStart.bind(this),this._PointerEnterBound=this._PointerEnterBound||this.onPointerEnter.bind(this),this._PointerLeaveBound=this._PointerLeaveBound||this.onPointerLeave.bind(this);var f=this._isInteractive(e.target),_=l.indexForItemElement(e.target),g=l.indexForHeaderElement(e.target),v=!f&&_!==d._INVALID_INDEX;if((h||i)&&this._site.pressedEntity.index===d._INVALID_INDEX&&!f&&(g===d._INVALID_INDEX?this._site.pressedEntity={type:c.ObjectType.item,index:_}:this._site.pressedEntity={type:c.ObjectType.groupHeader,index:g},this._site.pressedEntity.index!==d._INVALID_INDEX)){this._site.pressedPosition=u._getCursorPos(e);var y=l.verifySelectionAllowed(this._site.pressedEntity);this._canSelect=y.canSelect,this._canTapSelect=y.canTapSelect,this._site.pressedEntity.type===c.ObjectType.item?(this._site.pressedItemBox=l.itemBoxAtIndex(this._site.pressedEntity.index),this._site.pressedContainer=l.containerAtIndex(this._site.pressedEntity.index),this._site.animatedElement=this._site.pressedContainer,this._site.pressedHeader=null,this._togglePressed(!0,e),this._site.pressedContainer.addEventListener("dragstart",this._DragStartBound),h||(u._addEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),u._addEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1))):(this._site.pressedHeader=this._site.headerFromElement(e.target),o.isPhone?(this._site.animatedElement=this._site.pressedHeader,this._togglePressed(!0,e)):(this._site.pressedItemBox=null,this._site.pressedContainer=null,this._site.animatedElement=null)),this._resetPointerDownStateBound||(this._resetPointerDownStateBound=this._resetPointerDownStateForPointerId.bind(this)),h||(u._addEventListener(t,"pointerup",this._resetPointerDownStateBound,!1),u._addEventListener(t,"pointercancel",this._resetPointerDownStateBound,!1)),this._pointerId=e.pointerId,this._pointerRightButton=a}if(v&&h)try{u._setPointerCapture(l.canvasProxy,e.pointerId)}catch(e){return void r("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")}this._site.pressedEntity.type===c.ObjectType.item&&this._selectionAllowed()&&this._multiSelection()&&this._site.pressedEntity.index!==d._INVALID_INDEX&&l.selection._getFocused().index!==d._INVALID_INDEX&&l.selection._pivot===d._INVALID_INDEX&&(l.selection._pivot=l.selection._getFocused().index),r("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")},onPointerEnter:function(e){this._site.pressedContainer&&this._pointerId===e.pointerId&&this._togglePressed(!0,e)},onPointerLeave:function(e){this._site.pressedContainer&&this._pointerId===e.pointerId&&this._togglePressed(!1,e)},onDragStart:function(){this._resetPressedContainer()},_resetPressedContainer:function(){(this._site.pressedContainer||this._site.pressedHeader)&&this._site.animatedElement&&(this._togglePressed(!1),this._site.pressedContainer&&(this._site.pressedContainer.style[h.scriptName]="",this._site.pressedContainer.removeEventListener("dragstart",this._DragStartBound),u._removeEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),u._removeEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1)))},onClick:function(e){if(!this._skipClick){var t={type:c.ObjectType.item,index:this._site.indexForItemElement(e.target)};if(t.index===d._INVALID_INDEX&&(t.index=this._site.indexForHeaderElement(e.target),t.index!==d._INVALID_INDEX&&(t.type=c.ObjectType.groupHeader)),t.index!==d._INVALID_INDEX&&(u.hasClass(e.target,this._site.accessibleItemClass)||u.hasClass(e.target,d._headerClass))){var n=this._site.verifySelectionAllowed(t);n.canTapSelect&&this.handleTap(t),this._site.fireInvokeEvent(t,e.target)}}},onPointerUp:function(e){r("WinJS.UI._ItemEventsHandler:MSPointerUp,StartTM");var t=this._site;this._skipClick=!0;var n=this;o._yieldForEvents(function(){n._skipClick=!1});try{u._releasePointerCapture(t.canvasProxy,e.pointerId)}catch(e){}var i=e.pointerType===s,a=this._releasedElement(e),l=t.indexForItemElement(a),h=a&&u.hasClass(a,d._headerContainerClass)?t.indexForHeaderElement(t.pressedHeader):t.indexForHeaderElement(a);if(this._pointerId===e.pointerId){var m;if(m=h===d._INVALID_INDEX?{
type:c.ObjectType.item,index:l}:{type:c.ObjectType.groupHeader,index:h},this._resetPressedContainer(),this._site.pressedEntity.type===c.ObjectType.item&&m.type===c.ObjectType.item&&this._site.pressedContainer&&this._site.pressedEntity.index===m.index)if(e.shiftKey||(t.selection._pivot=d._INVALID_INDEX),e.shiftKey){if(this._selectionAllowed()&&this._multiSelection()&&t.selection._pivot!==d._INVALID_INDEX){var p=Math.min(this._site.pressedEntity.index,t.selection._pivot),f=Math.max(this._site.pressedEntity.index,t.selection._pivot),_=this._pointerRightButton||e.ctrlKey||t.tapBehavior===c.TapBehavior.toggleSelect;t.selectRange(p,f,_)}}else e.ctrlKey&&this.toggleSelectionIfAllowed(this._site.pressedEntity.index);if(this._site.pressedHeader||this._site.pressedContainer){var g=u._getCursorPos(e),v=Math.abs(g.left-this._site.pressedPosition.left)<=d._TAP_END_THRESHOLD&&Math.abs(g.top-this._site.pressedPosition.top)<=d._TAP_END_THRESHOLD;this._pointerRightButton||e.ctrlKey||e.shiftKey||!(i&&v||!i&&this._site.pressedEntity.index===m.index&&this._site.pressedEntity.type===m.type)||(m.type===c.ObjectType.groupHeader?(this._site.pressedHeader=t.headerAtIndex(m.index),this._site.pressedItemBox=null,this._site.pressedContainer=null):(this._site.pressedItemBox=t.itemBoxAtIndex(m.index),this._site.pressedContainer=t.containerAtIndex(m.index),this._site.pressedHeader=null),this._canTapSelect&&this.handleTap(this._site.pressedEntity),this._site.fireInvokeEvent(this._site.pressedEntity,this._site.pressedItemBox||this._site.pressedHeader))}this._site.pressedEntity.index!==d._INVALID_INDEX&&t.changeFocus(this._site.pressedEntity,!0,!1,!0),this.resetPointerDownState()}r("WinJS.UI._ItemEventsHandler:MSPointerUp,StopTM")},onPointerCancel:function(e){this._pointerId===e.pointerId&&(r("WinJS.UI._ItemEventsHandler:MSPointerCancel,info"),this.resetPointerDownState())},onLostPointerCapture:function(e){this._pointerId===e.pointerId&&(r("WinJS.UI._ItemEventsHandler:MSLostPointerCapture,info"),this.resetPointerDownState())},onContextMenu:function(e){this._shouldSuppressContextMenu(e.target)&&e.preventDefault()},onMSHoldVisual:function(e){this._shouldSuppressContextMenu(e.target)&&e.preventDefault()},onDataChanged:function(){this.resetPointerDownState()},toggleSelectionIfAllowed:function(e){this._selectionAllowed(e)&&this._toggleItemSelection(e)},handleTap:function(e){if(e.type!==c.ObjectType.groupHeader){var t=this._site,n=t.selection;this._selectionAllowed(e.index)&&this._selectOnTap()&&(t.tapBehavior===c.TapBehavior.toggleSelect?this._toggleItemSelection(e.index):t.selectionMode!==c.SelectionMode.multi&&n._isIncluded(e.index)||n.set(e.index))}},_toggleItemSelection:function(e){var t=this._site,n=t.selection,i=n._isIncluded(e);t.selectionMode===c.SelectionMode.single?i?n.clear():n.set(e):i?n.remove(e):n.add(e)},_getCurrentPoint:function(e){return n.Windows.UI.Input.PointerPoint.getCurrentPoint(e.pointerId)},_containedInElementWithClass:function(e,t){if(e.parentNode)for(var n=e.parentNode.querySelectorAll("."+t+", ."+t+" *"),i=0,o=n.length;i<o;i++)if(n[i]===e)return!0;return!1},_isSelected:function(e){return this._site.selection._isIncluded(e)},_isInteractive:function(e){return this._containedInElementWithClass(e,"win-interactive")},_shouldSuppressContextMenu:function(e){var t=this._site.containerFromElement(e);return this._selectionAllowed()&&t&&!this._isInteractive(e)},_togglePressed:function(e,t){var n=this._site.pressedEntity.type===c.ObjectType.groupHeader;!n&&u.hasClass(this._site.pressedItemBox,d._nonSelectableClass)||this._staticMode(n)||(e?u.addClass(this._site.animatedElement,d._pressedClass):u.removeClass(this._site.animatedElement,d._pressedClass))},_resetPointerDownStateForPointerId:function(e){this._pointerId===e.pointerId&&this.resetPointerDownState()},resetPointerDownState:function(){this._site.pressedElement=null,u._removeEventListener(t,"pointerup",this._resetPointerDownStateBound),u._removeEventListener(t,"pointercancel",this._resetPointerDownStateBound),this._resetPressedContainer(),this._site.pressedContainer=null,this._site.animatedElement=null,this._site.pressedHeader=null,this._site.pressedItemBox=null,this._site.pressedEntity={type:c.ObjectType.item,index:d._INVALID_INDEX},this._pointerId=null},_releasedElement:function(e){return t.document.elementFromPoint(e.clientX,e.clientY)},_applyUIInBatches:function(e){function t(){n._work.length>0?(n._flushUIBatches(),n._paintedThisFrame=o._requestAnimationFrame(t.bind(n))):n._paintedThisFrame=null}var n=this;this._work.push(e),this._paintedThisFrame||t()},_flushUIBatches:function(){if(this._work.length>0){var e=this._work;this._work=[];for(var t=0;t<e.length;t++)e[t]()}},_selectionAllowed:function(e){var t=void 0!==e?this._site.itemAtIndex(e):null,n=!(t&&u.hasClass(t,d._nonSelectableClass));return n&&this._site.selectionMode!==c.SelectionMode.none},_multiSelection:function(){return this._site.selectionMode===c.SelectionMode.multi},_selectOnTap:function(){return this._site.tapBehavior===c.TapBehavior.toggleSelect||this._site.tapBehavior===c.TapBehavior.directSelect},_staticMode:function(e){return e?this._site.headerTapBehavior===c.GroupHeaderTapBehavior.none:this._site.tapBehavior===c.TapBehavior.none&&this._site.selectionMode===c.SelectionMode.none}},{setAriaSelected:function(e,t){var n="true"===e.getAttribute("aria-selected");t!==n&&e.setAttribute("aria-selected",t)},renderSelection:function(t,n,i,o,r){if(!a._selectionTemplate){a._selectionTemplate=[],a._selectionTemplate.push(e(d._selectionBackgroundClass)),a._selectionTemplate.push(e(d._selectionBorderClass)),a._selectionTemplate.push(e(d._selectionCheckmarkBackgroundClass));var s=e(d._selectionCheckmarkClass);s.textContent=d._SELECTION_CHECKMARK,a._selectionTemplate.push(s)}if(i!==u._isSelectionRendered(t)){if(i){t.insertBefore(a._selectionTemplate[0].cloneNode(!0),t.firstElementChild);for(var l=1,c=a._selectionTemplate.length;l<c;l++)t.appendChild(a._selectionTemplate[l].cloneNode(!0))}else for(var h=t.querySelectorAll(u._selectionPartsSelector),l=0,c=h.length;l<c;l++)t.removeChild(h[l]);u[i?"addClass":"removeClass"](t,d._selectedClass),r&&u[i?"addClass":"removeClass"](r,d._selectedClass)}o&&a.setAriaSelected(n,i)}});return a})})}),i("WinJS/Controls/ListView/_SelectionManager",["exports","../../Core/_Global","../../Core/_Base","../../Promise","../../_Signal","../../Utilities/_UI","../ItemContainer/_Constants"],function(e,t,n,i,o,r,s){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{_ItemSet:n.Namespace._lazy(function(){var t=n.Class.define(function(e,t,n){this._listView=e,this._ranges=t,this._itemsCount=n});return t.prototype={getRanges:function(){for(var e=[],t=0,n=this._ranges.length;t<n;t++){var i=this._ranges[t];e.push({firstIndex:i.firstIndex,lastIndex:i.lastIndex,firstKey:i.firstKey,lastKey:i.lastKey})}return e},getItems:function(){return e.getItemsFromRanges(this._listView._itemsManager.dataSource,this._ranges)},isEverything:function(){return this.count()===this._itemsCount},count:function e(){for(var e=0,t=0,n=this._ranges.length;t<n;t++){var i=this._ranges[t];e+=i.lastIndex-i.firstIndex+1}return e},getIndices:function(){for(var e=[],t=0,n=this._ranges.length;t<n;t++)for(var i=this._ranges[t],o=i.firstIndex;o<=i.lastIndex;o++)e.push(o);return e}},t}),getItemsFromRanges:function(e,t){function n(){for(var e=[],n=0,o=t.length;n<o;n++)for(var r=t[n],s=r.firstIndex;s<=r.lastIndex;s++)e.push(s);return i.wrap(e)}var o=e.createListBinding(),r=[];return n().then(function(e){for(var t=0;t<e.length;t++)r.push(o.fromIndex(e[t]));return i.join(r).then(function(e){return o.release(),e})})},_Selection:n.Namespace._lazy(function(){function t(e){return e&&0===e.firstIndex&&e.lastIndex===Number.MAX_VALUE}return n.Class.derive(e._ItemSet,function(e,t){this._listView=e,this._itemsCount=-1,this._ranges=[],t&&this.set(t)},{clear:function(){return this._releaseRanges(this._ranges),this._ranges=[],i.wrap()},set:function(e){if(t(e))return this.selectAll();this._releaseRanges(this._ranges),this._ranges=[];var n=this;return this._execute("_set",e).then(function(){return n._ranges.sort(function(e,t){return e.firstIndex-t.firstIndex}),n._ensureKeys()}).then(function(){return n._ensureCount()})},add:function(e){if(t(e))return this.selectAll();var n=this;return this._execute("_add",e).then(function(){return n._ensureKeys()}).then(function(){return n._ensureCount()})},remove:function(e){var t=this;return this._execute("_remove",e).then(function(){return t._ensureKeys()})},selectAll:function(){var e=this;return e._ensureCount().then(function(){if(e._itemsCount){var t={firstIndex:0,lastIndex:e._itemsCount-1};return e._retainRange(t),e._releaseRanges(e._ranges),e._ranges=[t],e._ensureKeys()}})},_execute:function(e,t){function n(e,t,n){var i={};return i["first"+e]=t,i["last"+e]=n,i}function o(t){var n=r._getListBinding(),o=i.join([n.fromKey(t.firstKey),n.fromKey(t.lastKey)]).then(function(n){return n[0]&&n[1]&&(t.firstIndex=n[0].index,t.lastIndex=n[1].index,r[e](t)),t});l.push(o)}for(var r=this,s=!!r._getListBinding().fromKey,a=Array.isArray(t)?t:[t],l=[i.wrap()],u=0,c=a.length;u<c;u++){var d=a[u];"number"==typeof d?this[e](n("Index",d,d)):d&&(s&&void 0!==d.key?o(n("Key",d.key,d.key)):s&&void 0!==d.firstKey&&void 0!==d.lastKey?o(n("Key",d.firstKey,d.lastKey)):void 0!==d.index&&"number"==typeof d.index?this[e](n("Index",d.index,d.index)):void 0!==d.firstIndex&&void 0!==d.lastIndex&&"number"==typeof d.firstIndex&&"number"==typeof d.lastIndex&&this[e](n("Index",d.firstIndex,d.lastIndex)))}return i.join(l)},_set:function(e){this._retainRange(e),this._ranges.push(e)},_add:function(e){for(var t,n,i,o=this,r=null,s=function(e,t){t.lastIndex>e.lastIndex&&(e.lastIndex=t.lastIndex,e.lastKey=t.lastKey,e.lastPromise&&e.lastPromise.release(),e.lastPromise=o._getListBinding().fromIndex(e.lastIndex).retain())},a=0,l=this._ranges.length;a<l;a++){if(t=this._ranges[a],e.firstIndex<t.firstIndex){i=r&&e.firstIndex<r.lastIndex+1,i?(n=a-1,s(r,e)):(this._insertRange(a,e),n=a);break}if(e.firstIndex===t.firstIndex){s(t,e),n=a;break}r=t}if(void 0===n){var u=this._ranges.length?this._ranges[this._ranges.length-1]:null,c=u&&e.firstIndex<u.lastIndex+1;c?s(u,e):(this._retainRange(e),this._ranges.push(e))}else{for(r=null,a=n+1,l=this._ranges.length;a<l;a++){if(t=this._ranges[a],e.lastIndex<t.firstIndex){i=r&&r.lastIndex>e.lastIndex,i&&s(this._ranges[n],r),this._removeRanges(n+1,a-n-1);break}if(e.lastIndex===t.firstIndex){s(this._ranges[n],t),this._removeRanges(n+1,a-n);break}r=t}a>=l&&(s(this._ranges[n],this._ranges[l-1]),this._removeRanges(n+1,l-n-1))}},_remove:function(e){function t(e){return n._getListBinding().fromIndex(e).retain()}for(var n=this,i=[],o=0,r=this._ranges.length;o<r;o++){var s=this._ranges[o];s.lastIndex<e.firstIndex||s.firstIndex>e.lastIndex?i.push(s):s.firstIndex<e.firstIndex&&s.lastIndex>=e.firstIndex&&s.lastIndex<=e.lastIndex?(i.push({firstIndex:s.firstIndex,firstKey:s.firstKey,firstPromise:s.firstPromise,lastIndex:e.firstIndex-1,lastPromise:t(e.firstIndex-1)}),s.lastPromise.release()):s.lastIndex>e.lastIndex&&s.firstIndex>=e.firstIndex&&s.firstIndex<=e.lastIndex?(i.push({firstIndex:e.lastIndex+1,firstPromise:t(e.lastIndex+1),lastIndex:s.lastIndex,lastKey:s.lastKey,lastPromise:s.lastPromise}),s.firstPromise.release()):s.firstIndex<e.firstIndex&&s.lastIndex>e.lastIndex?(i.push({firstIndex:s.firstIndex,firstKey:s.firstKey,firstPromise:s.firstPromise,lastIndex:e.firstIndex-1,lastPromise:t(e.firstIndex-1)}),i.push({firstIndex:e.lastIndex+1,firstPromise:t(e.lastIndex+1),lastIndex:s.lastIndex,lastKey:s.lastKey,lastPromise:s.lastPromise})):(s.firstPromise.release(),s.lastPromise.release())}this._ranges=i},_ensureKeys:function(){for(var e=[i.wrap()],t=this,n=function(e,t){var n=e+"Key";if(t[n])return i.wrap();var o=t[e+"Promise"];return o.then(function(e){e&&(t[n]=e.key)}),o},o=0,r=this._ranges.length;o<r;o++){var s=this._ranges[o];e.push(n("first",s)),e.push(n("last",s))}return i.join(e).then(function(){t._ranges=t._ranges.filter(function(e){return e.firstKey&&e.lastKey})}),i.join(e)},_mergeRanges:function(e,t){e.lastIndex=t.lastIndex,e.lastKey=t.lastKey},_isIncluded:function(e){if(this.isEverything())return!0;for(var t=0,n=this._ranges.length;t<n;t++){var i=this._ranges[t];if(i.firstIndex<=e&&e<=i.lastIndex)return!0}return!1},_ensureCount:function(){var e=this;return this._listView._itemsCount().then(function(t){e._itemsCount=t})},_insertRange:function(e,t){this._retainRange(t),this._ranges.splice(e,0,t)},_removeRanges:function(e,t){for(var n=0;n<t;n++)this._releaseRange(this._ranges[e+n]);this._ranges.splice(e,t)},_retainRange:function(e){e.firstPromise||(e.firstPromise=this._getListBinding().fromIndex(e.firstIndex).retain()),e.lastPromise||(e.lastPromise=this._getListBinding().fromIndex(e.lastIndex).retain())},_retainRanges:function(){for(var e=0,t=this._ranges.length;e<t;e++)this._retainRange(this._ranges[e])},_releaseRange:function(e){e.firstPromise.release(),e.lastPromise.release()},_releaseRanges:function(e){for(var t=0,n=e.length;t<n;++t)this._releaseRange(e[t])},_getListBinding:function(){return this._listView._itemsManager._listBinding}},{supportedForProcessing:!1})}),_SelectionManager:n.Namespace._lazy(function(){var n=function(t){this._listView=t,this._selected=new e._Selection(this._listView),this._pivot=s._INVALID_INDEX,this._focused={type:r.ObjectType.item,index:0},this._pendingChange=i.wrap()};return n.prototype={count:function(){return this._selected.count()},getIndices:function(){return this._selected.getIndices()},getItems:function(){return this._selected.getItems()},getRanges:function(){return this._selected.getRanges()},isEverything:function(){return this._selected.isEverything()},set:function(t){var n=this,r=new o;return this._synchronize(r).then(function(){var o=new e._Selection(n._listView);return o.set(t).then(function(){n._set(o),r.complete()},function(e){return o.clear(),r.complete(),i.wrapError(e)})})},clear:function(){var t=this,n=new o;return this._synchronize(n).then(function(){var o=new e._Selection(t._listView);return o.clear().then(function(){t._set(o),n.complete()},function(e){return o.clear(),n.complete(),i.wrapError(e)})})},add:function(e){var t=this,n=new o;return this._synchronize(n).then(function(){var o=t._cloneSelection();return o.add(e).then(function(){t._set(o),n.complete()},function(e){return o.clear(),n.complete(),i.wrapError(e)})})},remove:function(e){var t=this,n=new o;return this._synchronize(n).then(function(){var o=t._cloneSelection();return o.remove(e).then(function(){t._set(o),n.complete()},function(e){return o.clear(),n.complete(),i.wrapError(e)})})},selectAll:function(){var t=this,n=new o;return this._synchronize(n).then(function(){var o=new e._Selection(t._listView);return o.selectAll().then(function(){t._set(o),n.complete()},function(e){return o.clear(),n.complete(),i.wrapError(e)})})},_synchronize:function(e){var t=this;return this._listView._versionManager.unlocked.then(function(){var n=t._pendingChange;return t._pendingChange=i.join([n,e.promise]).then(function(){}),n})},_reset:function(){this._pivot=s._INVALID_INDEX,this._setFocused({type:r.ObjectType.item,index:0},this._keyboardFocused()),this._pendingChange.cancel(),this._pendingChange=i.wrap(),this._selected.clear(),this._selected=new e._Selection(this._listView)},_dispose:function(){this._selected.clear(),this._selected=null,this._listView=null},_set:function(e){var t=this;return this._fireSelectionChanging(e).then(function(n){return n?(t._selected.clear(),t._selected=e,t._listView._updateSelection(),t._fireSelectionChanged()):e.clear(),n})},_fireSelectionChanging:function(e){var n=t.document.createEvent("CustomEvent"),o=i.wrap();n.initCustomEvent("selectionchanging",!0,!0,{newSelection:e,preventTapBehavior:function(){},setPromise:function(e){o=e}});var r=this._listView._element.dispatchEvent(n);return o.then(function(){return r})},_fireSelectionChanged:function(){var e=t.document.createEvent("CustomEvent");e.initCustomEvent("selectionchanged",!0,!1,null),this._listView._element.dispatchEvent(e)},_getFocused:function(){return{type:this._focused.type,index:this._focused.index}},_setFocused:function(e,t){this._focused={type:e.type,index:e.index},this._focusedByKeyboard=t},_keyboardFocused:function(){return this._focusedByKeyboard},_updateCount:function(e){this._selected._itemsCount=e},_isIncluded:function(e){return this._selected._isIncluded(e)},_cloneSelection:function(){var t=new e._Selection(this._listView);return t._ranges=this._selected.getRanges(),t._itemsCount=this._selected._itemsCount,t._retainRanges(),t}},n.supportedForProcessing=!1,n})})}),i("WinJS/Controls/ListView/_BrowseMode",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Animations","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_SelectionManager"],function(e,t,n,i,o,r,s,a,l,u,c){"use strict";var d=i._browserStyleEquivalents.transform.scriptName;n.Namespace._moduleDefine(e,"WinJS.UI",{_SelectionMode:n.Namespace._lazy(function(){function e(e,t,n){return Math.max(e,Math.min(t,n))}function o(e,n,i){var o=t.document.createEvent("CustomEvent");return o.initCustomEvent("keyboardnavigating",!0,!0,{oldFocus:n.index,oldFocusType:n.type,newFocus:i.index,newFocusType:i.type}),e.dispatchEvent(o)}var h=n.Class.define(function(e){this.inboundFocusHandled=!1,this._pressedContainer=null,this._pressedItemBox=null,this._pressedHeader=null,this._pressedEntity={type:a.ObjectType.item,index:l._INVALID_INDEX},this._pressedPosition=null,this.initialize(e)},{_dispose:function(){this._itemEventsHandler&&this._itemEventsHandler.dispose(),this._setNewFocusItemOffsetPromise&&this._setNewFocusItemOffsetPromise.cancel()},initialize:function(e){function t(t,n){var i=function(n){return e._view.getAdjacent(n,t)};return i.clampToBounds=n,i}this.site=e,this._keyboardNavigationHandlers={},this._keyboardAcceleratorHandlers={};var n=this.site,i=this;this._itemEventsHandler=new u._ItemEventsHandler(Object.create({containerFromElement:function(e){return n._view.items.containerFrom(e)},indexForItemElement:function(e){return n._view.items.index(e)},indexForHeaderElement:function(e){return n._groups.index(e)},itemBoxAtIndex:function(e){return n._view.items.itemBoxAt(e)},itemAtIndex:function(e){return n._view.items.itemAt(e)},headerAtIndex:function(e){return n._groups.group(e).header},headerFromElement:function(e){return n._groups.headerFrom(e)},containerAtIndex:function(e){return n._view.items.containerAt(e)},isZombie:function(){return n._isZombie()},getItemPosition:function(e){return n._getItemPosition(e)},rtl:function(){return n._rtl()},fireInvokeEvent:function(e,t){return i._fireInvokeEvent(e,t)},verifySelectionAllowed:function(e){return i._verifySelectionAllowed(e)},changeFocus:function(e,t,i,o,r){return n._changeFocus(e,t,i,o,r)},selectRange:function(e,t,n){return i._selectRange(e,t,n)}},{pressedEntity:{enumerable:!0,get:function(){return i._pressedEntity},set:function(e){i._pressedEntity=e}},pressedContainerScaleTransform:{enumerable:!0,get:function(){return i._pressedContainerScaleTransform},set:function(e){i._pressedContainerScaleTransform=e}},pressedContainer:{enumerable:!0,get:function(){return i._pressedContainer},set:function(e){i._pressedContainer=e}},pressedItemBox:{enumerable:!0,get:function(){return i._pressedItemBox},set:function(e){i._pressedItemBox=e}},pressedHeader:{enumerable:!0,get:function(){return i._pressedHeader},set:function(e){return i._pressedHeader=e}},pressedPosition:{enumerable:!0,get:function(){return i._pressedPosition},set:function(e){i._pressedPosition=e}},pressedElement:{enumerable:!0,set:function(e){i._pressedElement=e}},eventHandlerRoot:{enumerable:!0,get:function(){return n._viewport}},selectionMode:{enumerable:!0,get:function(){return n._selectionMode}},accessibleItemClass:{enumerable:!0,get:function(){return l._itemClass}},canvasProxy:{enumerable:!0,get:function(){return n._canvasProxy}},tapBehavior:{enumerable:!0,get:function(){return n._tap}},headerTapBehavior:{enumerable:!0,get:function(){return n._groupHeaderTap}},draggable:{enumerable:!0,get:function(){return n.itemsDraggable||n.itemsReorderable}},selection:{enumerable:!0,get:function(){return n._selection}},customFootprintParent:{enumerable:!0,get:function(){return null}}}));var o=s.Key;this._keyboardNavigationHandlers[o.upArrow]=t(o.upArrow),this._keyboardNavigationHandlers[o.downArrow]=t(o.downArrow),this._keyboardNavigationHandlers[o.leftArrow]=t(o.leftArrow),this._keyboardNavigationHandlers[o.rightArrow]=t(o.rightArrow),this._keyboardNavigationHandlers[o.pageUp]=t(o.pageUp,!0),this._keyboardNavigationHandlers[o.pageDown]=t(o.pageDown,!0),this._keyboardNavigationHandlers[o.home]=function(e){return!i.site._header||e.type!==a.ObjectType.groupHeader&&e.type!==a.ObjectType.footer?r.wrap({type:e.type!==a.ObjectType.footer?e.type:a.ObjectType.groupHeader,index:0}):r.wrap({type:a.ObjectType.header,index:0})},this._keyboardNavigationHandlers[o.end]=function(e){if(!i.site._footer||e.type!==a.ObjectType.groupHeader&&e.type!==a.ObjectType.header){if(e.type===a.ObjectType.groupHeader||e.type===a.ObjectType.header)return r.wrap({type:a.ObjectType.groupHeader,index:n._groups.length()-1});var t=i.site._view.lastItemIndex();return t>=0?r.wrap({type:e.type,index:t}):r.cancel}return r.wrap({type:a.ObjectType.footer,index:0})},this._keyboardAcceleratorHandlers[o.a]=function(){i.site._multiSelection()&&i._selectAll()}},staticMode:function(){return this.site._tap===a.TapBehavior.none&&this.site._selectionMode===a.SelectionMode.none},itemUnrealized:function(e,t){if(this._pressedEntity.type!==a.ObjectType.groupHeader&&(this._pressedEntity.index===e&&this._resetPointerDownState(),this._itemBeingDragged(e)))for(var n=this._draggedItemBoxes.length-1;n>=0;n--)this._draggedItemBoxes[n]===t&&(s.removeClass(t,l._dragSourceClass),this._draggedItemBoxes.splice(n,1))},_fireInvokeEvent:function(e,n){function i(i,r){var s=i.createListBinding(),a=s.fromIndex(e.index),l=r?"groupheaderinvoked":"iteminvoked";a.done(function(){s.release()});var u=t.document.createEvent("CustomEvent");u.initCustomEvent(l,!0,!0,r?{groupHeaderPromise:a,groupHeaderIndex:e.index}:{itemPromise:a,itemIndex:e.index}),n.dispatchEvent(u)&&o.site._defaultInvoke(e)}if(n){var o=this;e.type===a.ObjectType.groupHeader?this.site._groupHeaderTap===a.GroupHeaderTapBehavior.invoke&&e.index!==l._INVALID_INDEX&&i(this.site.groupDataSource,!0):this.site._tap===a.TapBehavior.none||e.index===l._INVALID_INDEX||this.site._isInSelectionMode()||i(this.site.itemDataSource,!1)}},_verifySelectionAllowed:function(e){if(e.type===a.ObjectType.groupHeader)return{canSelect:!1,canTapSelect:!1};var n=e.index,i=this.site,o=this.site._view.items.itemAt(n);if(!i._selectionAllowed()||!i._selectOnTap()||o&&s.hasClass(o,l._nonSelectableClass))return{canSelect:!1,canTapSelect:!1};var u=i._selection._isIncluded(n),c=!i._multiSelection(),d=i._selection._cloneSelection();u?c?d.clear():d.remove(n):c?d.set(n):d.add(n);var h,m=t.document.createEvent("CustomEvent"),p=r.wrap(),f=!1,_=!1;m.initCustomEvent("selectionchanging",!0,!0,{newSelection:d,preventTapBehavior:function(){_=!0},setPromise:function(e){p=e}});var g=i._element.dispatchEvent(m);p.then(function(){f=!0,h=d._isIncluded(n),d.clear()});var v=g&&f&&(u||h);return{canSelect:v,canTapSelect:v&&!_}},_containedInElementWithClass:function(e,t){if(e.parentNode)for(var n=e.parentNode.querySelectorAll("."+t+", ."+t+" *"),i=0,o=n.length;i<o;i++)if(n[i]===e)return!0;return!1},_isDraggable:function(e){return!this._containedInElementWithClass(e,l._nonDraggableClass)},_isInteractive:function(e){return this._containedInElementWithClass(e,"win-interactive")},_resetPointerDownState:function(){this._itemEventsHandler.resetPointerDownState()},onPointerDown:function(e){this._itemEventsHandler.onPointerDown(e)},onclick:function(e){this._itemEventsHandler.onClick(e)},onPointerUp:function(e){this._itemEventsHandler.onPointerUp(e)},onPointerCancel:function(e){this._itemEventsHandler.onPointerCancel(e)},onLostPointerCapture:function(e){this._itemEventsHandler.onLostPointerCapture(e)},onContextMenu:function(e){this._itemEventsHandler.onContextMenu(e)},onMSHoldVisual:function(e){this._itemEventsHandler.onMSHoldVisual(e)},onDataChanged:function(e){this._itemEventsHandler.onDataChanged(e)},_removeTransform:function(e,t){t&&e.style[d].indexOf(t)!==-1&&(e.style[d]=e.style[d].replace(t,""))},_selectAll:function(){var e=[];this.site._view.items.each(function(t,n){n&&s.hasClass(n,l._nonSelectableClass)&&e.push(t)}),this.site._selection.selectAll(),e.length>0&&this.site._selection.remove(e)},_selectRange:function(e,t,n){for(var i=[],o=-1,r=e;r<=t;r++){var a=this.site._view.items.itemAt(r);a&&s.hasClass(a,l._nonSelectableClass)?o!==-1&&(i.push({firstIndex:o,lastIndex:r-1}),o=-1):o===-1&&(o=r)}o!==-1&&i.push({firstIndex:o,lastIndex:t}),i.length>0&&this.site._selection[n?"add":"set"](i)},onDragStart:function(e){if(this._pressedEntity={type:a.ObjectType.item,index:this.site._view.items.index(e.target)},this.site._selection._pivot=l._INVALID_INDEX,this._pressedEntity.index===l._INVALID_INDEX||!this.site.itemsDraggable&&!this.site.itemsReorderable||this.site._view.animating||!this._isDraggable(e.target)||this._pressedElement&&this._isInteractive(this._pressedElement))e.preventDefault();else{this._dragging=!0,this._dragDataTransfer=e.dataTransfer,this._pressedPosition=s._getCursorPos(e),this._dragInfo=null,this._lastEnteredElement=e.target,this.site._selection._isIncluded(this._pressedEntity.index)?this._dragInfo=this.site.selection:(this._draggingUnselectedItem=!0,this._dragInfo=new c._Selection(this.site,[{firstIndex:this._pressedEntity.index,lastIndex:this._pressedEntity.index}]));var n=this.site.itemsReorderable,o=t.document.createEvent("CustomEvent");if(o.initCustomEvent("itemdragstart",!0,!1,{dataTransfer:e.dataTransfer,dragInfo:this._dragInfo}),e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage){var r=this.site._view.items.itemDataAt(this._pressedEntity.index);if(r&&r.container){var u=r.container.getBoundingClientRect();e.dataTransfer.setDragImage(r.container,e.clientX-u.left,e.clientY-u.top)}}this.site.element.dispatchEvent(o),this.site.itemsDraggable&&!this.site.itemsReorderable&&(this._firedDragEnter||this._fireDragEnterEvent(e.dataTransfer)&&(n=!0,this._dragUnderstood=!0)),n&&(this._addedDragOverClass=!0,s.addClass(this.site._element,l._dragOverClass)),this._draggedItemBoxes=[];var d=this,h=e.target;h.addEventListener("dragend",function e(t){h.removeEventListener("dragend",e),d.onDragEnd(t)}),i._yieldForDomModification(function(){if(d._dragging)for(var e=d._dragInfo.getIndices(),t=0,n=e.length;t<n;t++){var i=d.site._view.items.itemDataAt(e[t]);i&&i.itemBox&&d._addDragSourceClass(i.itemBox)}})}},onDragEnter:function(e){var n=this._dragUnderstood;this._lastEnteredElement=e.target,this._exitEventTimer&&(t.clearTimeout(this._exitEventTimer),this._exitEventTimer=0),this._firedDragEnter||this._fireDragEnterEvent(e.dataTransfer)&&(n=!0),(n||this._dragging&&this.site.itemsReorderable)&&(e.preventDefault(),this._dragUnderstood=!0,this._addedDragOverClass||(this._addedDragOverClass=!0,s.addClass(this.site._element,l._dragOverClass))),this._pointerLeftRegion=!1},onDragLeave:function(e){e.target===this._lastEnteredElement&&(this._pointerLeftRegion=!0,this._handleExitEvent())},fireDragUpdateEvent:function(){var e=t.document.createEvent("CustomEvent");e.initCustomEvent("itemdragchanged",!0,!1,{dataTransfer:this._dragDataTransfer,dragInfo:this._dragInfo}),this.site.element.dispatchEvent(e)},_fireDragEnterEvent:function(e){var n=t.document.createEvent("CustomEvent");n.initCustomEvent("itemdragenter",!0,!0,{dataTransfer:e});var i=!this.site.element.dispatchEvent(n);return this._firedDragEnter=!0,i},_fireDragBetweenEvent:function(e,n,i){var o=t.document.createEvent("CustomEvent");return o.initCustomEvent("itemdragbetween",!0,!0,{index:e,insertAfterIndex:n,dataTransfer:i}),this.site.element.dispatchEvent(o)},_fireDropEvent:function(e,n,i){var o=t.document.createEvent("CustomEvent");return o.initCustomEvent("itemdragdrop",!0,!0,{index:e,insertAfterIndex:n,dataTransfer:i}),this.site.element.dispatchEvent(o)},_handleExitEvent:function(){this._exitEventTimer&&(t.clearTimeout(this._exitEventTimer),this._exitEventTimer=0);var e=this;this._exitEventTimer=t.setTimeout(function(){if(!e.site._disposed&&e._pointerLeftRegion){if(e.site._layout.dragLeave&&e.site._layout.dragLeave(),e._pointerLeftRegion=!1,e._dragUnderstood=!1,e._lastEnteredElement=null,e._lastInsertPoint=null,e._dragBetweenDisabled=!1,e._firedDragEnter){var n=t.document.createEvent("CustomEvent");n.initCustomEvent("itemdragleave",!0,!1,{}),e.site.element.dispatchEvent(n),e._firedDragEnter=!1}e._addedDragOverClass&&(e._addedDragOverClass=!1,s.removeClass(e.site._element,l._dragOverClass)),e._exitEventTimer=0,e._stopAutoScroll()}},40)},_getEventPositionInElementSpace:function(e,t){var n={left:0,top:0};try{n=e.getBoundingClientRect()}catch(e){}var i=s._getComputedStyle(e,null),o=parseInt(i.paddingLeft),r=parseInt(i.paddingTop),a=parseInt(i.borderLeftWidth),l=parseInt(i.borderTopWidth),u=t.clientX,c=t.clientY,d={x:+u===u?u-n.left-o-a:0,y:+c===c?c-n.top-r-l:0};return this.site._rtl()&&(d.x=n.right-n.left-d.x),d},_getPositionInCanvasSpace:function(e){var t=this.site._horizontal()?this.site.scrollPosition:0,n=this.site._horizontal()?0:this.site.scrollPosition,i=this._getEventPositionInElementSpace(this.site.element,e);return{x:i.x+t,y:i.y+n}},_itemBeingDragged:function(e){return!!this._dragging&&(this._draggingUnselectedItem&&this._dragInfo._isIncluded(e)||!this._draggingUnselectedItem&&this.site._isSelected(e))},_addDragSourceClass:function(e){this._draggedItemBoxes.push(e),s.addClass(e,l._dragSourceClass),e.parentNode&&s.addClass(e.parentNode,l._footprintClass)},renderDragSourceOnRealizedItem:function(e,t){this._itemBeingDragged(e)&&this._addDragSourceClass(t)},onDragOver:function(t){if(this._dragUnderstood){this._pointerLeftRegion=!1,t.preventDefault();var n=this._getPositionInCanvasSpace(t),i=this._getEventPositionInElementSpace(this.site.element,t);if(this._checkAutoScroll(i.x,i.y),this.site._layout.hitTest)if(this._autoScrollFrame)this._lastInsertPoint&&(this.site._layout.dragLeave(),this._lastInsertPoint=null);else{var o=this.site._view.hitTest(n.x,n.y);o.insertAfterIndex=e(-1,this.site._cachedCount-1,o.insertAfterIndex),this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===o.insertAfterIndex&&this._lastInsertPoint.index===o.index||(this._dragBetweenDisabled=!this._fireDragBetweenEvent(o.index,o.insertAfterIndex,t.dataTransfer),this._dragBetweenDisabled?this.site._layout.dragLeave():this.site._layout.dragOver(n.x,n.y,this._dragInfo)),this._lastInsertPoint=o}}},_clearDragProperties:function(){if(this._addedDragOverClass&&(this._addedDragOverClass=!1,s.removeClass(this.site._element,l._dragOverClass)),this._draggedItemBoxes){for(var e=0,t=this._draggedItemBoxes.length;e<t;e++)s.removeClass(this._draggedItemBoxes[e],l._dragSourceClass),this._draggedItemBoxes[e].parentNode&&s.removeClass(this._draggedItemBoxes[e].parentNode,l._footprintClass);this._draggedItemBoxes=[]}this.site._layout.dragLeave(),this._dragging=!1,this._dragInfo=null,this._draggingUnselectedItem=!1,this._dragDataTransfer=null,this._lastInsertPoint=null,this._resetPointerDownState(),this._lastEnteredElement=null,this._dragBetweenDisabled=!1,this._firedDragEnter=!1,this._dragUnderstood=!1,this._stopAutoScroll()},onDragEnd:function(){var e=t.document.createEvent("CustomEvent");e.initCustomEvent("itemdragend",!0,!1,{}),this.site.element.dispatchEvent(e),this._clearDragProperties()},_findFirstAvailableInsertPoint:function(e,t,n){for(var i=e.getIndices(),o=-1,r=this.site._cachedCount,s=i.length,a=-1,l=t,u=0;u<s;u++)if(i[u]===l){o=u,a=u;break}for(;o>=0&&l>=0;)n?(l++,o<s&&i[o+1]===l&&l<r?o++:l>=r?(n=!1,l=t,o=a):o=-1):(l--,o>0&&i[o-1]===l?o--:o=-1);
return l},_reorderItems:function(e,t,n,i,o){var r=this.site,s=function(e){n?r._selection.remove({key:e[0].key}):r._selection.set({firstKey:e[0].key,lastKey:e[e.length-1].key}),o&&r.ensureVisible(r._selection._getFocused())};t.getItems().then(function(t){var n=r.itemDataSource;if(e===-1){n.beginEdits();for(var o=t.length-1;o>=0;o--)n.moveToStart(t[o].key);n.endEdits(),s(t)}else{var a=n.createListBinding();a.fromIndex(e).then(function(e){if(a.release(),n.beginEdits(),i)for(var o=0,r=t.length;o<r;o++)n.moveBefore(t[o].key,e.key);else for(var o=t.length-1;o>=0;o--)n.moveAfter(t[o].key,e.key);n.endEdits(),s(t)})}})},onDrop:function(t){if(this._draggedItemBoxes)for(var n=0,i=this._draggedItemBoxes.length;n<i;n++)this._draggedItemBoxes[n].parentNode&&s.removeClass(this._draggedItemBoxes[n].parentNode,l._footprintClass);if(!this._dragBetweenDisabled){var o=this._getPositionInCanvasSpace(t),r=this.site._view.hitTest(o.x,o.y),a=e(-1,this.site._cachedCount-1,r.insertAfterIndex),u=!0;if(this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===a&&this._lastInsertPoint.index===r.index||(u=this._fireDragBetweenEvent(r.index,a,t.dataTransfer)),u&&(this._lastInsertPoint=null,this.site._layout.dragLeave(),this._fireDropEvent(r.index,a,t.dataTransfer)&&this._dragging&&this.site.itemsReorderable)){if(this._dragInfo.isEverything()||this.site._groupsEnabled())return;a=this._findFirstAvailableInsertPoint(this._dragInfo,a,!1),this._reorderItems(a,this._dragInfo,this._draggingUnselectedItem)}}this._clearDragProperties(),t.preventDefault()},_checkAutoScroll:function(e,n){var o=this.site._getViewportLength(),r=this.site._horizontal(),a=r?e:n,u=this.site._viewport[r?"scrollWidth":"scrollHeight"],c=Math.floor(this.site.scrollPosition),d=0;if(a<l._AUTOSCROLL_THRESHOLD?d=a-l._AUTOSCROLL_THRESHOLD:a>o-l._AUTOSCROLL_THRESHOLD&&(d=a-(o-l._AUTOSCROLL_THRESHOLD)),d=Math.round(d/l._AUTOSCROLL_THRESHOLD*(l._MAX_AUTOSCROLL_RATE-l._MIN_AUTOSCROLL_RATE)),(0===c&&d<0||c>=u-o&&d>0)&&(d=0),0===d)this._autoScrollDelay&&(t.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0);else if(!this._autoScrollDelay&&!this._autoScrollFrame){var h=this;this._autoScrollDelay=t.setTimeout(function(){if(h._autoScrollRate){h._lastDragTimeout=i._now();var e=function e(){if(!h._autoScrollRate&&h._autoScrollFrame||h.site._disposed)h._stopAutoScroll();else{var t=i._now(),n=h._autoScrollRate*((t-h._lastDragTimeout)/1e3);n=n<0?Math.min(-1,n):Math.max(1,n);var o={};o[h.site._scrollProperty]=h.site._viewportScrollPosition+n,s.setScrollPosition(h.site._viewport,o),h._lastDragTimeout=t,h._autoScrollFrame=i._requestAnimationFrame(e)}};h._autoScrollFrame=i._requestAnimationFrame(e)}},l._AUTOSCROLL_DELAY)}this._autoScrollRate=d},_stopAutoScroll:function(){this._autoScrollDelay&&(t.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0),this._autoScrollRate=0,this._autoScrollFrame=0},onKeyDown:function(e){function t(e,t,s){function c(u){var c=!0,h=!1;if(s?e.index=Math.max(0,Math.min(u,e.index)):(e.index<0||e.index>u)&&(h=!0),!h&&(d.index!==e.index||d.type!==e.type)){var p=o(i._element,d,e);p&&(c=!1,n._setNewFocusItemOffsetPromise&&n._setNewFocusItemOffsetPromise.cancel(),i._batchViewUpdates(l._ViewChange.realize,l._ScrollToPriority.high,function(){return n._setNewFocusItemOffsetPromise=i._getItemOffset(d,!0).then(function(o){o=i._convertFromCanvasCoordinates(o);var s=o.end<=i.scrollPosition||o.begin>=i.scrollPosition+i._getViewportLength()-1;return n._setNewFocusItemOffsetPromise=i._getItemOffset(e).then(function(o){n._setNewFocusItemOffsetPromise=null;var a={position:i.scrollPosition,direction:"right"};return s&&(i._selection._setFocused(e,!0),o=i._convertFromCanvasCoordinates(o),e.index>d.index?(a.direction="right",a.position=o.end-i._getViewportLength()):(a.direction="left",a.position=o.begin)),i._changeFocus(e,t,m,s,!0),s?a:r.cancel},function(n){return i._changeFocus(e,t,m,!0,!0),r.wrapError(n)}),n._setNewFocusItemOffsetPromise},function(n){return i._changeFocus(e,t,m,!0,!0),r.wrapError(n)}),n._setNewFocusItemOffsetPromise},!0))}return c&&(i._selection._setFocused(d,!0),i.ensureVisible(d)),h?{type:a.ObjectType.item,index:l._INVALID_INDEX}:e}return e.type===a.ObjectType.item?r.wrap(u.lastItemIndex()).then(c):e.type===a.ObjectType.groupHeader?r.wrap(i._groups.length()-1).then(c):r.wrap(0).then(c)}var n=this,i=this.site,u=i._view,d=i._selection._getFocused(),h=!0,m=e.ctrlKey,p=s.Key,f=e.keyCode,_=i._rtl();if(!this._isInteractive(e.target)){if(e.ctrlKey&&!e.altKey&&!e.shiftKey&&this._keyboardAcceleratorHandlers[f]&&this._keyboardAcceleratorHandlers[f](),i.itemsReorderable&&!e.ctrlKey&&e.altKey&&e.shiftKey&&d.type===a.ObjectType.item&&(f===p.leftArrow||f===p.rightArrow||f===p.upArrow||f===p.downArrow)){var g=i._selection,v=d.index,y=!1,b=!0;if(!g.isEverything()){if(!g._isIncluded(v)){var w=i._view.items.itemAt(v);w&&s.hasClass(w,l._nonDraggableClass)?b=!1:(y=!0,g=new c._Selection(this.site,[{firstIndex:v,lastIndex:v}]))}if(b){var C=v;f===p.rightArrow?C+=_?-1:1:f===p.leftArrow?C+=_?1:-1:f===p.upArrow?C--:C++;var E=C>v,S=E;E&&C>=this.site._cachedCount&&(S=!1,C=this.site._cachedCount-1),C=this._findFirstAvailableInsertPoint(g,C,S),C=Math.min(Math.max(-1,C),this.site._cachedCount-1);var I=C-(E||C===-1?0:1),x=C,j=this.site._groupsEnabled();if(j){var k=this.site._groups,P=C>-1?k.groupFromItem(C):0;E?k.group(P).startIndex===C&&I--:P<k.length()-1&&C===k.group(P+1).startIndex-1&&I++}if(this._fireDragBetweenEvent(x,I,null)&&this._fireDropEvent(x,I,null)){if(j)return;this._reorderItems(C,g,y,!E,!0)}}}}else if(e.altKey)h=!1;else if(this._keyboardNavigationHandlers[f])this._keyboardNavigationHandlers[f](d).then(function(o){if(o.index!==d.index||o.type!==d.type){var r=n._keyboardNavigationHandlers[f].clampToBounds;o.type!==a.ObjectType.groupHeader&&e.shiftKey&&i._selectionAllowed()&&i._multiSelection()?(i._selection._pivot===l._INVALID_INDEX&&(i._selection._pivot=d.index),t(o,!0,r).then(function(t){if(t.index!==l._INVALID_INDEX){var o=Math.min(t.index,i._selection._pivot),r=Math.max(t.index,i._selection._pivot),s=e.ctrlKey||i._tap===a.TapBehavior.toggleSelect;n._selectRange(o,r,s)}})):(i._selection._pivot=l._INVALID_INDEX,t(o,!1,r))}else h=!1});else if(e.ctrlKey||f!==p.enter)d.type!==a.ObjectType.groupHeader&&(e.ctrlKey&&f===p.enter||f===p.space)?(this._itemEventsHandler.toggleSelectionIfAllowed(d.index),i._changeFocus(d,!0,m,!1,!0)):f===p.escape&&i._selection.count()>0?(i._selection._pivot=l._INVALID_INDEX,i._selection.clear()):h=!1;else{var T=d.type===a.ObjectType.groupHeader?i._groups.group(d.index).header:i._view.items.itemBoxAt(d.index);if(T){d.type===a.ObjectType.groupHeader?(this._pressedHeader=T,this._pressedItemBox=null,this._pressedContainer=null):(this._pressedItemBox=T,this._pressedContainer=i._view.items.containerAt(d.index),this._pressedHeader=null);var O=this._verifySelectionAllowed(d);O.canTapSelect&&this._itemEventsHandler.handleTap(d),this._fireInvokeEvent(d,T)}}this._keyDownHandled=h,h&&(e.stopPropagation(),e.preventDefault())}f===p.tab&&(this.site._keyboardFocusInbound=!0)},onKeyUp:function(e){this._keyDownHandled&&(e.stopPropagation(),e.preventDefault())},onTabEntered:function(e){if(0!==this.site._groups.length()||this.site._hasHeaderOrFooter){var t=this.site,n=t._selection._getFocused(),i=e.detail,r=!t._hasKeyboardFocus||e.target===t._viewport;if(r)if(this.inboundFocusHandled=!0,n.index=n.index===l._INVALID_INDEX?0:n.index,i||!this.site._supportsGroupHeaderKeyboarding&&!this.site._hasHeaderOrFooter){var s={type:a.ObjectType.item};n.type===a.ObjectType.groupHeader?(s.index=t._groupFocusCache.getIndexForGroup(n.index),o(t._element,n,s)?t._changeFocus(s,!0,!1,!1,!0):t._changeFocus(n,!0,!1,!1,!0)):(s.index=n.type!==a.ObjectType.item?t._groupFocusCache.getLastFocusedItemIndex():n.index,t._changeFocus(s,!0,!1,!1,!0)),e.preventDefault()}else{var s={type:a.ObjectType.groupHeader};this.site._hasHeaderOrFooter?this.site._lastFocusedElementInGroupTrack.type===a.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(s.index=t._groups.groupFromItem(n.index),o(t._element,n,s)?t._changeFocus(s,!0,!1,!1,!0):t._changeFocus(n,!0,!1,!1,!0)):(s.type=this.site._lastFocusedElementInGroupTrack.type,s.index=0,t._changeFocus(s,!0,!1,!1,!0)):n.type!==a.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(s.index=t._groups.groupFromItem(n.index),o(t._element,n,s)?t._changeFocus(s,!0,!1,!1,!0):t._changeFocus(n,!0,!1,!1,!0)):(s.index=n.index,t._changeFocus(s,!0,!1,!1,!0)),e.preventDefault()}}},onTabExiting:function(e){if(this.site._hasHeaderOrFooter||this.site._supportsGroupHeaderKeyboarding&&0!==this.site._groups.length()){var t=this.site,n=t._selection._getFocused(),i=e.detail;if(i){var r=null;if(n.type===a.ObjectType.item){var s=this.site._lastFocusedElementInGroupTrack.type;if(s!==a.ObjectType.header&&s!==a.ObjectType.footer&&this.site._supportsGroupHeaderKeyboarding)var r={type:a.ObjectType.groupHeader,index:t._groups.groupFromItem(n.index)};else var r={type:s===a.ObjectType.item?a.ObjectType.header:s,index:0}}r&&o(t._element,n,r)&&(t._changeFocus(r,!0,!1,!1,!0),e.preventDefault())}else if(!i&&n.type!==a.ObjectType.item){var l=0;l=n.type===a.ObjectType.groupHeader?t._groupFocusCache.getIndexForGroup(n.index):n.type===a.ObjectType.header?0:t._view.lastItemIndex();var r={type:a.ObjectType.item,index:l};o(t._element,n,r)&&(t._changeFocus(r,!0,!1,!1,!0),e.preventDefault())}}}});return h})})}),i("WinJS/Controls/ListView/_ErrorMessages",["exports","../../Core/_Base","../../Core/_Resources"],function(e,t,n){"use strict";t.Namespace._moduleDefine(e,null,{modeIsInvalid:{get:function(){return"Invalid argument: mode must be one of following values: 'none', 'single' or 'multi'."}},loadingBehaviorIsDeprecated:{get:function(){return"Invalid configuration: loadingBehavior is deprecated. The control will default this property to 'randomAccess'. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoad is deprecated. The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadThresholdIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoadThreshold is deprecated.  The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},automaticallyLoadPagesIsDeprecated:{get:function(){return"Invalid configuration: automaticallyLoadPages is deprecated. The control will default this property to false. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},invalidTemplate:{get:function(){return"Invalid template: Templates must be created before being passed to the ListView, and must contain a valid tree of elements."}},loadMorePagesIsDeprecated:{get:function(){return"loadMorePages is deprecated. Invoking this function will not have any effect. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},disableBackdropIsDeprecated:{get:function(){return"Invalid configuration: disableBackdrop is deprecated. Style: .win-listview .win-container.win-backdrop { background-color:transparent; } instead."}},backdropColorIsDeprecated:{get:function(){return"Invalid configuration: backdropColor is deprecated. Style: .win-listview .win-container.win-backdrop { rgba(155,155,155,0.23); } instead."}},itemInfoIsDeprecated:{get:function(){return"GridLayout.itemInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},groupInfoIsDeprecated:{get:function(){return"GridLayout.groupInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},resetItemIsDeprecated:{get:function(){return"resetItem may be altered or unavailable in future versions. Instead, mark the element as disposable using WinJS.Utilities.markDisposable."}},resetGroupHeaderIsDeprecated:{get:function(){return"resetGroupHeader may be altered or unavailable in future versions. Instead, mark the header element as disposable using WinJS.Utilities.markDisposable."}},maxRowsIsDeprecated:{get:function(){return"GridLayout.maxRows may be altered or unavailable in future versions. Instead, use the maximumRowsOrColumns property."}},swipeOrientationDeprecated:{get:function(){return"Invalid configuration: swipeOrientation is deprecated. The control will default this property to 'none'"}},swipeBehaviorDeprecated:{get:function(){return"Invalid configuration: swipeBehavior is deprecated. The control will default this property to 'none'"}}})}),i("WinJS/Controls/ListView/_GroupFocusCache",["exports","../../Core/_Base"],function(e,t){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_GroupFocusCache:t.Namespace._lazy(function(){return t.Class.define(function(e){this._listView=e,this.clear()},{updateCache:function(e,t,n){this._lastFocusedItemKey=t,this._lastFocusedItemIndex=n,n=""+n,this._itemToIndex[t]=n,this._groupToItem[e]=t},deleteItem:function(e){if(e===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0),this._itemToIndex[e])for(var t=this,n=Object.keys(this._groupToItem),i=0,o=n.length;i<o;i++){var r=n[i];if(t._groupToItem[r]===e){t.deleteGroup(r);break}}},deleteGroup:function(e){var t=this._groupToItem[e];t&&delete this._itemToIndex[t],delete this._groupToItem[e]},updateItemIndex:function(e,t){e===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=t),this._itemToIndex[e]&&(this._itemToIndex[e]=""+t)},getIndexForGroup:function(e){var t=this._listView._groups.group(e).key,n=this._groupToItem[t];return n&&this._itemToIndex[n]?+this._itemToIndex[n]:this._listView._groups.fromKey(t).group.startIndex},clear:function(){this._groupToItem={},this._itemToIndex={},this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})}),_UnsupportedGroupFocusCache:t.Namespace._lazy(function(){return t.Class.define(null,{updateCache:function(e,t,n){this._lastFocusedItemKey=t,this._lastFocusedItemIndex=n},deleteItem:function(e){e===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0)},deleteGroup:function(){},updateItemIndex:function(e,t){e===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=t)},getIndexForGroup:function(){return 0},clear:function(){this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})})})}),i("WinJS/Controls/ListView/_GroupsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_ItemsManager","../../Utilities/_UI","../ItemContainer/_Constants"],function(e,t,n,i,o,r,s,a){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_GroupsContainerBase:t.Namespace._lazy(function(){return t.Class.define(function(){},{index:function(e){var t=this.headerFrom(e);if(t)for(var n=0,i=this.groups.length;n<i;n++)if(t===this.groups[n].header)return n;return a._INVALID_INDEX},headerFrom:function(e){for(;e&&!o.hasClass(e,a._headerClass);)e=e.parentNode;return e},requestHeader:function(e){this._waitingHeaderRequests=this._waitingHeaderRequests||{},this._waitingHeaderRequests[e]||(this._waitingHeaderRequests[e]=[]);var t=this;return new n(function(n){var i=t.groups[e];i&&i.header?n(i.header):t._waitingHeaderRequests[e].push(n)})},notify:function(e,t){if(this._waitingHeaderRequests&&this._waitingHeaderRequests[e]){for(var n=this._waitingHeaderRequests[e],i=0,o=n.length;i<o;i++)n[i](t);this._waitingHeaderRequests[e]=[]}},groupFromImpl:function(e,t,n){if(t<e)return null;var i=e+Math.floor((t-e)/2),o=this.groups[i];return n(o,i)?this.groupFromImpl(e,i-1,n):i<t&&!n(this.groups[i+1],i+1)?this.groupFromImpl(i+1,t,n):i},groupFrom:function(e){if(this.groups.length>0){var t=this.groups.length-1,n=this.groups[t];return e(n,t)?this.groupFromImpl(0,this.groups.length-1,e):t}return null},groupFromItem:function(e){return this.groupFrom(function(t){return e<t.startIndex})},groupFromOffset:function(e){return this.groupFrom(function(t){return e<t.offset})},group:function(e){return this.groups[e]},length:function(){return this.groups.length},cleanUp:function(){if(this.listBinding){for(var e=0,t=this.groups.length;e<t;e++){var n=this.groups[e];n.userData&&this.listBinding.releaseItem(n.userData)}this.listBinding.release()}},_dispose:function(){this.cleanUp()},synchronizeGroups:function(){var e=this;return this.pendingChanges=[],this.ignoreChanges=!0,this.groupDataSource.invalidateAll().then(function(){return n.join(e.pendingChanges)}).then(function(){if(e._listView._ifZombieDispose())return n.cancel}).then(function(){e.ignoreChanges=!1},function(t){return e.ignoreChanges=!1,n.wrapError(t)})},fromKey:function(e){for(var t=0,n=this.groups.length;t<n;t++){var i=this.groups[t];if(i.key===e)return{group:i,index:t}}return null},fromHandle:function(e){for(var t=0,n=this.groups.length;t<n;t++){var i=this.groups[t];if(i.handle===e)return{group:i,index:t}}return null}})}),_UnvirtualizedGroupsContainer:t.Namespace._lazy(function(){return t.Class.derive(e._GroupsContainerBase,function(e,t){this._listView=e,this.groupDataSource=t,this.groups=[],this.pendingChanges=[],this.dirty=!0;var n=this,r={beginNotifications:function(){n._listView._versionManager.beginNotifications()},endNotifications:function(){n._listView._versionManager.endNotifications(),n._listView._ifZombieDispose()||!n.ignoreChanges&&n._listView._groupsChanged&&n._listView._scheduleUpdate()},indexChanged:function(){n._listView._versionManager.receivedNotification(),n._listView._ifZombieDispose()||this.scheduleUpdate()},itemAvailable:function(){},countChanged:function(e){n._listView._versionManager.receivedNotification(),n._listView._writeProfilerMark("groupCountChanged("+e+"),info"),n._listView._ifZombieDispose()||this.scheduleUpdate()},changed:function(e){if(n._listView._versionManager.receivedNotification(),!n._listView._ifZombieDispose()){var t=n.fromKey(e.key);t&&(n._listView._writeProfilerMark("groupChanged("+t.index+"),info"),t.group.userData=e,t.group.startIndex=e.firstItemIndexHint,this.markToRemove(t.group)),this.scheduleUpdate()}},removed:function(e){if(n._listView._versionManager.receivedNotification(),n._listView._groupRemoved(e),!n._listView._ifZombieDispose()){var t=n.fromHandle(e);if(t){n._listView._writeProfilerMark("groupRemoved("+t.index+"),info"),n.groups.splice(t.index,1);var i=n.groups.indexOf(t.group,t.index);i>-1&&n.groups.splice(i,1),this.markToRemove(t.group)}this.scheduleUpdate()}},inserted:function(e,t,i){if(n._listView._versionManager.receivedNotification(),!n._listView._ifZombieDispose()){n._listView._writeProfilerMark("groupInserted,info");var o=this;e.retain().then(function(r){var s;if(s=t||i||n.groups.length?o.findIndex(t,i):0,s!==-1){var a={key:r.key,startIndex:r.firstItemIndexHint,userData:r,handle:e.handle};n.groups.splice(s,0,a)}o.scheduleUpdate()}),n.pendingChanges.push(e)}},moved:function(e,t,i){if(n._listView._versionManager.receivedNotification(),!n._listView._ifZombieDispose()){n._listView._writeProfilerMark("groupMoved,info");var o=this;e.then(function(r){var s=o.findIndex(t,i),a=n.fromKey(r.key);if(a)n.groups.splice(a.index,1),s!==-1&&(a.index<s&&s--,a.group.key=r.key,a.group.userData=r,a.group.startIndex=r.firstItemIndexHint,n.groups.splice(s,0,a.group));else if(s!==-1){var l={key:r.key,startIndex:r.firstItemIndexHint,userData:r,handle:e.handle};n.groups.splice(s,0,l),e.retain()}o.scheduleUpdate()}),n.pendingChanges.push(e)}},reload:function(){n._listView._versionManager.receivedNotification(),n._listView._ifZombieDispose()||n._listView._processReload()},markToRemove:function(e){if(e.header){var t=e.header;e.header=null,e.left=-1,e.width=-1,e.decorator=null,e.tabIndex=-1,t.tabIndex=-1,n._listView._groupsToRemove[o._uniqueID(t)]={group:e,header:t}}},scheduleUpdate:function(){n.dirty=!0,n.ignoreChanges||(n._listView._groupsChanged=!0)},findIndex:function(e,t){var i,o=-1;return e&&(i=n.fromHandle(e),i&&(o=i.index+1)),o===-1&&t&&(i=n.fromHandle(t),i&&(o=i.index)),o},removeElements:function(e){if(e.header){var t=e.header.parentNode;t&&(i.disposeSubTree(e.header),t.removeChild(e.header)),e.header=null,e.left=-1,e.width=-1}}};this.listBinding=this.groupDataSource.createListBinding(r)},{initialize:function(){this.initializePromise&&this.initializePromise.cancel(),this._listView._writeProfilerMark("GroupsContainer_initialize,StartTM");var e=this;return this.initializePromise=this.groupDataSource.getCount().then(function(t){for(var i=[],o=0;o<t;o++)i.push(e.listBinding.fromIndex(o).retain());return n.join(i)}).then(function(t){e.groups=[];for(var n=0,i=t.length;n<i;n++){var o=t[n];e.groups.push({key:o.key,startIndex:o.firstItemIndexHint,handle:o.handle,userData:o})}e._listView._writeProfilerMark("GroupsContainer_initialize groups("+t.length+"),info"),e._listView._writeProfilerMark("GroupsContainer_initialize,StopTM")},function(t){return e._listView._writeProfilerMark("GroupsContainer_initialize,StopTM"),n.wrapError(t)}),this.initializePromise},renderGroup:function(e){if(this._listView.groupHeaderTemplate){var t=this.groups[e];return n.wrap(this._listView._groupHeaderRenderer(n.wrap(t.userData))).then(r._normalizeRendererReturn)}return n.wrap(null)},setDomElement:function(e,t){this.groups[e].header=t,this.notify(e,t)},removeElements:function(){for(var e=this._listView._groupsToRemove||{},t=Object.keys(e),n=!1,o=this._listView._selection._getFocused(),r=0,a=t.length;r<a;r++){var l=e[t[r]],u=l.header,c=l.group;if(n||o.type!==s.ObjectType.groupHeader||c.userData.index!==o.index||(this._listView._unsetFocusOnItem(),n=!0),u){var d=u.parentNode;d&&(i._disposeElement(u),d.removeChild(u))}}n&&this._listView._setFocusOnItem(o),this._listView._groupsToRemove={}},resetGroups:function(){for(var e=this.groups.slice(0),t=0,n=e.length;t<n;t++){var i=e[t];this.listBinding&&i.userData&&this.listBinding.releaseItem(i.userData)}this.groups.length=0,this.dirty=!0}})}),_NoGroups:t.Namespace._lazy(function(){return t.Class.derive(e._GroupsContainerBase,function(e){this._listView=e,this.groups=[{startIndex:0}],this.dirty=!0},{synchronizeGroups:function(){return n.wrap()},addItem:function(){return n.wrap(this.groups[0])},resetGroups:function(){this.groups=[{startIndex:0}],delete this.pinnedItem,delete this.pinnedOffset,this.dirty=!0},renderGroup:function(){return n.wrap(null)},ensureFirstGroup:function(){return n.wrap(this.groups[0])},groupOf:function(){return n.wrap(this.groups[0])},removeElements:function(){}})})})}),i("WinJS/Controls/ListView/_Helpers",["exports","../../Core/_Base","../ItemContainer/_Constants"],function(e,t,n){"use strict";function i(e){return Array.prototype.slice.call(e)}function o(e,t){if("string"==typeof e)return o([e],t);var n=new Array(Math.floor(t/e.length)+1).join(e.join(""));return n+=e.slice(0,t%e.length).join("")}function r(e,t){var i,r=n._containerEvenClass,s=n._containerOddClass,a=t%2===0?[r,s]:[s,r],l=["<div class='win-container "+a[0]+" win-backdrop'></div>","<div class='win-container "+a[1]+" win-backdrop'></div>"];return i=o(l,e)}t.Namespace._moduleDefine(e,"WinJS.UI",{_nodeListToArray:i,_repeat:o,_stripedContainers:r})}),i("WinJS/Controls/ListView/_ItemsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_ElementUtilities","../ItemContainer/_Constants"],function(e,t,n,i,o){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_ItemsContainer:t.Namespace._lazy(function(){var e=function(e){this.site=e,this._itemData={},this.waitingItemRequests={}};return e.prototype={requestItem:function(e){this.waitingItemRequests[e]||(this.waitingItemRequests[e]=[]);var t=this,i=new n(function(n){var i=t._itemData[e];i&&!i.detached&&i.element?n(i.element):t.waitingItemRequests[e].push(n)});return i},removeItem:function(e){delete this._itemData[e]},removeItems:function(){this._itemData={},this.waitingItemRequests={}},setItemAt:function(e,t){this._itemData[e]=t,t.detached||this.notify(e,t)},notify:function(e,t){if(this.waitingItemRequests[e]){for(var n=this.waitingItemRequests[e],i=0;i<n.length;i++)n[i](t.element);this.waitingItemRequests[e]=[]}},elementAvailable:function(e){var t=this._itemData[e];t.detached=!1,this.notify(e,t)},itemAt:function(e){var t=this._itemData[e];return t?t.element:null},itemDataAt:function(e){return this._itemData[e]},containerAt:function(e){var t=this._itemData[e];return t?t.container:null},itemBoxAt:function(e){var t=this._itemData[e];return t?t.itemBox:null},itemBoxFrom:function(e){for(;e&&!i.hasClass(e,o._itemBoxClass);)e=e.parentNode;return e},containerFrom:function(e){for(;e&&!i.hasClass(e,o._containerClass);)e=e.parentNode;return e},index:function(e){var t=this.containerFrom(e);if(t)for(var n in this._itemData)if(this._itemData[n].container===t)return parseInt(n,10);return o._INVALID_INDEX},each:function(e){for(var t in this._itemData)if(this._itemData.hasOwnProperty(t)){var n=this._itemData[t];e(parseInt(t,10),n.element,n)}},eachIndex:function(e){for(var t in this._itemData)if(e(parseInt(t,10)))break},count:function(){return Object.keys(this._itemData).length}},e})})}),i("WinJS/Controls/ListView/_Layouts",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations/_TransitionAnimation","../../Promise","../../Scheduler","../../_Signal","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","./_ErrorMessages"],function(e,t,n,i,o,r,s,l,u,c,d,h,m,p,f,_,g){"use strict";function v(e){return"_win-dynamic-"+e+"-"+R++}function y(){var e,t,n,i=B.sheet.cssRules,o=F.length;for(e=0;e<o;e++)for(n="."+F[e]+" ",t=i.length-1;t>=0;t--)i[t].selectorText.indexOf(n)!==-1&&B.sheet.deleteRule(t);F=[]}function b(e,t,n,i){y();var o="."+_._listViewClass+" ."+e+" "+n+" { "+i+"}",r="_addDynamicCssRule:"+e+",info";t?t._writeProfilerMark(r):s("WinJS.UI.ListView:Layout"+r),B.sheet.insertRule(o,0)}function w(e){F.push(e)}function C(e,t,n){return Math.max(e,Math.min(t,n))}function E(e,t){return m.convertToPixels(e,m._getComputedStyle(e,null)[t])}function S(e,t){return E(t,"margin"+e)+E(t,"border"+e+"Width")+E(t,"padding"+e)}function I(e){return S("Top",e)+S("Bottom",e)}function x(e){return S("Left",e)+S("Right",e)}function j(e,t){if(e.items)for(var n=0,i=e.items.length;n<i;n++)t(e.items[n],n);else for(var o=0,r=0;o<e.itemsBlocks.length;o++)for(var s=e.itemsBlocks[o],n=0,i=s.items.length;n<i;n++)t(s.items[n],r++)}function k(e,t){if(t<0)return null;if(e.items)return t<e.items.length?e.items[t]:null;var n=e.itemsBlocks[0].items.length,i=Math.floor(t/n),o=t%n;return i<e.itemsBlocks.length&&o<e.itemsBlocks[i].items.length?e.itemsBlocks[i].items[o]:null}function P(e,t){for(var n,i=0,o=t.length;i<o;i++)if(t[i].itemsContainer.element===e){n=t[i].itemsContainer;break}return n}function T(e){var t,n;return e.itemsBlocks?(t=e.itemsBlocks.length,n=t>0?e.itemsBlocks[0].items.length*(t-1)+e.itemsBlocks[t-1].items.length:0):n=e.items.length,n}function O(e){if(!q){var n=t.document.createElement("div");n.style.width="500px",n.style.visibility="hidden";var i=t.document.createElement("div");i.style.cssText+="width: 500px; height: 200px; display: -webkit-flex; display: flex",p.setInnerHTMLUnsafe(i,"<div style='height: 100%; display: -webkit-flex; display: flex; flex-flow: column wrap; align-content: flex-start; -webkit-flex-flow: column wrap; -webkit-align-content: flex-start'><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div></div>"),n.appendChild(i),e.viewport.insertBefore(n,e.viewport.firstChild);var o=n.offsetWidth>0,r=200;o&&(q={supportsCSSGrid:!!("-ms-grid-row"in t.document.documentElement.style),nestedFlexTooLarge:i.firstElementChild.offsetWidth>r,nestedFlexTooSmall:i.firstElementChild.offsetWidth<r}),e.readyToMeasure(),e.viewport.removeChild(n)}return q}function A(e){return u.is(e)?{realizedRangeComplete:e,layoutComplete:e}:"object"===("undefined"==typeof e?"undefined":a(e))&&e&&e.layoutComplete?e:{realizedRangeComplete:u.wrap(),layoutComplete:u.wrap()}}function M(e){return{left:E(e,"marginLeft"),right:E(e,"marginRight"),top:E(e,"marginTop"),bottom:E(e,"marginBottom")}}var D=m.Key,L=m._uniqueID,N={get itemInfoIsInvalid(){return"Invalid argument: An itemInfo function must be provided which returns an object with numeric width and height properties."},get groupInfoResultIsInvalid(){return"Invalid result: groupInfo result for cell spanning groups must include the following numeric properties: cellWidth and cellHeight."}},B=t.document.createElement("style");t.document.head.appendChild(B);var R=0,F=[],z=i._browserStyleEquivalents,H=z.transform,W=i._browserStyleEquivalents.transition.scriptName,V=H.cssName+" cubic-bezier(0.1, 0.9, 0.2, 1) 167ms",U=12,q=null;n.Namespace._moduleDefine(e,"WinJS.UI",{Layout:n.Class.define(function(){}),_LayoutCommon:n.Namespace._lazy(function(){return n.Class.derive(e.Layout,null,{groupHeaderPosition:{enumerable:!0,get:function(){return this._groupHeaderPosition},set:function(e){this._groupHeaderPosition=e,this._invalidateLayout()}},initialize:function(e,t){e._writeProfilerMark("Layout:initialize,info"),this._inListMode||m.addClass(e.surface,_._gridLayoutClass),this._backdropColorClassName&&m.addClass(e.surface,this._backdropColorClassName),this._disableBackdropClassName&&m.addClass(e.surface,this._disableBackdropClassName),this._groups=[],this._groupMap={},this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._site=e,this._groupsEnabled=t,this._resetAnimationCaches(!0)},orientation:{enumerable:!0,get:function(){return this._orientation},set:function(e){this._orientation=e,this._horizontal="horizontal"===e,this._invalidateLayout()}},uninitialize:function(){function e(e){var t,n=e.length;for(t=0;t<n;t++)e[t].cleanUp(!0)}var t="Layout:uninitialize,info";this._elementsToMeasure={},this._site?(this._site._writeProfilerMark(t),m.removeClass(this._site.surface,_._gridLayoutClass),m.removeClass(this._site.surface,_._headerPositionTopClass),m.removeClass(this._site.surface,_._headerPositionLeftClass),m.removeClass(this._site.surface,_._structuralNodesClass),m.removeClass(this._site.surface,_._singleItemsBlockClass),m.removeClass(this._site.surface,_._noCSSGrid),this._site.surface.style.cssText="",this._groups&&(e(this._groups),this._groups=null,this._groupMap=null),this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this._resetMeasurements(),this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._envInfo=null,this._backdropColorClassName&&(m.removeClass(this._site.surface,this._backdropColorClassName),w(this._backdropColorClassName),this._backdropColorClassName=null),this._disableBackdropClassName&&(m.removeClass(this._site.surface,this._disableBackdropClassName),w(this._disableBackdropClassName),this._disableBackdropClassName=null),this._site=null,this._groupsEnabled=null,this._animationsRunning&&this._animationsRunning.cancel(),this._animatingItemsBlocks={}):s("WinJS.UI.ListView:"+t)},numberOfItemsPerItemsBlock:{get:function(){function t(){var e,t=n._site.groupCount;for(e=0;e<t;e++)if(n._isCellSpanning(e))return!1;return!0}var n=this;return n._measureItem(0).then(function(){return n._sizes.viewportContentSize!==n._getViewportCrossSize()&&n._viewportSizeChanged(n._getViewportCrossSize()),t()?n._envInfo.nestedFlexTooLarge||n._envInfo.nestedFlexTooSmall?(n._usingStructuralNodes=!0,Number.MAX_VALUE):(n._usingStructuralNodes=e._LayoutCommon._barsPerItemsBlock>0,e._LayoutCommon._barsPerItemsBlock*n._itemsPerBar):(n._usingStructuralNodes=!1,null)})}},layout:function(e,t,n,i){
function o(e){function t(e){if(d._usingStructuralNodes){var t=[];return e.itemsBlocks.forEach(function(e){t=t.concat(e.items.slice(0))}),t}return e.items.slice(0)}return{element:e.element,items:t(e)}}function r(){function n(e,t){var n=e.enableCellSpanning?J.CellSpanningGroup:J.UniformGroup;return new n(d,t)}var i,r=d._groups.length>0?d._getRealizationRange():null,s=[],a=[],l={},c={},h=0,m=e.length;for(i=0;i<m;i++){var p=null,f=d._getGroupInfo(i),_=d._site.groupFromIndex(i).key,g=d._groupMap[_],v=g instanceof J.CellSpanningGroup,y=f.enableCellSpanning;if(g)if(v!==y)l[_]=!0;else{var b=Math.max(0,t.firstIndex-g.startIndex),w=d._rangeForGroup(g,r);w&&b<=w.lastIndex&&(p={firstIndex:Math.max(b,w.firstIndex),lastIndex:w.lastIndex})}var C,E=n(f,e[i].itemsContainer.element);C=E.prepareLayoutWithCopyOfTree?E.prepareLayoutWithCopyOfTree(o(e[i].itemsContainer),p,g,{groupInfo:f,startIndex:h}):E.prepareLayout(T(e[i].itemsContainer),p,g,{groupInfo:f,startIndex:h}),a.push(C),h+=E.count,s.push(E),c[_]=E}return u.join(a).then(function(){for(var e=0,t=0,n=s.length;t<n;t++){var i=s[t];i.offset=e,e+=d._getGroupSize(i)}Object.keys(d._groupMap).forEach(function(e){var t=!l[e];d._groupMap[e].cleanUp(t)}),d._groups=s,d._groupMap=c})}function s(e,n,i){var o,r=d._groups[e],s=Math.max(0,t.firstIndex-r.startIndex),a=d._rangeForGroup(r,n);return i?void r.layoutRealizedRange(s,a):(a||(o=r.startIndex+r.count-1<n.firstIndex),r.layoutUnrealizedRange(s,a,o))}function a(){if(0!==d._groups.length){var n,i=d._getRealizationRange(),o=e.length,r=h.groupIndexFromItemIndex(t.firstIndex);for(n=r;n<o;n++)s(n,i,!0),d._layoutGroup(n)}}function l(){if(0===d._groups.length)return u.wrap();var e=d._getRealizationRange(),n=h.groupIndexFromItemIndex(e.firstIndex-1),i=h.groupIndexFromItemIndex(e.lastIndex+1),o=h.groupIndexFromItemIndex(t.firstIndex),r=[],a=d._groups.length,l=!1,c=n,m=Math.max(o,i);for(m=Math.max(c+1,m);!l;)l=!0,c>=o&&(r.push(s(c,e,!1)),l=!1,c--),m<a&&(r.push(s(m,e,!1)),l=!1,m++);return u.join(r)}var c,d=this,h=d._site,p="Layout.layout",f=p+":realizedRange";return d._site._writeProfilerMark(p+",StartTM"),d._site._writeProfilerMark(f+",StartTM"),c=d._measureItem(0).then(function(){return m[d._usingStructuralNodes?"addClass":"removeClass"](d._site.surface,_._structuralNodesClass),m[d._envInfo.nestedFlexTooLarge||d._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](d._site.surface,_._singleItemsBlockClass),d._sizes.viewportContentSize!==d._getViewportCrossSize()&&d._viewportSizeChanged(d._getViewportCrossSize()),d._cacheRemovedElements(n,d._cachedItemRecords,d._cachedInsertedItemRecords,d._cachedRemovedItems,!1),d._cacheRemovedElements(i,d._cachedHeaderRecords,d._cachedInsertedHeaderRecords,d._cachedRemovedHeaders,!0),r()}).then(function(){d._syncDomWithGroupHeaderPosition(e);var t=0;if(d._groups.length>0){var o=d._groups[d._groups.length-1];t=o.offset+d._getGroupSize(o)}d._horizontal?(d._groupsEnabled&&d._groupHeaderPosition===K.left?h.surface.style.cssText+=";height:"+d._sizes.surfaceContentSize+"px;-ms-grid-columns: ("+d._sizes.headerContainerWidth+"px auto)["+e.length+"]":h.surface.style.height=d._sizes.surfaceContentSize+"px",(d._envInfo.nestedFlexTooLarge||d._envInfo.nestedFlexTooSmall)&&(h.surface.style.width=t+"px")):(d._groupsEnabled&&d._groupHeaderPosition===K.top?h.surface.style.cssText+=";width:"+d._sizes.surfaceContentSize+"px;-ms-grid-rows: ("+d._sizes.headerContainerHeight+"px auto)["+e.length+"]":h.surface.style.width=d._sizes.surfaceContentSize+"px",(d._envInfo.nestedFlexTooLarge||d._envInfo.nestedFlexTooSmall)&&(h.surface.style.height=t+"px")),a(),d._layoutAnimations(n,i),d._site._writeProfilerMark(f+":complete,info"),d._site._writeProfilerMark(f+",StopTM")},function(e){return d._site._writeProfilerMark(f+":canceled,info"),d._site._writeProfilerMark(f+",StopTM"),u.wrapError(e)}),d._layoutPromise=c.then(function(){return l().then(function(){d._site._writeProfilerMark(p+":complete,info"),d._site._writeProfilerMark(p+",StopTM")},function(e){return d._site._writeProfilerMark(p+":canceled,info"),d._site._writeProfilerMark(p+",StopTM"),u.wrapError(e)})}),{realizedRangeComplete:c,layoutComplete:d._layoutPromise}},itemsFromRange:function(e,t){return this._rangeContainsItems(e,t)?{firstIndex:this._firstItemFromRange(e),lastIndex:this._lastItemFromRange(t)}:{firstIndex:0,lastIndex:-1}},getAdjacent:function(t,n){function i(){var e={type:t.type,index:t.index-s.startIndex},n=s.getAdjacent(e,a);if("boundary"===n){var i=o._groups[r-1],l=o._groups[r+1],u=o._groups.length-1;if(a===D.leftArrow){if(0===r)return t;if(i instanceof J.UniformGroup&&s instanceof J.UniformGroup){var c=o._indexToCoordinate(e.index),d=o._horizontal?c.row:c.column,h=Math.floor((i.count-1)/o._itemsPerBar),m=h*o._itemsPerBar;return{type:f.ObjectType.item,index:i.startIndex+Math.min(i.count-1,m+d)}}return{type:f.ObjectType.item,index:s.startIndex-1}}if(a===D.rightArrow){if(r===u)return t;if(s instanceof J.UniformGroup&&l instanceof J.UniformGroup){var c=o._indexToCoordinate(e.index),d=o._horizontal?c.row:c.column;return{type:f.ObjectType.item,index:l.startIndex+Math.min(l.count-1,d)}}return{type:f.ObjectType.item,index:l.startIndex}}return t}return n.index+=s.startIndex,n}var o=this,r=o._site.groupIndexFromItemIndex(t.index),s=o._groups[r],a=o._adjustedKeyForOrientationAndBars(o._adjustedKeyForRTL(n),s instanceof J.CellSpanningGroup);if(t.type||(t.type=f.ObjectType.item),t.type===f.ObjectType.item||n!==D.pageUp&&n!==D.pageDown){if(t.type===f.ObjectType.header&&a===D.rightArrow)return{type:o._groupsEnabled?f.ObjectType.groupHeader:f.ObjectType.footer,index:0};if(t.type===f.ObjectType.footer&&a===D.leftArrow)return{type:o._groupsEnabled?f.ObjectType.groupHeader:f.ObjectType.header,index:0};if(t.type===f.ObjectType.groupHeader){if(a===D.leftArrow){var l=t.index-1;return l=o._site.header?l:Math.max(0,l),{type:l>-1?f.ObjectType.groupHeader:f.ObjectType.header,index:l>-1?l:0}}if(a===D.rightArrow){var l=t.index+1;return l=o._site.header?l:Math.min(o._groups.length-1,t.index+1),{type:l>=o._groups.length?f.ObjectType.header:f.ObjectType.groupHeader,index:l>=o._groups.length?0:l}}return t}}else{var u=0;u=t.type===f.ObjectType.groupHeader?o._groups[t.index].startIndex:t.type===f.ObjectType.header?0:o._groups[o._groups.length-1].count-1,t={type:f.ObjectType.item,index:u}}switch(o._adjustedKeyForRTL(n)){case D.upArrow:case D.leftArrow:case D.downArrow:case D.rightArrow:return i();default:return e._LayoutCommon.prototype._getAdjacentForPageKeys.call(o,t,n)}},hitTest:function(e,t){var n,i=this._sizes;e-=i.layoutOriginX,t-=i.layoutOriginY;var o=this._groupFromOffset(this._horizontal?e:t),r=this._groups[o];return this._horizontal?e-=r.offset:t-=r.offset,this._groupsEnabled&&(this._groupHeaderPosition===K.left?e-=i.headerContainerWidth:t-=i.headerContainerHeight),n=r.hitTest(e,t),n.index+=r.startIndex,n.insertAfterIndex+=r.startIndex,n},setupAnimations:function(){if(0===this._groups.length)return void this._resetAnimationCaches();if(!Object.keys(this._cachedItemRecords).length){this._site._writeProfilerMark("Animation:setupAnimations,StartTM");for(var e=this._getRealizationRange(),t=this._site.tree,n=0,i="horizontal"===this.orientation,o=0,r=t.length;o<r;o++){var s=t[o],a=!1,l=this._groups[o],u=l instanceof J.CellSpanningGroup,c=l?l.offset:0;if(j(s.itemsContainer,function(t,i){if(e.firstIndex<=n&&e.lastIndex>=n&&(a=!0,!this._cachedItemRecords[n])){var r=this._getItemPositionForAnimations(n,o,i),s=r.row,l=r.column,c=r.left,d=r.top;this._cachedItemRecords[n]={oldRow:s,oldColumn:l,oldLeft:c,oldTop:d,width:r.width,height:r.height,element:t,inCellSpanningGroup:u}}n++}.bind(this)),a){var d=o;if(!this._cachedHeaderRecords[d]){var h=this._getHeaderPositionForAnimations(d);this._cachedHeaderRecords[d]={oldLeft:h.left,oldTop:h.top,width:h.width,height:h.height,element:s.header}}this._cachedGroupRecords[L(s.itemsContainer.element)]||(this._cachedGroupRecords[L(s.itemsContainer.element)]={oldLeft:i?c:0,left:i?c:0,oldTop:i?0:c,top:i?0:c,element:s.itemsContainer.element})}}this._site._writeProfilerMark("Animation:setupAnimations,StopTM")}},_layoutAnimations:function(e,t){if(Object.keys(this._cachedItemRecords).length||Object.keys(this._cachedGroupRecords).length||Object.keys(this._cachedHeaderRecords).length){this._site._writeProfilerMark("Animation:layoutAnimation,StartTM"),this._updateAnimationCache(e,t);for(var n=this._getRealizationRange(),i=this._site.tree,o=0,r="horizontal"===this.orientation,s=0,a=i.length;s<a;s++){var l=i[s],u=this._groups[s],c=u instanceof J.CellSpanningGroup,d=u?u.offset:0,h=0,p=0,f=this._cachedGroupRecords[L(l.itemsContainer.element)];f&&(r?h=f.oldLeft-d:p=f.oldTop-d),j(l.itemsContainer,function(e,t){if(n.firstIndex<=o&&n.lastIndex>=o){var i=this._cachedItemRecords[o];if(i){var r=this._getItemPositionForAnimations(o,s,t),a=r.row,l=r.column,u=r.left,d=r.top;if(i.inCellSpanningGroup=i.inCellSpanningGroup||c,i.oldRow!==a||i.oldColumn!==l||i.oldTop!==d||i.oldLeft!==u){i.row=a,i.column=l,i.left=u,i.top=d;var f=i.oldLeft-i.left-h,g=i.oldTop-i.top-p;if(f=(this._site.rtl?-1:1)*f,i.xOffset=f,i.yOffset=g,0!==f||0!==g){var v=i.element;i.needsToResetTransform=!0,v.style[W]="",v.style[H.scriptName]="translate("+f+"px,"+g+"px)"}var y=e.parentNode;m.hasClass(y,_._itemsBlockClass)&&(this._animatingItemsBlocks[L(y)]=y)}}else this._cachedInsertedItemRecords[o]=e,e.style[W]="",e.style.opacity=0}o++}.bind(this));var g=s,v=this._cachedHeaderRecords[g];if(v){var y=this._getHeaderPositionForAnimations(g);if(v.height=y.height,v.width=y.width,v.oldLeft!==y.left||v.oldTop!==y.top){v.left=y.left,v.top=y.top;var b=v.oldLeft-v.left,w=v.oldTop-v.top;if(b=(this._site.rtl?-1:1)*b,0!==b||0!==w){v.needsToResetTransform=!0;var C=v.element;C.style[W]="",C.style[H.scriptName]="translate("+b+"px,"+w+"px)"}}}if(f&&(r&&f.left!==d||!r&&f.top!==d)){var E=f.element;if(0===h&&0===p)f.needsToResetTransform&&(f.needsToResetTransform=!1,E.style[H.scriptName]="");else{var S=(this._site.rtl?-1:1)*h,I=p;f.needsToResetTransform=!0,E.style[W]="",E.style[H.scriptName]="translate("+S+"px, "+I+"px)"}}}if(this._inListMode||1===this._itemsPerBar)for(var x=Object.keys(this._animatingItemsBlocks),k=0,P=x.length;k<P;k++)this._animatingItemsBlocks[x[k]].style.overflow="visible";this._site._writeProfilerMark("Animation:layoutAnimation,StopTM")}},executeAnimations:function(){function t(){if(o(),M)r();else{if(te._itemsPerBar>1)for(var e=te._itemsPerBar*te._sizes.containerCrossSize+te._getHeaderSizeContentAdjustment()+te._sizes.containerMargins[J?"top":w.rtl?"right":"left"]+(J?te._sizes.layoutOriginY:te._sizes.layoutOriginX),t=0,n=S.length;t<n;t++){var i=S[t];i[K]>i[G]?(F=Math.max(F,i[Y]+i[J?"height":"width"]),V=Math.max(V,e-i[X]),D=!0,q.push(i)):i[K]<i[G]&&(z=Math.max(z,e-i[Y]),U=Math.max(U,i[X]+i[J?"height":"width"]),q.push(i),D=!0)}w.rtl&&!J&&(F*=-1,V*=-1,z*=-1,U*=-1),D?a(te._itemsPerBar):f()}}function n(t){O=u.join(A),O.done(function(){A=[],y&&(e.Layout._debugAnimations?i._requestAnimationFrame(function(){t()}):t())})}function o(){if(E.length){w._writeProfilerMark("Animation:setupRemoveAnimation,StartTM"),j+=60,k+=60;var e=120;b&&(e*=10),A.push(l.executeTransition(E,[{property:"opacity",delay:x,duration:e,timing:"linear",to:0,skipStylesReset:!0}])),w._writeProfilerMark("Animation:setupRemoveAnimation,StopTM")}}function r(){w._writeProfilerMark("Animation:cellSpanningFadeOutMove,StartTM");for(var e=[],t=0,i=S.length;t<i;t++){var o=S[t],r=o.element;e.push(r)}for(var t=0,i=I.length;t<i;t++){var o=I[t],r=o.element;e.push(r)}var a=120;b&&(a*=10),A.push(l.executeTransition(e,{property:"opacity",delay:x,duration:a,timing:"linear",to:0})),n(s),w._writeProfilerMark("Animation:cellSpanningFadeOutMove,StopTM")}function s(){w._writeProfilerMark("Animation:cellSpanningFadeInMove,StartTM"),k=0;for(var e=[],t=0,n=S.length;t<n;t++){var i=S[t],o=i.element;o.style[H.scriptName]="",e.push(o)}for(var t=0,n=I.length;t<n;t++){var i=I[t],o=i.element;o.style[H.scriptName]="",e.push(o)}var r=120;b&&(r*=10),A.push(l.executeTransition(e,{property:"opacity",delay:k,duration:r,timing:"linear",to:1})),w._writeProfilerMark("Animation:cellSpanningFadeInMove,StopTM"),g()}function a(e){w._writeProfilerMark("Animation:setupReflowAnimation,StartTM");for(var t={},i=0,o=q.length;i<o;i++){var r=q[i],s=r.xOffset,a=r.yOffset;r[K]>r[G]?J?a-=F:s-=F:r[K]<r[G]&&(J?a+=z:s+=z);var u=r.element;N=Math.min(N,J?s:a),B=Math.max(B,J?s:a);var c=u.parentNode;m.hasClass(c,"win-itemscontainer")||(c=c.parentNode);var d=t[L(c)];if(!d){var h=T(P(c,w.tree));t[L(c)]=d=Math.ceil(h/e)-1}q[i][J?"column":"row"]===d&&(R[L(c)]=c);var f=80;b&&(f*=10),A.push(l.executeTransition(u,{property:H.cssName,delay:j,duration:f,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"translate("+s+"px,"+a+"px)"}))}for(var g=Object.keys(R),i=0,o=g.length;i<o;i++){var v=R[g[i]];w.rtl&&J?(v.style.paddingLeft=-1*N+"px",v.style.marginLeft=N+"px"):(v.style[J?"paddingRight":"paddingBottom"]=B+"px",v.style[J?"marginRight":"marginBottom"]="-"+B+"px")}for(var y=Object.keys(Z),i=0,o=y.length;i<o;i++)Z[y[i]].classList.add(_._clipClass);n(p),w._writeProfilerMark("Animation:setupReflowAnimation,StopTM")}function c(){for(var e=Object.keys(R),t=0,n=e.length;t<n;t++){var i=R[e[t]];w.rtl&&J?(i.style.paddingLeft="",i.style.marginLeft=""):(i.style[J?"paddingRight":"paddingBottom"]="",i.style[J?"marginRight":"marginBottom"]="")}R={};for(var o=Object.keys(Z),t=0,n=o.length;t<n;t++){var r=Z[o[t]];r.style.overflow="",r.classList.remove(_._clipClass)}}function p(){w._writeProfilerMark("Animation:prepareReflowedItems,StartTM");for(var t=0,n=q.length;t<n;t++){var o=q[t],r=0,s=0;o[K]>o[G]?J?s=V:r=V:o[K]<o[G]&&(J?s=-1*U:r=-1*U),o.element.style[W]="",o.element.style[H.scriptName]="translate("+r+"px,"+s+"px)"}w._writeProfilerMark("Animation:prepareReflowedItems,StopTM"),e.Layout._debugAnimations?i._requestAnimationFrame(function(){f(!0)}):f(!0)}function f(e){var t=200;if(e&&(t=150,j=0,k=0),b&&(t*=10),S.length>0||I.length>0){w._writeProfilerMark("Animation:setupMoveAnimation,StartTM");for(var n=[],i=0,o=I.length;i<o;i++){var r=I[i].element;n.push(r)}for(var i=0,o=S.length;i<o;i++){var r=S[i].element;n.push(r)}A.push(l.executeTransition(n,{property:H.cssName,delay:j,duration:t,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""})),k+=80,w._writeProfilerMark("Animation:setupMoveAnimation,StopTM")}g()}function g(){if(C.length>0){w._writeProfilerMark("Animation:setupInsertAnimation,StartTM");var e=120;b&&(e*=10),A.push(l.executeTransition(C,[{property:"opacity",delay:k,duration:e,timing:"linear",to:1}])),w._writeProfilerMark("Animation:setupInsertAnimation,StopTM")}n(v)}function v(){w._writeProfilerMark("Animation:cleanupAnimations,StartTM"),c();for(var e=0,t=E.length;e<t;e++){var n=E[e];n.parentNode&&(h._disposeElement(n),n.parentNode.removeChild(n))}w._writeProfilerMark("Animation:cleanupAnimations,StopTM"),te._animationsRunning=null,y.complete()}var y=new d;if(this._filterInsertedElements(),this._filterMovedElements(),this._filterRemovedElements(),0===this._insertedElements.length&&0===this._removedElements.length&&0===this._itemMoveRecords.length&&0===this._moveRecords.length)return this._resetAnimationCaches(!0),y.complete(),y.promise;this._animationsRunning=y.promise;for(var b=e.Layout._debugAnimations||e.Layout._slowAnimations,w=this._site,C=this._insertedElements,E=this._removedElements,S=this._itemMoveRecords,I=this._moveRecords,x=0,j=0,k=0,O=null,A=[],M=!1,D=!1,N=0,B=0,R={},F=0,z=0,V=0,U=0,q=[],J="horizontal"===this.orientation,K=J?"oldColumn":"oldRow",G=J?"column":"row",Y=J?"oldTop":"oldLeft",X=J?"top":"left",Z=this._animatingItemsBlocks,Q=0,$=S.length;Q<$;Q++){var ee=S[Q];if(ee.inCellSpanningGroup){M=!0;break}}var te=this;return e.Layout._debugAnimations?i._requestAnimationFrame(function(){t()}):t(),this._resetAnimationCaches(!0),y.promise.then(null,function(){c();for(var e=0,t=I.length;e<t;e++){var n=I[e].element;n.style[H.scriptName]="",n.style.opacity=1}for(var e=0,t=S.length;e<t;e++){var n=S[e].element;n.style[H.scriptName]="",n.style.opacity=1}for(var e=0,t=C.length;e<t;e++)C[e].style.opacity=1;for(var e=0,t=E.length;e<t;e++){var n=E[e];n.parentNode&&(h._disposeElement(n),n.parentNode.removeChild(n))}this._animationsRunning=null,y=null,O&&O.cancel()}.bind(this)),y.promise},dragOver:function(e,t,n){var i=this.hitTest(e,t),o=this._groups?this._site.groupIndexFromItemIndex(i.index):0,r=this._site.tree[o].itemsContainer,s=T(r),a=this._groups?this._groups[o].startIndex:0,l=this._getVisibleRange();i.index-=a,i.insertAfterIndex-=a,l.firstIndex=Math.max(l.firstIndex-a-1,0),l.lastIndex=Math.min(l.lastIndex-a+1,s);var u=Math.max(Math.min(s-1,i.insertAfterIndex),-1),c=Math.min(u+1,s);if(n){for(var d=u;d>=l.firstIndex;d--){if(!n._isIncluded(d+a)){u=d;break}d===l.firstIndex&&(u=-1)}for(var d=c;d<l.lastIndex;d++){if(!n._isIncluded(d+a)){c=d;break}d===l.lastIndex-1&&(c=s)}}var h=k(r,c),m=k(r,u);if(this._animatedDragItems)for(var d=0,p=this._animatedDragItems.length;d<p;d++){var f=this._animatedDragItems[d];f&&(f.style[W]=this._site.animationsDisabled?"":V,f.style[H.scriptName]="")}this._animatedDragItems=[];var _="horizontal"===this.orientation,g=this._inListMode||1===this._itemsPerBar;this._groups&&this._groups[o]instanceof J.CellSpanningGroup&&(g=1===this._groups[o]._slotsPerColumn);var v=0,y=0;!_&&!g||_&&g?v=this._site.rtl?-U:U:y=U,h&&(h.style[W]=this._site.animationsDisabled?"":V,h.style[H.scriptName]="translate("+v+"px, "+y+"px)",this._animatedDragItems.push(h)),m&&(m.style[W]=this._site.animationsDisabled?"":V,m.style[H.scriptName]="translate("+-v+"px, -"+y+"px)",this._animatedDragItems.push(m))},dragLeave:function(){if(this._animatedDragItems)for(var e=0,t=this._animatedDragItems.length;e<t;e++)this._animatedDragItems[e].style[W]=this._site.animationsDisabled?"":V,this._animatedDragItems[e].style[H.scriptName]="";this._animatedDragItems=[]},_setMaxRowsOrColumns:function(e){e===this._maxRowsOrColumns||this._inListMode||(this._sizes&&this._sizes.containerSizeLoaded&&(this._itemsPerBar=Math.floor(this._sizes.maxItemsContainerContentSize/this._sizes.containerCrossSize),e&&(this._itemsPerBar=Math.min(this._itemsPerBar,e)),this._itemsPerBar=Math.max(1,this._itemsPerBar)),this._maxRowsOrColumns=e,this._invalidateLayout())},_getItemPosition:function(e){if(this._groupsEnabled){var t=Math.min(this._groups.length-1,this._site.groupIndexFromItemIndex(e)),n=this._groups[t],i=e-n.startIndex;return this._getItemPositionForAnimations(e,t,i)}return this._getItemPositionForAnimations(e,0,e)},_getRealizationRange:function(){var e=this._site.realizedRange;return{firstIndex:this._firstItemFromRange(e.firstPixel),lastIndex:this._lastItemFromRange(e.lastPixel)}},_getVisibleRange:function(){var e=this._site.visibleRange;return{firstIndex:this._firstItemFromRange(e.firstPixel),lastIndex:this._lastItemFromRange(e.lastPixel)}},_resetAnimationCaches:function(e){if(!e){this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords),this._resetStylesForRemovedRecords(this._cachedRemovedItems),this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);for(var t=Object.keys(this._animatingItemsBlocks),n=0,i=t.length;n<i;n++){var o=this._animatingItemsBlocks[t[n]];o.style.overflow="",o.classList.remove(_._clipClass)}}this._cachedGroupRecords={},this._cachedItemRecords={},this._cachedHeaderRecords={},this._cachedInsertedItemRecords={},this._cachedInsertedHeaderRecords={},this._cachedRemovedItems=[],this._cachedRemovedHeaders=[],this._animatingItemsBlocks={}},_cacheRemovedElements:function(e,t,n,i,o){var r="left";this._site.rtl&&(r="right");var s,a;o?(s=this._sizes.headerContainerOuterX,a=this._sizes.headerContainerOuterY):(s=this._sizes.containerMargins[r],a=this._sizes.containerMargins.top);for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c.newIndex===-1){var d=c.element,h=t[c.oldIndex];h&&(h.element=d,delete t[c.oldIndex],d.style.position="absolute",d.style[W]="",d.style.top=h.oldTop-a+"px",d.style[r]=h.oldLeft-s+"px",d.style.width=h.width+"px",d.style.height=h.height+"px",d.style[H.scriptName]="",this._site.surface.appendChild(d),i.push(h)),n[c.oldIndex]&&delete n[c.oldIndex]}}},_cacheInsertedElements:function(e,t,n){for(var i={},o=0,r=e.length;o<r;o++){var s=e[o],a=t[s.oldIndex];if(a&&delete t[s.oldIndex],a||s.oldIndex===-1||s.moved){var l=n[s.newIndex];l&&delete n[s.newIndex];var u=s.element;i[s.newIndex]=u,u.style[W]="",u.style[H.scriptName]="",u.style.opacity=0}}for(var c=Object.keys(t),o=0,r=c.length;o<r;o++)i[c[o]]=t[c[o]];return i},_resetStylesForRecords:function(e){for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var o=e[t[n]];o.needsToResetTransform&&(o.element.style[H.scriptName]="",o.needsToResetTransform=!1)}},_resetStylesForInsertedRecords:function(e){for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var o=e[t[n]];o.style.opacity=1}},_resetStylesForRemovedRecords:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].element;i.parentNode&&(h._disposeElement(i),i.parentNode.removeChild(i))}},_updateAnimationCache:function(e,t){function n(e,t){for(var n={},o=0,r=e.length;o<r;o++){var s=e[o],a=t[s.oldIndex];a&&(n[s.newIndex]=a,a.element=s.element,delete t[s.oldIndex])}for(var l=Object.keys(t),o=0,r=l.length;o<r;o++){var u=l[o],c=t[u];c.element&&!i[L(c.element)]||(n[u]=c)}return n}this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);for(var i={},o=this._getRealizationRange(),r=this._site.tree,s=0,a=0,l=r.length;s<l;s++)j(r[s].itemsContainer,function(e){o.firstIndex<=a&&o.lastIndex>=a&&(i[L(e)]=!0),a++});this._cachedItemRecords=n(e,this._cachedItemRecords),this._cachedHeaderRecords=n(t,this._cachedHeaderRecords),this._cachedInsertedItemRecords=this._cacheInsertedElements(e,this._cachedInsertedItemRecords,this._cachedItemRecords),this._cachedInsertedHeaderRecords=this._cacheInsertedElements(t,this._cachedInsertedHeaderRecords,this._cachedHeaderRecords)},_filterRemovedElements:function(){function e(e,s){for(var a=0,l=e.length;a<l;a++){var u=e[a],c=u.element;u[n]+u[i]-1<o||u[n]>r||!t._site.viewport.contains(c)?c.parentNode&&(h._disposeElement(c),c.parentNode.removeChild(c)):s.push(c)}}if(this._removedElements=[],this._site.animationsDisabled)return this._resetStylesForRemovedRecords(this._cachedRemovedItems),void this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);var t=this,n="horizontal"===this.orientation?"oldLeft":"oldTop",i="horizontal"===this.orientation?"width":"height",o=this._site.scrollbarPos,r=o+this._site.viewportSize[i]-1;e(this._cachedRemovedItems,this._removedElements),e(this._cachedRemovedHeaders,this._removedElements)},_filterInsertedElements:function(){function e(e,i){for(var o=Object.keys(e),r=0,s=o.length;r<s;r++){var a=o[r],l=e[a];a<n.firstIndex||a>n.lastIndex||t._site.viewport.contains(l.element)?l.style.opacity=1:i.push(l)}}if(this._insertedElements=[],this._site.animationsDisabled)return this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),void this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);var t=this,n=this._getVisibleRange();e(this._cachedInsertedItemRecords,this._insertedElements),e(this._cachedInsertedHeaderRecords,this._insertedElements)},_filterMovedElements:function(){var e=this,t="horizontal"===this.orientation?"oldLeft":"oldTop",n="horizontal"===this.orientation?"left":"top",i="horizontal"===this.orientation?"width":"height",o=this._getRealizationRange(),r=this._site.scrollbarPos,s=r+this._site.viewportSize[i]-1;if(this._itemMoveRecords=[],this._moveRecords=[],!this._site.animationsDisabled)for(var a=this._site.tree,l=0,u=0,c=a.length;u<c;u++){var d=a[u],h=!1;j(d.itemsContainer,function(){if(o.firstIndex<=l&&o.lastIndex>=l){var a=this._cachedItemRecords[l];if(a){var u=(a[t]+a[i]-1>=r&&a[t]<=s||a[n]+a[i]-1>=r&&a[n]<=s)&&e._site.viewport.contains(a.element);u&&(h=!0,a.needsToResetTransform&&(this._itemMoveRecords.push(a),delete this._cachedItemRecords[l]))}}l++}.bind(this));var m=u,p=this._cachedHeaderRecords[m];p&&h&&p.needsToResetTransform&&(this._moveRecords.push(p),delete this._cachedHeaderRecords[m]);var f=this._cachedGroupRecords[L(d.itemsContainer.element)];f&&h&&f.needsToResetTransform&&(this._moveRecords.push(f),delete this._cachedGroupRecords[L(d.itemsContainer.element)])}this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords)},_getItemPositionForAnimations:function(e,t,n){var i=this._groups[t],o=i.getItemPositionForAnimations(n),r=this._groups[t]?this._groups[t].offset:0,s=this._groupsEnabled&&this._groupHeaderPosition===K.left?this._sizes.headerContainerWidth:0,a=this._groupsEnabled&&this._groupHeaderPosition===K.top?this._sizes.headerContainerHeight:0;return o.left+=this._sizes.layoutOriginX+s+this._sizes.itemsContainerOuterX,o.top+=this._sizes.layoutOriginY+a+this._sizes.itemsContainerOuterY,o[this._horizontal?"left":"top"]+=r,o},_getHeaderPositionForAnimations:function(e){var t;if(this._groupsEnabled){var n=this._sizes.headerContainerWidth-this._sizes.headerContainerOuterWidth,i=this._sizes.headerContainerHeight-this._sizes.headerContainerOuterHeight;this._groupHeaderPosition!==K.left||this._horizontal?this._groupHeaderPosition===K.top&&this._horizontal&&(n=this._groups[e].getItemsContainerSize()-this._sizes.headerContainerOuterWidth):i=this._groups[e].getItemsContainerSize()-this._sizes.headerContainerOuterHeight;var o=this._horizontal?this._groups[e].offset:0,r=this._horizontal?0:this._groups[e].offset;t={top:this._sizes.layoutOriginY+r+this._sizes.headerContainerOuterY,left:this._sizes.layoutOriginX+o+this._sizes.headerContainerOuterX,height:i,width:n}}else t={top:0,left:0,height:0,width:0};return t},_rangeContainsItems:function(e,t){if(0===this._groups.length)return!1;var n=this._groups[this._groups.length-1],i=this._sizes.layoutOrigin+n.offset+this._getGroupSize(n)-1;return t>=0&&e<=i},_itemFromOffset:function(e,t){function n(e){if(!t.wholeItem){var n=o._horizontal?o._site.rtl?"right":"left":"top",i=o._horizontal?o._site.rtl?"left":"right":"bottom";return t.last?e-o._sizes.containerMargins[n]:e+o._sizes.containerMargins[i]}return e}function i(e){return t.last?e-o._getHeaderSizeGroupAdjustment()-o._sizes.itemsContainerOuterStart:e}var o=this;if(0===this._groups.length)return 0;t=t||{},e-=this._sizes.layoutOrigin,e=n(e);var r=this._groupFromOffset(i(e)),s=this._groups[r];return e-=s.offset,e-=this._getHeaderSizeGroupAdjustment(),s.startIndex+s.itemFromOffset(e,t)},_firstItemFromRange:function(e,t){return t=t||{},t.last=0,this._itemFromOffset(e,t)},_lastItemFromRange:function(e,t){return t=t||{},t.last=1,this._itemFromOffset(e,t)},_adjustedKeyForRTL:function(e){return this._site.rtl&&(e===D.leftArrow?e=D.rightArrow:e===D.rightArrow&&(e=D.leftArrow)),e},_adjustedKeyForOrientationAndBars:function(e,t){var n=e;if(t)return e;if(!this._horizontal)switch(n){case D.leftArrow:n=D.upArrow;break;case D.rightArrow:n=D.downArrow;break;case D.upArrow:n=D.leftArrow;break;case D.downArrow:n=D.rightArrow}return 1===this._itemsPerBar&&(n===D.upArrow?n=D.leftArrow:n===D.downArrow&&(n=D.rightArrow)),n},_getAdjacentForPageKeys:function(e,t){var n,i=this._sizes.containerMargins,o="horizontal"===this.orientation?i.left+i.right:i.top+i.bottom,r=this._site.viewportSize["horizontal"===this.orientation?"width":"height"],s=this._site.scrollbarPos,a=s+r-1-i["horizontal"===this.orientation?"right":"bottom"],l=this._firstItemFromRange(s,{wholeItem:!0}),u=this._lastItemFromRange(a,{wholeItem:!1}),c=this._getItemPosition(e.index),d=!1;if((e.index<l||e.index>u)&&(d=!0,s="horizontal"===this.orientation?c.left-o:c.top-o,a=s+r-1,l=this._firstItemFromRange(s,{wholeItem:!0}),u=this._lastItemFromRange(a,{wholeItem:!1})),t===D.pageUp){if(!d&&l!==e.index)return{type:f.ObjectType.item,index:l};var h;h="horizontal"===this.orientation?c.left+c.width+o+i.left:c.top+c.height+o+i.bottom;var m=this._firstItemFromRange(h-r,{wholeItem:!0});n=e.index===m?Math.max(0,e.index-this._itemsPerBar):m}else{if(!d&&u!==e.index)return{type:f.ObjectType.item,index:u};var p;p="horizontal"===this.orientation?c.left-o-i.right:c.top-o-i.bottom;var _=Math.max(0,this._lastItemFromRange(p+r-1,{wholeItem:!0}));n=e.index===_?e.index+this._itemsPerBar:_}return{type:f.ObjectType.item,index:n}},_isCellSpanning:function(e){var t=this._site.groupFromIndex(e),n=this._groupInfo;return!!n&&!!("function"==typeof n?n(t):n).enableCellSpanning},_getGroupInfo:function(e){var t=this._site.groupFromIndex(e),n=this._groupInfo,i=this._sizes.containerMargins,r={enableCellSpanning:!1};if(n="function"==typeof n?n(t):n){if(n.enableCellSpanning&&(+n.cellWidth!==n.cellWidth||+n.cellHeight!==n.cellHeight))throw new o("WinJS.UI.GridLayout.GroupInfoResultIsInvalid",N.groupInfoResultIsInvalid);r={enableCellSpanning:!!n.enableCellSpanning,cellWidth:n.cellWidth+i.left+i.right,cellHeight:n.cellHeight+i.top+i.bottom}}return r},_getItemInfo:function(e){var t;if(this._itemInfo&&"function"==typeof this._itemInfo)t=this._itemInfo(e);else{if(!this._useDefaultItemInfo)throw new o("WinJS.UI.GridLayout.ItemInfoIsInvalid",N.itemInfoIsInvalid);t=this._defaultItemInfo(e)}return u.as(t).then(function(e){if(!e||+e.width!==e.width||+e.height!==e.height)throw new o("WinJS.UI.GridLayout.ItemInfoIsInvalid",N.itemInfoIsInvalid);return e})},_defaultItemInfo:function(e){var t=this;return this._site.renderItem(this._site.itemFromIndex(e)).then(function(n){return t._elementsToMeasure[e]={element:n},t._measureElements()}).then(function(){var n=t._elementsToMeasure[e],i={width:n.width,height:n.height};return delete t._elementsToMeasure[e],i},function(n){return delete t._elementsToMeasure[e],u.wrapError(n)})},_getGroupSize:function(e){var t=0;return this._groupsEnabled&&(this._horizontal&&this._groupHeaderPosition===K.top?t=this._sizes.headerContainerMinWidth:this._horizontal||this._groupHeaderPosition!==K.left||(t=this._sizes.headerContainerMinHeight)),Math.max(t,e.getItemsContainerSize()+this._getHeaderSizeGroupAdjustment())},_groupFromOffset:function(e){return e<this._groups[0].offset?0:this._groupFrom(function(t){return e<t.offset})},_groupFromImpl:function(e,t,n){if(t<e)return null;var i=e+Math.floor((t-e)/2),o=this._groups[i];return n(o,i)?this._groupFromImpl(e,i-1,n):i<t&&!n(this._groups[i+1],i+1)?this._groupFromImpl(i+1,t,n):i},_groupFrom:function(e){if(this._groups.length>0){var t=this._groups.length-1,n=this._groups[t];return e(n,t)?this._groupFromImpl(0,this._groups.length-1,e):t}return null},_invalidateLayout:function(){this._site&&this._site.invalidateLayout()},_resetMeasurements:function(){this._measuringPromise&&(this._measuringPromise.cancel(),this._measuringPromise=null),this._containerSizeClassName&&(m.removeClass(this._site.surface,this._containerSizeClassName),w(this._containerSizeClassName),this._containerSizeClassName=null),this._sizes=null,this._resetAnimationCaches()},_measureElements:function(){if(!this._measuringElements){var e=this;e._measuringElements=c.schedulePromiseHigh(null,"WinJS.UI.GridLayout._measuringElements").then(function(){e._site._writeProfilerMark("_measureElements,StartTM");var n=e._createMeasuringSurface(),i=t.document.createElement("div"),o=e._site,r=e._measuringElements,s=e._elementsToMeasure,a=!1;i.className=_._itemsContainerClass+" "+_._laidOutClass,i.style.cssText+=";display: -ms-grid;-ms-grid-column: 1;-ms-grid-row: 1";var l,u,c=Object.keys(s);for(u=0,l=c.length;u<l;u++){var d=s[c[u]].element;d.style["-ms-grid-column"]=u+1,d.style["-ms-grid-row"]=u+1,i.appendChild(d)}for(n.appendChild(i),o.viewport.insertBefore(n,o.viewport.firstChild),r.then(null,function(){a=!0}),u=0,l=c.length;u<l&&!a;u++){var h=s[c[u]],p=h.element.querySelector("."+_._itemClass);
h.width=m.getTotalWidth(p),h.height=m.getTotalHeight(p)}n.parentNode&&n.parentNode.removeChild(n),r===e._measuringElements&&(e._measuringElements=null),o._writeProfilerMark("_measureElements,StopTM")},function(t){return e._measuringElements=null,u.wrapError(t)})}return this._measuringElements},_ensureEnvInfo:function(){return this._envInfo||(this._envInfo=O(this._site),this._envInfo&&!this._envInfo.supportsCSSGrid&&m.addClass(this._site.surface,_._noCSSGrid)),!!this._envInfo},_createMeasuringSurface:function(){var e=t.document.createElement("div");return e.style.cssText="visibility: hidden;-ms-grid-columns: auto;-ms-grid-rows: auto;-ms-flex-align: start;-webkit-align-items: flex-start;align-items: flex-start",e.className=_._scrollableClass+" "+(this._inListMode?_._listLayoutClass:_._gridLayoutClass),this._envInfo.supportsCSSGrid||m.addClass(e,_._noCSSGrid),this._groupsEnabled&&(this._groupHeaderPosition===K.top?m.addClass(e,_._headerPositionTopClass):m.addClass(e,_._headerPositionLeftClass)),e},_measureItem:function(e){function n(e,o){var o,a=!!o,l={},c=r.rtl?"right":"left";return r.itemCount.then(function(t){return!t||i._groupsEnabled&&!r.groupCount?u.cancel:(o=o||r.itemFromIndex(e),l.container=r.renderItem(o),i._groupsEnabled&&(l.headerContainer=r.renderHeader(i._site.groupFromIndex(r.groupIndexFromItemIndex(e)))),u.join(l))}).then(function(l){function d(){var e=i._horizontal,t=i._groupsEnabled,n=!1;s.then(null,function(){n=!0});var o=M(k),a=r.rtl?r.viewport.offsetWidth-(k.offsetLeft+k.offsetWidth):k.offsetLeft,u=k.offsetTop,d={viewportContentSize:0,surfaceContentSize:0,maxItemsContainerContentSize:0,surfaceOuterHeight:I(p),surfaceOuterWidth:x(p),layoutOriginX:a-o[c],layoutOriginY:u-o.top,itemsContainerOuterHeight:I(f),itemsContainerOuterWidth:x(f),itemsContainerOuterX:S(r.rtl?"Right":"Left",f),itemsContainerOuterY:S("Top",f),itemsContainerMargins:M(f),itemBoxOuterHeight:I(v),itemBoxOuterWidth:x(v),containerOuterHeight:I(l.container),containerOuterWidth:x(l.container),emptyContainerContentHeight:m.getContentHeight(g),emptyContainerContentWidth:m.getContentWidth(g),containerMargins:M(l.container),containerWidth:0,containerHeight:0,containerSizeLoaded:!1};r.header&&(d[e?"layoutOriginX":"layoutOriginY"]+=m[e?"getTotalWidth":"getTotalHeight"](r.header)),t&&(d.headerContainerOuterX=S(r.rtl?"Right":"Left",l.headerContainer),d.headerContainerOuterY=S("Top",l.headerContainer),d.headerContainerOuterWidth=x(l.headerContainer),d.headerContainerOuterHeight=I(l.headerContainer),d.headerContainerWidth=m.getTotalWidth(l.headerContainer),d.headerContainerHeight=m.getTotalHeight(l.headerContainer),d.headerContainerMinWidth=E(l.headerContainer,"minWidth")+d.headerContainerOuterWidth,d.headerContainerMinHeight=E(l.headerContainer,"minHeight")+d.headerContainerOuterHeight);var h={sizes:d,viewportContentWidth:m.getContentWidth(r.viewport),viewportContentHeight:m.getContentHeight(r.viewport),containerContentWidth:m.getContentWidth(l.container),containerContentHeight:m.getContentHeight(l.container),containerWidth:m.getTotalWidth(l.container),containerHeight:m.getTotalHeight(l.container)};return h.viewportCrossSize=h[e?"viewportContentHeight":"viewportContentWidth"],r.readyToMeasure(),n?null:h}function h(){p.parentNode&&p.parentNode.removeChild(p)}var p=i._createMeasuringSurface(),f=t.document.createElement("div"),g=t.document.createElement("div"),v=l.container.querySelector("."+_._itemBoxClass),y=r.groupIndexFromItemIndex(e);g.className=_._containerClass,f.className=_._itemsContainerClass+" "+_._laidOutClass;var b=1,w=1,C=2,j=2,k=f,P=!1;i._inListMode&&i._groupsEnabled&&(i._horizontal&&i._groupHeaderPosition===K.top?(b=2,j=1,C=1,k=l.headerContainer,P=!0):i._horizontal||i._groupHeaderPosition!==K.left||(w=2,j=1,C=1,k=l.headerContainer,P=!0)),f.style.cssText+=";display: "+(i._inListMode?(i._horizontal?"flex":"block")+"; overflow: hidden":"inline-block")+";vertical-align:top;-ms-grid-column: "+w+";-ms-grid-row: "+b,i._inListMode||(l.container.style.display="inline-block"),i._groupsEnabled&&(l.headerContainer.style.cssText+=";display: inline-block;-ms-grid-column: "+j+";-ms-grid-row: "+C,m.addClass(l.headerContainer,_._laidOutClass+" "+_._groupLeaderClass),(i._groupHeaderPosition===K.top&&i._horizontal||i._groupHeaderPosition===K.left&&!i._horizontal)&&m.addClass(f,_._groupLeaderClass)),P&&p.appendChild(l.headerContainer),f.appendChild(l.container),f.appendChild(g),p.appendChild(f),!P&&i._groupsEnabled&&p.appendChild(l.headerContainer),r.viewport.insertBefore(p,r.viewport.firstChild);var T=d();if(!T)return h(),u.cancel;if(i._horizontal&&0===T.viewportContentHeight||!i._horizontal&&0===T.viewportContentWidth)return h(),u.cancel;if(!(a||i._isCellSpanning(y)||0!==T.containerContentWidth&&0!==T.containerContentHeight))return h(),o.then(function(){return n(e,o)});var O=i._sizes=T.sizes;if(Object.defineProperties(O,{surfaceOuterCrossSize:{get:function(){return i._horizontal?O.surfaceOuterHeight:O.surfaceOuterWidth},enumerable:!0},layoutOrigin:{get:function(){return i._horizontal?O.layoutOriginX:O.layoutOriginY},enumerable:!0},itemsContainerOuterSize:{get:function(){return i._horizontal?O.itemsContainerOuterWidth:O.itemsContainerOuterHeight},enumerable:!0},itemsContainerOuterCrossSize:{get:function(){return i._horizontal?O.itemsContainerOuterHeight:O.itemsContainerOuterWidth},enumerable:!0},itemsContainerOuterStart:{get:function(){return i._horizontal?O.itemsContainerOuterX:O.itemsContainerOuterY},enumerable:!0},itemsContainerOuterCrossStart:{get:function(){return i._horizontal?O.itemsContainerOuterY:O.itemsContainerOuterX},enumerable:!0},containerCrossSize:{get:function(){return i._horizontal?O.containerHeight:O.containerWidth},enumerable:!0},containerSize:{get:function(){return i._horizontal?O.containerWidth:O.containerHeight},enumerable:!0}}),!i._isCellSpanning(y)){if(i._inListMode){var A=T.viewportCrossSize-O.surfaceOuterCrossSize-i._getHeaderSizeContentAdjustment()-O.itemsContainerOuterCrossSize;i._horizontal?(O.containerHeight=A,O.containerWidth=T.containerWidth):(O.containerHeight=T.containerHeight,O.containerWidth=A)}else O.containerWidth=T.containerWidth,O.containerHeight=T.containerHeight;O.containerSizeLoaded=!0}i._createContainerStyleRule(),i._viewportSizeChanged(T.viewportCrossSize),h()})}var i=this,o="Layout:measureItem",r=i._site,s=i._measuringPromise;if(!s){r._writeProfilerMark(o+",StartTM");var a=new d;i._measuringPromise=s=a.promise.then(function(){return i._ensureEnvInfo()?n(e):u.cancel}).then(function(){r._writeProfilerMark(o+":complete,info"),r._writeProfilerMark(o+",StopTM")},function(e){return i._measuringPromise=null,r._writeProfilerMark(o+":canceled,info"),r._writeProfilerMark(o+",StopTM"),u.wrapError(e)}),a.complete()}return s},_getHeaderSizeGroupAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===K.left)return this._sizes.headerContainerWidth;if(!this._horizontal&&this._groupHeaderPosition===K.top)return this._sizes.headerContainerHeight}return 0},_getHeaderSizeContentAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===K.top)return this._sizes.headerContainerHeight;if(!this._horizontal&&this._groupHeaderPosition===K.left)return this._sizes.headerContainerWidth}return 0},_getViewportCrossSize:function(){return this._site.viewportSize[this._horizontal?"height":"width"]},_viewportSizeChanged:function(e){var t=this._sizes;t.viewportContentSize=e,t.surfaceContentSize=e-t.surfaceOuterCrossSize,t.maxItemsContainerContentSize=t.surfaceContentSize-t.itemsContainerOuterCrossSize-this._getHeaderSizeContentAdjustment(),t.containerSizeLoaded&&!this._inListMode?(this._itemsPerBar=Math.floor(t.maxItemsContainerContentSize/t.containerCrossSize),this.maximumRowsOrColumns&&(this._itemsPerBar=Math.min(this._itemsPerBar,this.maximumRowsOrColumns)),this._itemsPerBar=Math.max(1,this._itemsPerBar)):(this._inListMode&&(t[this._horizontal?"containerHeight":"containerWidth"]=t.maxItemsContainerContentSize),this._itemsPerBar=1),this._resetAnimationCaches()},_createContainerStyleRule:function(){var e=this._sizes;if(!this._containerSizeClassName&&e.containerSizeLoaded&&(0===e.emptyContainerContentHeight||0===e.emptyContainerContentWidth)){var t=e.containerWidth-e.containerOuterWidth+"px",n=e.containerHeight-e.containerOuterHeight+"px";this._inListMode&&(this._horizontal?n="calc(100% - "+(e.containerMargins.top+e.containerMargins.bottom)+"px)":t="auto"),this._containerSizeClassName||(this._containerSizeClassName=v("containersize"),m.addClass(this._site.surface,this._containerSizeClassName));var i="."+_._containerClass,o="width:"+t+";height:"+n+";";b(this._containerSizeClassName,this._site,i,o)}},_ensureContainerSize:function(e){var t=this._sizes;if(t.containerSizeLoaded||this._ensuringContainerSize)return this._ensuringContainerSize?this._ensuringContainerSize:u.wrap();var n;if(this._itemInfo&&"function"==typeof this._itemInfo||!this._useDefaultItemInfo)n=this._getItemInfo();else{var i=t.containerMargins;n=u.wrap({width:e.groupInfo.cellWidth-i.left-i.right,height:e.groupInfo.cellHeight-i.top-i.bottom})}var o=this;return this._ensuringContainerSize=n.then(function(e){t.containerSizeLoaded=!0,t.containerWidth=e.width+t.itemBoxOuterWidth+t.containerOuterWidth,t.containerHeight=e.height+t.itemBoxOuterHeight+t.containerOuterHeight,o._inListMode?o._itemsPerBar=1:(o._itemsPerBar=Math.floor(t.maxItemsContainerContentSize/t.containerCrossSize),o.maximumRowsOrColumns&&(o._itemsPerBar=Math.min(o._itemsPerBar,o.maximumRowsOrColumns)),o._itemsPerBar=Math.max(1,o._itemsPerBar)),o._createContainerStyleRule()}),n.done(function(){o._ensuringContainerSize=null},function(){o._ensuringContainerSize=null}),n},_indexToCoordinate:function(e,t){t=t||this._itemsPerBar;var n=Math.floor(e/t);return this._horizontal?{column:n,row:e-n*t}:{row:n,column:e-n*t}},_rangeForGroup:function(e,t){var n=e.startIndex,i=n+e.count-1;return!t||t.firstIndex>i||t.lastIndex<n?null:{firstIndex:Math.max(0,t.firstIndex-n),lastIndex:Math.min(e.count-1,t.lastIndex-n)}},_syncDomWithGroupHeaderPosition:function(e){if(this._groupsEnabled&&this._oldGroupHeaderPosition!==this._groupHeaderPosition){var t,n=e.length;if(this._oldGroupHeaderPosition===K.top)if(m.removeClass(this._site.surface,_._headerPositionTopClass),this._horizontal)for(t=0;t<n;t++)e[t].header.style.maxWidth="",m.removeClass(e[t].itemsContainer.element,_._groupLeaderClass);else this._site.surface.style.msGridRows="";else if(this._oldGroupHeaderPosition===K.left){if(m.removeClass(this._site.surface,_._headerPositionLeftClass),!this._horizontal)for(t=0;t<n;t++)e[t].header.style.maxHeight="",m.removeClass(e[t].itemsContainer.element,_._groupLeaderClass);this._site.surface.style.msGridColumns=""}if(this._groupHeaderPosition===K.top){if(m.addClass(this._site.surface,_._headerPositionTopClass),this._horizontal)for(t=0;t<n;t++)m.addClass(e[t].itemsContainer.element,_._groupLeaderClass)}else if(m.addClass(this._site.surface,_._headerPositionLeftClass),!this._horizontal)for(t=0;t<n;t++)m.addClass(e[t].itemsContainer.element,_._groupLeaderClass);this._oldGroupHeaderPosition=this._groupHeaderPosition}},_layoutGroup:function(e){var t=this._groups[e],n=this._site.tree[e],i=n.header,o=n.itemsContainer.element,r=this._sizes,s=t.getItemsContainerCrossSize();if(this._groupsEnabled){if(this._horizontal)if(this._groupHeaderPosition===K.top){var a=r.headerContainerMinWidth-r.headerContainerOuterWidth,l=t.getItemsContainerSize()-r.headerContainerOuterWidth;i.style.maxWidth=Math.max(a,l)+"px",this._envInfo.supportsCSSGrid?(i.style.msGridColumn=e+1,o.style.msGridColumn=e+1):(i.style.height=r.headerContainerHeight-r.headerContainerOuterHeight+"px",o.style.height=s-r.itemsContainerOuterHeight+"px",o.style.marginBottom=r.itemsContainerMargins.bottom+(r.maxItemsContainerContentSize-s+r.itemsContainerOuterHeight)+"px"),m.addClass(o,_._groupLeaderClass)}else this._envInfo.supportsCSSGrid?(i.style.msGridColumn=2*e+1,o.style.msGridColumn=2*e+2):(i.style.width=r.headerContainerWidth-r.headerContainerOuterWidth+"px",i.style.height=s-r.headerContainerOuterHeight+"px",o.style.height=s-r.itemsContainerOuterHeight+"px");else if(this._groupHeaderPosition===K.left){var u=r.headerContainerMinHeight-r.headerContainerOuterHeight,c=t.getItemsContainerSize()-r.headerContainerOuterHeight;i.style.maxHeight=Math.max(u,c)+"px",this._envInfo.supportsCSSGrid?(i.style.msGridRow=e+1,o.style.msGridRow=e+1):(i.style.width=r.headerContainerWidth-r.headerContainerOuterWidth+"px",o.style.width=s-r.itemsContainerOuterWidth+"px",o.style["margin"+(this._site.rtl?"Left":"Right")]=r.itemsContainerMargins[this._site.rtl?"left":"right"]+(r.maxItemsContainerContentSize-s+r.itemsContainerOuterWidth)+"px"),m.addClass(o,_._groupLeaderClass)}else i.style.msGridRow=2*e+1,this._inListMode?i.style.height=r.headerContainerHeight-r.headerContainerOuterHeight+"px":this._envInfo.supportsCSSGrid?o.style.msGridRow=2*e+2:(i.style.height=r.headerContainerHeight-r.headerContainerOuterHeight+"px",i.style.width=s-r.headerContainerOuterWidth+"px",o.style.width=s-r.itemsContainerOuterWidth+"px");m.addClass(i,_._laidOutClass+" "+_._groupLeaderClass)}m.addClass(o,_._laidOutClass)}},{_barsPerItemsBlock:4})}),_LegacyLayout:n.Namespace._lazy(function(){return n.Class.derive(e._LayoutCommon,null,{disableBackdrop:{get:function(){return this._backdropDisabled||!1},set:function(e){if(m._deprecated(g.disableBackdropIsDeprecated),e=!!e,this._backdropDisabled!==e&&(this._backdropDisabled=e,this._disableBackdropClassName&&(w(this._disableBackdropClassName),this._site&&m.removeClass(this._site.surface,this._disableBackdropClassName),this._disableBackdropClassName=null),this._disableBackdropClassName=v("disablebackdrop"),this._site&&m.addClass(this._site.surface,this._disableBackdropClassName),e)){var t=".win-container.win-backdrop",n="background-color:transparent;";b(this._disableBackdropClassName,this._site,t,n)}}},backdropColor:{get:function(){return this._backdropColor||"rgba(155,155,155,0.23)"},set:function(e){if(m._deprecated(g.backdropColorIsDeprecated),e&&this._backdropColor!==e){this._backdropColor=e,this._backdropColorClassName&&(w(this._backdropColorClassName),this._site&&m.removeClass(this._site.surface,this._backdropColorClassName),this._backdropColorClassName=null),this._backdropColorClassName=v("backdropcolor"),this._site&&m.addClass(this._site.surface,this._backdropColorClassName);var t=".win-container.win-backdrop",n="background-color:"+e+";";b(this._backdropColorClassName,this._site,t,n)}}}})}),GridLayout:n.Namespace._lazy(function(){return n.Class.derive(e._LegacyLayout,function(e){e=e||{},this.itemInfo=e.itemInfo,this.groupInfo=e.groupInfo,this._maxRowsOrColumns=0,this._useDefaultItemInfo=!0,this._elementsToMeasure={},this._groupHeaderPosition=e.groupHeaderPosition||K.top,this.orientation=e.orientation||"horizontal",e.maxRows&&(this.maxRows=+e.maxRows),e.maximumRowsOrColumns&&(this.maximumRowsOrColumns=+e.maximumRowsOrColumns)},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(e){this._setMaxRowsOrColumns(e)}},maxRows:{get:function(){return this.maximumRowsOrColumns},set:function(e){m._deprecated(g.maxRowsIsDeprecated),this.maximumRowsOrColumns=e}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(e){e&&m._deprecated(g.itemInfoIsDeprecated),this._itemInfo=e,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(e){e&&m._deprecated(g.groupInfoIsDeprecated),this._groupInfo=e,this._invalidateLayout()}}})})});var J=n.Namespace.defineWithParent(null,null,{UniformGroupBase:n.Namespace._lazy(function(){return n.Class.define(null,{cleanUp:function(){},itemFromOffset:function(e,t){t=t||{};var n=this._layout._sizes;e-=n.itemsContainerOuterStart,t.wholeItem&&(e+=(t.last?-1:1)*(n.containerSize-1));var i=this.count-1,o=Math.floor(i/this._layout._itemsPerBar),r=C(0,o,Math.floor(e/n.containerSize)),s=(r+t.last)*this._layout._itemsPerBar-t.last;return C(0,this.count-1,s)},hitTest:function(e,t){var n=this._layout._horizontal,i=this._layout._itemsPerBar,o=this._layout._inListMode||1===i,r=n?e:t,s=n?t:e,a=this._layout._sizes;r-=a.itemsContainerOuterStart,s-=a.itemsContainerOuterCrossStart;var l,u=Math.floor(r/a.containerSize),c=C(0,i-1,Math.floor(s/a.containerCrossSize)),d=Math.max(-1,u*i+c);if(l=!n&&o||n&&!o?(t-a.containerHeight/2)/a.containerHeight:(e-a.containerWidth/2)/a.containerWidth,o)return l=Math.floor(l),{index:d,insertAfterIndex:l>=0&&d>=0?l:-1};l=C(-1,i-1,l);var h;return h=l<0?u*i-1:u*i+Math.floor(l),{index:C(-1,this.count-1,d),insertAfterIndex:C(-1,this.count-1,h)}},getAdjacent:function(e,t){var n,i=e.index,o=Math.floor(i/this._layout._itemsPerBar),r=i%this._layout._itemsPerBar;switch(t){case D.upArrow:n=0===r?"boundary":i-1;break;case D.downArrow:var s=i===this.count-1,a=this._layout._itemsPerBar>1&&r===this._layout._itemsPerBar-1;n=s||a?"boundary":i+1;break;case D.leftArrow:n=0===o&&this._layout._itemsPerBar>1?"boundary":i-this._layout._itemsPerBar;break;case D.rightArrow:var l=this.count-1,u=Math.floor(l/this._layout._itemsPerBar);n=o===u?"boundary":Math.min(i+this._layout._itemsPerBar,this.count-1)}return"boundary"===n?n:{type:f.ObjectType.item,index:n}},getItemsContainerSize:function(){var e=this._layout._sizes,t=Math.ceil(this.count/this._layout._itemsPerBar);return t*e.containerSize+e.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var e=this._layout._sizes;return this._layout._itemsPerBar*e.containerCrossSize+e.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(e){var t=this._layout._sizes,n=this._layout._site.rtl?"right":"left",i=this._layout._sizes.containerMargins,o=this._layout._indexToCoordinate(e),r={row:o.row,column:o.column,top:i.top+o.row*t.containerHeight,left:i[n]+o.column*t.containerWidth,height:t.containerHeight-t.containerMargins.top-t.containerMargins.bottom,width:t.containerWidth-t.containerMargins.left-t.containerMargins.right};return r}})}),UniformGroup:n.Namespace._lazy(function(){return n.Class.derive(J.UniformGroupBase,function(e,t){this._layout=e,this._itemsContainer=t,m.addClass(this._itemsContainer,e._inListMode?_._uniformListLayoutClass:_._uniformGridLayoutClass)},{cleanUp:function(e){e||(m.removeClass(this._itemsContainer,_._uniformGridLayoutClass),m.removeClass(this._itemsContainer,_._uniformListLayoutClass),this._itemsContainer.style.height=this._itemsContainer.style.width=""),this._itemsContainer=null,this._layout=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayout:function(e,t,n,i){return this.groupInfo=i.groupInfo,this.startIndex=i.startIndex,this.count=e,this._layout._ensureContainerSize(this)},layoutRealizedRange:function(){var e=this._layout._sizes;this._itemsContainer.style[this._layout._horizontal?"width":"height"]=this.getItemsContainerSize()-e.itemsContainerOuterSize+"px",this._itemsContainer.style[this._layout._horizontal?"height":"width"]=this._layout._inListMode?e.maxItemsContainerContentSize+"px":this._layout._itemsPerBar*e.containerCrossSize+"px"},layoutUnrealizedRange:function(){return u.wrap()}})}),UniformFlowGroup:n.Namespace._lazy(function(){return n.Class.derive(J.UniformGroupBase,function(e,t){this._layout=e,this._itemsContainer=t.element,m.addClass(this._itemsContainer,e._inListMode?_._uniformListLayoutClass:_._uniformGridLayoutClass)},{cleanUp:function(e){e||(m.removeClass(this._itemsContainer,_._uniformListLayoutClass),m.removeClass(this._itemsContainer,_._uniformGridLayoutClass),this._itemsContainer.style.height="")},layout:function(){this._layout._site._writeProfilerMark("Layout:_UniformFlowGroup:setItemsContainerHeight,info"),this._itemsContainer.style.height=this.count*this._layout._sizes.containerHeight+"px"}})}),CellSpanningGroup:n.Namespace._lazy(function(){return n.Class.define(function(e,t){this._layout=e,this._itemsContainer=t,m.addClass(this._itemsContainer,_._cellSpanningGridLayoutClass),this.resetMap()},{cleanUp:function(e){e||(this._cleanContainers(),m.removeClass(this._itemsContainer,_._cellSpanningGridLayoutClass),this._itemsContainer.style.cssText=""),this._itemsContainer=null,this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this.resetMap(),this._slotsPerColumn=null,this._offScreenSlotsPerColumn=null,this._items=null,this._layout=null,this._containersToHide=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayoutWithCopyOfTree:function(e,t,n,i){var o,r=this;if(this._containersToHide={},t)for(o=t.firstIndex;o<=t.lastIndex;o++)this._containersToHide[L(n._items[o])]=n._items[o];this.groupInfo=i.groupInfo,this.startIndex=i.startIndex,this.count=e.items.length,this._items=e.items,this._slotsPerColumn=Math.floor(this._layout._sizes.maxItemsContainerContentSize/this.groupInfo.cellHeight),this._layout.maximumRowsOrColumns&&(this._slotsPerColumn=Math.min(this._slotsPerColumn,this._layout.maximumRowsOrColumns)),this._slotsPerColumn=Math.max(this._slotsPerColumn,1),this.resetMap();var s=new Array(this.count);for(o=0;o<this.count;o++)s[o]=this._layout._getItemInfo(this.startIndex+o);return u.join(s).then(function(e){e.forEach(function(e,t){r.addItemToMap(t,e)})})},layoutRealizedRange:function(e,t){if(t){var n,i=Math.max(e,t.firstIndex);for(n=i;n<=t.lastIndex;n++)this._layoutItem(n),delete this._containersToHide[L(this._items[n])]}Object.keys(this._containersToHide).forEach(function(e){m.removeClass(this._containersToHide[e],_._laidOutClass)}.bind(this)),this._containersToHide={},this._itemsContainer.style.cssText+=";width:"+(this.getItemsContainerSize()-this._layout._sizes.itemsContainerOuterSize)+"px;height:"+this._layout._sizes.maxItemsContainerContentSize+"px;-ms-grid-columns: ("+this.groupInfo.cellWidth+"px)["+this.getColumnCount()+"];-ms-grid-rows: ("+this.groupInfo.cellHeight+"px)["+(this._slotsPerColumn+this._offScreenSlotsPerColumn)+"]"},layoutUnrealizedRange:function(e,t,n){var i,o=this;return o._layoutPromise=new u(function(r){function s(){i=null,r()}function a(e){return c.schedule(e,c.Priority.normal,null,"WinJS.UI.GridLayout.CellSpanningGroup.LayoutUnrealizedRange")}if(t){var l=!1,u=t.firstIndex-1,d=Math.max(e,t.lastIndex+1);d=Math.max(u+1,d),i=a(function t(n){for(;!l;){if(n.shouldYield)return void n.setWork(t);l=!0,u>=e&&(o._layoutItem(u),u--,l=!1),d<o.count&&(o._layoutItem(d),d++,l=!1)}s()})}else if(n){var h=o.count-1;i=a(function t(n){for(;h>=e;h--){if(n.shouldYield)return void n.setWork(t);o._layoutItem(h)}s()})}else{var h=e;i=a(function e(t){for(;h<o.count;h++){if(t.shouldYield)return void t.setWork(e);o._layoutItem(h)}s()})}},function(){i&&i.cancel(),i=null}),o._layoutPromise},itemFromOffset:function(e,t){t=t||{};var n=this._layout._sizes,i=n.containerMargins;e-=n.itemsContainerOuterX,e-=(t.last?1:-1)*i[t.last?"left":"right"];var o=this.indexFromOffset(e,t.wholeItem,t.last).item;return C(0,this.count-1,o)},getAdjacent:function(e,t){var n,i;n=i=e.index;var o,r,s;s=this.lastAdjacent===n?this.lastInMapIndex:this.findItem(n);do{var a=Math.floor(s/this._slotsPerColumn),l=s-a*this._slotsPerColumn,u=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);switch(t){case D.upArrow:if(!(l>0))return{type:f.ObjectType.item,index:i};s--;break;case D.downArrow:if(!(l+1<this._slotsPerColumn))return{type:f.ObjectType.item,index:i};s++;break;case D.leftArrow:s=a>0?s-this._slotsPerColumn:-1;break;case D.rightArrow:s=a<u?s+this._slotsPerColumn:this.occupancyMap.length}r=s>=0&&s<this.occupancyMap.length,r&&(o=this.occupancyMap[s]?this.occupancyMap[s].index:void 0)}while(r&&(n===o||void 0===o));return this.lastAdjacent=o,this.lastInMapIndex=s,r?{type:f.ObjectType.item,index:o}:"boundary"},hitTest:function(e,t){var n=this._layout._sizes,i=0;if(e-=n.itemsContainerOuterX,t-=n.itemsContainerOuterY,this.occupancyMap.length>0){for(var o=this.indexFromOffset(e,!1,0),r=Math.min(this._slotsPerColumn-1,Math.floor(t/this.groupInfo.cellHeight)),s=o.index,a=s;r-- >0;)s++,this.occupancyMap[s]&&(a=s);this.occupancyMap[a]||a--,i=this.occupancyMap[a].index}var l=this.getItemSize(i),u=l.column*this.groupInfo.cellWidth,c=l.row*this.groupInfo.cellHeight,d=1===this._slotsPerColumn,h=i;return(d&&e<u+l.contentWidth/2||!d&&t<c+l.contentHeight/2)&&h--,{type:f.ObjectType.item,index:C(0,this.count-1,i),insertAfterIndex:C(-1,this.count-1,h)}},getItemsContainerSize:function(){var e=this._layout._sizes;return this.getColumnCount()*this.groupInfo.cellWidth+e.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var e=this._layout._sizes;return e.maxItemsContainerContentSize+e.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(e){var t=this._layout._site.rtl?"right":"left",n=this._layout._sizes.containerMargins,i=this.getItemSize(e),o=this.groupInfo,r={row:i.row,column:i.column,top:n.top+i.row*o.cellHeight,left:n[t]+i.column*o.cellWidth,height:i.contentHeight,width:i.contentWidth};return r},_layoutItem:function(e){var t=this.getItemSize(e);return this._items[e].style.cssText+=";-ms-grid-row:"+(t.row+1)+";-ms-grid-column:"+(t.column+1)+";-ms-grid-row-span:"+t.rows+";-ms-grid-column-span:"+t.columns+";height:"+t.contentHeight+"px;width:"+t.contentWidth+"px",m.addClass(this._items[e],_._laidOutClass),this._items[e]},_cleanContainers:function(){var e,t=this._items,n=t.length;for(e=0;e<n;e++)t[e].style.cssText="",m.removeClass(t[e],_._laidOutClass)},getColumnCount:function(){return Math.ceil(this.occupancyMap.length/this._slotsPerColumn)},getOccupancyMapItemCount:function(){var e=-1;return this.occupancyMap.forEach(function(t){t.index>e&&(e=t.index)}),e+1},coordinateToIndex:function(e,t){return e*this._slotsPerColumn+t},markSlotAsFull:function(e,t){for(var n=this._layout._indexToCoordinate(e,this._slotsPerColumn),i=n.row+t.rows,o=n.row;o<i&&o<this._slotsPerColumn;o++)for(var r=n.column,s=n.column+t.columns;r<s;r++)this.occupancyMap[this.coordinateToIndex(r,o)]=t;this._offScreenSlotsPerColumn=Math.max(this._offScreenSlotsPerColumn,i-this._slotsPerColumn)},isSlotEmpty:function(e,t,n){for(var i=t,o=t+e.rows;i<o;i++)for(var r=n,s=n+e.columns;r<s;r++)if(i>=this._slotsPerColumn||void 0!==this.occupancyMap[this.coordinateToIndex(r,i)])return!1;return!0},findEmptySlot:function(e,t,n){var i=this._layout._indexToCoordinate(e,this._slotsPerColumn),o=i.row,r=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);if(n){for(var s=i.column+1;s<=r;s++)if(this.isSlotEmpty(t,0,s))return this.coordinateToIndex(s,0)}else for(var s=i.column;s<=r;s++){for(var a=o;a<this._slotsPerColumn;a++)if(this.isSlotEmpty(t,a,s))return this.coordinateToIndex(s,a);o=0}return(r+1)*this._slotsPerColumn},findItem:function(e){for(var t=e,n=this.occupancyMap.length;t<n;t++){var i=this.occupancyMap[t];if(i&&i.index===e)return t}return t},getItemSize:function(e){var t=this.findItem(e),n=this.occupancyMap[t],i=this._layout._indexToCoordinate(t,this._slotsPerColumn);return e===n.index?{row:i.row,column:i.column,contentWidth:n.contentWidth,contentHeight:n.contentHeight,columns:n.columns,rows:n.rows}:null},resetMap:function(){this.occupancyMap=[],this.lastAdded=0,this._offScreenSlotsPerColumn=0},addItemToMap:function(e,t){function n(e,t){var n=i.findEmptySlot(i.lastAdded,e,t);i.lastAdded=n,i.markSlotAsFull(n,e)}var i=this,o=i.groupInfo,r=i._layout._sizes.containerMargins,s={index:e,contentWidth:t.width,contentHeight:t.height,columns:Math.max(1,Math.ceil((t.width+r.left+r.right)/o.cellWidth)),rows:Math.max(1,Math.ceil((t.height+r.top+r.bottom)/o.cellHeight))};n(s,t.newColumn)},indexFromOffset:function(e,t,n){var i=0,o=0,r=this.groupInfo,s=0;if(this.occupancyMap.length>0){if(o=this.getOccupancyMapItemCount()-1,i=Math.ceil((this.occupancyMap.length-1)/this._slotsPerColumn)*r.cellWidth,e<i){for(var a=this._slotsPerColumn,s=(Math.max(0,Math.floor(e/r.cellWidth))+n)*this._slotsPerColumn-n;!this.occupancyMap[s]&&a-- >0;)s+=n>0?-1:1;return{index:s,item:this.occupancyMap[s].index}}s=this.occupancyMap.length-1}return{index:s,item:o+(Math.max(0,Math.floor((e-i)/r.cellWidth))+n)*this._slotsPerColumn-n}}})})});n.Namespace._moduleDefine(e,"WinJS.UI",{ListLayout:n.Namespace._lazy(function(){return n.Class.derive(e._LegacyLayout,function(e){e=e||{},this._itemInfo={},this._groupInfo={},this._groupHeaderPosition=e.groupHeaderPosition||K.top,this._inListMode=!0,this.orientation=e.orientation||"vertical"},{initialize:function(t,n){m.addClass(t.surface,_._listLayoutClass),e._LegacyLayout.prototype.initialize.call(this,t,n)},uninitialize:function(){this._site&&m.removeClass(this._site.surface,_._listLayoutClass),e._LegacyLayout.prototype.uninitialize.call(this)},layout:function(t,n,i,o){return this._groupsEnabled||this._horizontal?e._LegacyLayout.prototype.layout.call(this,t,n,i,o):this._layoutNonGroupedVerticalList(t,n,i,o)},_layoutNonGroupedVerticalList:function(e,t,n,i){var o=this,r="Layout:_layoutNonGroupedVerticalList";return o._site._writeProfilerMark(r+",StartTM"),this._layoutPromise=o._measureItem(0).then(function(){m[o._usingStructuralNodes?"addClass":"removeClass"](o._site.surface,_._structuralNodesClass),m[o._envInfo.nestedFlexTooLarge||o._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](o._site.surface,_._singleItemsBlockClass),o._sizes.viewportContentSize!==o._getViewportCrossSize()&&o._viewportSizeChanged(o._getViewportCrossSize()),o._cacheRemovedElements(n,o._cachedItemRecords,o._cachedInsertedItemRecords,o._cachedRemovedItems,!1),o._cacheRemovedElements(i,o._cachedHeaderRecords,o._cachedInsertedHeaderRecords,o._cachedRemovedHeaders,!0);var t=e[0].itemsContainer,s=new J.UniformFlowGroup(o,t);o._groups=[s],s.groupInfo={enableCellSpanning:!1},s.startIndex=0,s.count=T(t),s.offset=0,s.layout(),o._site._writeProfilerMark(r+":setSurfaceWidth,info"),o._site.surface.style.width=o._sizes.surfaceContentSize+"px",o._layoutAnimations(n,i),o._site._writeProfilerMark(r+":complete,info"),o._site._writeProfilerMark(r+",StopTM")},function(e){return o._site._writeProfilerMark(r+":canceled,info"),o._site._writeProfilerMark(r+",StopTM"),u.wrapError(e)}),{realizedRangeComplete:this._layoutPromise,layoutComplete:this._layoutPromise}},numberOfItemsPerItemsBlock:{get:function(){var t=this;return this._measureItem(0).then(function(){return t._envInfo.nestedFlexTooLarge||t._envInfo.nestedFlexTooSmall?(t._usingStructuralNodes=!0,Number.MAX_VALUE):(t._usingStructuralNodes=e.ListLayout._numberOfItemsPerItemsBlock>0,e.ListLayout._numberOfItemsPerItemsBlock)})}}},{_numberOfItemsPerItemsBlock:10})}),CellSpanningLayout:n.Namespace._lazy(function(){return n.Class.derive(e._LayoutCommon,function(e){e=e||{},this._itemInfo=e.itemInfo,this._groupInfo=e.groupInfo,this._groupHeaderPosition=e.groupHeaderPosition||K.top,this._horizontal=!0,this._cellSpanning=!0},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(e){this._setMaxRowsOrColumns(e)}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(e){this._itemInfo=e,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(e){this._groupInfo=e,this._invalidateLayout()}},orientation:{enumerable:!0,get:function(){return"horizontal"}}})}),_LayoutWrapper:n.Namespace._lazy(function(){return n.Class.define(function(e){this.defaultAnimations=!0,this.initialize=function(t,n){e.initialize(t,n)},this.hitTest=function(t,n){return e.hitTest(t,n)},e.uninitialize&&(this.uninitialize=function(){e.uninitialize()}),"numberOfItemsPerItemsBlock"in e&&Object.defineProperty(this,"numberOfItemsPerItemsBlock",{get:function(){return e.numberOfItemsPerItemsBlock}}),e._getItemPosition&&(this._getItemPosition=function(t){return e._getItemPosition(t)}),e.itemsFromRange&&(this.itemsFromRange=function(t,n){return e.itemsFromRange(t,n)}),e.getAdjacent&&(this.getAdjacent=function(t,n){return e.getAdjacent(t,n)}),e.dragOver&&(this.dragOver=function(t,n,i){return e.dragOver(t,n,i)}),e.dragLeave&&(this.dragLeave=function(){return e.dragLeave()});var t={enumerable:!0,get:function(){
return"vertical"}};if(void 0!==e.orientation&&(t.get=function(){return e.orientation},t.set=function(t){e.orientation=t}),Object.defineProperty(this,"orientation",t),(e.setupAnimations||e.executeAnimations)&&(this.defaultAnimations=!1,this.setupAnimations=function(){return e.setupAnimations()},this.executeAnimations=function(){return e.executeAnimations()}),e.layout)if(this.defaultAnimations){var n=this;this.layout=function(t,i,o,r){var s,a=A(e.layout(t,i,[],[]));return a.realizedRangeComplete.then(function(){s=!0}),s&&n._layoutAnimations(o,r),a}}else this.layout=function(t,n,i,o){return A(e.layout(t,n,i,o))}},{uninitialize:function(){},numberOfItemsPerItemsBlock:{get:function(){}},layout:function(e,t,n,i){return this.defaultAnimations&&this._layoutAnimations(n,i),A()},itemsFromRange:function(){return{firstIndex:0,lastIndex:Number.MAX_VALUE}},getAdjacent:function(e,t){switch(t){case D.pageUp:case D.upArrow:case D.leftArrow:return{type:e.type,index:e.index-1};case D.downArrow:case D.rightArrow:case D.pageDown:return{type:e.type,index:e.index+1}}},dragOver:function(){},dragLeave:function(){},setupAnimations:function(){},executeAnimations:function(){},_getItemPosition:function(){},_layoutAnimations:function(){}})})});var K={left:"left",top:"top"};n.Namespace._moduleDefine(e,"WinJS.UI",{HeaderPosition:K,_getMargins:M})}),i("WinJS/Controls/ListView/_VirtualizeContentsView",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Promise","../../_Signal","../../Scheduler","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_Helpers","./_ItemsContainer"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p){"use strict";function f(e,t){l._setAttribute(e,"aria-flowto",t.id),l._setAttribute(t,"x-ms-aria-flowfrom",e.id)}n.Namespace._moduleDefine(e,"WinJS.UI",{_VirtualizeContentsView:n.Namespace._lazy(function(){function e(t){for(var n,i=t.job._workItems;i.length&&!t.shouldYield;)(n=i.shift())();t.setWork(e),i.length||t.job.pause()}function _(t,n){var i=s.schedule(e,t,null,n);return i._workItems=[],i.addWork=function(e,t){t?this._workItems.unshift(e):this._workItems.push(e),this.resume()},i.clearWork=function(){this._workItems.length=0},i.dispose=function(){this.cancel(),this._workItems.length=0},i}function g(e){return e._zooming||e._pinching}function v(e,t){return e._isZombie()?o.wrap():g(e)?(+t!==t&&(t=w._waitForSeZoTimeoutDuration),o.timeout(w._waitForSeZoIntervalDuration).then(function(){return t-=w._waitForSeZoIntervalDuration,t<=0||v(e,t)})):o.wrap()}function y(e){if("number"==typeof e){var t=e;e=function(){return{position:t,direction:"right"}}}return e}function b(){}var w=n.Class.define(function(e){this._listView=e,this._forceRelayout=!1,this.maxLeadingPages=i._isiOS?w._iOSMaxLeadingPages:w._defaultPagesToPrefetch,this.maxTrailingPages=i._isiOS?w._iOSMaxTrailingPages:w._defaultPagesToPrefetch,this.items=new p._ItemsContainer(e),this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this.begin=0,this.end=0,this._realizePass=1,this._firstLayoutPass=!0,this._runningAnimations=null,this._renderCompletePromise=o.wrap(),this._state=new C(this),this._createLayoutSignal(),this._createTreeBuildingSignal(),this._layoutWork=null,this._onscreenJob=_(s.Priority.aboveNormal,"on-screen items"),this._frontOffscreenJob=_(s.Priority.normal,"front off-screen items"),this._backOffscreenJob=_(s.Priority.belowNormal,"back off-screen items"),this._scrollbarPos=0,this._direction="right",this._scrollToFunctor=y(0)},{_dispose:function(){this.cleanUp(),this.items=null,this._renderCompletePromise&&this._renderCompletePromise.cancel(),this._renderCompletePromise=null,this._onscreenJob.dispose(),this._frontOffscreenJob.dispose(),this._backOffscreenJob.dispose()},_createItem:function(e,t,n,i){this._listView._writeProfilerMark("createItem("+e+") "+this._getBoundingRectString(e)+",info");var r=this;r._listView._itemsManager._itemFromItemPromiseThrottled(t).done(function(t){t?n(e,t,r._listView._itemsManager._recordFromElement(t)):i(e)},function(t){return i(e),o.wrapError(t)})},_addItem:function(e,t,n,i){if(this._realizePass===i){var o=this._listView._itemsManager._recordFromElement(n);delete this._pendingItemPromises[o.itemPromise.handle],this.items.setItemAt(t,{itemBox:null,container:null,element:n,detached:!0,itemsManagerRecord:o})}},lastItemIndex:function(){return this.containers?this.containers.length-1:-1},_setSkipRealizationForChange:function(e){e?this._realizationLevel!==w._realizationLevel.realize&&(this._realizationLevel=w._realizationLevel.skip):this._realizationLevel=w._realizationLevel.realize},_realizeItems:function(e,t,n,i,a,u,c,m,p,f){function _(e,t){k.push(o._cancelBlocker(t.renderComplete)),b(e)}function g(e,t){function n(e,t){e.updatedDraggableAttribute||!A._listView.itemsDraggable&&!A._listView.itemsReorderable||e.itemsManagerRecord.renderComplete.done(function(){A._realizePass===a&&(l.hasClass(t,d._nonDraggableClass)||(e.itemBox.draggable=!0),e.updatedDraggableAttribute=!0)})}if(A._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StartTM"),!A._listView._isZombie()){var i,o=0,r=-1,s=-1;for(i=e;i<=t;i++){var u=A.items.itemDataAt(i);if(u){var m=u.element,p=u.itemBox;p||(p=A._listView._itemBoxTemplate.cloneNode(!0),u.itemBox=p,p.appendChild(m),l.addClass(m,d._itemClass),A._listView._setupAriaSelectionObserver(m),A._listView._isSelected(i)&&h._ItemEventsHandler.renderSelection(p,m,!0,!0),A._listView._currentMode().renderDragSourceOnRealizedItem(i,p)),n(u,m);var f=A.getContainer(i);p.parentNode!==f&&(u.container=f,A._appendAndRestoreFocus(f,p),o++,r<0&&(r=i),s=i,A._listView._isSelected(i)&&l.addClass(f,d._selectedClass),l.removeClass(f,d._backdropClass),A.items.elementAvailable(i))}}A._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StopTM"),o>0&&(A._listView._writeProfilerMark("_realizeItems_appendedItemsToDom:"+o+" ("+r+"-"+s+"),info"),A._reportElementsLevel(c))}}function v(e,t,n,i){function o(e,t){var n=A.items.itemDataAt(e);if(n){var i=n.itemBox;return!i||!i.parentNode||!!t&&(l.addClass(i.parentNode,d._backdropClass),i.parentNode.removeChild(i),!0)}return!0}if(!f){for(var r=!1;e>=n;)r=o(e,r),e--;for(r=!1;t<=i;)r=o(t,r),t++}}function y(e,t,n,i,r){function s(e){var t=A.items.itemDataAt(e);if(t){var i=t.itemsManagerRecord;i.readyComplete||A._realizePass!==a||n.addWork(function(){A._listView._isZombie()||i.pendingReady&&A._realizePass===a&&(A._listView._writeProfilerMark("pendingReady("+e+"),info"),i.pendingReady())},r)}}for(var l=[],u=e;u<=t;u++){var c=A.items.itemDataAt(u);c&&l.push(c.itemsManagerRecord.itemPromise)}o.join(l).then(function(){if("right"===i)for(var n=e;n<=t;n++)s(n);else for(var n=t;n>=e;n--)s(n)})}function b(e){if(A._realizePass===a){if(e>=m&&e<=p){if(0===--I){if(g(m,p),v(m,p,t,n),A._firstLayoutPass){y(m,p,A._frontOffscreenJob,"right"===c?"left":"right",!0);var i=s.schedulePromiseHigh(null,"WinJS.UI.ListView.entranceAnimation").then(function(){if(!A._listView._isZombie()){A._listView._writeProfilerMark("entranceAnimation,StartTM");var e=A._listView._animateListEntrance(!A._firstEntranceAnimated);return A._firstEntranceAnimated=!0,e}});A._runningAnimations=o.join([A._runningAnimations,i]),A._runningAnimations.done(function(){A._listView._writeProfilerMark("entranceAnimation,StopTM"),A._realizePass===a&&(A._runningAnimations=null,P.complete())}),A._firstLayoutPass=!1,A._listView._isCurrentZoomView&&s.requestDrain(A._onscreenJob.priority)}else y(m,p,A._frontOffscreenJob,c),P.complete();A._updateHeaders(A._listView._canvas,m,p+1).done(function(){T.complete()})}}else e<m?(--j,j%S===0&&g(t,m-1),j||(A._updateHeaders(A._listView._canvas,t,m).done(function(){"right"!==c&&O.complete()}),y(t,m-1,"right"!==c?A._frontOffscreenJob:A._backOffscreenJob,"left"))):e>p&&(--x,x%S===0&&g(p+1,n-1),x||(A._updateHeaders(A._listView._canvas,p+1,n).then(function(){"right"===c&&O.complete()}),y(p+1,n-1,"right"===c?A._frontOffscreenJob:A._backOffscreenJob,"right")));E--,0===E&&(A._renderCompletePromise=o.join(k).then(null,function(e){var t=Array.isArray(e)&&e.some(function(e){return e&&!(e instanceof Error&&"Canceled"===e.name)});if(t)return o.wrapError(e)}),(A._headerRenderPromises||o.wrap()).done(function(){s.schedule(function(){A._listView._isZombie()?B.cancel():B.complete()},Math.min(A._onscreenJob.priority,A._backOffscreenJob.priority),null,"WinJS.UI.ListView._allItemsRealized")}))}}function w(t,n,i){if(A._realizePass===a){var n=i.element;A._addItem(e,t,n,a),_(t,i)}}var C="_realizeItems("+t+"-"+(n-1)+") visible("+m+"-"+p+")";this._listView._writeProfilerMark(C+",StartTM"),c=c||"right";var E=n-t,S=p-m+1,I=S,x=n-p-1,j=m-t,k=[],P=new r,T=new r,O=new r,A=this;if(E>0){var M=0,D=0,L=0;A.firstIndexDisplayed=m,A.lastIndexDisplayed=p;var N=A._listView._isCurrentZoomView;A._highPriorityRealize&&(A._firstLayoutPass||A._hasAnimationInViewportPending)?(A._highPriorityRealize=!1,A._onscreenJob.priority=s.Priority.high,A._frontOffscreenJob.priority=s.Priority.normal,A._backOffscreenJob.priority=s.Priority.belowNormal):A._highPriorityRealize?(A._highPriorityRealize=!1,A._onscreenJob.priority=s.Priority.high,A._frontOffscreenJob.priority=s.Priority.high-1,A._backOffscreenJob.priority=s.Priority.high-1):N?(A._onscreenJob.priority=s.Priority.aboveNormal,A._frontOffscreenJob.priority=s.Priority.normal,A._backOffscreenJob.priority=s.Priority.belowNormal):(A._onscreenJob.priority=s.Priority.belowNormal,A._frontOffscreenJob.priority=s.Priority.idle,A._backOffscreenJob.priority=s.Priority.idle);var B=new r,R=A._listView._versionManager.cancelOnNotification(B.promise),F=function(e,t){t.startStage1&&t.stage0.then(function(){A._realizePass===a&&t.startStage1&&e.addWork(t.startStage1)})},z=function(e,t){var n=A.items.itemDataAt(t);if(!n){var i=A._listView._itemsManager._itemPromiseAtIndex(t);A._pendingItemPromises[i.handle]=i,delete A._previousRealizationPendingItemPromises[i.handle],e.addWork(function(){if(!A._listView._isZombie()&&(M++,A._createItem(t,i,w,b),!A._listView._isZombie()&&A._realizePass===a&&i.handle)){var n=A._listView._itemsManager._recordFromHandle(i.handle);F(e,n)}})}},H=function(e,t,n){for(var i=t;i<=n;i++)z(e,i)},W=function(e,t,n){for(var i=n;i>=t;i--)z(e,i)},V=function(e,t,n){for(var i=t;i<=n;i++){var o=A.items.itemDataAt(i);if(o){var r=o.itemsManagerRecord;_(i,r),D++,F(e,r)}}};this._previousRealizationPendingItemPromises=this._pendingItemPromises||{},this._pendingItemPromises={};var U;"left"===c?(W(A._onscreenJob,m,p),W(A._frontOffscreenJob,t,m-1),U=t>m-1):(H(A._onscreenJob,m,p),H(A._frontOffscreenJob,p+1,n-1),U=p+1>n-1);for(var q=0,J=Object.keys(this._previousRealizationPendingItemPromises),K=J.length;q<K;q++){var G=J[q];A._listView._itemsManager.releaseItemPromise(this._previousRealizationPendingItemPromises[G])}this._previousRealizationPendingItemPromises={},V(A._onscreenJob,m,p),"left"===c?V(A._frontOffscreenJob,t,m-1):V(A._frontOffscreenJob,p+1,n-1);var Y=I===p-m+1;return A._firstLayoutPass?A._listView._canvas.style.opacity=0:Y?A._listView._showProgressBar(A._listView._element,"50%","50%"):A._listView._hideProgressBar(),A._frontOffscreenJob.pause(),A._backOffscreenJob.pause(),T.promise.done(function(){A._frontOffscreenJob.resume(),U&&O.complete()},function(){B.cancel()}),O.promise.done(function(){A._listView._writeProfilerMark("frontItemsRealized,info"),"left"===c?(H(A._backOffscreenJob,p+1,n-1),V(A._backOffscreenJob,p+1,n-1)):(W(A._backOffscreenJob,t,m-1),V(A._backOffscreenJob,t,m-1)),A._backOffscreenJob.resume()}),B.promise.done(function(){A._listView._versionManager.clearCancelOnNotification(R),A._listView._writeProfilerMark(C+" complete(created:"+M+" updated:"+D+"),info")},function(e){return A._listView._versionManager.clearCancelOnNotification(R),A._onscreenJob.clearWork(),A._frontOffscreenJob.clearWork(),A._backOffscreenJob.clearWork(),P.cancel(),T.cancel(),A._listView._writeProfilerMark(C+" canceled(created:"+M+" updated:"+D+" clean:"+L+"),info"),o.wrapError(e)}),A._listView._writeProfilerMark(C+",StopTM"),{viewportItemsRealized:T.promise,allItemsRealized:B.promise,loadingCompleted:o.join([B.promise,P.promise]).then(function(){for(var e=[],i=t;i<n;i++){var r=A.items.itemDataAt(i);r&&e.push(r.itemsManagerRecord.itemReadyPromise)}return o._cancelBlocker(o.join(e))})}}return A._listView._writeProfilerMark(C+",StopTM"),{viewportItemsRealized:o.wrap(),allItemsRealized:o.wrap(),loadingCompleted:o.wrap()}},_setAnimationInViewportState:function(e){if(this._hasAnimationInViewportPending=!1,e&&e.length>0)for(var t=this._listView._getViewportLength(),n=this._listView._layout.itemsFromRange(this._scrollbarPos,this._scrollbarPos+t-1),i=0,o=e.length;i<o;i++){var r=e[i];if(r.newIndex>=n.firstIndex&&r.newIndex<=n.lastIndex&&r.newIndex!==r.oldIndex){this._hasAnimationInViewportPending=!0;break}}},_addHeader:function(e,t){var n=this;return this._listView._groups.renderGroup(t).then(function(e){if(e){e.element.tabIndex=0;var i=n._getHeaderContainer(t);e.element.parentNode!==i&&(i.appendChild(e.element),l.addClass(e.element,d._headerClass)),n._listView._groups.setDomElement(t,e.element)}})},_updateHeaders:function(e,t,n){function i(t){var n=s._listView._groups.group(t);if(n&&!n.header){var i=n.headerPromise;return i||(i=n.headerPromise=s._addHeader(e,t),i.done(function(){n.headerPromise=null},function(){n.headerPromise=null})),i}return o.wrap()}function r(){s._headerRenderPromises=null}var s=this;this._listView._groups.removeElements();var a=this._listView._groups.groupFromItem(t),l=a,u=this._listView._groups.groupFromItem(n-1),c=[];if(null!==l)for(;l<=u;l++)c.push(i(l));return this._headerRenderPromises=o.join(c,this._headerRenderPromises).then(r,r),this._headerRenderPromises||o.wrap()},_unrealizeItem:function(e){var t,n=this._listView;this._listView._writeProfilerMark("_unrealizeItem("+e+"),info");var i=n._selection._getFocused();i.type===c.ObjectType.item&&i.index===e&&(n._unsetFocusOnItem(),t=!0);var o=this.items.itemDataAt(e),r=o.element,s=o.itemBox;s&&s.parentNode&&(l.removeClass(s.parentNode,d._selectedClass),l.removeClass(s.parentNode,d._footprintClass),l.addClass(s.parentNode,d._backdropClass),s.parentNode.removeChild(s)),o.container=null,n._currentMode().itemUnrealized&&n._currentMode().itemUnrealized(e,s),this.items.removeItem(e),o.removed||n._itemsManager.releaseItem(r),a._disposeElement(r),t&&n._setFocusOnItem(n._selection._getFocused())},_unrealizeGroup:function(e){var t,n=e.header,i=this._listView._selection._getFocused();i.type===c.ObjectType.groupHeader&&this._listView._groups.group(i.index)===e&&(this._listView._unsetFocusOnItem(),t=!0),n.parentNode&&n.parentNode.removeChild(n),a._disposeElement(n),e.header=null,e.left=-1,e.top=-1,t&&this._listView._setFocusOnItem(this._listView._selection._getFocused())},_unrealizeItems:function(e){var t=this,n=0;this.items.eachIndex(function(i){if(i<t.begin||i>=t.end)return t._unrealizeItem(i),e&&++n>=e});var i=this._listView._groups,o=i.groupFromItem(this.begin);if(null!==o)for(var r=i.groupFromItem(this.end-1),s=0,a=i.length();s<a;s++){var l=i.group(s);(s<o||s>r)&&l.header&&this._unrealizeGroup(l)}},_unrealizeExcessiveItems:function(){var e=this.items.count(),t=this.end-this.begin,n=t+this._listView._maxDeferredItemCleanup;this._listView._writeProfilerMark("_unrealizeExcessiveItems realized("+e+") approved("+n+"),info"),e>n&&this._unrealizeItems(e-n)},_lazilyUnrealizeItems:function(){this._listView._writeProfilerMark("_lazilyUnrealizeItems,StartTM");var e=this;return v(this._listView).then(function(){function t(){e._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM")}if(e._listView._isZombie())return void t();var n=[];e.items.eachIndex(function(t){(t<e.begin||t>=e.end)&&n.push(t)}),e._listView._writeProfilerMark("_lazilyUnrealizeItems itemsToUnrealize("+n.length+"),info");var i=[],r=e._listView._groups,a=r.groupFromItem(e.begin);if(null!==a)for(var l=r.groupFromItem(e.end-1),u=0,c=r.length();u<c;u++){var d=r.group(u);(u<a||u>l)&&d.header&&i.push(d)}if(n.length||i.length){var h,m=new o(function(t){function o(r){if(!e._listView._isZombie()){for(var s=-1,a=-1,l=0,u=g(e._listView);n.length&&!u&&!r.shouldYield;){var c=n.shift();e._unrealizeItem(c),l++,s<0&&(s=c),a=c}for(e._listView._writeProfilerMark("unrealizeWorker removeItems:"+l+" ("+s+"-"+a+"),info");i.length&&!u&&!r.shouldYield;)e._unrealizeGroup(i.shift());n.length||i.length?u?r.setPromise(v(e._listView).then(function(){return o})):r.setWork(o):t()}}h=s.schedule(o,s.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyUnrealizeItems")});return m.then(t,function(t){return h.cancel(),e._listView._writeProfilerMark("_lazilyUnrealizeItems canceled,info"),e._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM"),o.wrapError(t)})}return t(),o.wrap()})},_getBoundingRectString:function(e){var t;if(e>=0&&e<this.containers.length){var n=this._listView._layout._getItemPosition(e);n&&(t="["+n.left+"; "+n.top+"; "+n.width+"; "+n.height+" ]")}return t||""},_clearDeferTimeout:function(){this.deferTimeout&&(this.deferTimeout.cancel(),this.deferTimeout=null),this.deferredActionCancelToken!==-1&&(this._listView._versionManager.clearCancelOnNotification(this.deferredActionCancelToken),this.deferredActionCancelToken=-1)},_setupAria:function(e){function t(){i._listView._writeProfilerMark("aria work,StopTM")}function n(e){var t=i._listView._groups,n=t.group(e+1);return n?Math.min(n.startIndex-1,i.end-1):i.end-1}if(!this._listView._isZombie()){var i=this;return this._listView._createAriaMarkers(),this._listView._itemsCount().then(function(r){if(!(r>0&&i.firstIndexDisplayed!==-1&&i.lastIndexDisplayed!==-1))return o.wrap();i._listView._writeProfilerMark("aria work,StartTM");var a,u,c,d,h,m,p=i._listView._ariaStartMarker,_=i._listView._ariaEndMarker,y=i.begin,b=i.items.itemAt(i.begin);return b?(l._ensureId(b),i._listView._groupsEnabled()?(u=i._listView._groups,c=d=u.groupFromItem(i.begin),h=u.group(d),m=n(d),l._ensureId(h.header),l._setAttribute(h.header,"role",i._listView._headerRole),l._setAttribute(h.header,"x-ms-aria-flowfrom",p.id),f(h.header,b),l._setAttribute(h.header,"tabindex",i._listView._tabIndex)):l._setAttribute(b,"x-ms-aria-flowfrom",p.id),new o(function(o){var p=e;a=s.schedule(function e(s){if(i._listView._isZombie())return void t();for(;y<i.end;y++){if(!p&&g(i._listView))return void s.setPromise(v(i._listView).then(function(t){return p=t,e}));if(s.shouldYield)return void s.setWork(e);b=i.items.itemAt(y);var a=i.items.itemAt(y+1);if(a&&l._ensureId(a),l._setAttribute(b,"role",i._listView._itemRole),l._setAttribute(b,"aria-setsize",r),l._setAttribute(b,"aria-posinset",y+1),l._setAttribute(b,"tabindex",i._listView._tabIndex),i._listView._groupsEnabled())if(y!==m&&a)f(b,a);else{var w=u.group(d+1);w&&w.header&&a?(l._setAttribute(w.header,"tabindex",i._listView._tabIndex),l._setAttribute(w.header,"role",i._listView._headerRole),l._ensureId(w.header),f(b,w.header),f(w.header,a)):l._setAttribute(b,"aria-flowto",_.id),d++,h=w,m=n(d)}else a?f(b,a):l._setAttribute(b,"aria-flowto",_.id);if(!a)break}i._listView._fireAccessibilityAnnotationCompleteEvent(i.begin,y,c,d-1),t(),o()},s.Priority.belowNormal,null,"WinJS.UI.ListView._setupAria")},function(){a.cancel(),t()})):void t()})}},_setupDeferredActions:function(){function e(){t._listView._isZombie()||(t.deferTimeout=null,t._listView._versionManager.clearCancelOnNotification(t.deferredActionCancelToken),t.deferredActionCancelToken=-1)}this._listView._writeProfilerMark("_setupDeferredActions,StartTM");var t=this;this._clearDeferTimeout(),this.deferTimeout=this._lazilyRemoveRedundantItemsBlocks().then(function(){return o.timeout(d._DEFERRED_ACTION)}).then(function(){return v(t._listView)}).then(function(e){return t._setupAria(e)}).then(e,function(t){return e(),o.wrapError(t)}),this.deferredActionCancelToken=this._listView._versionManager.cancelOnNotification(this.deferTimeout),this._listView._writeProfilerMark("_setupDeferredActions,StopTM")},_updateAriaMarkers:function(e,t,n){function i(){return r.items.itemAt(t)}function o(){for(var e=n;e>=t;e--)if(r.items.itemAt(e))return r.items.itemAt(e);return null}var r=this;if(!this._listView._isZombie()){this._listView._createAriaMarkers();var s,a,u=this._listView._ariaStartMarker,c=this._listView._ariaEndMarker;if(t!==-1&&n!==-1&&t<=n&&(s=i(),a=o()),!e&&s&&a){if(l._ensureId(s),l._ensureId(a),this._listView._groupsEnabled()){var d=this._listView._groups,h=d.group(d.groupFromItem(t));h.header&&(l._ensureId(h.header),t===h.startIndex?l._setAttribute(u,"aria-flowto",h.header.id):l._setAttribute(u,"aria-flowto",s.id))}else l._setAttribute(u,"aria-flowto",s.id);l._setAttribute(c,"x-ms-aria-flowfrom",a.id)}else f(u,c),this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1)}},updateAriaForAnnouncement:function(e,t){if(e!==this._listView.header&&e!==this._listView.footer){var n=-1,i=c.ObjectType.item;l.hasClass(e,d._headerClass)?(n=this._listView._groups.index(e),i=c.ObjectType.groupHeader,l._setAttribute(e,"role",this._listView._headerRole),l._setAttribute(e,"tabindex",this._listView._tabIndex)):(n=this.items.index(e),l._setAttribute(e,"aria-setsize",t),l._setAttribute(e,"aria-posinset",n+1),l._setAttribute(e,"role",this._listView._itemRole),l._setAttribute(e,"tabindex",this._listView._tabIndex)),i===c.ObjectType.groupHeader?this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1,n,n):this._listView._fireAccessibilityAnnotationCompleteEvent(n,n,-1,-1)}},_reportElementsLevel:function(e){function t(e,t){for(var n=0,o=e;o<=t;o++){var r=i.itemDataAt(o);r&&r.container&&n++}return n}var n,i=this.items;n="right"===e?Math.floor(100*t(this.firstIndexDisplayed,this.end-1)/(this.end-this.firstIndexDisplayed)):Math.floor(100*t(this.begin,this.lastIndexDisplayed)/(this.lastIndexDisplayed-this.begin+1)),this._listView._writeProfilerMark("elementsLevel level("+n+"),info")},_createHeaderContainer:function(e){return this._createSurfaceChild(d._headerContainerClass,e)},_createItemsContainer:function(e){var n=this._createSurfaceChild(d._itemsContainerClass,e),i=t.document.createElement("div");return i.className=d._padderClass,n.appendChild(i),n},_ensureContainerInDOM:function(e){var t=this.containers[e];return!(!t||this._listView._canvas.contains(t))&&(this._forceItemsBlocksInDOM(e,e+1),!0)},_ensureItemsBlocksInDOM:function(e,t){if(this._expandedRange){var n=this._expandedRange.first.index,i=this._expandedRange.last.index+1;e<=n&&t>n?t=Math.max(t,i):e<i&&t>=i&&(e=Math.min(e,n))}this._forceItemsBlocksInDOM(e,t)},_removeRedundantItemsBlocks:function(){this.begin!==-1&&this.end!==-1&&this._forceItemsBlocksInDOM(this.begin,this.end)},_lazilyRemoveRedundantItemsBlocks:function(){this._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StartTM");var e=this;return v(this._listView).then(function(){function t(){e._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM")}if(e._listView._isZombie())return void t();if(e._expandedRange&&e.begin!==-1&&e.end!==-1&&(e._expandedRange.first.index<e.begin||e._expandedRange.last.index+1>e.end)){var n,i=new o(function(t){function i(n){if(!e._listView._isZombie()){for(var o=g(e._listView);e._expandedRange.first.index<e.begin&&!o&&!n.shouldYield;){var r=Math.min(e.begin,e._expandedRange.first.index+e._blockSize*w._blocksToRelease);e._forceItemsBlocksInDOM(r,e.end)}for(;e._expandedRange.last.index+1>e.end&&!o&&!n.shouldYield;){var s=Math.max(e.end,e._expandedRange.last.index-e._blockSize*w._blocksToRelease);e._forceItemsBlocksInDOM(e.begin,s)}e._expandedRange.first.index<e.begin||e._expandedRange.last.index+1>e.end?o?n.setPromise(v(e._listView).then(function(){return i})):n.setWork(i):t()}}n=s.schedule(i,s.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyRemoveRedundantItemsBlocks")});return i.then(t,function(t){return n.cancel(),e._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks canceled,info"),e._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM"),o.wrapError(t)})}return t(),o.wrap()})},_forceItemsBlocksInDOM:function(e,t){function n(e,t){var n=e.element.firstElementChild;n.style[_]=t}function i(e){for(var t=0;t<m.tree.length;t++)for(var n=m.tree[t].itemsContainer,i=0,o=n.itemsBlocks.length;i<o;i++)if(e(n,n.itemsBlocks[i]))return}function o(e){m._listView._writeProfilerMark("_itemsBlockExtent,StartTM"),m._listView._itemsBlockExtent=l[m._listView._horizontal()?"getTotalWidth":"getTotalHeight"](e.element),m._listView._writeProfilerMark("_itemsBlockExtent("+m._listView._itemsBlockExtent+"),info"),m._listView._writeProfilerMark("_itemsBlockExtent,StopTM")}function r(){return m._listView._itemsBlockExtent===-1&&i(function(e,t){return t.items.length===m._blockSize&&t.element.parentNode===e.element&&(o(t),!0)}),m._listView._itemsBlockExtent===-1&&i(function(e,t){return t.items.length===m._blockSize&&(e.element.appendChild(t.element),o(t),e.element.removeChild(t.element),!0)}),m._listView._itemsBlockExtent}function s(e,t,n){function i(t){var n=e.itemsBlocks[t];n&&n.element.parentNode===e.element&&(e.element.removeChild(n.element),f++)}if(Array.isArray(t))t.forEach(i);else for(var o=t;o<n;o++)i(o)}function a(e,t,n){for(var i=e.element.firstElementChild,o=i,r=t;r<n;r++){var s=e.itemsBlocks[r];s&&(s.element.parentNode!==e.element&&(e.element.insertBefore(s.element,o.nextElementSibling),p++),o=s.element)}}function u(e){if(e<m.tree.length){m._listView._writeProfilerMark("collapseGroup("+e+"),info");var t=m.tree[e].itemsContainer;s(t,0,t.itemsBlocks.length),n(t,"")}}function c(e){if(e<m.tree.length){m._listView._writeProfilerMark("expandGroup("+e+"),info");var t=m.tree[e].itemsContainer;a(t,0,t.itemsBlocks.length),n(t,"")}}function d(e,t){function n(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}var i=t[0],o=t[1],r=e[0],s=e[1];return o<r||i>s?n(r,s):i>r&&o<s?n(r,i-1).concat(n(o+1,s)):r<i?n(r,i-1):s>o?n(o+1,s):null}if(this._blockSize){var h="_forceItemsBlocksInDOM begin("+e+") end("+t+"),";this._listView._writeProfilerMark(h+"StartTM");var m=this,p=0,f=0,_="padding"+(this._listView._horizontal()?"Left":"Top"),g=this._listView._groups.groupFromItem(e),v=this._listView._groups.groupFromItem(t-1),y=this._listView._groups.group(g),b=m.tree[g].itemsContainer,w=Math.floor((e-y.startIndex)/this._blockSize),C=this._listView._groups.group(v),E=m.tree[v].itemsContainer,S=Math.floor((t-1-C.startIndex)/this._blockSize);w&&m._listView._itemsBlockExtent===-1&&i(function(e,t){return t.items.length===m._blockSize&&t.element.parentNode===e.element&&(o(t),!0)});var I=this._expandedRange?d([this._expandedRange.first.groupIndex,this._expandedRange.last.groupIndex],[g,v]):null;if(I&&I.forEach(u),this._expandedRange&&this._expandedRange.first.groupKey===y.key){var x=d([this._expandedRange.first.block,Number.MAX_VALUE],[w,Number.MAX_VALUE]);x&&s(b,x)}else this._expandedRange&&g>=this._expandedRange.first.groupIndex&&g<=this._expandedRange.last.groupIndex&&s(b,0,w);if(g!==v?(a(b,w,b.itemsBlocks.length),a(E,0,S+1)):a(b,w,S+1),this._expandedRange&&this._expandedRange.last.groupKey===C.key){var x=d([0,this._expandedRange.last.block],[0,S]);x&&s(E,x)}else this._expandedRange&&v>=this._expandedRange.first.groupIndex&&v<=this._expandedRange.last.groupIndex&&s(E,S+1,E.itemsBlocks.length);n(b,w?w*r()+"px":""),g!==v&&n(E,"");for(var j=g+1;j<v;j++)c(j);this._expandedRange={first:{index:e,groupIndex:g,groupKey:y.key,block:w},last:{index:t-1,groupIndex:v,groupKey:C.key,block:S}},this._listView._writeProfilerMark("_forceItemsBlocksInDOM groups("+g+"-"+v+") blocks("+w+"-"+S+") added("+p+") removed("+f+"),info"),this._listView._writeProfilerMark(h+"StopTM")}},_realizePageImpl:function(){var e=this,t="realizePage(scrollPosition:"+this._scrollbarPos+" forceLayout:"+this._forceRelayout+")";return this._listView._writeProfilerMark(t+",StartTM"),this._listView._versionManager.locked?(this._listView._versionManager.unlocked.done(function(){e._listView._isZombie()||e._listView._batchViewUpdates(d._ViewChange.realize,d._ScrollToPriority.low,e._listView.scrollPosition)}),this._listView._writeProfilerMark(t+",StopTM"),o.cancel):new o(function(n){function i(){n(),c.complete()}function s(){e._listView._hideProgressBar(),e._state.setLoadingState(e._listView._LoadingState.viewPortLoaded),e._executeAnimations&&e._setState(O,c.promise)}function a(t){e._updateAriaMarkers(0===t,e.firstIndexDisplayed,e.lastIndexDisplayed),e._state.setLoadingState&&e._state.setLoadingState(e._listView._LoadingState.itemsLoaded)}function u(t){e._listView._clearInsertedItems(),e._listView._groups.removeElements(),s(),a(t),i()}var c=new r;e._state.setLoadingState(e._listView._LoadingState.itemsLoading),e._firstLayoutPass&&e._listView._showProgressBar(e._listView._element,"50%","50%");var d=e.containers.length;if(d){var h,m,p=e.maxLeadingPages,f=e.maxTrailingPages,_=e._listView._getViewportLength();if(e._listView._zooming)h=m=0;else if(w._disableCustomPagesPrefetch)h=m=w._defaultPagesToPrefetch;else{h="left"===e._direction?p:f;var g=Math.max(0,h-e._scrollbarPos/_);m=Math.min(p,g+("right"===e._direction?p:f))}var v=Math.max(0,e._scrollbarPos-h*_),y=e._scrollbarPos+(1+m)*_,b=e._listView._layout.itemsFromRange(v,y-1);if((b.firstIndex<0||b.firstIndex>=d)&&(b.lastIndex<0||b.lastIndex>=d))e.begin=-1,e.end=-1,e.firstIndexDisplayed=-1,e.lastIndexDisplayed=-1,u(d);else{var C=l._clamp(b.firstIndex,0,d-1),E=l._clamp(b.lastIndex+1,0,d),S=e._listView._layout.itemsFromRange(e._scrollbarPos,e._scrollbarPos+_-1),I=l._clamp(S.firstIndex,0,d-1),x=l._clamp(S.lastIndex,0,d-1);if(e._realizationLevel!==w._realizationLevel.skip||e.lastRealizePass||I!==e.firstIndexDisplayed||x!==e.lastIndexDisplayed)if((e._forceRelayout||C!==e.begin||E!==e.end||I!==e.firstIndexDisplayed||x!==e.lastIndexDisplayed)&&C<E&&v<y){e._listView._writeProfilerMark("realizePage currentInView("+I+"-"+x+") previousInView("+e.firstIndexDisplayed+"-"+e.lastIndexDisplayed+") change("+(I-e.firstIndexDisplayed)+"),info"),e._cancelRealize();var j=e._realizePass;e.begin=C,e.end=E,e.firstIndexDisplayed=I,e.lastIndexDisplayed=x,e.deletesWithoutRealize=0,e._ensureItemsBlocksInDOM(e.begin,e.end);var k=e._realizeItems(e._listView._itemCanvas,e.begin,e.end,d,j,e._scrollbarPos,e._direction,I,x,e._forceRelayout);e._forceRelayout=!1;var P=k.viewportItemsRealized.then(function(){return s(),k.allItemsRealized}).then(function(){if(e._realizePass===j)return e._updateHeaders(e._listView._canvas,e.begin,e.end).then(function(){a(d)})}).then(function(){return k.loadingCompleted}).then(function(){e._unrealizeExcessiveItems(),e.lastRealizePass=null,i()},function(t){return e._realizePass===j&&(e.lastRealizePass=null,e.begin=-1,e.end=-1),o.wrapError(t)});e.lastRealizePass=o.join([k.viewportItemsRealized,k.allItemsRealized,k.loadingCompleted,P]),e._unrealizeExcessiveItems()}else e.lastRealizePass?e.lastRealizePass.then(i):u(d);else e.begin=C,e.end=C+Object.keys(e.items._itemData).length,e._updateHeaders(e._listView._canvas,e.begin,e.end).done(function(){e.lastRealizePass=null,u(d)})}}else e.begin=-1,e.end=-1,e.firstIndexDisplayed=-1,e.lastIndexDisplayed=-1,u(d);e._reportElementsLevel(e._direction),e._listView._writeProfilerMark(t+",StopTM")})},realizePage:function(e,t,n,i){this._scrollToFunctor=y(e),this._forceRelayout=this._forceRelayout||t,this._scrollEndPromise=n,this._listView._writeProfilerMark(this._state.name+"_realizePage,info"),this._state.realizePage(i||x)},onScroll:function(e,t){this.realizePage(e,!1,t,k)},reload:function(e,t){this._listView._isZombie()||(this._scrollToFunctor=y(e),this._forceRelayout=!0,this._highPriorityRealize=!!t,this.stopWork(!0),this._listView._writeProfilerMark(this._state.name+"_rebuildTree,info"),this._state.rebuildTree())},refresh:function(e){this._listView._isZombie()||(this._scrollToFunctor=y(e),this._forceRelayout=!0,this._highPriorityRealize=!0,this.stopWork(),this._listView._writeProfilerMark(this._state.name+"_relayout,info"),this._state.relayout())},waitForValidScrollPosition:function(e){var t=this,n=this._listView._viewport[this._listView._scrollLength]-this._listView._getViewportLength();
return e>n?t._listView._itemsCount().then(function(n){return t.containers.length<n?o._cancelBlocker(t._creatingContainersWork&&t._creatingContainersWork.promise).then(function(){return t._getLayoutCompleted()}).then(function(){return e}):e}):o.wrap(e)},waitForEntityPosition:function(e){var t=this;return e.type===c.ObjectType.header||e.type===c.ObjectType.footer?o.wrap():(this._listView._writeProfilerMark(this._state.name+"_waitForEntityPosition("+e.type+": "+e.index+"),info"),o._cancelBlocker(this._state.waitForEntityPosition(e).then(function(){if(e.type!==c.ObjectType.groupHeader&&e.index>=t.containers.length||e.type===c.ObjectType.groupHeader&&t._listView._groups.group(e.index).startIndex>=t.containers.length)return t._creatingContainersWork&&t._creatingContainersWork.promise}).then(function(){return t._getLayoutCompleted()})))},stopWork:function(e){this._listView._writeProfilerMark(this._state.name+"_stop,info"),this._state.stop(e),this._layoutWork&&this._layoutWork.cancel(),e&&this._creatingContainersWork&&this._creatingContainersWork.cancel(),e&&(this._state=new C(this))},_cancelRealize:function(){this._listView._writeProfilerMark("_cancelRealize,StartTM"),(this.lastRealizePass||this.deferTimeout)&&(this._forceRelayout=!0),this._clearDeferTimeout(),this._realizePass++,this._headerRenderPromises&&(this._headerRenderPromises.cancel(),this._headerRenderPromises=null);var e=this.lastRealizePass;e&&(this.lastRealizePass=null,this.begin=-1,this.end=-1,e.cancel()),this._listView._writeProfilerMark("_cancelRealize,StopTM")},resetItems:function(e){if(!this._listView._isZombie()){this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this._runningAnimations=null,this._executeAnimations=!1;var t=this._listView;this._firstLayoutPass=!0,t._unsetFocusOnItem(),t._currentMode().onDataChanged&&t._currentMode().onDataChanged(),this.items.each(function(n,i){e&&i.parentNode&&i.parentNode.parentNode&&i.parentNode.parentNode.removeChild(i.parentNode),t._itemsManager.releaseItem(i),a._disposeElement(i)}),this.items.removeItems(),this._deferredReparenting=[],e&&t._groups.removeElements(),t._clearInsertedItems()}},reset:function(){if(this.stopWork(!0),this._state=new C(this),this.resetItems(),!this._listView._isZombie()){var e=this._listView;e._groups.resetGroups(),e._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null}},cleanUp:function(){this.stopWork(!0),this._runningAnimations&&this._runningAnimations.cancel();var e=this._listView._itemsManager;this.items.each(function(t,n){e.releaseItem(n),a._disposeElement(n)}),this._listView._unsetFocusOnItem(),this.items.removeItems(),this._deferredReparenting=[],this._listView._groups.resetGroups(),this._listView._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null,this.destroyed=!0},getContainer:function(e){return this.containers[e]},_getHeaderContainer:function(e){return this.tree[e].header},_getGroups:function(e){if(this._listView._groupDataSource){var t=this._listView._groups.groups,n=[];if(e)for(var i=0,o=t.length;i<o;i++){var r=t[i],s=i+1<o?t[i+1].startIndex:e;n.push({key:r.key,size:s-r.startIndex})}return n}return[{key:"-1",size:e}]},_createChunk:function(e,t,n){function i(e,t){var i=e.element.children,o=i.length,s=Math.min(t-e.items.length,n);u.insertAdjacentHTMLUnsafe(e.element,"beforeend",m._repeat("<div class='win-container win-backdrop'></div>",s));for(var a=0;a<s;a++){var l=i[o+a];e.items.push(l),r.containers.push(l)}}function o(e){var t={header:r._listView._groupDataSource?r._createHeaderContainer():null,itemsContainer:{element:r._createItemsContainer(),items:[]}};r.tree.push(t),r.keyToGroupIndex[e.key]=r.tree.length-1,i(t.itemsContainer,e.size)}var r=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=e.length){var s=this.tree[this.tree.length-1],a=e[this.tree.length-1].size;if(s.itemsContainer.items.length<a)return i(s.itemsContainer,a),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<e.length&&o(e[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_createChunkWithBlocks:function(e,n,i,o){function r(e,n){var r,s=e.itemsBlocks.length?e.itemsBlocks[e.itemsBlocks.length-1]:null;if(n=Math.min(n,o),s&&s.items.length<i){var l=Math.min(n,i-s.items.length),c=s.items.length,r=(e.itemsBlocks.length-1)*i+c,d=m._stripedContainers(l,r);u.insertAdjacentHTMLUnsafe(s.element,"beforeend",d),C=s.element.children;for(var h=0;h<l;h++){var p=C[c+h];s.items.push(p),a.containers.push(p)}n-=l}r=e.itemsBlocks.length*i;var f=Math.floor(n/i),_="",g=r,v=r+i;if(f>0){var y=["<div class='win-itemsblock'>"+m._stripedContainers(i,g)+"</div>","<div class='win-itemsblock'>"+m._stripedContainers(i,v)+"</div>"];_=m._repeat(y,f),r+=f*i}var b=n%i;b>0&&(_+="<div class='win-itemsblock'>"+m._stripedContainers(b,r)+"</div>",r+=b,f++);var w=t.document.createElement("div");u.setInnerHTMLUnsafe(w,_);for(var C=w.children,E=0;E<f;E++){var S=C[E],I={element:S,items:m._nodeListToArray(S.children)};e.itemsBlocks.push(I);for(var x=0;x<I.items.length;x++)a.containers.push(I.items[x])}}function s(e){var t={header:a._listView._groupDataSource?a._createHeaderContainer():null,itemsContainer:{element:a._createItemsContainer(),itemsBlocks:[]}};a.tree.push(t),a.keyToGroupIndex[e.key]=a.tree.length-1,r(t.itemsContainer,e.size)}var a=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=e.length){var l=this.tree[this.tree.length-1].itemsContainer,c=e[this.tree.length-1].size,d=0;if(l.itemsBlocks.length&&(d=(l.itemsBlocks.length-1)*i+l.itemsBlocks[l.itemsBlocks.length-1].items.length),d<c)return r(l,c-d),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<e.length&&s(e[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_generateCreateContainersWorker:function(){var e=this,t=0,n=!1;return function o(r){e._listView._versionManager.locked?r.setPromise(e._listView._versionManager.unlocked.then(function(){return o})):e._listView._itemsCount().then(function(s){var a=!n&&g(e._listView);if(a)r.setPromise(v(e._listView).then(function(e){return n=e,o}));else{if(e._listView._isZombie())return;n=!1;var l=i._now()+w._createContainersJobTimeslice,u=e._getGroups(s),c=e.containers.length,d=e.end===e.containers.length,h=w._chunkSize;do e._blockSize?e._createChunkWithBlocks(u,s,e._blockSize,h):e._createChunk(u,s,h),t++;while(e.containers.length<s&&i._now()<l);e._listView._writeProfilerMark("createContainers yields containers("+e.containers.length+"),info"),e._listView._affectedRange.add({start:c,end:e.containers.length},s),d?(e.stopWork(),e._listView._writeProfilerMark(e._state.name+"_relayout,info"),e._state.relayout()):(e._listView._writeProfilerMark(e._state.name+"_layoutNewContainers,info"),e._state.layoutNewContainers()),e.containers.length<s?r.setWork(o):(e._listView._writeProfilerMark("createContainers completed steps("+t+"),info"),e._creatingContainersWork.complete())}})}},_scheduleLazyTreeCreation:function(){return s.schedule(this._generateCreateContainersWorker(),s.Priority.idle,this,"WinJS.UI.ListView.LazyTreeCreation")},_createContainers:function(){this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null;var e,t=this;return this._listView._itemsCount().then(function(n){if(0===n&&t._listView._hideProgressBar(),e=n,t._listView._writeProfilerMark("createContainers("+e+"),StartTM"),t._listView._groupDataSource)return t._listView._groups.initialize()}).then(function(){return t._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StartTM"),e&&t._listView._groups.length()?t._listView._layout.numberOfItemsPerItemsBlock:null}).then(function(n){t._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+n+"),info"),t._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StopTM"),t._listView._resetCanvas(),t.tree=[],t.keyToGroupIndex={},t.containers=[],t._blockSize=n;var o,r=t._getGroups(e),s=i._now()+w._maxTimePerCreateContainers,a=Math.min(w._startupChunkSize,w._chunkSize);do o=n?t._createChunkWithBlocks(r,e,n,a):t._createChunk(r,e,a);while(i._now()<s&&t.containers.length<e&&!o);if(t._listView._writeProfilerMark("createContainers created("+t.containers.length+"),info"),t._listView._affectedRange.add({start:0,end:t.containers.length},e),t.containers.length<e){var l=t._scheduleLazyTreeCreation();t._creatingContainersWork.promise.done(null,function(){l.cancel()})}else t._listView._writeProfilerMark("createContainers completed synchronously,info"),t._creatingContainersWork.complete();t._listView._writeProfilerMark("createContainers("+e+"),StopTM")})},_updateItemsBlocks:function(e){function n(){var e=t.document.createElement("div");return e.className=d._itemsBlockClass,e}function i(t,i){function s(){t.itemsBlocks=null,t.items=[];for(var e=0;e<c;e++){var n=o.containers[i+e];t.element.appendChild(n),t.items.push(n)}}function a(){t.itemsBlocks=[{element:u.length?u.shift():n(),items:[]}];for(var r=t.itemsBlocks[0],s=0;s<c;s++){if(r.items.length===e){var a=u.length?u.shift():n();t.itemsBlocks.push({element:a,items:[]}),r=t.itemsBlocks[t.itemsBlocks.length-1]}var l=o.containers[i+s];r.element.appendChild(l),r.items.push(l)}t.items=null}var l,u=[],c=0,d=t.itemsBlocks;if(d)for(l=0;l<d.length;l++)c+=d[l].items.length,u.push(d[l].element);else c=t.items.length;for(r?a():s(),l=0;l<u.length;l++){var h=u[l];h.parentNode===t.element&&t.element.removeChild(h)}return c}for(var o=this,r=!!e,s=0,a=0;s<this.tree.length;s++)a+=i(this.tree[s].itemsContainer,a);o._blockSize=e},_layoutItems:function(){var e=this;return this._listView._itemsCount().then(function(){return o.as(e._listView._layout.numberOfItemsPerItemsBlock).then(function(t){e._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+t+"),info"),t!==e._blockSize&&(e._updateItemsBlocks(t),e._listView._itemsBlockExtent=-1);var n,i=e._listView._affectedRange.get();return i&&(n={firstIndex:Math.max(i.start-1,0),lastIndex:Math.min(e.containers.length-1,i.end)},n.firstIndex<e.containers.length||0===e.containers.length)?e._listView._layout.layout(e.tree,n,e._modifiedElements||[],e._modifiedGroups||[]):(e._listView._affectedRange.clear(),{realizedRangeComplete:o.wrap(),layoutComplete:o.wrap()})})})},updateTree:function(e,t,n){return this._listView._writeProfilerMark(this._state.name+"_updateTree,info"),this._state.updateTree(e,t,n)},_updateTreeImpl:function(e,n,i,o){function r(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];i.parentNode.removeChild(i)}}if(this._executeAnimations=!0,this._modifiedElements=i,!i.handled){i.handled=!0,this._listView._writeProfilerMark("_updateTreeImpl,StartTM");var s,a=this;o||this._unrealizeItems();for(var s=0,u=i.length;s<u;s++)i[s]._itemBox&&i[s]._itemBox.parentNode&&l.removeClass(i[s]._itemBox.parentNode,d._selectedClass);this.items.each(function(e,t,n){n.container&&l.removeClass(n.container,d._selectedClass),n.container&&l.addClass(n.container,d._backdropClass)});var c=this._listView._updateContainers(this._getGroups(e),e,n,i);r(c.removedHeaders),r(c.removedItemsContainers);for(var s=0,u=i.length;s<u;s++){var m=i[s];if(m.newIndex!==-1){if(m.element=this.getContainer(m.newIndex),!m.element)throw"Container missing after updateContainers."}else l.removeClass(m.element,d._backdropClass)}var p=t.document.activeElement;this._listView._canvas.contains(p)&&(this._requireFocusRestore=p),this._deferredReparenting=[],this.items.each(function(e,t,n){var i=a.getContainer(e),o=n.itemBox;o&&i&&(n.container=i,o.parentNode!==i&&(e>=a.firstIndexDisplayed&&e<=a.lastIndexDisplayed?a._appendAndRestoreFocus(i,o):a._deferredReparenting.push({itemBox:o,container:i})),l.removeClass(i,d._backdropClass),l[a._listView.selection._isIncluded(e)?"addClass":"removeClass"](i,d._selectedClass),!a._listView.selection._isIncluded(e)&&l.hasClass(o,d._selectedClass)&&h._ItemEventsHandler.renderSelection(o,n.element,!1,!0))}),this._listView._writeProfilerMark("_updateTreeImpl,StopTM")}},_completeUpdateTree:function(){if(this._deferredReparenting){var e=this._deferredReparenting.length;if(e>0){var t="_completeReparenting("+e+")";this._listView._writeProfilerMark(t+",StartTM");for(var n,i=0;i<e;i++)n=this._deferredReparenting[i],this._appendAndRestoreFocus(n.container,n.itemBox);this._deferredReparenting=[],this._listView._writeProfilerMark(t+",StopTM")}}this._requireFocusRestore=null},_appendAndRestoreFocus:function(e,n){if(n.parentNode!==e){var i;if(this._requireFocusRestore&&(i=t.document.activeElement),this._requireFocusRestore&&this._requireFocusRestore===i&&(e.contains(i)||n.contains(i))&&(this._listView._unsetFocusOnItem(),i=t.document.activeElement),l.empty(e),e.appendChild(n),this._requireFocusRestore&&i===this._listView._keyboardEventsHelper){var o=this._listView._selection._getFocused();o.type===c.ObjectType.item&&this.items.itemBoxAt(o.index)===n&&(l._setActive(this._requireFocusRestore),this._requireFocusRestore=null)}}},_startAnimations:function(){this._listView._writeProfilerMark("startAnimations,StartTM");var e=this;this._hasAnimationInViewportPending=!1;var t=o.as(this._listView._layout.executeAnimations()).then(function(){e._listView._writeProfilerMark("startAnimations,StopTM")});return t},_setState:function(e,t){if(!this._listView._isZombie()){var n=this._state.name;this._state=new e(this,t),this._listView._writeProfilerMark(this._state.name+"_enter from("+n+"),info"),this._state.enter()}},getAdjacent:function(e,t){var n=this;return this.waitForEntityPosition(e).then(function(){return n._listView._layout.getAdjacent(e,t)})},hitTest:function(e,t){if(this._realizedRangeLaidOut)return{index:-1,insertAfterIndex:-1};var n=this._listView._layout.hitTest(e,t);return n.index=l._clamp(n.index,-1,this._listView._cachedCount-1,0),n.insertAfterIndex=l._clamp(n.insertAfterIndex,-1,this._listView._cachedCount-1,0),n},_createTreeBuildingSignal:function(){if(!this._creatingContainersWork){this._creatingContainersWork=new r;var e=this;this._creatingContainersWork.promise.done(function(){e._creatingContainersWork=null},function(){e._creatingContainersWork=null})}},_createLayoutSignal:function(){var e=this;this._layoutCompleted||(this._layoutCompleted=new r,this._layoutCompleted.promise.done(function(){e._layoutCompleted=null},function(){e._layoutCompleted=null})),this._realizedRangeLaidOut||(this._realizedRangeLaidOut=new r,this._realizedRangeLaidOut.promise.done(function(){e._realizedRangeLaidOut=null},function(){e._realizedRangeLaidOut=null}))},_getLayoutCompleted:function(){return this._layoutCompleted?o._cancelBlocker(this._layoutCompleted.promise):o.wrap()},_createSurfaceChild:function(e,n){var i=t.document.createElement("div");return i.className=e,this._listView._canvas.insertBefore(i,n?n.nextElementSibling:null),i},_executeScrollToFunctor:function(){var e=this;return o.as(this._scrollToFunctor?this._scrollToFunctor():null).then(function(t){e._scrollToFunctor=null,t=t||{},+t.position===t.position&&(e._scrollbarPos=t.position),e._direction=t.direction||"right"})}},{_defaultPagesToPrefetch:2,_iOSMaxLeadingPages:6,_iOSMaxTrailingPages:2,_disableCustomPagesPrefetch:!1,_waitForSeZoIntervalDuration:100,_waitForSeZoTimeoutDuration:500,_chunkSize:500,_startupChunkSize:100,_maxTimePerCreateContainers:5,_createContainersJobTimeslice:15,_blocksToRelease:10,_realizationLevel:{skip:"skip",realize:"realize",normal:"normal"}}),C=n.Class.define(function(e){this.view=e,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},{name:"CreatedState",enter:function(){this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},stop:b,realizePage:b,rebuildTree:function(){this.view._setState(E)},relayout:function(){this.view._setState(E)},layoutNewContainers:b,waitForEntityPosition:function(){return this.view._setState(E),this.view._getLayoutCompleted()},updateTree:b}),E=n.Class.define(function(e){this.view=e},{name:"BuildingState",enter:function(){this.canceling=!1,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal();var e=this,t=new r;this.promise=t.promise.then(function(){return e.view._createContainers()}).then(function(){e.view._setState(S)},function(t){return e.canceling||(e.view._setState(C),e.view._listView._raiseViewComplete()),o.wrapError(t)}),t.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._setState(C)},realizePage:b,rebuildTree:function(){this.canceling=!0,this.promise.cancel(),this.enter()},relayout:b,layoutNewContainers:b,waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:b}),S=n.Class.define(function(e,t){this.view=e,this.nextStateType=t||x},{name:"LayingoutState",enter:function(){var e=this;this.canceling=!1,this.view._createLayoutSignal(),this.view._listView._writeProfilerMark(this.name+"_enter_layoutItems,StartTM");var t=new r;this.promise=t.promise.then(function(){return e.view._layoutItems()}).then(function(t){return e.view._layoutWork=t.layoutComplete,t.realizedRangeComplete}).then(function(){e.view._listView._writeProfilerMark(e.name+"_enter_layoutItems,StopTM"),e.view._listView._clearInsertedItems(),e.view._setAnimationInViewportState(e.view._modifiedElements),e.view._modifiedElements=[],e.view._modifiedGroups=[],e.view._realizedRangeLaidOut.complete(),e.view._layoutWork.then(function(){e.view._listView._writeProfilerMark(e.name+"_enter_layoutCompleted,info"),e.view._listView._affectedRange.clear(),e.view._layoutCompleted.complete()}),e.canceling||e.view._setState(e.nextStateType)},function(t){return e.view._listView._writeProfilerMark(e.name+"_enter_layoutCanceled,info"),e.canceling||(e.view.firstIndexDisplayed=e.view.lastIndexDisplayed=-1,e.view._updateAriaMarkers(!0,e.view.firstIndexDisplayed,e.view.lastIndexDisplayed),e.view._setState(A)),o.wrapError(t)}),t.complete(),this.canceling&&this.promise.cancel()},cancelLayout:function(e){this.view._listView._writeProfilerMark(this.name+"_cancelLayout,info"),this.canceling=!0,this.promise&&this.promise.cancel(),e&&this.view._setState(I)},stop:function(){this.cancelLayout(!0)},realizePage:b,rebuildTree:function(){this.cancelLayout(!1),this.view._setState(E)},relayout:function(){this.cancelLayout(!1),this.enter()},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n)}}),I=n.Class.define(function(e){this.view=e},{name:"LayoutCanceledState",enter:b,stop:b,realizePage:function(){this.relayout()},rebuildTree:function(){this.view._setState(E)},relayout:function(){this.view._setState(S)},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n)}}),x=n.Class.define(function(e){this.view=e,this.nextState=T,this.relayoutNewContainers=!0},{name:"RealizingState",enter:function(){var e=this,t=new r;this.promise=t.promise.then(function(){return e.view._executeScrollToFunctor()}).then(function(){return e.relayoutNewContainers=!1,o._cancelBlocker(e.view._realizePageImpl())}).then(function(){e.view._state===e&&(e.view._completeUpdateTree(),e.view._listView._writeProfilerMark("RealizingState_to_UnrealizingState"),e.view._setState(e.nextState))},function(t){return e.view._state!==e||e.canceling||(e.view._listView._writeProfilerMark("RealizingState_to_CanceledState"),e.view._setState(j)),o.wrapError(t)}),t.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._cancelRealize(),this.view._setState(j)},realizePage:function(){this.canceling=!0,this.promise.cancel(),this.enter()},rebuildTree:function(){this.stop(),this.view._setState(E)},relayout:function(){this.stop(),this.view._setState(S)},layoutNewContainers:function(){this.relayoutNewContainers?this.relayout():(this.view._createLayoutSignal(),this.view._relayoutInComplete=!0)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n)},setLoadingState:function(e){this.view._listView._setViewState(e)}}),j=n.Class.define(function(e){this.view=e},{name:"CanceledState",enter:b,stop:function(){this.view._cancelRealize()},realizePage:function(e){this.stop(),this.view._setState(e)},rebuildTree:function(){this.stop(),this.view._setState(E)},relayout:function(e){this.stop(),this.view._setState(S,e)},layoutNewContainers:function(){this.relayout(j)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n)}}),k=n.Class.derive(x,function(e){this.view=e,this.nextState=P,this.relayoutNewContainers=!0},{name:"ScrollingState",setLoadingState:function(){}}),P=n.Class.derive(j,function(e){this.view=e},{name:"ScrollingPausedState",enter:function(){var e=this;this.promise=o._cancelBlocker(this.view._scrollEndPromise).then(function(){e.view._setState(T)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()}}),T=n.Class.define(function(e){this.view=e},{name:"UnrealizingState",enter:function(){var e=this;this.promise=this.view._lazilyUnrealizeItems().then(function(){return e.view._listView._writeProfilerMark("_renderCompletePromise wait starts,info"),e.view._renderCompletePromise}).then(function(){e.view._setState(A)})},stop:function(){this.view._cancelRealize(),this.promise.cancel(),this.view._setState(j)},realizePage:function(e){this.promise.cancel(),this.view._setState(e)},rebuildTree:function(){this.view._setState(E)},relayout:function(){this.view._setState(S)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n)}}),O=n.Class.define(function(e,t){this.view=e,this.realizePromise=t,this.realizeId=1},{name:"RealizingAnimatingState",enter:function(){var e=this;this.animating=!0,this.animatePromise=this.view._startAnimations(),this.animateSignal=new r,this.view._executeAnimations=!1,this.animatePromise.done(function(){e.animating=!1,e.modifiedElements?(e.view._updateTreeImpl(e.count,e.delta,e.modifiedElements),e.modifiedElements=null,e.view._setState(j)):e.animateSignal.complete()},function(t){return e.animating=!1,o.wrapError(t)}),this._waitForRealize()},_waitForRealize:function(){var e=this;this.realizing=!0,this.realizePromise.done(function(){e.realizing=!1});var t=++this.realizeId;o.join([this.realizePromise,this.animateSignal.promise]).done(function(){t===e.realizeId&&(e.view._completeUpdateTree(),e.view._listView._writeProfilerMark("RealizingAnimatingState_to_UnrealizingState"),e.view._setState(T))})},stop:function(e){this.realizePromise.cancel(),this.view._cancelRealize(),e&&(this.animatePromise.cancel(),this.view._setState(j))},realizePage:function(){if(!this.modifiedElements){var e=this;this.realizePromise=this.view._executeScrollToFunctor().then(function(){return o._cancelBlocker(e.view._realizePageImpl())}),this._waitForRealize()}},rebuildTree:function(){this.stop(!0),this.view._setState(E)},relayout:function(){this.stop(!0),this.modifiedElements&&(this.view._updateTreeImpl(this.count,this.delta,this.modifiedElements),this.modifiedElements=null),this.view._setState(S)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(e,t,n){if(this.animating){var i=this.modifiedElements;return this.count=e,this.delta=t,this.modifiedElements=n,i?o.cancel:this.animatePromise}return this.view._updateTreeImpl(e,t,n)},setLoadingState:function(e){this.view._listView._setViewState(e)}}),A=n.Class.derive(j,function(e){this.view=e},{name:"CompletedState",enter:function(){this._stopped=!1,this.view._setupDeferredActions(),this.view._realizationLevel=w._realizationLevel.normal,this.view._listView._raiseViewComplete(),this.view._state===this&&this.view._relayoutInComplete&&!this._stopped&&this.view._setState(M)},stop:function(){this._stopped=!0,j.prototype.stop.call(this)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._setState(M)},updateTree:function(e,t,n){return this.view._updateTreeImpl(e,t,n,!0)}}),M=n.Class.derive(j,function(e){this.view=e},{name:"LayingoutNewContainersState",enter:function(){var e=this;this.promise=o.join([this.view.deferTimeout,this.view._layoutWork]),this.promise.then(function(){e.view._relayoutInComplete=!1,e.relayout(j)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()},realizePage:function(e){this.stop(),this.view._setState(S,e)},layoutNewContainers:function(){this.view._createLayoutSignal()}});return w})})}),i("require-style!less/styles-listview",[],function(){}),i("require-style!less/colors-listview",[],function(){}),i("WinJS/Controls/ListView",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../_Accents","../Animations","../Animations/_TransitionAnimation","../BindingList","../Promise","../Scheduler","../_Signal","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_ItemsManager","../Utilities/_SafeHtml","../Utilities/_TabContainer","../Utilities/_UI","../Utilities/_VersionManager","./ElementResizeInstrument","./ItemContainer/_Constants","./ItemContainer/_ItemEventsHandler","./ListView/_BrowseMode","./ListView/_ErrorMessages","./ListView/_GroupFocusCache","./ListView/_GroupsContainer","./ListView/_Helpers","./ListView/_ItemsContainer","./ListView/_Layouts","./ListView/_SelectionManager","./ListView/_VirtualizeContentsView","require-style!less/styles-listview","require-style!less/colors-listview"],function(e,t,n,i,o,r,s,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C,E,S,I,x,j,k,P,T,O,A,M,D,L,N){"use strict";function B(){var e=V;V=[],e=e.filter(function(e){return!e._isZombie()||(e._dispose(),!1)}),V=V.concat(e)}function R(e){V.push(e),z&&z.cancel(),z=m.timeout(W).then(B)}function F(e){return e.offsetParent?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:0}u.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground,         .win-itemcontainer:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground",[{name:"border-color",value:u.ColorTypes.accent},{name:"background-color",value:u.ColorTypes.accent}]),u.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-container.win-selected .win-selectionborder,         .win-itemcontainer:not(.win-selectionstylefilled).win-container.win-selected .win-selectionborder",[{name:"border-color",value:u.ColorTypes.accent}]),u.createAccentRule(".win-listview.win-selectionstylefilled .win-selected .win-selectionbackground,         .win-itemcontainer.win-selectionstylefilled.win-selected .win-selectionbackground",[{name:"background-color",value:u.ColorTypes.accent}]);var z,H=n._browserStyleEquivalents.transform,W=1e3,V=[],U=v._uniqueID,q={get notCompatibleWithSemanticZoom(){return"ListView can only be used with SemanticZoom if randomAccess loading behavior is specified."},get listViewInvalidItem(){return"Item must provide index, key or description of corresponding item."},get listViewViewportAriaLabel(){return s._getWinJSString("ui/listViewViewportAriaLabel").value}},J=n.requireSupportedForProcessing,K={entrance:"entrance",contentTransition:"contentTransition"};t.Namespace.define("WinJS.UI",{ListViewAnimationType:K,ListView:t.Namespace._lazy(function(){var s=t.Class.define(function(){this.clear()},{add:function(e,t){if(e._lastKnownSizeOfData=t,this._range){this._range.start=Math.min(this._range.start,e.start);var n=this._range._lastKnownSizeOfData-this._range.end,i=e._lastKnownSizeOfData-e.end,o=Math.min(n,i);this._range._lastKnownSizeOfData=e._lastKnownSizeOfData,this._range.end=this._range._lastKnownSizeOfData-o}else this._range=e},addAll:function(){this.add({start:0,end:Number.MAX_VALUE},Number.MAX_VALUE)},clear:function(){this._range=null},get:function(){return this._range}}),u=t.Class.define(function(e){this._listView=e},{getPanAxis:function(){return this._listView._getPanAxis()},configureForZoom:function(e,t,n,i){this._listView._configureForZoom(e,t,n,i)},setCurrentItem:function(e,t){this._listView._setCurrentItem(e,t)},getCurrentItem:function(){return this._listView._getCurrentItem()},beginZoom:function(){return this._listView._beginZoom()},positionItem:function(e,t){return this._listView._positionItem(e,t)},endZoom:function(e){this._listView._endZoom(e)},pinching:{get:function(){return this._listView._pinching},set:function(e){this._listView._pinching=e}}}),y=t.Class.define(function(t,n){if(t=t||e.document.createElement("div"),this._id=t.id||"",this._writeProfilerMark("constructor,StartTM"),n=n||{},t.winControl=this,v.addClass(t,"win-disposable"),this._affectedRange=new s,this._mutationObserver=new v._MutationObserver(this._itemPropertyChange.bind(this)),this._versionManager=null,this._insertedItems={},this._element=t,this._startProperty=null,this._scrollProperty=null,this._scrollLength=null,this._scrolling=!1,this._zooming=!1,this._pinching=!1,this._itemsManager=null,this._canvas=null,this._cachedCount=x._UNINITIALIZED,this._loadingState=this._LoadingState.complete,this._firstTimeDisplayed=!0,this._currentScrollPosition=0,this._lastScrollPosition=0,this._notificationHandlers=[],this._itemsBlockExtent=-1,this._lastFocusedElementInGroupTrack={type:E.ObjectType.item,index:-1},this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1},this._viewportWidth=x._UNINITIALIZED,this._viewportHeight=x._UNINITIALIZED,this._manipulationState=v._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED,this._maxDeferredItemCleanup=Number.MAX_VALUE,this._groupsToRemove={},this._setupInternalTree(),this._isCurrentZoomView=!0,this._dragSource=!1,this._reorderable=!1,this._groupFocusCache=new T._UnsupportedGroupFocusCache,this._viewChange=x._ViewChange.rebuild,this._scrollToFunctor=null,this._setScrollbarPosition=!1,this._view=new N._VirtualizeContentsView(this),this._selection=new L._SelectionManager(this),this._createTemplates(),this._groupHeaderRenderer=b._trivialHtmlRenderer,this._itemRenderer=b._trivialHtmlRenderer,this._groupHeaderRelease=null,this._itemRelease=null,n.itemDataSource)this._dataSource=n.itemDataSource;else{var i=new h.List;this._dataSource=i.dataSource}this._selectionMode=E.SelectionMode.multi,this._tap=E.TapBehavior.invokeOnly,this._groupHeaderTap=E.GroupHeaderTapBehavior.invoke,this._mode=new k._SelectionMode(this),this._groups=new O._NoGroups(this),this._updateItemsAriaRoles(),this._updateGroupHeadersAriaRoles(),this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._element.tabIndex=-1,this._tabManager.tabIndex=this._tabIndex,"absolute"!==this._element.style.position&&"relative"!==this._element.style.position&&(this._element.style.position="relative"),this._updateItemsManager(),n.layout||this._updateLayout(new D.GridLayout),this._attachEvents(),this._runningInit=!0,_.setOptions(this,n),this._runningInit=!1,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},layout:{get:function(){return this._layoutImpl},set:function(e){this._updateLayout(e),this._runningInit||(this._view.reset(),this._updateItemsManager(),this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0,!0))}},maxLeadingPages:{get:function(){return this._view.maxLeadingPages},set:function(e){this._view.maxLeadingPages=Math.max(0,Math.floor(e))}},maxTrailingPages:{get:function(){return this._view.maxTrailingPages},set:function(e){this._view.maxTrailingPages=Math.max(0,Math.floor(e))}},pagesToLoad:{get:function(){return 2*N._VirtualizeContentsView._defaultPagesToPrefetch+1},set:function(){
v._deprecated(P.pagesToLoadIsDeprecated)}},pagesToLoadThreshold:{get:function(){return 0},set:function(){v._deprecated(P.pagesToLoadThresholdIsDeprecated)}},groupDataSource:{get:function(){return this._groupDataSource},set:function(e){function t(e){e.detail===E.DataSourceStatus.failure&&(n.itemDataSource=null,n.groupDataSource=null)}this._writeProfilerMark("set_groupDataSource,info");var n=this;this._groupDataSource&&this._groupDataSource.removeEventListener&&this._groupDataSource.removeEventListener("statuschanged",t,!1),this._groupDataSource=e,this._groupFocusCache=e&&this._supportsGroupHeaderKeyboarding?new T._GroupFocusCache(this):new T._UnsupportedGroupFocusCache,this._groupDataSource&&this._groupDataSource.addEventListener&&this._groupDataSource.addEventListener("statuschanged",t,!1),this._createGroupsContainer(),this._runningInit?(this._updateGroupWork(),this._resetLayout()):(this._view.reset(),this._pendingLayoutReset=!0,this._pendingGroupWork=!0,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0,!0))}},_updateGroupWork:function(){this._pendingGroupWork=!1,this._groupDataSource?v.addClass(this._element,x._groupsClass):v.removeClass(this._element,x._groupsClass),this._resetLayout()},automaticallyLoadPages:{get:function(){return!1},set:function(){v._deprecated(P.automaticallyLoadPagesIsDeprecated)}},loadingBehavior:{get:function(){return"randomAccess"},set:function(){v._deprecated(P.loadingBehaviorIsDeprecated)}},selectionMode:{get:function(){return this._selectionMode},set:function(e){if("string"==typeof e&&e.match(/^(none|single|multi)$/)){if(n.isPhone&&e===E.SelectionMode.single)return;return this._selectionMode=e,this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._updateItemsAriaRoles(),void this._configureSelectionMode()}throw new i("WinJS.UI.ListView.ModeIsInvalid",P.modeIsInvalid)}},tapBehavior:{get:function(){return this._tap},set:function(e){n.isPhone&&e===E.TapBehavior.directSelect||(this._tap=e,this._updateItemsAriaRoles(),this._configureSelectionMode())}},groupHeaderTapBehavior:{get:function(){return this._groupHeaderTap},set:function(e){this._groupHeaderTap=e,this._updateGroupHeadersAriaRoles()}},swipeBehavior:{get:function(){return"none"},set:function(e){v._deprecated(P.swipeBehaviorDeprecated)}},itemDataSource:{get:function(){return this._itemsManager.dataSource},set:function(e){this._writeProfilerMark("set_itemDataSource,info"),this._dataSource=e||(new h.List).dataSource,this._groupFocusCache.clear(),this._runningInit||(this._selection._reset(),this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0,!0))}},itemTemplate:{get:function(){return this._itemRenderer},set:function(e){this._setRenderer(e,!1),this._runningInit||(this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0,!0))}},resetItem:{get:function(){return this._itemRelease},set:function(e){v._deprecated(P.resetItemIsDeprecated),this._itemRelease=e}},groupHeaderTemplate:{get:function(){return this._groupHeaderRenderer},set:function(e){this._setRenderer(e,!0),this._runningInit||(this._cancelAsyncViewWork(!0),this._pendingLayoutReset=!0,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.medium,0,!0))}},resetGroupHeader:{get:function(){return this._groupHeaderRelease},set:function(e){v._deprecated(P.resetGroupHeaderIsDeprecated),this._groupHeaderRelease=e}},header:{get:function(){return this._header},set:function(e){v.empty(this._headerContainer),this._header=e,e&&(this._header.tabIndex=this._tabIndex,this._headerContainer.appendChild(e));var t=this._selection._getFocused();if(t.type===E.ObjectType.header){var n=t;e||(n={type:E.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(n,!0,!1,!0):this._changeFocusPassively(n)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},footer:{get:function(){return this._footer},set:function(e){v.empty(this._footerContainer),this._footer=e,e&&(this._footer.tabIndex=this._tabIndex,this._footerContainer.appendChild(e));var t=this._selection._getFocused();if(t.type===E.ObjectType.footer){var n=t;e||(n={type:E.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(n,!0,!1,!0):this._changeFocusPassively(n)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},loadingState:{get:function(){return this._loadingState}},selection:{get:function(){return this._selection}},indexOfFirstVisible:{get:function(){return this._view.firstIndexDisplayed},set:function(e){if(!(e<0)){this._writeProfilerMark("set_indexOfFirstVisible("+e+"),info"),this._raiseViewLoading(!0);var t=this;this._batchViewUpdates(x._ViewChange.realize,x._ScrollToPriority.high,function(){var n;return t._entityInRange({type:E.ObjectType.item,index:e}).then(function(e){return e.inRange?t._getItemOffset({type:E.ObjectType.item,index:e.index}).then(function(e){return n=e,t._ensureFirstColumnRange(E.ObjectType.item)}).then(function(){return n=t._correctRangeInFirstColumn(n,E.ObjectType.item),n=t._convertFromCanvasCoordinates(n),t._view.waitForValidScrollPosition(n.begin)}).then(function(e){var n=e<t._lastScrollPosition?"left":"right",i=t._viewport[t._scrollLength]-t._getViewportLength();return e=v._clamp(e,0,i),{position:e,direction:n}}):{position:0,direction:"left"}})},!0)}}},indexOfLastVisible:{get:function(){return this._view.lastIndexDisplayed}},currentItem:{get:function(){var e=this._selection._getFocused(),t={index:e.index,type:e.type,key:null,hasFocus:!!this._hasKeyboardFocus,showFocus:!1};if(e.type===E.ObjectType.groupHeader){var n=this._groups.group(e.index);n&&(t.key=n.key,t.showFocus=!(!n.header||!v.hasClass(n.header,x._itemFocusClass)))}else if(e.type===E.ObjectType.item){var i=this._view.items.itemAt(e.index);if(i){var o=this._itemsManager._recordFromElement(i);t.key=o.item&&o.item.key,t.showFocus=!!i.parentNode.querySelector("."+x._itemFocusOutlineClass)}}return t},set:function(e){function t(t,i,o){var r=!!e.showFocus&&n._hasKeyboardFocus;n._unsetFocusOnItem(i),n._selection._setFocused(o,r),n._hasKeyboardFocus?(n._keyboardFocusInbound=r,n._setFocusOnItem(o)):n._tabManager.childFocus=i?t:null,o.type!==E.ObjectType.groupHeader&&(n._updateFocusCache(o.index),n._updater&&(n._updater.newSelectionPivot=o.index,n._updater.oldSelectionPivot=-1),n._selection._pivot=o.index)}this._hasKeyboardFocus=e.hasFocus||this._hasKeyboardFocus,e.type||(e.type=E.ObjectType.item);var n=this;if(e.key&&(e.type===E.ObjectType.item&&this._dataSource.itemFromKey||e.type===E.ObjectType.groupHeader&&this._groupDataSource&&this._groupDataSource.itemFromKey)){this.oldCurrentItemKeyFetch&&this.oldCurrentItemKeyFetch.cancel();var i=e.type===E.ObjectType.groupHeader?this._groupDataSource:this._dataSource;this.oldCurrentItemKeyFetch=i.itemFromKey(e.key).then(function(i){if(n.oldCurrentItemKeyFetch=null,i){var o=e.type===E.ObjectType.groupHeader?n._groups.group(i.index).header:n._view.items.itemAt(i.index);t(o,!!o,{type:e.type,index:i.index})}})}else{var o;if(e.type===E.ObjectType.header||e.type===E.ObjectType.footer)o=e.type===E.ObjectType.header?this._header:this._footer,t(o,!!o,{type:e.type,index:e.index});else if(void 0!==e.index){if(e.type===E.ObjectType.groupHeader){var r=n._groups.group(e.index);o=r&&r.header}else o=n._view.items.itemAt(e.index);t(o,!!o,{type:e.type,index:e.index})}}}},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new u(this)),this._zoomableView}},itemsDraggable:{get:function(){return this._dragSource},set:function(e){n.isPhone||this._dragSource!==e&&(this._dragSource=e,this._setDraggable())}},itemsReorderable:{get:function(){return this._reorderable},set:function(e){n.isPhone||this._reorderable!==e&&(this._reorderable=e,this._setDraggable())}},maxDeferredItemCleanup:{get:function(){return this._maxDeferredItemCleanup},set:function(e){this._maxDeferredItemCleanup=Math.max(0,+e||0)}},dispose:function(){this._dispose()},elementFromIndex:function(e){return this._view.items.itemAt(e)},indexOfElement:function(e){return this._view.items.index(e)},ensureVisible:function(e){var t=E.ObjectType.item,n=e;if(+e!==e&&(t=e.type,n=e.index),this._writeProfilerMark("ensureVisible("+t+": "+n+"),info"),!(n<0)){this._raiseViewLoading(!0);var i=this;this._batchViewUpdates(x._ViewChange.realize,x._ScrollToPriority.high,function(){var e;return i._entityInRange({type:t,index:n}).then(function(n){return n.inRange?i._getItemOffset({type:t,index:n.index}).then(function(n){return e=n,i._ensureFirstColumnRange(t)}).then(function(){e=i._correctRangeInFirstColumn(e,t);var o=i._getViewportLength(),r=i._viewportScrollPosition,s=r+o,a=i._viewportScrollPosition,l=e.end-e.begin;e=i._convertFromCanvasCoordinates(e);var u=!1;if(t===E.ObjectType.groupHeader&&r<=e.begin){var c=i._groups.group(n.index).header;if(c){var d,h=D._getMargins(c);if(i._horizontalLayout){var m=i._rtl(),p=m?F(c)-h.right:c.offsetLeft-h.left;d=p+c.offsetWidth+(m?h.left:h.right)}else d=c.offsetTop+c.offsetHeight+h.top;u=d<=s}}u||(l>=s-r?a=e.begin:e.begin<r?a=e.begin:e.end>s&&(a=e.end-o));var f=a<i._lastScrollPosition?"left":"right",_=i._viewport[i._scrollLength]-o;return a=v._clamp(a,0,_),{position:a,direction:f}}):{position:0,direction:"left"}})},!0)}},loadMorePages:function(){v._deprecated(P.loadMorePagesIsDeprecated)},recalculateItemPosition:function(){this._writeProfilerMark("recalculateItemPosition,info"),this._forceLayoutImpl(x._ViewChange.relayout)},forceLayout:function(){this._writeProfilerMark("forceLayout,info"),this._forceLayoutImpl(x._ViewChange.remeasure)},_entityInRange:function(e){if(e.type===E.ObjectType.item)return this._itemsCount().then(function(t){var n=v._clamp(e.index,0,t-1);return{inRange:n>=0&&n<t,index:n}});if(e.type===E.ObjectType.groupHeader){var t=v._clamp(e.index,0,this._groups.length()-1);return m.wrap({inRange:t>=0&&t<this._groups.length(),index:t})}return m.wrap({inRange:!0,index:0})},_forceLayoutImpl:function(e){var t=this;this._versionManager.unlocked.then(function(){t._writeProfilerMark("_forceLayoutImpl viewChange("+e+"),info"),t._cancelAsyncViewWork(),t._pendingLayoutReset=!0,t._resizeViewport(),t._batchViewUpdates(e,x._ScrollToPriority.low,function(){return{position:t._lastScrollPosition,direction:"right"}},!0,!0)})},_configureSelectionMode:function(){var t=x._selectionModeClass,n=x._hidingSelectionMode;if(this._isInSelectionMode())v.addClass(this._canvas,t),v.removeClass(this._canvas,n);else{if(v.hasClass(this._canvas,t)){var i=this;e.setTimeout(function(){e.setTimeout(function(){v.removeClass(i._canvas,n)},x._hidingSelectionModeAnimationTimeout)},50),v.addClass(this._canvas,n)}v.removeClass(this._canvas,t)}},_lastScrollPosition:{get:function(){return this._lastScrollPositionValue},set:function(e){if(0===e)this._lastDirection="right",this._direction="right",this._lastScrollPositionValue=0;else{var t=e<this._lastScrollPositionValue?"left":"right";this._direction=this._scrollDirection(e),this._lastDirection=t,this._lastScrollPositionValue=e}}},_hasHeaderOrFooter:{get:function(){return!(!this._header&&!this._footer)}},_getHeaderOrFooterFromElement:function(e){return this._header&&this._header.contains(e)?this._header:this._footer&&this._footer.contains(e)?this._footer:null},_supportsGroupHeaderKeyboarding:{get:function(){return this._groupDataSource}},_viewportScrollPosition:{get:function(){return this._currentScrollPosition=v.getScrollPosition(this._viewport)[this._scrollProperty],this._currentScrollPosition},set:function(e){var t={};t[this._scrollProperty]=e,v.setScrollPosition(this._viewport,t),this._currentScrollPosition=e}},_canvasStart:{get:function(){return this._canvasStartValue||0},set:function(e){var t=this._horizontal()?this._rtl()?-e:e:0,n=this._horizontal()?0:e;0!==e?this._canvas.style[H.scriptName]="translate( "+t+"px, "+n+"px)":this._canvas.style[H.scriptName]="",this._canvasStartValue=e}},scrollPosition:{get:function(){return this._viewportScrollPosition},set:function(e){var t=this;this._batchViewUpdates(x._ViewChange.realize,x._ScrollToPriority.high,function(){return t._view.waitForValidScrollPosition(e).then(function(){var n=t._viewport[t._scrollLength]-t._getViewportLength();e=v._clamp(e,0,n);var i=e<t._lastScrollPosition?"left":"right";return{position:e,direction:i}})},!0)}},_setRenderer:function(e,t){var o;if(e){if("function"==typeof e)o=e;else if("object"===("undefined"==typeof e?"undefined":a(e))){if(n.validation&&!e.renderItem)throw new i("WinJS.UI.ListView.invalidTemplate",P.invalidTemplate);o=e.renderItem}}else{if(n.validation)throw new i("WinJS.UI.ListView.invalidTemplate",P.invalidTemplate);o=b.trivialHtmlRenderer}o&&(t?this._groupHeaderRenderer=o:this._itemRenderer=o)},_renderWithoutReuse:function(e,t){t&&g._disposeElement(t);var n=this._itemRenderer(e);if(n.then)return n.then(function(e){return e.tabIndex=0,e});var i=n.element||n;return i.tabIndex=0,n},_isInsertedItem:function(e){return!!this._insertedItems[e.handle]},_clearInsertedItems:function(){for(var e=Object.keys(this._insertedItems),t=0,n=e.length;t<n;t++)this._insertedItems[e[t]].release();this._insertedItems={},this._modifiedElements=[],this._countDifference=0},_cancelAsyncViewWork:function(e){this._view.stopWork(e)},_updateView:function(){function e(){n._itemsBlockExtent=-1,n._firstItemRange=null,n._firstHeaderRange=null,n._itemMargins=null,n._headerMargins=null,n._canvasMargins=null,n._cachedRTL=null,n._rtl()}function t(){n._scrollToPriority=x._ScrollToPriority.uninitialized;var e=n._setScrollbarPosition;n._setScrollbarPosition=!1;var t="number"==typeof n._scrollToFunctor?{position:n._scrollToFunctor}:n._scrollToFunctor();return m.as(t).then(function(t){return t=t||{},e&&+t.position===t.position&&(n._lastScrollPosition=t.position,n._viewportScrollPosition=t.position),t},function(t){return n._setScrollbarPosition|=e,m.wrapError(t)})}if(!this._isZombie()){var n=this,i=this._viewChange;this._viewChange=x._ViewChange.realize,i===x._ViewChange.rebuild?(this._pendingGroupWork&&this._updateGroupWork(),this._pendingLayoutReset&&this._resetLayout(),e(),this._firstTimeDisplayed||this._view.reset(),this._view.reload(t,!0),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):i===x._ViewChange.remeasure?(this._view.resetItems(!0),this._resetLayout(),e(),this._view.refresh(t),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):i===x._ViewChange.relayout?(this._pendingLayoutReset&&(this._resetLayout(),e()),this._view.refresh(t)):(this._view.onScroll(t),this._raiseHeaderFooterVisibilityEvent())}},_batchViewUpdates:function(e,t,n,i,o){if(this._viewChange=Math.min(this._viewChange,e),(null===this._scrollToFunctor||t>=this._scrollToPriority)&&(this._scrollToPriority=t,this._scrollToFunctor=n),this._setScrollbarPosition|=!!i,!this._batchingViewUpdates){this._raiseViewLoading();var r=this;this._batchingViewUpdatesSignal=new f,this._batchingViewUpdates=m.any([this._batchingViewUpdatesSignal.promise,p.schedulePromiseHigh(null,"WinJS.UI.ListView._updateView")]).then(function(){if(!r._isZombie())return r._viewChange!==x._ViewChange.rebuild||r._firstTimeDisplayed||0===Object.keys(r._view.items._itemData).length||o?void 0:r._fadeOutViewport()}).then(function(){r._batchingViewUpdates=null,r._batchingViewUpdatesSignal=null,r._updateView(),r._firstTimeDisplayed=!1},function(){r._batchingViewUpdates=null,r._batchingViewUpdatesSignal=null})}return this._batchingViewUpdatesSignal},_resetCanvas:function(){if(!this._disposed){var t=e.document.createElement("div");t.className=this._canvas.className,this._viewport.replaceChild(t,this._canvas),this._canvas=t,this._groupsToRemove={},this._canvas.appendChild(this._canvasProxy)}},_setupInternalTree:function(){v.addClass(this._element,x._listViewClass),v[this._rtl()?"addClass":"removeClass"](this._element,x._rtlListViewClass),this._element.innerHTML='<div tabIndex="-1" role="group" class="'+x._viewportClass+" "+x._horizontalClass+'"><div></div><div class="'+x._scrollableClass+'"><div class="'+x._proxyClass+'"></div></div><div></div><div></div></div><div aria-hidden="true" style="position:absolute;left:50%;top:50%;width:0px;height:0px;" tabindex="-1"></div>',this._viewport=this._element.firstElementChild,this._headerContainer=this._viewport.firstElementChild,v.addClass(this._headerContainer,x._listHeaderContainerClass),this._canvas=this._headerContainer.nextElementSibling,this._footerContainer=this._canvas.nextElementSibling,v.addClass(this._footerContainer,x._listFooterContainerClass),this._canvasProxy=this._canvas.firstElementChild,this._deleteWrapper=this._canvas.nextElementSibling,this._keyboardEventsHelper=this._viewport.nextElementSibling,this._tabIndex=v.getTabIndex(this._element),this._tabIndex<0&&(this._tabIndex=0),this._tabManager=new C.TabContainer(this._viewport),this._tabManager.tabIndex=this._tabIndex,this._progressBar=e.document.createElement("progress"),v.addClass(this._progressBar,x._progressClass),v.addClass(this._progressBar,"win-progress-ring"),this._progressBar.style.position="absolute",this._progressBar.max=100},_unsetFocusOnItem:function(t){this._tabManager.childFocus&&this._clearFocusRectangle(this._tabManager.childFocus),this._isZombie()||(t||(this._tabManager.childFocus&&(this._tabManager.childFocus=null),this._keyboardEventsHelper._shouldHaveFocus=!1,e.document.activeElement!==this._viewport&&this._hasKeyboardFocus&&(this._keyboardEventsHelper._shouldHaveFocus=!0,v._setActive(this._keyboardEventsHelper))),this._itemFocused=!1)},_setFocusOnItem:function(e){if(this._writeProfilerMark("_setFocusOnItem,info"),this._focusRequest&&this._focusRequest.cancel(),!this._isZombie()){var t=this,n=function(n){t._isZombie()||(t._tabManager.childFocus!==n&&(t._tabManager.childFocus=n),t._focusRequest=null,t._hasKeyboardFocus&&!t._itemFocused&&(t._selection._keyboardFocused()&&t._drawFocusRectangle(n),e.type!==E.ObjectType.groupHeader&&e.type!==E.ObjectType.item||t._view.updateAriaForAnnouncement(n,e.type===E.ObjectType.groupHeader?t._groups.length():t._cachedCount),t._itemFocused=!0,v._setActive(n)))};e.type===E.ObjectType.item?this._focusRequest=this._view.items.requestItem(e.index):e.type===E.ObjectType.groupHeader?this._focusRequest=this._groups.requestHeader(e.index):this._focusRequest=m.wrap(e.type===E.ObjectType.header?this._header:this._footer),this._focusRequest.then(n)}},_attachEvents:function(){function e(e,t,n){return{name:t?e:e.toLowerCase(),handler:function(t){i["_on"+e](t)},capture:n}}function t(e,t,n){return{capture:n,name:t?e:e.toLowerCase(),handler:function(t){var n=i._mode,o="on"+e;!i._disposed&&n[o]&&n[o](t)}}}function n(e,t){return{handler:function(t){i["_on"+e](t)},filter:t}}var i=this,o=[n("PropertyChange",["dir","style","tabindex"])];this._cachedStyleDir=this._element.style.direction,o.forEach(function(e){new v._MutationObserver(e.handler).observe(i._element,{attributes:!0,attributeFilter:e.filter})});var r=[t("PointerDown"),t("click",!1),t("PointerUp"),t("LostPointerCapture"),t("MSHoldVisual",!0),t("PointerCancel",!0),t("DragStart"),t("DragOver"),t("DragEnter"),t("DragLeave"),t("Drop"),t("ContextMenu")];r.forEach(function(e){v._addEventListener(i._viewport,e.name,e.handler,!!e.capture)});var s=[e("FocusIn",!1,!1),e("FocusOut",!1,!1),t("KeyDown"),t("KeyUp")];s.forEach(function(e){v._addEventListener(i._element,e.name,e.handler,!!e.capture)}),this._onElementResizeBound=this._onElementResize.bind(this),v._resizeNotifier.subscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument=new I._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._onElementResizeBound),v._inDom(this.element).then(function(){i._disposed||i._elementResizeInstrument.addedToDom()});var a=[e("MSManipulationStateChanged",!0),e("Scroll")];a.forEach(function(e){i._viewport.addEventListener(e.name,e.handler,!1)}),this._viewport.addEventListener("onTabEnter",this._onTabEnter.bind(this)),this._viewport.addEventListener("onTabExit",this._onTabExit.bind(this)),this._viewport.addEventListener("onTabEntered",function(e){i._mode.onTabEntered(e)}),this._viewport.addEventListener("onTabExiting",function(e){i._mode.onTabExiting(e)})},_updateItemsManager:function(){function e(e){e.detail===E.DataSourceStatus.failure&&(t.itemDataSource=null,t.groupDataSource=null)}var t=this,n={beginNotifications:function(){},changed:function(e,n){if(!t._ifZombieDispose()){t._createUpdater();var i=t._updater.elements[U(n)];if(i){var o=t.selection._isIncluded(i.index);if(o&&(t._updater.updateDrag=!0),n!==e){if(t._tabManager.childFocus!==n&&t._updater.newFocusedItem!==n||(t._updater.newFocusedItem=e,t._tabManager.childFocus=null),i.itemBox){v.addClass(e,x._itemClass),t._setupAriaSelectionObserver(e);var r=n.nextElementSibling;i.itemBox.removeChild(n),i.itemBox.insertBefore(e,r)}t._setAriaSelected(e,o),t._view.items.setItemAt(i.newIndex,{element:e,itemBox:i.itemBox,container:i.container,itemsManagerRecord:i.itemsManagerRecord}),delete t._updater.elements[U(n)],g._disposeElement(n),t._updater.elements[U(e)]={item:e,container:i.container,itemBox:i.itemBox,index:i.index,newIndex:i.newIndex,itemsManagerRecord:i.itemsManagerRecord}}else i.itemBox&&i.container&&(j._ItemEventsHandler.renderSelection(i.itemBox,e,o,!0),v[o?"addClass":"removeClass"](i.container,x._selectedClass));t._updater.changed=!0}for(var s=0,a=t._notificationHandlers.length;s<a;s++)t._notificationHandlers[s].changed(e,n);t._writeProfilerMark("changed,info")}},removed:function(e,n,i){function o(e){t._updater.updateDrag=!0,t._currentMode()._dragging&&t._currentMode()._draggingUnselectedItem&&t._currentMode()._dragInfo._isIncluded(e)&&(t._updater.newDragInfo=new L._Selection(t,[]));var n=t._updater.selectionFirst[e],i=t._updater.selectionLast[e],o=n||i;o&&(delete t._updater.selectionFirst[o.oldFirstIndex],delete t._updater.selectionLast[o.oldLastIndex],t._updater.selectionChanged=!0)}if(!t._ifZombieDispose()){t._createUpdater();var r=t._insertedItems[i];r&&delete t._insertedItems[i];var s;if(e){var a=t._updater.elements[U(e)],l=t._itemsManager.itemObject(e);if(l&&t._groupFocusCache.deleteItem(l.key),a){if(s=a.index,a.itemBox){var u=a.itemBox,c=x._containerOddClass,d=x._containerEvenClass,h=v.hasClass(u.parentElement,d)?d:c;t._updater.removed.push({index:s,itemBox:u,containerStripe:h})}t._updater.deletesCount++;var m=t._view.items.itemDataAt(s);m.removed=!0,delete t._updater.elements[U(e)]}else s=l&&l.index;t._updater.oldFocus.type!==E.ObjectType.groupHeader&&t._updater.oldFocus.index===s&&(t._updater.newFocus.index=s,t._updater.focusedItemRemoved=!0),o(s)}else s=t._updater.selectionHandles[i],s===+s&&o(s);t._writeProfilerMark("removed("+s+"),info"),t._updater.changed=!0}},updateAffectedRange:function(e){t._itemsCount().then(function(n){var i=t._view.containers?t._view.containers.length:0;e.start=Math.min(e.start,i),t._affectedRange.add(e,n)}),t._createUpdater(),t._updater.changed=!0},indexChanged:function(e,n,i){if(!t._ifZombieDispose()){if(t._createUpdater(),e){var o=t._itemsManager.itemObject(e);o&&t._groupFocusCache.updateItemIndex(o.key,n);var r=t._updater.elements[U(e)];r&&(r.newIndex=n,t._updater.changed=!0),t._updater.itemsMoved=!0}t._currentMode()._dragging&&t._currentMode()._draggingUnselectedItem&&t._currentMode()._dragInfo._isIncluded(i)&&(t._updater.newDragInfo=new L._Selection(t,[{firstIndex:n,lastIndex:n}]),t._updater.updateDrag=!0),t._updater.oldFocus.type!==E.ObjectType.groupHeader&&t._updater.oldFocus.index===i&&(t._updater.newFocus.index=n,t._updater.changed=!0),t._updater.oldSelectionPivot===i&&(t._updater.newSelectionPivot=n,t._updater.changed=!0);var s=t._updater.selectionFirst[i];s&&(s.newFirstIndex=n,t._updater.changed=!0,t._updater.selectionChanged=!0,t._updater.updateDrag=!0),s=t._updater.selectionLast[i],s&&(s.newLastIndex=n,t._updater.changed=!0,t._updater.selectionChanged=!0,t._updater.updateDrag=!0)}},endNotifications:function(){t._update()},inserted:function(e){t._ifZombieDispose()||(t._writeProfilerMark("inserted,info"),t._createUpdater(),t._updater.changed=!0,e.retain(),t._updater.insertsCount++,t._insertedItems[e.handle]=e)},moved:function(e,n,i,o){if(!t._ifZombieDispose()){if(t._createUpdater(),t._updater.movesCount++,e){t._updater.itemsMoved=!0;var r=t._updater.elements[U(e)];r&&(r.moved=!0)}var s=t._updater.selectionHandles[o.handle];if(s===+s){t._updater.updateDrag=!0,t._updater.selectionChanged=!0,t._updater.changed=!0;var a=t._updater.selectionFirst[s],l=t._updater.selectionLast[s],u=a||l;u&&u.oldFirstIndex!==u.oldLastIndex&&(delete t._updater.selectionFirst[u.oldFirstIndex],delete t._updater.selectionLast[u.oldLastIndex])}t._writeProfilerMark("moved("+s+"),info")}},countChanged:function(e,n){t._ifZombieDispose()||(t._writeProfilerMark("countChanged("+e+"),info"),t._cachedCount=e,t._createUpdater(),t._view.lastIndexDisplayed+1===n&&(t._updater.changed=!0),t._updater.countDifference+=e-n)},reload:function(){t._ifZombieDispose()||(t._writeProfilerMark("reload,info"),t._processReload())}};this._versionManager&&this._versionManager._dispose(),this._versionManager=new S._VersionManager,this._updater=null;var i=this._selection.getRanges();this._selection._selected.clear(),this._itemsManager&&(this._itemsManager.dataSource&&this._itemsManager.dataSource.removeEventListener&&this._itemsManager.dataSource.removeEventListener("statuschanged",e,!1),this._clearInsertedItems(),this._itemsManager.release()),this._itemsCountPromise&&(this._itemsCountPromise.cancel(),this._itemsCountPromise=null),this._cachedCount=x._UNINITIALIZED,this._itemsManager=b._createItemsManager(this._dataSource,this._renderWithoutReuse.bind(this),n,{ownerElement:this._element,versionManager:this._versionManager,indexInView:function(e){return e>=t.indexOfFirstVisible&&e<=t.indexOfLastVisible},viewCallsReady:!0,profilerId:this._id}),this._dataSource.addEventListener&&this._dataSource.addEventListener("statuschanged",e,!1),this._selection._selected.set(i)},_processReload:function(){this._affectedRange.addAll(),this._cancelAsyncViewWork(!0),this._currentMode()._dragging&&this._currentMode()._clearDragProperties(),this._groupFocusCache.clear(),this._selection._reset(),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.low,this.scrollPosition)},_createUpdater:function(){if(!this._updater){this.itemDataSource._isVirtualizedDataSource&&this._affectedRange.addAll(),this._versionManager.beginUpdating(),this._cancelAsyncViewWork();var e={changed:!1,elements:{},selectionFirst:{},selectionLast:{},selectionHandles:{},oldSelectionPivot:{type:E.ObjectType.item,index:x._INVALID_INDEX},newSelectionPivot:{type:E.ObjectType.item,index:x._INVALID_INDEX},removed:[],selectionChanged:!1,oldFocus:{type:E.ObjectType.item,index:x._INVALID_INDEX},newFocus:{type:E.ObjectType.item,index:x._INVALID_INDEX},hadKeyboardFocus:this._hasKeyboardFocus,itemsMoved:!1,lastVisible:this.indexOfLastVisible,updateDrag:!1,movesCount:0,insertsCount:0,deletesCount:0,countDifference:0};this._view.items.each(function(t,n,i){e.elements[U(n)]={item:n,container:i.container,itemBox:i.itemBox,index:t,newIndex:t,itemsManagerRecord:i.itemsManagerRecord,detached:i.detached}});for(var t=this._selection._selected._ranges,n=0,i=t.length;n<i;n++){var o=t[n],r={newFirstIndex:t[n].firstIndex,oldFirstIndex:t[n].firstIndex,newLastIndex:t[n].lastIndex,oldLastIndex:t[n].lastIndex};e.selectionFirst[r.oldFirstIndex]=r,e.selectionLast[r.oldLastIndex]=r,e.selectionHandles[o.firstPromise.handle]=r.oldFirstIndex,e.selectionHandles[o.lastPromise.handle]=r.oldLastIndex}e.oldSelectionPivot=this._selection._pivot,e.newSelectionPivot=e.oldSelectionPivot,e.oldFocus=this._selection._getFocused(),e.newFocus=this._selection._getFocused(),this._updater=e}},_synchronize:function(){var e=this._updater;if(this._updater=null,this._groupsChanged=!1,this._countDifference=this._countDifference||0,e&&e.changed){e.itemsMoved&&this._layout.itemsMoved&&this._layout.itemsMoved(),e.removed.length&&this._layout.itemsRemoved&&this._layout.itemsRemoved(e.removed.map(function(e){return e.itemBox})),(e.itemsMoved||e.removed.length||Object.keys(this._insertedItems).length)&&this._layout.setupAnimations&&this._layout.setupAnimations(),this._currentMode().onDataChanged&&this._currentMode().onDataChanged();var t=[];for(var n in e.selectionFirst)if(e.selectionFirst.hasOwnProperty(n)){var i=e.selectionFirst[n];e.selectionChanged=e.selectionChanged||i.newLastIndex-i.newFirstIndex!==i.oldLastIndex-i.oldFirstIndex,i.newFirstIndex<=i.newLastIndex&&t.push({firstIndex:i.newFirstIndex,lastIndex:i.newLastIndex})}if(e.selectionChanged){var o=new L._Selection(this,t);this._selection._fireSelectionChanging(o),this._selection._selected.set(t),this._selection._fireSelectionChanged(),o.clear()}else this._selection._selected.set(t);this._selection._updateCount(this._cachedCount),e.newSelectionPivot=Math.min(this._cachedCount-1,e.newSelectionPivot),this._selection._pivot=e.newSelectionPivot>=0?e.newSelectionPivot:x._INVALID_INDEX,e.newFocus.type!==E.ObjectType.groupHeader&&(e.newFocus.index=Math.max(0,Math.min(this._cachedCount-1,e.newFocus.index))),this._selection._setFocused(e.newFocus,this._selection._keyboardFocused());var r=this._modifiedElements||[],s={};for(this._modifiedElements=[],this._countDifference+=e.countDifference,n=0;n<r.length;n++){var a=r[n];a.newIndex===-1?this._modifiedElements.push(a):s[a.newIndex]=a}for(n=0;n<e.removed.length;n++){var l=e.removed[n],a=s[l.index];a?delete s[l.index]:a={oldIndex:l.index},a.newIndex=-1,a._removalHandled||(a._itemBox=l.itemBox,a._containerStripe=l.containerStripe),this._modifiedElements.push(a)}var u=Object.keys(this._insertedItems);for(n=0;n<u.length;n++)this._modifiedElements.push({oldIndex:-1,newIndex:this._insertedItems[u[n]].index});this._writeProfilerMark("_synchronize:update_modifiedElements,StartTM");var c={};for(n in e.elements)if(e.elements.hasOwnProperty(n)){var d=e.elements[n];c[d.newIndex]={element:d.item,container:d.container,itemBox:d.itemBox,itemsManagerRecord:d.itemsManagerRecord,detached:d.detached};var a=s[d.index];a?(delete s[d.index],a.newIndex=d.newIndex):a={oldIndex:d.index,newIndex:d.newIndex},a.moved=d.moved,this._modifiedElements.push(a)}this._writeProfilerMark("_synchronize:update_modifiedElements,StopTM");var h=Object.keys(s);for(n=0;n<h.length;n++){var m=h[n],a=s[m];a.oldIndex!==-1&&this._modifiedElements.push(a)}this._view.items._itemData=c,e.updateDrag&&this._currentMode()._dragging&&(this._currentMode()._draggingUnselectedItem?e.newDragInfo&&(this._currentMode()._dragInfo=e.newDragInfo):this._currentMode()._dragInfo=this._selection,this._currentMode().fireDragUpdateEvent()),e.focusedItemRemoved||this._focusRequest&&e.oldFocus.index!==e.newFocus.index||e.oldFocus.type!==e.newFocus.type?(this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused())):e.newFocusedItem&&(this._hasKeyboardFocus=e.hadKeyboardFocus,this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused()));var p=this;return this._groups.synchronizeGroups().then(function(){return e.newFocus.type===E.ObjectType.groupHeader&&(e.newFocus.index=Math.min(p._groups.length()-1,e.newFocus.index),e.newFocus.index<0&&(e.newFocus={type:E.ObjectType.item,index:0}),p._selection._setFocused(e.newFocus,p._selection._keyboardFocused())),p._versionManager.endUpdating(),e.deletesCount>0&&p._updateDeleteWrapperSize(),p._view.updateTree(p._cachedCount,p._countDifference,p._modifiedElements)}).then(function(){return p._lastScrollPosition})}this._countDifference+=e?e.countDifference:0;var p=this;return this._groups.synchronizeGroups().then(function(){return e&&p._versionManager.endUpdating(),p._view.updateTree(p._cachedCount,p._countDifference,p._modifiedElements);
}).then(function(){return p.scrollPosition})},_updateDeleteWrapperSize:function(e){var t=this._horizontal()?"width":"height";this._deleteWrapper.style["min-"+t]=(e?0:this.scrollPosition+this._getViewportSize()[t])+"px"},_verifyRealizationNeededForChange:function(){var e=!1,t=(this._view.lastIndexDisplayed||0)-(this._view.firstIndexDisplayed||0),n=this._updater&&0===this._updater.movesCount&&0===this._updater.insertsCount&&this._updater.deletesCount>0&&this._updater.deletesCount===Math.abs(this._updater.countDifference);if(n&&this._updater.elements)for(var i=Object.keys(this._updater.elements),o=0,r=i.length;o<r;o++){var s=this._updater.elements[i[o]],a=s.index-s.newIndex;if(a<0||a>this._updater.deletesCount){n=!1;break}}this._view.deletesWithoutRealize=this._view.deletesWithoutRealize||0,n&&this._view.lastIndexDisplayed<this._view.end-t&&this._updater.deletesCount+this._view.deletesWithoutRealize<t?(e=!0,this._view.deletesWithoutRealize+=Math.abs(this._updater.countDifference),this._writeProfilerMark("skipping realization on delete,info")):this._view.deletesWithoutRealize=0,this._view._setSkipRealizationForChange(e)},_update:function(){if(this._writeProfilerMark("update,StartTM"),!this._ifZombieDispose()){this._updateJob=null;var e=this;this._versionManager.noOutstandingNotifications&&(this._updater||this._groupsChanged?(this._cancelAsyncViewWork(),this._verifyRealizationNeededForChange(),this._synchronize().then(function(t){e._writeProfilerMark("update,StopTM"),e._batchViewUpdates(x._ViewChange.relayout,x._ScrollToPriority.low,t).complete()})):this._batchViewUpdates(x._ViewChange.relayout,x._ScrollToPriority.low,this._lastScrollPosition).complete())}},_scheduleUpdate:function(){if(!this._updateJob){var e=this;this._updateJob=p.schedulePromiseHigh(null,"WinJS.UI.ListView._update").then(function(){e._updateJob&&e._update()}),this._raiseViewLoading()}},_createGroupsContainer:function(){this._groups&&this._groups.cleanUp(),this._groupDataSource?this._groups=new O._UnvirtualizedGroupsContainer(this,this._groupDataSource):this._groups=new O._NoGroups(this)},_createLayoutSite:function(){var t=this;return Object.create({invalidateLayout:function(){t._pendingLayoutReset=!0;var e="horizontal"===t._layout.orientation!==t._horizontalLayout;t._affectedRange.addAll(),t._batchViewUpdates(x._ViewChange.rebuild,x._ScrollToPriority.low,e?0:t.scrollPosition,!1,!0)},itemFromIndex:function(e){return t._itemsManager._itemPromiseAtIndex(e)},groupFromIndex:function(e){return t._groupsEnabled()?e<t._groups.length()?t._groups.group(e).userData:null:{key:"-1"}},groupIndexFromItemIndex:function(e){return e=Math.max(0,e),t._groups.groupFromItem(e)},renderItem:function(n){return m._cancelBlocker(t._itemsManager._itemFromItemPromise(n)).then(function(n){if(n){var i=t._itemsManager._recordFromElement(n);i.pendingReady&&i.pendingReady(),n=n.cloneNode(!0),v.addClass(n,x._itemClass);var o=e.document.createElement("div");v.addClass(o,x._itemBoxClass),o.appendChild(n);var r=e.document.createElement("div");return v.addClass(r,x._containerClass),r.appendChild(o),r}return m.cancel})},renderHeader:function(n){var i=b._normalizeRendererReturn(t.groupHeaderTemplate(m.wrap(n)));return i.then(function(t){v.addClass(t.element,x._headerClass);var n=e.document.createElement("div");return v.addClass(n,x._headerContainerClass),n.appendChild(t.element),n})},readyToMeasure:function(){t._getViewportLength(),t._getCanvasMargins()},_isZombie:function(){return t._isZombie()},_writeProfilerMark:function(e){t._writeProfilerMark(e)}},{_itemsManager:{enumerable:!0,get:function(){return t._itemsManager}},rtl:{enumerable:!0,get:function(){return t._rtl()}},surface:{enumerable:!0,get:function(){return t._canvas}},viewport:{enumerable:!0,get:function(){return t._viewport}},scrollbarPos:{enumerable:!0,get:function(){return t.scrollPosition}},viewportSize:{enumerable:!0,get:function(){return t._getViewportSize()}},loadingBehavior:{enumerable:!0,get:function(){return t.loadingBehavior}},animationsDisabled:{enumerable:!0,get:function(){return t._animationsDisabled()}},tree:{enumerable:!0,get:function(){return t._view.tree}},realizedRange:{enumerable:!0,get:function(){return{firstPixel:Math.max(0,t.scrollPosition-2*t._getViewportLength()),lastPixel:t.scrollPosition+3*t._getViewportLength()-1}}},visibleRange:{enumerable:!0,get:function(){return{firstPixel:t.scrollPosition,lastPixel:t.scrollPosition+t._getViewportLength()-1}}},itemCount:{enumerable:!0,get:function(){return t._itemsCount()}},groupCount:{enumerable:!0,get:function(){return t._groups.length()}},header:{enumerable:!0,get:function(){return t.header}},footer:{enumerable:!0,get:function(){return t.footer}}})},_initializeLayout:function(){this._affectedRange.addAll();var e=this._createLayoutSite();return this._layout.initialize(e,this._groupsEnabled()),"horizontal"===this._layout.orientation},_resetLayoutOrientation:function(e){this._horizontalLayout?(this._startProperty="left",this._scrollProperty="scrollLeft",this._scrollLength="scrollWidth",this._deleteWrapper.style.minHeight="",v.addClass(this._viewport,x._horizontalClass),v.removeClass(this._viewport,x._verticalClass),e&&(this._viewport.scrollTop=0)):(this._startProperty="top",this._scrollProperty="scrollTop",this._scrollLength="scrollHeight",this._deleteWrapper.style.minWidth="",v.addClass(this._viewport,x._verticalClass),v.removeClass(this._viewport,x._horizontalClass),e&&v.setScrollPosition(this._viewport,{scrollLeft:0}))},_resetLayout:function(){this._pendingLayoutReset=!1,this._affectedRange.addAll(),this._layout&&(this._layout.uninitialize(),this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation())},_updateLayout:function(e){var t=!1;this._layout&&(this._cancelAsyncViewWork(!0),this._layout.uninitialize(),t=!0);var n;if(e&&"function"==typeof e.type){var i=J(e.type);n=new i(e)}else n=e&&e.initialize?e:new D.GridLayout(e);t&&this._resetCanvas(),this._layoutImpl=n,this._layout=new D._LayoutWrapper(n),t&&this._unsetFocusOnItem(),this._setFocusOnItem({type:E.ObjectType.item,index:0}),this._selection._setFocused({type:E.ObjectType.item,index:0}),this._lastFocusedElementInGroupTrack={type:E.ObjectType.item,index:-1},this._headerContainer.style.opacity=0,this._footerContainer.style.opacity=0,this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation(t),t&&(this._canvas.style.width=this._canvas.style.height="")},_currentMode:function(){return this._mode},_setDraggable:function(){var e=this.itemsDraggable||this.itemsReorderable;this._view.items.each(function(t,n,i){i.itemBox&&(i.itemBox.draggable=e&&!v.hasClass(n,x._nonDraggableClass))})},_resizeViewport:function(){this._viewportWidth=x._UNINITIALIZED,this._viewportHeight=x._UNINITIALIZED},_onElementResize:function(){this._writeProfilerMark("_onElementResize,info"),p.schedule(function(){if(!this._isZombie()&&this._viewportWidth!==x._UNINITIALIZED&&this._viewportHeight!==x._UNINITIALIZED){var e=this._element.offsetWidth,t=this._element.offsetHeight;if(this._previousWidth!==e||this._previousHeight!==t){this._writeProfilerMark("resize ("+this._previousWidth+"x"+this._previousHeight+") => ("+e+"x"+t+"),info"),this._previousWidth=e,this._previousHeight=t,this._resizeViewport();var n=this;this._affectedRange.addAll(),this._batchViewUpdates(x._ViewChange.relayout,x._ScrollToPriority.low,function(){return{position:n.scrollPosition,direction:"right"}})}}},p.Priority.max,this,"WinJS.UI.ListView._onElementResize")},_onFocusIn:function(e){function t(e){n._changeFocus(n._selection._getFocused(),!0,!1,!1,e)}this._hasKeyboardFocus=!0;var n=this;if(e.target===this._keyboardEventsHelper)!this._keyboardEventsHelper._shouldHaveFocus&&this._keyboardFocusInbound?t(!0):this._keyboardEventsHelper._shouldHaveFocus=!1;else if(e.target===this._element)t();else{if(this._mode.inboundFocusHandled)return void(this._mode.inboundFocusHandled=!1);var i=this._view.items,o={},r=this._getHeaderOrFooterFromElement(e.target),s=null;if(r?(o.index=0,o.type=r===this._header?E.ObjectType.header:E.ObjectType.footer,this._lastFocusedElementInGroupTrack=o):(r=this._groups.headerFrom(e.target),r?(o.type=E.ObjectType.groupHeader,o.index=this._groups.index(r),this._lastFocusedElementInGroupTrack=o):(o.index=i.index(e.target),o.type=E.ObjectType.item,r=i.itemBoxAt(o.index),s=i.itemAt(o.index))),o.index!==x._INVALID_INDEX&&((this._keyboardFocusInbound||this._selection._keyboardFocused())&&(o.type===E.ObjectType.groupHeader&&e.target===r||o.type===E.ObjectType.item&&e.target.parentNode===r)&&this._drawFocusRectangle(r),this._tabManager.childFocus!==r&&this._tabManager.childFocus!==s&&(this._selection._setFocused(o,this._keyboardFocusInbound||this._selection._keyboardFocused()),this._keyboardFocusInbound=!1,o.type===E.ObjectType.item&&(r=i.itemAt(o.index)),this._tabManager.childFocus=r,n._updater))){var a=n._updater.elements[U(r)],l=o.index;a&&a.newIndex&&(l=a.newIndex),n._updater.oldFocus={type:o.type,index:l},n._updater.newFocus={type:o.type,index:l}}}},_onFocusOut:function(e){if(!this._disposed){this._hasKeyboardFocus=!1,this._itemFocused=!1;var t=this._view.items.itemBoxFrom(e.target)||this._groups.headerFrom(e.target);t&&this._clearFocusRectangle(t)}},_onMSManipulationStateChanged:function(e){function t(){n._manipulationEndSignal=null}var n=this;this._manipulationState=e.currentState,n._writeProfilerMark("_onMSManipulationStateChanged state("+e.currentState+"),info"),this._manipulationState===v._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED||this._manipulationEndSignal||(this._manipulationEndSignal=new f,this._manipulationEndSignal.promise.done(t,t)),this._manipulationState===v._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED&&this._manipulationEndSignal.complete()},_pendingScroll:!1,_onScroll:function(){this._zooming||this._pendingScroll||this._checkScroller()},_checkScroller:function(){if(!this._isZombie()){var e=this._viewportScrollPosition;if(e!==this._lastScrollPosition){this._pendingScroll=n._requestAnimationFrame(this._checkScroller.bind(this)),e=Math.max(0,e);var t=this._scrollDirection(e);this._lastScrollPosition=e,this._raiseViewLoading(!0),this._raiseHeaderFooterVisibilityEvent();var i=this;this._view.onScroll(function(){return{position:i._lastScrollPosition,direction:t}},this._manipulationEndSignal?this._manipulationEndSignal.promise:m.timeout(x._DEFERRED_SCROLL_END))}else this._pendingScroll=null}},_scrollDirection:function(e){var t=e<this._lastScrollPosition?"left":"right";return t===this._lastDirection?t:this._direction},_onTabEnter:function(){this._keyboardFocusInbound=!0},_onTabExit:function(){this._keyboardFocusInbound=!1},_onPropertyChange:function(e){var t=this;e.forEach(function(e){var n=!1;if("dir"===e.attributeName?n=!0:"style"===e.attributeName&&(n=t._cachedStyleDir!==e.target.style.direction),n&&(t._cachedStyleDir=e.target.style.direction,t._cachedRTL=null,v[t._rtl()?"addClass":"removeClass"](t._element,x._rtlListViewClass),t._lastScrollPosition=0,t._viewportScrollPosition=0,t.forceLayout()),"tabIndex"===e.attributeName){var i=t._element.tabIndex;i>=0&&(t._view.items.each(function(e,t){t.tabIndex=i}),t._header&&(t._header.tabIndex=i),t._footer&&(t._footer.tabIndex=i),t._tabIndex=i,t._tabManager.tabIndex=i,t._element.tabIndex=-1)}})},_getCanvasMargins:function(){return this._canvasMargins||(this._canvasMargins=D._getMargins(this._canvas)),this._canvasMargins},_convertCoordinatesByCanvasMargins:function(e,t){function n(n,i){void 0!==e[n]&&(e[n]=t(e[n],i))}var i;return this._horizontal()?(i=this._getCanvasMargins()[this._rtl()?"right":"left"],n("left",i)):(i=this._getCanvasMargins().top,n("top",i)),n("begin",i),n("end",i),e},_convertFromCanvasCoordinates:function(e){return this._convertCoordinatesByCanvasMargins(e,function(e,t){return e+t})},_convertToCanvasCoordinates:function(e){return this._convertCoordinatesByCanvasMargins(e,function(e,t){return e-t})},_getViewportSize:function(){return this._viewportWidth!==x._UNINITIALIZED&&this._viewportHeight!==x._UNINITIALIZED||(this._viewportWidth=Math.max(0,v.getContentWidth(this._element)),this._viewportHeight=Math.max(0,v.getContentHeight(this._element)),this._writeProfilerMark("viewportSizeDetected width:"+this._viewportWidth+" height:"+this._viewportHeight),this._previousWidth=this._element.offsetWidth,this._previousHeight=this._element.offsetHeight),{width:this._viewportWidth,height:this._viewportHeight}},_itemsCount:function(){function e(){t._itemsCountPromise=null}var t=this;if(this._cachedCount!==x._UNINITIALIZED)return m.wrap(this._cachedCount);var n;return this._itemsCountPromise?n=this._itemsCountPromise:(n=this._itemsCountPromise=this._itemsManager.dataSource.getCount().then(function(e){return e===E.CountResult.unknown&&(e=0),t._cachedCount=e,t._selection._updateCount(t._cachedCount),e},function(){return m.cancel}),this._itemsCountPromise.then(e,e)),n},_isSelected:function(e){return this._selection._isIncluded(e)},_LoadingState:{itemsLoading:"itemsLoading",viewPortLoaded:"viewPortLoaded",itemsLoaded:"itemsLoaded",complete:"complete"},_raiseViewLoading:function(e){this._loadingState!==this._LoadingState.itemsLoading&&(this._scrolling=!!e),this._setViewState(this._LoadingState.itemsLoading)},_raiseViewComplete:function(){this._disposed||this._view.animating||this._setViewState(this._LoadingState.complete)},_raiseHeaderFooterVisibilityEvent:function(){var t=this,n=function(e){if(!e)return!1;var n=t._lastScrollPosition,i=e[t._horizontal()?"offsetLeft":"offsetTop"],o=e[t._horizontal()?"offsetWidth":"offsetHeight"];return i+o>n&&i<n+t._getViewportLength()},i=function(n,i){var o=e.document.createEvent("CustomEvent");o.initCustomEvent(n,!0,!0,{visible:i}),t._element.dispatchEvent(o)},o=!!this._header&&n(this._headerContainer),r=!!this._footer&&n(this._footerContainer);this._headerFooterVisibilityStatus.headerVisible!==o&&(this._headerFooterVisibilityStatus.headerVisible=o,i("headervisibilitychanged",o)),this._headerFooterVisibilityStatus.footerVisible!==r&&(this._headerFooterVisibilityStatus.footerVisible=r,i("footervisibilitychanged",r))},_setViewState:function(t){if(t!==this._loadingState){var n={scrolling:!1};switch(t){case this._LoadingState.viewPortLoaded:this._scheduledForDispose||(R(this),this._scheduledForDispose=!0),this._setViewState(this._LoadingState.itemsLoading);break;case this._LoadingState.itemsLoaded:n={scrolling:this._scrolling},this._setViewState(this._LoadingState.viewPortLoaded);break;case this._LoadingState.complete:this._setViewState(this._LoadingState.itemsLoaded),this._updateDeleteWrapperSize(!0)}this._writeProfilerMark("loadingStateChanged:"+t+",info"),this._loadingState=t;var i=e.document.createEvent("CustomEvent");i.initCustomEvent("loadingstatechanged",!0,!1,n),this._element.dispatchEvent(i)}},_createTemplates:function(){function t(t,n){var i=e.document.createElement("div");return i.className=t,n||i.setAttribute("aria-hidden",!0),i}this._itemBoxTemplate=t(x._itemBoxClass,!0)},_updateSelection:function(){var e=this._selection.getIndices(),t=this._selection.isEverything(),n={};if(!t)for(var i=0,o=e.length;i<o;i++){var r=e[i];n[r]=!0}this._view.items.each(function(e,i,o){if(o.itemBox){var r=t||!!n[e];j._ItemEventsHandler.renderSelection(o.itemBox,i,r,!0),o.container&&v[r?"addClass":"removeClass"](o.container,x._selectedClass)}})},_getViewportLength:function(){return this._getViewportSize()[this._horizontal()?"width":"height"]},_horizontal:function(){return this._horizontalLayout},_rtl:function(){return"boolean"!=typeof this._cachedRTL&&(this._cachedRTL="rtl"===v._getComputedStyle(this._element,null).direction),this._cachedRTL},_showProgressBar:function(e,t,n){var i=this._progressBar,o=i.style;if(!i.parentNode){this._fadingProgressBar=!1,this._progressIndicatorDelayTimer&&this._progressIndicatorDelayTimer.cancel();var r=this;this._progressIndicatorDelayTimer=m.timeout(x._LISTVIEW_PROGRESS_DELAY).then(function(){r._isZombie()||(e.appendChild(i),c.fadeIn(i),r._progressIndicatorDelayTimer=null)})}o[this._rtl()?"right":"left"]=t,o.top=n},_hideProgressBar:function(){this._progressIndicatorDelayTimer&&(this._progressIndicatorDelayTimer.cancel(),this._progressIndicatorDelayTimer=null);var e=this._progressBar;if(e.parentNode&&!this._fadingProgressBar){this._fadingProgressBar=!0;var t=this;c.fadeOut(e).then(function(){e.parentNode&&e.parentNode.removeChild(e),t._fadingProgressBar=!1})}},_getPanAxis:function(){return this._horizontal()?"horizontal":"vertical"},_configureForZoom:function(e,t,o){if(n.validation&&(!this._view.realizePage||"number"!=typeof this._view.begin))throw new i("WinJS.UI.ListView.NotCompatibleWithSemanticZoom",q.notCompatibleWithSemanticZoom);this._isZoomedOut=e,this._disableEntranceAnimation=!t,this._isCurrentZoomView=t,this._triggerZoom=o},_setCurrentItem:function(e,t){this._rtl()&&(e=this._viewportWidth-e),this._horizontal()?e+=this.scrollPosition:t+=this.scrollPosition;var n=this._view.hitTest(e,t),i={type:n.type?n.type:E.ObjectType.item,index:n.index};i.index>=0&&(this._hasKeyboardFocus?this._changeFocus(i,!0,!1,!0):this._changeFocusPassively(i))},_getCurrentItem:function(){var e=this._selection._getFocused();e.type===E.ObjectType.groupHeader?e={type:E.ObjectType.item,index:this._groups.group(e.index).startIndex}:e.type!==E.ObjectType.item&&(e={type:E.ObjectType.item,index:e.type===E.ObjectType.header?0:this._cachedCount}),"number"!=typeof e.index&&(this._setCurrentItem(.5*this._viewportWidth,.5*this._viewportHeight),e=this._selection._getFocused());var t=this,n=this._getItemOffsetPosition(e.index).then(function(e){var n=t._canvasStart;return e[t._startProperty]+=n,e});return m.join({item:this._dataSource.itemFromIndex(e.index),position:n})},_animateItemsForPhoneZoom:function(){function e(e,t,n){return function(i){return(t[i]-e)*n}}function t(){for(var e=0,t=n.length;e<t;e++)n[e].style[H.scriptName]=""}for(var n=[],i=[],o=[],r=Number.MAX_VALUE,s=this,a=this._view.firstIndexDisplayed,l=Math.min(this._cachedCount,this._view.lastIndexDisplayed+1);a<l;a++)o.push(this._view.waitForEntityPosition({type:E.ObjectType.item,index:a}).then(function(){n.push(s._view.items.containerAt(a));var e=0;if(s.layout._getItemPosition){var t=s.layout._getItemPosition(a);t.row&&(e=t.row)}i.push(e),r=Math.min(e,r)}));return m.join(o).then(function(){return(0===n.length?m.wrap():d.executeTransition(n,{property:H.cssName,delay:e(r,i,30),duration:100,timing:"ease-in-out",from:s._isCurrentZoomView?"rotateX(0deg)":"rotateX(-90deg)",to:s._isCurrentZoomView?"rotateX(90deg)":"rotateX(0deg)"})).then(t,t)}).then(t,t)},_beginZoom:function(){this._zooming=!0;var e=null;if(n.isPhone){if(this._isZoomedOut)if(this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),this._isCurrentZoomView){var t=this,i=function(){t._zoomAnimationPromise=null};this._zoomAnimationPromise=e=this._animateItemsForPhoneZoom().then(i,i)}else this._zoomAnimationPromise=new f,e=this._zoomAnimationPromise.promise}else{var o=this._horizontal(),r=-this.scrollPosition;v.addClass(this._viewport,o?x._zoomingXClass:x._zoomingYClass),this._canvasStart=r,v.addClass(this._viewport,o?x._zoomingYClass:x._zoomingXClass)}return e},_positionItem:function(e,t){function o(e){return r._getItemOffsetPosition(e).then(function(i){var o,s=r._horizontal(),a=r._viewport[s?"scrollWidth":"scrollHeight"],l=s?r._viewportWidth:r._viewportHeight,u=s?"headerContainerWidth":"headerContainerHeight",c=r.layout._sizes,d=0;c&&c[u]&&(d=c[u]);var h=n.isPhone?d:t[r._startProperty],m=l-(s?i.width:i.height);h=Math.max(0,Math.min(m,h)),o=i[r._startProperty]-h;var p=Math.max(0,Math.min(a-l,o)),f=p-o;o=p;var _={type:E.ObjectType.item,index:e};if(r._hasKeyboardFocus?r._changeFocus(_,!0):r._changeFocusPassively(_),r._raiseViewLoading(!0),n.isPhone)r._viewportScrollPosition=o;else{var g=-o;r._canvasStart=g}if(r._view.realizePage(o,!0),n.isPhone&&r._isZoomedOut){var v=function(){r._zoomAnimationPromise&&r._zoomAnimationPromise.complete&&r._zoomAnimationPromise.complete(),r._zoomAnimationPromise=null};r._animateItemsForPhoneZoom().then(v,v)}return s?{x:f,y:0}:{x:0,y:f}})}var r=this,s=0;if(e&&(s=this._isZoomedOut?e.groupIndexHint:e.firstItemIndexHint),"number"==typeof s)return o(s);var a,l=this._isZoomedOut?e.groupKey:e.firstItemKey;if("string"==typeof l&&this._dataSource.itemFromKey)a=this._dataSource.itemFromKey(l,this._isZoomedOut?{groupMemberKey:e.key,groupMemberIndex:e.index}:null);else{var u=this._isZoomedOut?e.groupDescription:e.firstItemDescription;if(n.validation&&void 0===u)throw new i("WinJS.UI.ListView.InvalidItem",q.listViewInvalidItem);a=this._dataSource.itemFromDescription(u)}return a.then(function(e){return o(e.index)})},_endZoom:function(e){if(!this._isZombie()){if(!n.isPhone){var t=this._canvasStart;v.removeClass(this._viewport,x._zoomingYClass),v.removeClass(this._viewport,x._zoomingXClass),this._canvasStart=0,this._viewportScrollPosition=-t}this._disableEntranceAnimation=!e,this._isCurrentZoomView=e,this._zooming=!1,this._view.realizePage(this.scrollPosition,!1)}},_getItemOffsetPosition:function(e){var t=this;return this._getItemOffset({type:E.ObjectType.item,index:e}).then(function(e){return t._ensureFirstColumnRange(E.ObjectType.item).then(function(){return e=t._correctRangeInFirstColumn(e,E.ObjectType.item),e=t._convertFromCanvasCoordinates(e),t._horizontal()?(e.left=e.begin,e.width=e.end-e.begin,e.height=e.totalHeight):(e.top=e.begin,e.height=e.end-e.begin,e.width=e.totalWidth),e})})},_groupRemoved:function(e){this._groupFocusCache.deleteGroup(e)},_updateFocusCache:function(e){this._updateFocusCacheItemRequest&&this._updateFocusCacheItemRequest.cancel();var t=this;this._updateFocusCacheItemRequest=this._view.items.requestItem(e).then(function(){t._updateFocusCacheItemRequest=null;var n=t._view.items.itemDataAt(e),i=t._groups.groupFromItem(e),o=t._groups.group(i).key;n.itemsManagerRecord.item&&t._groupFocusCache.updateCache(o,n.itemsManagerRecord.item.key,e)})},_changeFocus:function(e,t,n,i,o){if(!this._isZombie()){var r;if(e.type===E.ObjectType.item)r=this._view.items.itemAt(e.index),!t&&r&&v.hasClass(r,x._nonSelectableClass)&&(t=!0),this._updateFocusCache(e.index);else if(e.type===E.ObjectType.groupHeader){this._lastFocusedElementInGroupTrack=e;var s=this._groups.group(e.index);r=s&&s.header}else this._lastFocusedElementInGroupTrack=e,r=e.type===E.ObjectType.footer?this._footer:this._header;this._unsetFocusOnItem(!!r),this._hasKeyboardFocus=!0,this._selection._setFocused(e,o),i||this.ensureVisible(e),!t&&this._selectFocused(n)&&this._selection.set(e.index),this._setFocusOnItem(e)}},_changeFocusPassively:function(e){var t;switch(e.type){case E.ObjectType.item:t=this._view.items.itemAt(e.index),this._updateFocusCache(e.index);break;case E.ObjectType.groupHeader:this._lastFocusedElementInGroupTrack=e;var n=this._groups.group(e.index);t=n&&n.header;break;case E.ObjectType.header:this._lastFocusedElementInGroupTrack=e,t=this._header;break;case E.ObjectType.footer:this._lastFocusedElementInGroupTrack=e,t=this._footer}this._unsetFocusOnItem(!!t),this._selection._setFocused(e),this._setFocusOnItem(e)},_drawFocusRectangle:function(t){if(t!==this._header&&t!==this._footer)if(v.hasClass(t,x._headerClass))v.addClass(t,x._itemFocusClass);else{var n=this._view.items.itemBoxFrom(t);if(n.querySelector("."+x._itemFocusOutlineClass))return;v.addClass(n,x._itemFocusClass);var i=e.document.createElement("div");i.className=x._itemFocusOutlineClass,n.appendChild(i)}},_clearFocusRectangle:function(e){if(e&&!this._isZombie()&&e!==this._header&&e!==this._footer){var t=this._view.items.itemBoxFrom(e);if(t){v.removeClass(t,x._itemFocusClass);var n=t.querySelector("."+x._itemFocusOutlineClass);n&&n.parentNode.removeChild(n)}else{var i=this._groups.headerFrom(e);i&&v.removeClass(i,x._itemFocusClass)}}},_defaultInvoke:function(e){(this._isZoomedOut||n.isPhone&&this._triggerZoom&&e.type===E.ObjectType.groupHeader)&&(this._changeFocusPassively(e),this._triggerZoom())},_selectionAllowed:function(e){var t=void 0!==e?this.elementFromIndex(e):null,n=!(t&&v.hasClass(t,x._nonSelectableClass));return n&&this._selectionMode!==E.SelectionMode.none},_multiSelection:function(){return this._selectionMode===E.SelectionMode.multi},_isInSelectionMode:function(){return this.tapBehavior===E.TapBehavior.toggleSelect&&this.selectionMode===E.SelectionMode.multi},_selectOnTap:function(){return this._tap===E.TapBehavior.toggleSelect||this._tap===E.TapBehavior.directSelect},_selectFocused:function(e){return this._tap===E.TapBehavior.directSelect&&this._selectionMode===E.SelectionMode.multi&&!e},_dispose:function(){if(!this._disposed){this._disposed=!0;var e=function(e){e&&(e.textContent="")};v._resizeNotifier.unsubscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument.dispose(),this._batchingViewUpdates&&this._batchingViewUpdates.cancel(),this._view&&this._view._dispose&&this._view._dispose(),this._mode&&this._mode._dispose&&this._mode._dispose(),this._groups&&this._groups._dispose&&this._groups._dispose(),this._selection&&this._selection._dispose&&this._selection._dispose(),this._layout&&this._layout.uninitialize&&this._layout.uninitialize(),this._itemsCountPromise&&this._itemsCountPromise.cancel(),this._versionManager&&this._versionManager._dispose(),this._clearInsertedItems(),this._itemsManager&&this._itemsManager.release(),this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),e(this._viewport),e(this._canvas),e(this._canvasProxy),this._versionManager=null,this._view=null,this._mode=null,this._element=null,this._viewport=null,this._itemsManager=null,this._canvas=null,this._canvasProxy=null,this._itemsCountPromise=null,this._scrollToFunctor=null;var t=V.indexOf(this);t>=0&&V.splice(t,1)}},_isZombie:function(){return this._disposed||!(this.element.firstElementChild&&e.document.body.contains(this.element))},_ifZombieDispose:function(){var e=this._isZombie();return e&&!this._disposed&&R(this),e},_animationsDisabled:function(){return 0===this._viewportWidth||0===this._viewportHeight||!d.isAnimationEnabled()},_fadeOutViewport:function(){var e=this;return new m(function(t){if(e._animationsDisabled())return void t();if(!e._fadingViewportOut){e._waitingEntranceAnimationPromise&&(e._waitingEntranceAnimationPromise.cancel(),e._waitingEntranceAnimationPromise=null);var n=e._fireAnimationEvent(K.contentTransition);e._firedAnimationEvent=!0,n.prevented?(e._disableEntranceAnimation=!0,e._viewport.style.opacity=1,t()):(e._fadingViewportOut=!0,e._viewport.style.overflow="hidden",c.fadeOut(e._viewport).then(function(){e._isZombie()||(e._fadingViewportOut=!1,e._viewport.style.opacity=1,t())}))}})},_animateListEntrance:function(e){function t(){o._canvas.style.opacity=1,o._headerContainer.style.opacity=1,o._footerContainer.style.opacity=1,o._viewport.style.overflow="",o._raiseHeaderFooterVisibilityEvent()}var i={prevented:!1,animationPromise:m.wrap()},o=this;return this._raiseHeaderFooterVisibilityEvent(),this._disableEntranceAnimation||this._animationsDisabled()?(t(),this._waitingEntranceAnimationPromise&&(this._waitingEntranceAnimationPromise.cancel(),this._waitingEntranceAnimationPromise=null),m.wrap()):(this._firedAnimationEvent?this._firedAnimationEvent=!1:i=this._fireAnimationEvent(K.entrance),i.prevented||n.isPhone?(t(),m.wrap()):(this._waitingEntranceAnimationPromise&&this._waitingEntranceAnimationPromise.cancel(),this._canvas.style.opacity=0,this._viewport.style.overflow="hidden",this._headerContainer.style.opacity=1,this._footerContainer.style.opacity=1,this._waitingEntranceAnimationPromise=i.animationPromise.then(function(){if(!o._isZombie())return o._canvas.style.opacity=1,c.enterContent(o._viewport).then(function(){o._isZombie()||(o._waitingEntranceAnimationPromise=null,o._viewport.style.overflow="")})}),this._waitingEntranceAnimationPromise))},_fireAnimationEvent:function(t){var n=e.document.createEvent("CustomEvent"),i=m.wrap();n.initCustomEvent("contentanimating",!0,!0,{type:t}),t===K.entrance&&(n.detail.setPromise=function(e){i=e});var o=!this._element.dispatchEvent(n);return{prevented:o,animationPromise:i}},_createAriaMarkers:function(){this._viewport.getAttribute("aria-label")||this._viewport.setAttribute("aria-label",q.listViewViewportAriaLabel),this._ariaStartMarker||(this._ariaStartMarker=e.document.createElement("div"),this._ariaStartMarker.id=U(this._ariaStartMarker),this._viewport.insertBefore(this._ariaStartMarker,this._viewport.firstElementChild)),this._ariaEndMarker||(this._ariaEndMarker=e.document.createElement("div"),this._ariaEndMarker.id=U(this._ariaEndMarker),this._viewport.appendChild(this._ariaEndMarker))},_updateItemsAriaRoles:function(){var e,t,n=this,i=this._element.getAttribute("role");this._currentMode().staticMode()?(e="list",t="listitem"):(e="listbox",t="option"),i===e&&this._itemRole===t||(this._element.setAttribute("role",e),this._itemRole=t,this._view.items.each(function(e,t){t.setAttribute("role",n._itemRole)}))},_updateGroupHeadersAriaRoles:function(){var e=this.groupHeaderTapBehavior===E.GroupHeaderTapBehavior.none?"separator":"link";if(this._headerRole!==e){this._headerRole=e;for(var t=0,n=this._groups.length();t<n;t++){var i=this._groups.group(t).header;i&&i.setAttribute("role",this._headerRole)}}},_setAriaSelected:function(e,t){var n="true"===e.getAttribute("aria-selected");t!==n&&e.setAttribute("aria-selected",t)},_setupAriaSelectionObserver:function(e){e._mutationObserver||(this._mutationObserver.observe(e,{attributes:!0,attributeFilter:["aria-selected"]}),e._mutationObserver=!0)},_itemPropertyChange:function(e){function t(e){e.forEach(function(e){e.item.setAttribute("aria-selected",!e.selected)})}if(!this._isZombie()){for(var n=this,i=n._selectionMode===E.SelectionMode.single,o=[],r=[],s=0,a=e.length;s<a;s++){var l=e[s].target,u=n._view.items.itemBoxFrom(l),c="true"===l.getAttribute("aria-selected");if(u&&c!==v._isSelectionRendered(u)){var d=n._view.items.index(u),h={index:d,item:l,selected:c};(n._selectionAllowed(d)?o:r).push(h)}}if(o.length>0){var m=new f;n.selection._synchronize(m).then(function(){var e=n.selection._cloneSelection();return o.forEach(function(t){t.selected?e[i?"set":"add"](t.index):e.remove(t.index)}),n.selection._set(e)}).then(function(e){n._isZombie()||e||t(o),m.complete()})}t(r)}},_groupsEnabled:function(){return!!this._groups.groupDataSource},_getItemPosition:function(e,t){var n=this;return this._view.waitForEntityPosition(e).then(function(){var i,o=n._zooming&&0!==n._canvasStart;switch(e.type){case E.ObjectType.item:i=n._view.getContainer(e.index);break;case E.ObjectType.groupHeader:i=n._view._getHeaderContainer(e.index);break;case E.ObjectType.header:o=!0,i=n._headerContainer;break;case E.ObjectType.footer:o=!0,i=n._footerContainer}if(i){n._writeProfilerMark("WinJS.UI.ListView:getItemPosition,info");var r,s;n._view._expandedRange?(r=n._view._expandedRange.first.index,s=n._view._expandedRange.last.index):t=!1,e.type===E.ObjectType.item?(t=!!t,t&=n._view._ensureContainerInDOM(e.index)):t=!1;var a=n._getItemMargins(e.type),l={left:n._rtl()?F(i)-a.right:i.offsetLeft-a.left,top:i.offsetTop-a.top,totalWidth:v.getTotalWidth(i),totalHeight:v.getTotalHeight(i),contentWidth:v.getContentWidth(i),contentHeight:v.getContentHeight(i)};return t&&n._view._forceItemsBlocksInDOM(r,s+1),o?l:n._convertToCanvasCoordinates(l)}return m.cancel})},_getItemOffset:function(e,t){var n=this;return this._getItemPosition(e,t).then(function(t){var i=n._getItemMargins(e.type);if(n._horizontal()){var o=n._rtl();t.begin=t.left-i[o?"left":"right"],t.end=t.left+t.totalWidth+i[o?"right":"left"]}else t.begin=t.top-i.bottom,t.end=t.top+t.totalHeight+i.top;return t})},_getItemMargins:function(t){t=t||E.ObjectType.item;var n=this,i=function(t){var i,o=n._canvas.querySelector("."+t);o||(o=e.document.createElement("div"),v.addClass(o,t),n._viewport.appendChild(o),i=!0);var r=D._getMargins(o);return i&&n._viewport.removeChild(o),r};return t===E.ObjectType.item?this._itemMargins?this._itemMargins:this._itemMargins=i(x._containerClass):t===E.ObjectType.groupHeader?this._headerMargins?this._headerMargins:this._headerMargins=i(x._headerContainerClass):(this._headerFooterMargins||(this._headerFooterMargins={
headerMargins:i(x._listHeaderContainerClass),footerMargins:i(x._listFooterContainerClass)}),this._headerFooterMargins[t===E.ObjectType.header?"headerMargins":"footerMargins"])},_fireAccessibilityAnnotationCompleteEvent:function(t,n,i,o){var r={firstIndex:t,lastIndex:n,firstHeaderIndex:+i||-1,lastHeaderIndex:+o||-1},s=e.document.createEvent("CustomEvent");s.initCustomEvent("accessibilityannotationcomplete",!0,!1,r),this._element.dispatchEvent(s)},_ensureFirstColumnRange:function(e){if(e===E.ObjectType.header||e===E.ObjectType.footer)return m.wrap();var t=e===E.ObjectType.item?"_firstItemRange":"_firstHeaderRange";if(this[t])return m.wrap();var n=this;return this._getItemOffset({type:e,index:0},!0).then(function(e){n[t]=e})},_correctRangeInFirstColumn:function(e,t){if(t===E.ObjectType.header||t===E.ObjectType.footer)return e;var n=t===E.ObjectType.groupHeader?this._firstHeaderRange:this._firstItemRange;return n.begin===e.begin&&(this._horizontal()?e.begin=-this._getCanvasMargins()[this._rtl()?"right":"left"]:e.begin=-this._getCanvasMargins().top),e},_updateContainers:function(t,n,i,o){function r(){var t=e.document.createElement("div");return t.className=x._containerClass,t}function s(t,n,i){n+i>h&&(i=h-n);var o,r=t.itemsContainer,s=r.itemsBlocks,a=m._view._blockSize,l=s.length?s[s.length-1]:null,u=s.length?(s.length-1)*a+l.items.length:0,c=i-u;if(c>0){var d,p=c;if(l&&l.items.length<a){var f=Math.min(p,a-l.items.length);d=l.items.length;var _=A._stripedContainers(f,u);w.insertAdjacentHTMLUnsafe(l.element,"beforeend",_),o=l.element.children;for(var g=0;g<f;g++)l.items.push(o[d+g]);p-=f}u=s.length*a;var v=Math.floor(p/a),y="",b=u,S=u+a;if(v>0){var I=["<div class='win-itemsblock'>"+A._stripedContainers(a,b)+"</div>","<div class='win-itemsblock'>"+A._stripedContainers(a,S)+"</div>"];y=A._repeat(I,v),u+=v*a}var x=p%a;x>0&&(y+="<div class='win-itemsblock'>"+A._stripedContainers(x,u)+"</div>",u+=x,v++);var j=e.document.createElement("div");w.setInnerHTMLUnsafe(j,y);for(var o=j.children,g=0;g<v;g++){var k=o[g],P={element:k,items:A._nodeListToArray(k.children)};s.push(P)}}else if(c<0)for(var T=c;T<0;T++){var O=l.items.pop();!m._view._requireFocusRestore&&O.contains(e.document.activeElement)&&(m._view._requireFocusRestore=e.document.activeElement,m._unsetFocusOnItem()),l.element.removeChild(O),E.push(O),l.items.length||(r.element===l.element.parentNode&&r.element.removeChild(l.element),s.pop(),l=s[s.length-1])}for(var g=0,M=s.length;g<M;g++)for(var k=s[g],T=0;T<k.items.length;T++)C.push(k.items[T])}function a(e,t,n){for(var i=o.filter(function(e){return e.oldIndex===-1&&e.newIndex>=t&&e.newIndex<t+n}).sort(function(e,t){return e.newIndex-t.newIndex}),s=e.itemsContainer,a=0,l=i.length;a<l;a++){var u=i[a],c=u.newIndex-t,d=r(),h=c<s.items.length?s.items[c]:null;s.items.splice(c,0,d),s.element.insertBefore(d,h)}}function l(e,t,n){t+n>h&&(n=h-t);var i=e.itemsContainer,o=n-i.items.length;if(o>0){var r=i.element.children,s=r.length;w.insertAdjacentHTMLUnsafe(i.element,"beforeend",A._repeat("<div class='win-container win-backdrop'></div>",o));for(var a=0;a<o;a++){var l=r[s+a];i.items.push(l)}}for(var a=o;a<0;a++){var l=i.items.pop();i.element.removeChild(l),E.push(l)}for(var a=0,u=i.items.length;a<u;a++)C.push(i.items[a])}function u(e,t){var n=m._view._createHeaderContainer(L),i={header:n,itemsContainer:{element:m._view._createItemsContainer(n)}};return i.itemsContainer[m._view._blockSize?"itemsBlocks":"items"]=[],m._view._blockSize?s(i,t,e.size):l(i,t,e.size),i}function c(e,t,i,r){for(var s,a,l=i+r-1,u=0,c=o.length;u<c;u++){var d=o[u];d.newIndex>=i&&d.newIndex<=l&&d.oldIndex!==-1&&(s!==+s||d.newIndex<s)&&(s=d.newIndex,a=d.newIndex-d.oldIndex)}if(s===+s){var h=0;for(u=0,c=o.length;u<c;u++){var d=o[u];d.newIndex>=i&&d.newIndex<s&&d.oldIndex===-1&&h++}var p=0,f=s-a;for(u=0,c=o.length;u<c;u++){var d=o[u];d.oldIndex>=t&&d.oldIndex<f&&d.newIndex===-1&&p++}a+=p,a-=h,a-=i-t;var _=e.itemsContainer;if(a>0){var g=_.element.children;w.insertAdjacentHTMLUnsafe(_.element,"afterBegin",A._repeat("<div class='win-container win-backdrop'></div>",a));for(var v=0;v<a;v++){var y=g[v];_.items.splice(v,0,y)}}for(var v=a;v<0;v++){var y=_.items.shift();_.element.removeChild(y)}a&&m._affectedRange.add({start:i,end:i+r},n)}}function d(e){for(var t=0,n=0,i=m._view.tree.length;n<i;n++){var o=m._view.tree[n],r=o.itemsContainer.items.length,s=t+r-1;if(e>=t&&e<=s)return{group:n,item:e-t};t+=r}}var h,m=this,p=this._view.containers.length+i,f=p<n;if(f){for(var _=0,g=0;g<o.length;g++)o[g].oldIndex===-1&&_++;h=this._view.containers.length+_}else h=n;var y=[],b={},C=[],E=[],S=[],I=0;if(!m._view._blockSize)for(var g=0,j=this._view.tree.length;g<j;g++)S.push(I),I+=this._view.tree[g].itemsContainer.items.length;if(!m._view._blockSize)for(var k=o.filter(function(e){return e.newIndex===-1&&!e._removalHandled}).sort(function(e,t){return t.oldIndex-e.oldIndex}),g=0,j=k.length;g<j;g++){var P=k[g];P._removalHandled=!0;var T=P._itemBox;P._itemBox=null;var O=d(P.oldIndex),M=this._view.tree[O.group],D=M.itemsContainer.items[O.item];D.parentNode.removeChild(D),v.hasClass(T,x._selectedClass)&&v.addClass(D,x._selectedClass),M.itemsContainer.items.splice(O.item,1),P.element=D}this._view._modifiedGroups=[];var L=this._canvasProxy;I=0;for(var g=0,j=t.length;g<j&&(!this._groupsEnabled()||I<h);g++){var N=t[g],B=this._view.keyToGroupIndex[N.key],R=this._view.tree[B];if(R)m._view._blockSize?s(R,I,N.size):(c(R,S[B],I,N.size),a(R,I,N.size),l(R,I,N.size)),y.push(R),b[N.key]=y.length-1,delete this._view.keyToGroupIndex[N.key],L=R.itemsContainer.element,this._view._modifiedGroups.push({oldIndex:B,newIndex:y.length-1,element:R.header});else{var F=u(N,I);y.push(F),b[N.key]=y.length-1,this._view._modifiedGroups.push({oldIndex:-1,newIndex:y.length-1,element:F.header}),L=F.itemsContainer.element}I+=N.size}for(var z=[],H=[],W=this._view.keyToGroupIndex?Object.keys(this._view.keyToGroupIndex):[],g=0,j=W.length;g<j;g++){var O=this._view.keyToGroupIndex[W[g]],V=this._view.tree[O];if(H.push(V.header),z.push(V.itemsContainer.element),this._view._blockSize)for(var U=0;U<V.itemsContainer.itemsBlocks.length;U++)for(var q=V.itemsContainer.itemsBlocks[U],J=0;J<q.items.length;J++)E.push(q.items[J]);else for(var J=0;J<V.itemsContainer.items.length;J++)E.push(V.itemsContainer.items[J]);this._view._modifiedGroups.push({oldIndex:O,newIndex:-1,element:V.header})}for(var g=0,j=o.length;g<j;g++)if(o[g].newIndex===-1&&!o[g]._removalHandled){o[g]._removalHandled=!0;var T=o[g]._itemBox;o[g]._itemBox=null;var D;E.length?(D=E.pop(),v.empty(D)):D=r(),v.hasClass(T,x._selectedClass)&&v.addClass(D,x._selectedClass),o._containerStripe===x._containerEvenClass?(v.addClass(D,x._containerEvenClass),v.removeClass(D,x._containerOddClass)):(v.addClass(D,x._containerOddClass),v.removeClass(D,x._containerEvenClass)),D.appendChild(T),o[g].element=D}return this._view.tree=y,this._view.keyToGroupIndex=b,this._view.containers=C,{removedHeaders:H,removedItemsContainers:z}},_writeProfilerMark:function(e){var t="WinJS.UI.ListView:"+this._id+":"+e;l(t),r.log&&r.log(t,null,"listviewprofiler")}},{triggerDispose:function(){B()}});return t.Class.mix(y,o.createEventProperties("iteminvoked","groupheaderinvoked","selectionchanging","selectionchanged","loadingstatechanged","keyboardnavigating","contentanimating","itemdragstart","itemdragenter","itemdragend","itemdragbetween","itemdragleave","itemdragchanged","itemdragdrop","headervisibilitychanged","footervisibilitychanged","accessibilityannotationcomplete")),t.Class.mix(y,_.DOMEventMixin),y})})}),i("WinJS/Controls/FlipView/_Constants",[],function(){"use strict";var e={};return e.datasourceCountChangedEvent="datasourcecountchanged",e.pageVisibilityChangedEvent="pagevisibilitychanged",e.pageSelectedEvent="pageselected",e.pageCompletedEvent="pagecompleted",e}),i("WinJS/Controls/FlipView/_PageManager",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Log","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations","../../Promise","../../_Signal","../../Scheduler","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_TabContainer","./_Constants"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{_FlipPageManager:n.Namespace._lazy(function(){function e(e){var t=e.winControl;return!(!t||!t._isFlipView)}function s(e){e.forEach(function(e){var t=e.target;t.winControl&&t.tabIndex>=0&&(t.winControl._pageManager._updateTabIndex(t.tabIndex),t.tabIndex=-1);var n=t.winControl;if(n&&n._isFlipView){var i=!1;"dir"===e.attributeName?i=!0:"style"===e.attributeName&&(i=n._cachedStyleDir!==t.style.direction),i&&(n._cachedStyleDir=t.style.direction,n._pageManager._rtl="rtl"===m._getComputedStyle(n._pageManager._flipperDiv,null).direction,n._pageManager.resized())}})}var _=m._uniqueID,g=i._browserStyleEquivalents,v=50,y=250,b={get badCurrentPage(){return"Invalid argument: currentPage must be a number greater than or equal to zero and be within the bounds of the datasource"}},w=n.Class.define(function(e,t,n,o,r,a,l){this._visibleElements=[],this._flipperDiv=e,this._panningDiv=t,this._panningDivContainer=n,this._buttonVisibilityHandler=l,this._currentPage=null,this._rtl="rtl"===m._getComputedStyle(this._flipperDiv,null).direction,this._itemsManager=o,this._itemSpacing=r,this._tabIndex=m.getTabIndex(e),this._tabIndex<0&&(this._tabIndex=0),t.tabIndex=-1,e.tabIndex=-1,this._tabManager=new p.TabContainer(this._panningDivContainer),this._tabManager.tabIndex=this._tabIndex,this._lastSelectedPage=null,this._lastSelectedElement=null,this._bufferSize=w.flipPageBufferCount,this._cachedSize=-1,this._environmentSupportsTouch=a;var u=this;this._panningDiv.addEventListener("keydown",function(e){u._blockTabs&&e.keyCode===m.Key.tab&&(e.stopImmediatePropagation(),e.preventDefault())},!0),m._addEventListener(this._flipperDiv,"focusin",function(e){e.target===u._flipperDiv&&u._currentPage.element&&m._setActive(u._currentPage.element)},!1),new m._MutationObserver(s).observe(this._flipperDiv,{attributes:!0,attributeFilter:["dir","style","tabindex"]}),this._cachedStyleDir=this._flipperDiv.style.direction,this._handleManipulationStateChangedBound=this._handleManipulationStateChanged.bind(this),this._environmentSupportsTouch&&this._panningDivContainer.addEventListener(i._browserEventEquivalents.manipulationStateChanged,this._handleManipulationStateChangedBound,!0)},{initialize:function(e,n){var i=null;if(this._panningDivContainerOffsetWidth=this._panningDivContainer.offsetWidth,this._panningDivContainerOffsetHeight=this._panningDivContainer.offsetHeight,this._isHorizontal=n,!this._currentPage){this._bufferAriaStartMarker=t.document.createElement("div"),this._bufferAriaStartMarker.id=_(this._bufferAriaStartMarker),this._panningDiv.appendChild(this._bufferAriaStartMarker),this._currentPage=this._createFlipPage(null,this),i=this._currentPage,this._panningDiv.appendChild(i.pageRoot);for(var o=2*this._bufferSize,r=0;r<o;r++)i=this._createFlipPage(i,this),this._panningDiv.appendChild(i.pageRoot);this._bufferAriaEndMarker=t.document.createElement("div"),this._bufferAriaEndMarker.id=_(this._bufferAriaEndMarker),this._panningDiv.appendChild(this._bufferAriaEndMarker)}this._prevMarker=this._currentPage.prev.prev,this._itemsManager&&this.setNewItemsManager(this._itemsManager,e)},dispose:function(){var e=this._currentPage,t=e;do h._disposeElement(t.element),t=t.next;while(t!==e)},setOrientation:function(e){if(this._notificationsEndedSignal){var t=this;return void this._notificationsEndedSignal.promise.done(function(){t._notificationsEndedSignal=null,t.setOrientation(e)})}if(e!==this._isHorizontal){this._isOrientationChanging=!0,this._isHorizontal?m.setScrollPosition(this._panningDivContainer,{scrollLeft:this._getItemStart(this._currentPage),scrollTop:0}):m.setScrollPosition(this._panningDivContainer,{scrollLeft:0,scrollTop:this._getItemStart(this._currentPage)}),this._isHorizontal=e;var n=this._panningDivContainer.style;n.overflowX="hidden",n.overflowY="hidden";var t=this;i._requestAnimationFrame(function(){t._isOrientationChanging=!1,t._forEachPage(function(e){var t=e.pageRoot.style;t.left="0px",t.top="0px"}),n.overflowX=t._isHorizontal&&t._environmentSupportsTouch?"scroll":"hidden",n.overflowY=t._isHorizontal||!t._environmentSupportsTouch?"hidden":"scroll",t._ensureCentered()})}},resetState:function(e){if(this._writeProfilerMark("WinJS.UI.FlipView:resetState,info"),0!==e){var t=this.jumpToIndex(e,!0);if(!t&&i.validation)throw new o("WinJS.UI.FlipView.BadCurrentPage",b.badCurrentPage);return t}h.disposeSubTree(this._flipperDiv),this._resetBuffer(null,!0);var n=this,r=u.wrap(!0);return this._itemsManager&&(r=n._itemsManager._firstItem().then(function(e){return n._currentPage.setElement(e),n._fetchPreviousItems(!0).then(function(){return n._fetchNextItems()}).then(function(){n._setButtonStates()})})),r.then(function(){n._tabManager.childFocus=n._currentPage.element,n._ensureCentered(),n._itemSettledOn()})},setNewItemsManager:function(e,t){this._itemsManager=e;var n=this;return this.resetState(t).then(function(){0!==t&&(n._tabManager.childFocus=n._currentPage.element,n._ensureCentered(),n._itemSettledOn())})},currentIndex:function(){if(!this._itemsManager)return 0;var e=0,t=this._navigationAnimationRecord?this._navigationAnimationRecord.newCurrentElement:this._currentPage.element;return t&&(e=this._getElementIndex(t)),e},resetScrollPos:function(){this._ensureCentered()},scrollPosChanged:function(){if(this._hasFocus&&(this._hadFocus=!0),this._itemsManager&&this._currentPage.element&&!this._isOrientationChanging){var e=this._getViewportStart(),t=this._lastScrollPos>e?this._getTailOfBuffer():this._getHeadOfBuffer();if(e!==this._lastScrollPos){for(;this._currentPage.element&&this._getItemStart(this._currentPage)>e&&this._currentPage.prev.element;)this._currentPage=this._currentPage.prev,this._fetchOnePrevious(t.prev),t=t.prev;for(;this._currentPage.element&&this._itemEnd(this._currentPage)<=e&&this._currentPage.next.element;)this._currentPage=this._currentPage.next,this._fetchOneNext(t.next),t=t.next;this._setButtonStates(),this._checkElementVisibility(!1),this._blockTabs=!0,this._lastScrollPos=e,this._currentPage.element&&(this._tabManager.childFocus=this._currentPage.element),this._setListEnds(),!this._manipulationState&&this._viewportOnItemStart()&&(this._currentPage.element.setAttribute("aria-setsize",this._cachedSize),this._currentPage.element.setAttribute("aria-posinset",this.currentIndex()+1),this._timeoutPageSelection())}}},itemRetrieved:function(e,t){var n=this;if(this._forEachPage(function(i){if(i.element===t)return i===n._currentPage||i===n._currentPage.next?n._changeFlipPage(i,t,e):i.setElement(e,!0),!0}),this._navigationAnimationRecord&&this._navigationAnimationRecord.elementContainers)for(var i=this._navigationAnimationRecord.elementContainers,o=0,r=i.length;o<r;o++)i[o].element===t&&(n._changeFlipPage(i[o],t,e),i[o].element=e);this._checkElementVisibility(!1)},resized:function(){this._panningDivContainerOffsetWidth=this._panningDivContainer.offsetWidth,this._panningDivContainerOffsetHeight=this._panningDivContainer.offsetHeight;var e=this;this._forEachPage(function(t){t.pageRoot.style.width=e._panningDivContainerOffsetWidth+"px",t.pageRoot.style.height=e._panningDivContainerOffsetHeight+"px"}),this._ensureCentered(),this._writeProfilerMark("WinJS.UI.FlipView:resize,StopTM")},jumpToIndex:function(e,t){if(!t){if(!this._itemsManager||!this._currentPage.element||e<0)return u.wrap(!1);var n=this._getElementIndex(this._currentPage.element),i=Math.abs(e-n);if(0===i)return u.wrap(!1)}var o=u.wrap(!0),r=this;return o=o.then(function(){var n=r._itemsManager._itemPromiseAtIndex(e);return u.join({element:r._itemsManager._itemFromItemPromise(n),item:n}).then(function(e){var n=e.element;return r._resetBuffer(n,t),!!n&&(r._currentPage.setElement(n),r._fetchNextItems().then(function(){return r._fetchPreviousItems(!0)}).then(function(){return!0}))})}),o=o.then(function(e){return r._setButtonStates(),e})},startAnimatedNavigation:function(e,t,n){if(this._writeProfilerMark("WinJS.UI.FlipView:startAnimatedNavigation,info"),this._currentPage.element){var i=this._currentPage,o=e?this._currentPage.next:this._currentPage.prev;if(o.element){this._hasFocus&&m._setActive(this._panningDiv),this._navigationAnimationRecord={},this._navigationAnimationRecord.goForward=e,this._navigationAnimationRecord.cancelAnimationCallback=t,this._navigationAnimationRecord.completionCallback=n,this._navigationAnimationRecord.oldCurrentPage=i,this._navigationAnimationRecord.newCurrentPage=o;var r=i.element,s=o.element;this._navigationAnimationRecord.newCurrentElement=s,i.setElement(null,!0),i.elementUniqueID=_(r),o.setElement(null,!0),o.elementUniqueID=_(s);var a=this._createDiscardablePage(r),l=this._createDiscardablePage(s);return a.pageRoot.itemIndex=this._getElementIndex(r),l.pageRoot.itemIndex=a.pageRoot.itemIndex+(e?1:-1),a.pageRoot.style.position="absolute",l.pageRoot.style.position="absolute",a.pageRoot.style.zIndex=1,l.pageRoot.style.zIndex=2,this._setItemStart(a,0),this._setItemStart(l,0),this._blockTabs=!0,this._visibleElements.push(s),this._announceElementVisible(s),this._navigationAnimationRecord.elementContainers=[a,l],{outgoing:a,incoming:l}}}return null},endAnimatedNavigation:function(e,t,n){if(this._writeProfilerMark("WinJS.UI.FlipView:endAnimatedNavigation,info"),this._navigationAnimationRecord&&this._navigationAnimationRecord.oldCurrentPage&&this._navigationAnimationRecord.newCurrentPage){var i=this._restoreAnimatedElement(this._navigationAnimationRecord.oldCurrentPage,t);this._restoreAnimatedElement(this._navigationAnimationRecord.newCurrentPage,n),i||this._setViewportStart(this._getItemStart(e?this._currentPage.next:this._currentPage.prev)),this._navigationAnimationRecord=null,this._itemSettledOn()}},startAnimatedJump:function(e,t,n){if(this._writeProfilerMark("WinJS.UI.FlipView:startAnimatedJump,info"),this._hasFocus&&(this._hadFocus=!0),this._currentPage.element){var i=this._currentPage.element,o=this._getElementIndex(i),r=this;return r.jumpToIndex(e).then(function(s){if(!s)return null;if(r._navigationAnimationRecord={},r._navigationAnimationRecord.cancelAnimationCallback=t,r._navigationAnimationRecord.completionCallback=n,r._navigationAnimationRecord.oldCurrentPage=null,r._forEachPage(function(e){if(e.element===i)return r._navigationAnimationRecord.oldCurrentPage=e,!0}),r._navigationAnimationRecord.newCurrentPage=r._currentPage,r._navigationAnimationRecord.newCurrentPage===r._navigationAnimationRecord.oldCurrentPage)return null;var a=r._currentPage.element;r._navigationAnimationRecord.newCurrentElement=a,r._currentPage.setElement(null,!0),r._currentPage.elementUniqueID=_(a),r._navigationAnimationRecord.oldCurrentPage&&r._navigationAnimationRecord.oldCurrentPage.setElement(null,!0);var l=r._createDiscardablePage(i),u=r._createDiscardablePage(a);return l.pageRoot.itemIndex=o,u.pageRoot.itemIndex=e,l.pageRoot.style.position="absolute",u.pageRoot.style.position="absolute",l.pageRoot.style.zIndex=1,u.pageRoot.style.zIndex=2,r._setItemStart(l,0),r._setItemStart(u,r._itemSize(r._currentPage)),r._visibleElements.push(a),r._announceElementVisible(a),r._navigationAnimationRecord.elementContainers=[l,u],r._blockTabs=!0,{oldPage:l,newPage:u}})}return u.wrap(null)},simulateMouseWheelScroll:function(e){if(!this._environmentSupportsTouch&&!this._waitingForMouseScroll){var n;n="number"==typeof e.deltaY?(e.deltaX||e.deltaY)>0:e.wheelDelta<0;var i=n?this._currentPage.next:this._currentPage.prev;if(i.element){var o={contentX:0,contentY:0,viewportX:0,viewportY:0};o[this._isHorizontal?"contentX":"contentY"]=this._getItemStart(i),m._zoomTo(this._panningDivContainer,o),this._waitingForMouseScroll=!0,t.setTimeout(function(){this._waitingForMouseScroll=!1}.bind(this),m._zoomToDuration+100)}}},endAnimatedJump:function(e,t){this._writeProfilerMark("WinJS.UI.FlipView:endAnimatedJump,info"),this._navigationAnimationRecord.oldCurrentPage?this._navigationAnimationRecord.oldCurrentPage.setElement(e.element,!0):e.element.parentNode&&e.element.parentNode.removeChild(e.element),this._navigationAnimationRecord.newCurrentPage.setElement(t.element,!0),this._navigationAnimationRecord=null,this._ensureCentered(),this._itemSettledOn()},inserted:function(e,t,n,i){this._writeProfilerMark("WinJS.UI.FlipView:inserted,info");var o=this._prevMarker,r=!1,s=!1;if(i&&(this._createAnimationRecord(_(e),null),this._getAnimationRecord(e).inserted=!0),t){do{if(o===this._currentPage&&(r=!0),o.elementUniqueID===_(t)){s=!0;var a,l=o,u=e,c=_(e);if(r)for(;l.next!==this._prevMarker;)a=l.next.element,c=l.next.elementUniqueID,l.next.setElement(u,!0),!u&&c&&(l.next.elementUniqueID=c),u=a,l=l.next;else for(o.elementUniqueID===o.next.elementUniqueID&&o.elementUniqueID&&(l=o.next);l.next!==this._prevMarker;)a=l.element,c=l.elementUniqueID,l.setElement(u,!0),!u&&c&&(l.elementUniqueID=c),u=a,l=l.prev;if(u){var d=!1;this._forEachPage(function(e){if(_(u)===e.elementUniqueID)return d=!0,!0}),d||this._releaseElementIfNotAnimated(u)}break}o=o.next}while(o!==this._prevMarker)}else if(n){for(;o.next!==this._prevMarker&&o.elementUniqueID!==_(n);)o===this._currentPage&&(r=!0),o=o.next;o.elementUniqueID===_(n)&&o!==this._prevMarker?(o.prev.setElement(e),s=!0):this._releaseElementIfNotAnimated(e)}else this._currentPage.setElement(e);this._getAnimationRecord(e).successfullyMoved=s,this._setButtonStates()},changed:function(e,t){this._writeProfilerMark("WinJS.UI.FlipView:changed,info");var n=this;if(this._forEachPage(function(i){if(i.elementUniqueID===_(t)){var o=n._animationRecords[i.elementUniqueID];return o.changed=!0,o.oldElement=t,o.newElement=e,i.element=e,i.elementUniqueID=_(e),n._animationRecords[_(e)]=o,!0}}),this._navigationAnimationRecord&&this._navigationAnimationRecord.elementContainers){for(var i=0,o=this._navigationAnimationRecord.elementContainers.length;i<o;i++){var r=this._navigationAnimationRecord.elementContainers[i];r&&r.elementUniqueID===_(t)&&(r.element=e,r.elementUniqueID=_(e))}var s=this._navigationAnimationRecord.newCurrentElement;s&&_(s)===_(t)&&(this._navigationAnimationRecord.newCurrentElement=e)}},moved:function(e,t,n){this._writeProfilerMark("WinJS.UI.FlipView:moved,info");var i=this._getAnimationRecord(e);i||(i=this._createAnimationRecord(_(e))),i.moved=!0,this.removed(e,!1,!1),t||n?this.inserted(e,t,n,!1):i.successfullyMoved=!1},removed:function(e,t,n){this._writeProfilerMark("WinJS.UI.FlipView:removed,info");var i=this,o=this._prevMarker,r=u.wrap();if(t){var s=!1;return this._forEachPage(function(t){(t.elementUniqueID===_(e)||s)&&(t.setElement(null,!0),s=!0)}),void this._setButtonStates()}if(n){var a=this._getAnimationRecord(e);a&&(a.removed=!0)}if(this._currentPage.elementUniqueID===_(e))this._currentPage.next.elementUniqueID?(this._shiftLeft(this._currentPage),this._ensureCentered()):this._currentPage.prev.elementUniqueID?this._shiftRight(this._currentPage):this._currentPage.setElement(null,!0);else if(o.elementUniqueID===_(e))o.next.element?r=this._itemsManager._previousItem(o.next.element).then(function(t){return t===e&&(t=i._itemsManager._previousItem(t)),t}).then(function(e){o.setElement(e,!0)}):o.setElement(null,!0);else if(o.prev.elementUniqueID===_(e))o.prev.prev&&o.prev.prev.element?r=this._itemsManager._nextItem(o.prev.prev.element).then(function(t){return t===e&&(t=i._itemsManager._nextItem(t)),t}).then(function(e){o.prev.setElement(e,!0)}):o.prev.setElement(null,!0);else{for(var l=this._currentPage.prev,c=!1;l!==o&&!c;)l.elementUniqueID===_(e)&&(this._shiftRight(l),c=!0),l=l.prev;for(l=this._currentPage.next;l!==o&&!c;)l.elementUniqueID===_(e)&&(this._shiftLeft(l),c=!0),l=l.next}return r.then(function(){i._setButtonStates()})},reload:function(){this._writeProfilerMark("WinJS.UI.FlipView:reload,info"),this.resetState(0)},getItemSpacing:function(){return this._itemSpacing},setItemSpacing:function(e){this._itemSpacing=e,this._ensureCentered()},notificationsStarted:function(){this._writeProfilerMark("WinJS.UI.FlipView:changeNotifications,StartTM"),this._logBuffer(),this._notificationsStarted=this._notificationsStarted||0,this._notificationsStarted++,this._notificationsEndedSignal=new c,this._temporaryKeys=[],this._animationRecords={};var e=this;this._forEachPage(function(t){e._createAnimationRecord(t.elementUniqueID,t)}),this._animationRecords.currentPage=this._currentPage.element,this._animationRecords.nextPage=this._currentPage.next.element},notificationsEnded:function(){var e=this;this._endNotificationsWork&&this._endNotificationsWork.cancel(),this._endNotificationsWork=this._ensureBufferConsistency().then(function(){function t(t){var n=null;return e._forEachPage(function(e){if(e.element===t)return n=e,!0}),n}function n(t,n){e._writeProfilerMark("WinJS.UI.FlipView:_animateOldViewportItemRemoved,info");var i=e._createDiscardablePage(n);e._setItemStart(i,t.originalLocation),r.push(e._deleteFlipPage(i))}function i(n,i){e._writeProfilerMark("WinJS.UI.FlipView:_animateOldViewportItemMoved,info");var o,s=n.originalLocation;if(n.successfullyMoved)o=t(i),s=n.newLocation;else{o=e._createDiscardablePage(i);var a=e._getElementIndex(i),l=e._currentPage.element?e._getElementIndex(e._currentPage.element):0;s+=l>a?-100*e._bufferSize:100*e._bufferSize}o&&(e._setItemStart(o,n.originalLocation),r.push(e._moveFlipPage(o,function(){e._setItemStart(o,s)})))}function o(){return 0===r.length&&r.push(u.wrap()),u.join(r)}var r=[];e._forEachPage(function(t){var n=e._getAnimationRecord(t.element);n&&(n.changed&&(n.oldElement.removedFromChange=!0,r.push(e._changeFlipPage(t,n.oldElement,n.newElement))),n.newLocation=t.location,e._setItemStart(t,n.originalLocation),n.inserted&&(t.elementRoot.style.opacity=0))});var s=e._animationRecords.currentPage,a=e._getAnimationRecord(s),l=e._animationRecords.nextPage,c=e._getAnimationRecord(l);a&&a.changed&&(s=a.newElement),c&&c.changed&&(l=c.newElement),s===e._currentPage.element&&l===e._currentPage.next.element||(a&&a.removed&&n(a,s),c&&c.removed&&n(c,l)),e._blockTabs=!0,o().then(function(){r=[],a&&a.moved&&i(a,s),c&&c.moved&&i(c,l);var t=e._getAnimationRecord(e._currentPage.element),n=e._getAnimationRecord(e._currentPage.next.element);e._forEachPage(function(i){var o=e._getAnimationRecord(i.element);o&&(o.inserted?o!==t&&o!==n&&(i.elementRoot.style.opacity=1):o.originalLocation!==o.newLocation&&(o!==a&&o!==c||o===a&&!a.moved||o===c&&!c.moved)&&r.push(e._moveFlipPage(i,function(){e._setItemStart(i,o.newLocation)})))}),o().then(function(){r=[],t&&t.inserted&&r.push(e._insertFlipPage(e._currentPage)),n&&n.inserted&&r.push(e._insertFlipPage(e._currentPage.next)),o().then(function(){e._checkElementVisibility(!1),e._itemSettledOn(),e._setListEnds(),e._notificationsStarted--,0===e._notificationsStarted&&e._notificationsEndedSignal.complete(),e._writeProfilerMark("WinJS.UI.FlipView:changeNotifications,StopTM"),e._logBuffer(),e._endNotificationsWork=null})})})})},disableTouchFeatures:function(){this._environmentSupportsTouch=!1;var e=this._panningDivContainer.style;this._panningDivContainer.removeEventListener(i._browserEventEquivalents.manipulationStateChanged,this._handleManipulationStateChangedBound,!0),e.overflowX="hidden",e.overflowY="hidden";var t=["scroll-snap-type","scroll-snap-points-x","scroll-snap-points-y","scroll-limit-x-min","scroll-limit-x-max","scroll-limit-y-min","scroll-limit-y-max"];t.forEach(function(t){var n=g[t];n&&(e[n.scriptName]="")})},_hasFocus:{get:function(){return this._flipperDiv.contains(t.document.activeElement)}},_timeoutPageSelection:function(){var e=this;this._lastTimeoutRequest&&this._lastTimeoutRequest.cancel(),this._lastTimeoutRequest=u.timeout(y).then(function(){e._itemSettledOn()})},_updateTabIndex:function(e){this._forEachPage(function(t){t.element&&(t.element.tabIndex=e)}),this._tabIndex=e,this._tabManager.tabIndex=e},_releaseElementIfNotAnimated:function(e){var t=this._getAnimationRecord(e);t&&(t.changed||t.inserted||t.moved||t.removed)||this._itemsManager.releaseItem(e)},_getAnimationRecord:function(e){return e?this._animationRecords[_(e)]:null},_createAnimationRecord:function(e,t){if(e){var n=this._animationRecords[e]={removed:!1,changed:!1,inserted:!1};return t&&(n.originalLocation=t.location),n}},_writeProfilerMark:function(e){a(e),this._flipperDiv.winControl.constructor._enabledDebug&&r.log&&r.log(e,null,"flipviewdebug")},_getElementIndex:function(e){var t=0;try{t=this._itemsManager.itemObject(e).index}catch(e){}return t},_resetBuffer:function(e,t){this._writeProfilerMark("WinJS.UI.FlipView:_resetBuffer,info");var n=this._currentPage,i=n;do i.element&&i.element===e||t?i.setElement(null,!0):i.setElement(null),i=i.next;while(i!==n)},_getHeadOfBuffer:function(){return this._prevMarker.prev},_getTailOfBuffer:function(){return this._prevMarker},_insertNewFlipPage:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_insertNewFlipPage,info");var t=this._createFlipPage(e,this);return this._panningDiv.appendChild(t.pageRoot),t},_fetchNextItems:function(){this._writeProfilerMark("WinJS.UI.FlipView:_fetchNextItems,info");for(var e=u.wrap(this._currentPage),t=this,n=0;n<this._bufferSize;n++)e=e.then(function(e){return e.next===t._prevMarker&&t._insertNewFlipPage(e),e.element?t._itemsManager._nextItem(e.element).then(function(t){return e.next.setElement(t),e.next}):(e.next.setElement(null),e.next)});return e},_fetchOneNext:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_fetchOneNext,info");var t=e.prev.element;if(this._prevMarker===e&&(this._prevMarker=this._prevMarker.next),!t)return void e.setElement(null);var n=this;return this._itemsManager._nextItem(t).then(function(t){e.setElement(t),n._movePageAhead(e.prev,e)})},_fetchPreviousItems:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_fetchPreviousItems,info");for(var t=this,n=u.wrap(this._currentPage),i=0;i<this._bufferSize;i++)n=n.then(function(e){return e.element?t._itemsManager._previousItem(e.element).then(function(t){return e.prev.setElement(t),e.prev}):(e.prev.setElement(null),e.prev)});return n.then(function(n){e&&(t._prevMarker=n)})},_fetchOnePrevious:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_fetchOnePrevious,info");var t=e.next.element;if(this._prevMarker===e.next&&(this._prevMarker=this._prevMarker.prev),!t)return e.setElement(null),u.wrap();var n=this;return this._itemsManager._previousItem(t).then(function(t){e.setElement(t),n._movePageBehind(e.next,e)})},_setButtonStates:function(){this._currentPage.prev.element?this._buttonVisibilityHandler.showPreviousButton():this._buttonVisibilityHandler.hidePreviousButton(),this._currentPage.next.element?this._buttonVisibilityHandler.showNextButton():this._buttonVisibilityHandler.hideNextButton()},_ensureCentered:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_ensureCentered,info"),this._setItemStart(this._currentPage,v*this._viewportSize());for(var t=this._currentPage;t!==this._prevMarker;)this._movePageBehind(t,t.prev),t=t.prev;for(t=this._currentPage;t.next!==this._prevMarker;)this._movePageAhead(t,t.next),t=t.next;var n=!1;this._lastScrollPos&&!e&&(this._setListEnds(),n=!0),this._lastScrollPos=this._getItemStart(this._currentPage),this._setViewportStart(this._lastScrollPos),this._checkElementVisibility(!0),this._setupSnapPoints(),n||this._setListEnds()},_ensureBufferConsistency:function(){var e=this,t=this._currentPage.element;if(!t)return u.wrap();var n=!1,i={},o={};this._forEachPage(function(e){if(e&&e.elementUniqueID){if(i[e.elementUniqueID])return n=!0,!0;if(i[e.elementUniqueID]=!0,e.location>0){if(o[e.location])return n=!0,!0;o[e.location]=!0}}});var r=Object.keys(this._animationRecords);return r.forEach(function(t){var i=e._animationRecords[t];i&&(i.changed||i.inserted||i.moved||i.removed)&&(n=!0)}),n?(this._resetBuffer(null,!0),this._currentPage.setElement(t),this._fetchNextItems().then(function(){return e._fetchPreviousItems(!0)}).then(function(){
e._ensureCentered()})):u.wrap()},_shiftLeft:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_shiftLeft,info");for(var t=e,n=null;t!==this._prevMarker&&t.next!==this._prevMarker;)n=t.next.element,!n&&t.next.elementUniqueID&&(t.elementUniqueID=t.next.elementUniqueID),t.next.setElement(null,!0),t.setElement(n,!0),t=t.next;if(t!==this._prevMarker&&t.prev.element){var i=this;return this._itemsManager._nextItem(t.prev.element).then(function(e){t.setElement(e),i._createAnimationRecord(t.elementUniqueID,t)})}},_logBuffer:function(){if(this._flipperDiv.winControl.constructor._enabledDebug){r.log&&r.log(this._currentPage.next.next.next.elementUniqueID+"\t@:"+this._currentPage.next.next.next.location+(this._currentPage.next.next.next.element?"\t"+this._currentPage.next.next.next.element.textContent:""),null,"flipviewdebug"),r.log&&r.log(this._currentPage.next.next.next.next.elementUniqueID+"\t@:"+this._currentPage.next.next.next.next.location+(this._currentPage.next.next.next.next.element?"\t"+this._currentPage.next.next.next.next.element.textContent:""),null,"flipviewdebug"),r.log&&r.log("> "+this._currentPage.elementUniqueID+"\t@:"+this._currentPage.location+(this._currentPage.element?"\t"+this._currentPage.element.textContent:""),null,"flipviewdebug"),r.log&&r.log(this._currentPage.next.elementUniqueID+"\t@:"+this._currentPage.next.location+(this._currentPage.next.element?"\t"+this._currentPage.next.element.textContent:""),null,"flipviewdebug"),r.log&&r.log(this._currentPage.next.next.elementUniqueID+"\t@:"+this._currentPage.next.next.location+(this._currentPage.next.next.element?"\t"+this._currentPage.next.next.element.textContent:""),null,"flipviewdebug");var e=Object.keys(this._itemsManager._elementMap),t=[];this._forEachPage(function(e){e&&e.elementUniqueID&&t.push(e.elementUniqueID)}),r.log&&r.log("itemsmanager  = ["+e.join(" ")+"] flipview ["+t.join(" ")+"]",null,"flipviewdebug")}},_shiftRight:function(e){this._writeProfilerMark("WinJS.UI.FlipView:_shiftRight,info");for(var t=e,n=null;t!==this._prevMarker;)n=t.prev.element,!n&&t.prev.elementUniqueID&&(t.elementUniqueID=t.prev.elementUniqueID),t.prev.setElement(null,!0),t.setElement(n,!0),t=t.prev;if(t.next.element){var i=this;return this._itemsManager._previousItem(t.next.element).then(function(e){t.setElement(e),i._createAnimationRecord(t.elementUniqueID,t)})}},_checkElementVisibility:function(e){var t,n;if(e){var i=this._currentPage.element;for(t=0,n=this._visibleElements.length;t<n;t++)this._visibleElements[t]!==i&&this._announceElementInvisible(this._visibleElements[t]);this._visibleElements=[],i&&(this._visibleElements.push(i),this._announceElementVisible(i))}else{for(t=0,n=this._visibleElements.length;t<n;t++)this._visibleElements[t].parentNode&&!this._visibleElements[t].removedFromChange||this._announceElementInvisible(this._visibleElements[t]);this._visibleElements=[];var o=this;this._forEachPage(function(e){var t=e.element;t&&(o._itemInView(e)?(o._visibleElements.push(t),o._announceElementVisible(t)):o._announceElementInvisible(t))})}},_announceElementVisible:function(e){if(e&&!e.visible){e.visible=!0;var n=t.document.createEvent("CustomEvent");this._writeProfilerMark("WinJS.UI.FlipView:pageVisibilityChangedEvent(visible:true),info"),n.initCustomEvent(f.pageVisibilityChangedEvent,!0,!1,{source:this._flipperDiv,visible:!0}),e.dispatchEvent(n)}},_announceElementInvisible:function(e){if(e&&e.visible){e.visible=!1;var n=!1;e.parentNode||(n=!0,this._panningDivContainer.appendChild(e));var i=t.document.createEvent("CustomEvent");this._writeProfilerMark("WinJS.UI.FlipView:pageVisibilityChangedEvent(visible:false),info"),i.initCustomEvent(f.pageVisibilityChangedEvent,!0,!1,{source:this._flipperDiv,visible:!1}),e.dispatchEvent(i),n&&this._panningDivContainer.removeChild(e)}},_createDiscardablePage:function(e){var t=this._createPageContainer(),n={pageRoot:t.root,elementRoot:t.elementContainer,discardable:!0,element:e,elementUniqueID:_(e),discard:function(){n.pageRoot.parentNode&&n.pageRoot.parentNode.removeChild(n.pageRoot),n.element.parentNode&&n.element.parentNode.removeChild(n.element)}};return n.pageRoot.style.top="0px",n.elementRoot.appendChild(e),this._panningDiv.appendChild(n.pageRoot),n},_createPageContainer:function(){var e=this._panningDivContainerOffsetWidth,n=this._panningDivContainerOffsetHeight,i=t.document.createElement("div"),o=i.style,r=t.document.createElement("div");return r.className="win-item",o.position="absolute",o.overflow="hidden",o.width=e+"px",o.height=n+"px",i.appendChild(r),{root:i,elementContainer:r}},_createFlipPage:function(t,n){var i={};i.element=null,i.elementUniqueID=null,t?(i.prev=t,i.next=t.next,i.next.prev=i,t.next=i):(i.next=i,i.prev=i);var o=this._createPageContainer();return i.elementRoot=o.elementContainer,i.elementRoot.style.msOverflowStyle="auto",i.pageRoot=o.root,i.setElement=function(t,o){if(void 0===t&&(t=null),t===i.element)return void(t||(i.elementUniqueID=null));if(i.element&&(o||(n._itemsManager.releaseItem(i.element),h._disposeElement(i.element))),i.element=t,i.elementUniqueID=t?_(t):null,m.empty(i.elementRoot),i.element){if(i===n._currentPage&&(n._tabManager.childFocus=t),!e(i.element)){i.element.tabIndex=n._tabIndex,i.element.setAttribute("role","option"),i.element.setAttribute("aria-selected",!1),i.element.id||(i.element.id=_(i.element));var r=function(e,t,n){e.setAttribute(n,t.id)},s=!i.next.element||i===n._prevMarker.prev;s&&(r(i.element,n._bufferAriaEndMarker,"aria-flowto"),r(n._bufferAriaEndMarker,i.element,"x-ms-aria-flowfrom")),i!==n._prevMarker&&i.prev.element&&(r(i.prev.element,i.element,"aria-flowto"),r(i.element,i.prev.element,"x-ms-aria-flowfrom")),i.next!==n._prevMarker&&i.next.element&&(r(i.element,i.next.element,"aria-flowto"),r(i.next.element,i.element,"x-ms-aria-flowfrom")),i.prev.element||r(i.element,n._bufferAriaStartMarker,"x-ms-aria-flowfrom")}i.elementRoot.appendChild(i.element)}},i},_itemInView:function(e){return this._itemEnd(e)>this._getViewportStart()&&this._getItemStart(e)<this._viewportEnd()},_getViewportStart:function(){if(this._panningDivContainer.parentNode)return this._isHorizontal?m.getScrollPosition(this._panningDivContainer).scrollLeft:m.getScrollPosition(this._panningDivContainer).scrollTop},_setViewportStart:function(e){this._panningDivContainer.parentNode&&(this._isHorizontal?m.setScrollPosition(this._panningDivContainer,{scrollLeft:e}):m.setScrollPosition(this._panningDivContainer,{scrollTop:e}))},_viewportEnd:function(){var e=this._panningDivContainer;return this._isHorizontal?this._rtl?this._getViewportStart()+this._panningDivContainerOffsetWidth:m.getScrollPosition(e).scrollLeft+this._panningDivContainerOffsetWidth:e.scrollTop+this._panningDivContainerOffsetHeight},_viewportSize:function(){return this._isHorizontal?this._panningDivContainerOffsetWidth:this._panningDivContainerOffsetHeight},_getItemStart:function(e){return e.location},_setItemStart:function(e,t){void 0!==t&&(this._isHorizontal?e.pageRoot.style.left=(this._rtl?-t:t)+"px":e.pageRoot.style.top=t+"px",e.location=t)},_itemEnd:function(e){return(this._isHorizontal?e.location+this._panningDivContainerOffsetWidth:e.location+this._panningDivContainerOffsetHeight)+this._itemSpacing},_itemSize:function(){return this._isHorizontal?this._panningDivContainerOffsetWidth:this._panningDivContainerOffsetHeight},_movePageAhead:function(e,t){var n=this._itemSize(e)+this._itemSpacing;this._setItemStart(t,this._getItemStart(e)+n)},_movePageBehind:function(e,t){var n=this._itemSize(e)+this._itemSpacing;this._setItemStart(t,this._getItemStart(e)-n)},_setupSnapPoints:function(){if(this._environmentSupportsTouch){var e=this._panningDivContainer.style;e[g["scroll-snap-type"].scriptName]="mandatory";var t=this._viewportSize(),n=t+this._itemSpacing,i="scroll-snap-points",o=0,r=this._getItemStart(this._currentPage);o=r%(t+this._itemSpacing),e[g[this._isHorizontal?i+"-x":i+"-y"].scriptName]="snapInterval("+o+"px, "+n+"px)"}},_setListEnds:function(){if(this._environmentSupportsTouch&&this._currentPage.element){for(var e=this._panningDivContainer.style,t=0,n=0,i=this._getTailOfBuffer(),o=this._getHeadOfBuffer(),r=g["scroll-limit-"+(this._isHorizontal?"x-min":"y-min")].scriptName,s=g["scroll-limit-"+(this._isHorizontal?"x-max":"y-max")].scriptName;!o.element&&(o=o.prev,o!==this._prevMarker.prev););for(;!i.element&&(i=i.next,i!==this._prevMarker););n=this._getItemStart(o),t=this._getItemStart(i),e[r]=t+"px",e[s]=n+"px"}},_viewportOnItemStart:function(){return this._getItemStart(this._currentPage)===this._getViewportStart()},_restoreAnimatedElement:function(e,t){var n=!0;return e.elementUniqueID!==_(t.element)||e.element?this._forEachPage(function(e){e.elementUniqueID!==t.elementUniqueID||e.element||(e.setElement(t.element,!0),n=!1)}):(e.setElement(t.element,!0),n=!1),n},_itemSettledOn:function(){this._lastTimeoutRequest&&(this._lastTimeoutRequest.cancel(),this._lastTimeoutRequest=null);var n=this;i._setImmediate(function(){n._viewportOnItemStart()&&(n._blockTabs=!1,n._currentPage.element&&n._lastSelectedElement!==n._currentPage.element&&(n._lastSelectedPage&&n._lastSelectedPage.element&&!e(n._lastSelectedPage.element)&&n._lastSelectedPage.element.setAttribute("aria-selected",!1),n._lastSelectedPage=n._currentPage,n._lastSelectedElement=n._currentPage.element,e(n._currentPage.element)||n._currentPage.element.setAttribute("aria-selected",!0),d.schedule(function(){if(n._currentPage.element){(n._hasFocus||n._hadFocus)&&(n._hadFocus=!1,m._setActive(n._currentPage.element),n._tabManager.childFocus=n._currentPage.element);var e=t.document.createEvent("CustomEvent");e.initCustomEvent(f.pageSelectedEvent,!0,!1,{source:n._flipperDiv}),n._writeProfilerMark("WinJS.UI.FlipView:pageSelectedEvent,info"),n._currentPage.element.dispatchEvent(e);var i=n._currentPage.element;if(i){var o=n._itemsManager._recordFromElement(i,!0);o&&o.renderComplete.then(function(){i===n._currentPage.element&&(n._currentPage.element.setAttribute("aria-setsize",n._cachedSize),n._currentPage.element.setAttribute("aria-posinset",n.currentIndex()+1),n._bufferAriaStartMarker.setAttribute("aria-flowto",n._currentPage.element.id),e=t.document.createEvent("CustomEvent"),e.initCustomEvent(f.pageCompletedEvent,!0,!1,{source:n._flipperDiv}),n._writeProfilerMark("WinJS.UI.FlipView:pageCompletedEvent,info"),n._currentPage.element.dispatchEvent(e))})}}},d.Priority.normal,null,"WinJS.UI.FlipView._dispatchPageSelectedEvent")))})},_forEachPage:function(e){var t=this._prevMarker;do{if(e(t))break;t=t.next}while(t!==this._prevMarker)},_changeFlipPage:function(e,t,n){this._writeProfilerMark("WinJS.UI.FlipView:_changeFlipPage,info"),e.element=null,e.setElement?e.setElement(n,!0):(t.parentNode.removeChild(t),e.elementRoot.appendChild(n));var i=t.style;return i.position="absolute",i.left="0px",i.top="0px",i.opacity=1,e.pageRoot.appendChild(t),t.style.left=Math.max(0,(e.pageRoot.offsetWidth-t.offsetWidth)/2)+"px",t.style.top=Math.max(0,(e.pageRoot.offsetHeight-t.offsetHeight)/2)+"px",l.fadeOut(t).then(function(){t.parentNode&&t.parentNode.removeChild(t)})},_deleteFlipPage:function(e){a("WinJS.UI.FlipView:_deleteFlipPage,info"),e.elementRoot.style.opacity=0;var t=l.createDeleteFromListAnimation([e.elementRoot]),n=this;return t.execute().then(function(){e.discardable&&(e.discard(),n._itemsManager.releaseItem(e.element))})},_insertFlipPage:function(e){a("WinJS.UI.FlipView:_insertFlipPage,info"),e.elementRoot.style.opacity=1;var t=l.createAddToListAnimation([e.elementRoot]);return t.execute().then(function(){e.discardable&&e.discard()})},_moveFlipPage:function(e,t){a("WinJS.UI.FlipView:_moveFlipPage,info");var n=l.createRepositionAnimation(e.pageRoot);t();var i=this;return n.execute().then(function(){if(e.discardable){e.discard();var t=i._getAnimationRecord(e.element);t&&!t.successfullyMoved&&i._itemsManager.releaseItem(e.element)}})},_handleManipulationStateChanged:function(e){this._manipulationState=e.currentState,0===e.currentState&&e.target===this._panningDivContainer&&(this._itemSettledOn(),this._ensureCentered())}},{supportedForProcessing:!1});return w.flipPageBufferCount=2,w})})}),i("require-style!less/styles-flipview",[],function(){}),i("require-style!less/colors-flipview",[],function(){}),i("WinJS/Controls/FlipView",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Animations/_TransitionAnimation","../BindingList","../Promise","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_ItemsManager","../Utilities/_UI","./ElementResizeInstrument","./FlipView/_Constants","./FlipView/_PageManager","require-style!less/styles-flipview","require-style!less/colors-flipview"],function(e,t,n,i,o,r,s,l,u,c,d,h,m,p,f,_,g,v,y,b,w){"use strict";t.Namespace.define("WinJS.UI",{FlipView:t.Namespace._lazy(function(){function _(e){var t=e[0].target.winControl;t&&t instanceof R&&e.some(function(e){return"dir"===e.attributeName||"style"===e.attributeName&&t._cachedStyleDir!==e.target.style.direction})&&(t._cachedStyleDir=t._flipviewDiv.style.direction,t._rtl="rtl"===f._getComputedStyle(t._flipviewDiv,null).direction,t._setupOrientation())}var C="win-navbutton",E="win-flipview",S="win-navleft",I="win-navright",x="win-navtop",j="win-navbottom",k="Previous",P="Next",T=3e3,O=500,A="&#57570;",M="&#57571;",D="&#57572;",L="&#57573;",N=40,B={get badAxis(){return"Invalid argument: orientation must be a string, either 'horizontal' or 'vertical'"},get badCurrentPage(){return"Invalid argument: currentPage must be a number greater than or equal to zero and be within the bounds of the datasource"},get noitemsManagerForCount(){return"Invalid operation: can't get count if no dataSource has been set"},get badItemSpacingAmount(){return"Invalid argument: itemSpacing must be a number greater than or equal to zero"},get navigationDuringStateChange(){return"Error: After changing itemDataSource or itemTemplate, any navigation in the FlipView control should be delayed until the pageselected event is fired."},get panningContainerAriaLabel(){return r._getWinJSString("ui/flipViewPanningContainerAriaLabel").value}},R=t.Class.define(function(t,n){s("WinJS.UI.FlipView:constructor,StartTM"),this._disposed=!1,t=t||e.document.createElement("div");var i=!0,o=null,r=g._trivialHtmlRenderer,a=0,l=0;if(n){if(n.orientation&&"string"==typeof n.orientation)switch(n.orientation.toLowerCase()){case"horizontal":i=!0;break;case"vertical":i=!1}n.currentPage&&(a=n.currentPage>>0,a=a<0?0:a),n.itemDataSource&&(o=n.itemDataSource),n.itemTemplate&&(r=this._getItemRenderer(n.itemTemplate)),n.itemSpacing&&(l=n.itemSpacing>>0,l=l<0?0:l)}if(!o){var u=new c.List;o=u.dataSource}f.empty(t),this._flipviewDiv=t,t.winControl=this,m._setOptions(this,n,!0),this._initializeFlipView(t,i,o,r,a,l),f.addClass(t,"win-disposable"),this._avoidTrappingTime=0,this._windowWheelHandlerBound=this._windowWheelHandler.bind(this),f._globalListener.addEventListener(t,"wheel",this._windowWheelHandlerBound),f._globalListener.addEventListener(t,"mousewheel",this._windowWheelHandlerBound),s("WinJS.UI.FlipView:constructor,StopTM")},{dispose:function(){s("WinJS.UI.FlipView:dispose,StopTM"),this._disposed||(f._globalListener.removeEventListener(this._flipviewDiv,"wheel",this._windowWheelHandlerBound),f._globalListener.removeEventListener(this._flipviewDiv,"mousewheel",this._windowWheelHandlerBound),f._resizeNotifier.unsubscribe(this._flipviewDiv,this._resizeHandlerBound),this._elementResizeInstrument.dispose(),this._disposed=!0,this._pageManager.dispose(),this._itemsManager.release(),this.itemDataSource=null)},next:function(){s("WinJS.UI.FlipView:next,info");var e=this._nextAnimation?null:this._cancelDefaultAnimation;return this._navigate(!0,e)},previous:function(){s("WinJS.UI.FlipView:prev,info");var e=this._prevAnimation?null:this._cancelDefaultAnimation;return this._navigate(!1,e)},element:{get:function(){return this._flipviewDiv}},currentPage:{get:function(){return this._getCurrentIndex()},set:function(e){if(s("WinJS.UI.FlipView:set_currentPage,info"),this._pageManager._notificationsEndedSignal){var t=this;return void this._pageManager._notificationsEndedSignal.promise.done(function(){t._pageManager._notificationsEndedSignal=null,t.currentPage=e})}if(!this._animating||this._cancelAnimation())if(e>>=0,e=e<0?0:e,this._refreshTimer)this._indexAfterRefresh=e;else{this._pageManager._cachedSize>0?e=Math.min(this._pageManager._cachedSize-1,e):0===this._pageManager._cachedSize&&(e=0);var t=this;if(this._jumpingToIndex===e)return;var n=function(){t._jumpingToIndex=null};this._jumpingToIndex=e;var i=this._jumpAnimation?this._jumpAnimation:this._defaultAnimation.bind(this),o=this._jumpAnimation?null:this._cancelDefaultAnimation,r=function(){t._completeJump()};this._pageManager.startAnimatedJump(e,o,r).then(function(e){if(e){t._animationsStarted();var o=e.oldPage.pageRoot,a=e.newPage.pageRoot;t._contentDiv.appendChild(o),t._contentDiv.appendChild(a),t._completeJumpPending=!0,i(o,a).then(function(){t._completeJumpPending&&(r(),s("WinJS.UI.FlipView:set_currentPage.animationComplete,info"))}).done(n,n)}else n()},n)}}},orientation:{get:function(){return this._axisAsString()},set:function(e){s("WinJS.UI.FlipView:set_orientation,info");var t="horizontal"===e;t!==this._isHorizontal&&(this._isHorizontal=t,this._setupOrientation(),this._pageManager.setOrientation(this._isHorizontal))}},itemDataSource:{get:function(){return this._dataSource},set:function(e){s("WinJS.UI.FlipView:set_itemDataSource,info"),this._dataSourceAfterRefresh=e||(new c.List).dataSource,this._refresh()}},itemTemplate:{get:function(){return this._itemRenderer},set:function(e){s("WinJS.UI.FlipView:set_itemTemplate,info"),this._itemRendererAfterRefresh=this._getItemRenderer(e),this._refresh()}},itemSpacing:{get:function(){return this._pageManager.getItemSpacing()},set:function(e){s("WinJS.UI.FlipView:set_itemSpacing,info"),e>>=0,e=e<0?0:e,this._pageManager.setItemSpacing(e)}},count:function(){s("WinJS.UI.FlipView:count,info");var e=this;return new d(function(t,n){e._itemsManager?e._pageManager._cachedSize===v.CountResult.unknown||e._pageManager._cachedSize>=0?t(e._pageManager._cachedSize):e._dataSource.getCount().then(function(n){e._pageManager._cachedSize=n,t(n)}):n(R.noitemsManagerForCount)})},setCustomAnimations:function(e){s("WinJS.UI.FlipView:setCustomAnimations,info"),void 0!==e.next&&(this._nextAnimation=e.next),void 0!==e.previous&&(this._prevAnimation=e.previous),void 0!==e.jump&&(this._jumpAnimation=e.jump)},forceLayout:function(){s("WinJS.UI.FlipView:forceLayout,info"),this._pageManager.resized()},_initializeFlipView:function(t,i,o,r,s,a){function l(e){e.setAttribute("aria-hidden",!0),e.style.visibility="hidden",e.style.opacity=0,e.tabIndex=-1,e.style.zIndex=1e3}function u(e){if(e.pointerType!==j){if(h._touchInteraction=!1,e.screenX===h._lastMouseX&&e.screenY===h._lastMouseY)return;h._lastMouseX=e.screenX,h._lastMouseY=e.screenY,h._mouseInViewport=!0,h._fadeInButton("prev"),h._fadeInButton("next"),h._fadeOutButtons()}}function c(e){e.pointerType===j?(h._mouseInViewport=!1,h._touchInteraction=!0,h._fadeOutButtons(!0)):(h._touchInteraction=!1,h._isInteractive(e.target)||0!==(4&e.buttons)&&(e.stopPropagation(),e.preventDefault()))}function d(e){e.pointerType!==j&&(h._touchInteraction=!1)}var h=this,m=!1;this._flipviewDiv=t,f.addClass(this._flipviewDiv,E),this._contentDiv=e.document.createElement("div"),this._panningDivContainer=e.document.createElement("div"),this._panningDivContainer.className="win-surface",this._panningDiv=e.document.createElement("div"),this._prevButton=e.document.createElement("button"),this._nextButton=e.document.createElement("button"),this._isHorizontal=i,this._dataSource=o,this._itemRenderer=r,this._itemsManager=null,this._pageManager=null;for(var p=["scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","overflow-style"],b=!0,C=n._browserStyleEquivalents,S=0,I=p.length;S<I;S++)b=b&&!!C[p[S]];b=b&&!!n._browserEventEquivalents.manipulationStateChanged,b=b&&f._supportsSnapPoints,this._environmentSupportsTouch=b;var x=this._flipviewDiv.getAttribute("aria-label");x||this._flipviewDiv.setAttribute("aria-label",""),this._flipviewDiv.setAttribute("role","listbox"),this._flipviewDiv.style.overflow||(this._flipviewDiv.style.overflow="hidden"),this._contentDiv.style.position="relative",this._contentDiv.style.zIndex=0,this._contentDiv.style.width="100%",this._contentDiv.style.height="100%",this._panningDiv.style.position="relative",this._panningDivContainer.style.position="relative",this._panningDivContainer.style.width="100%",this._panningDivContainer.style.height="100%",this._panningDivContainer.setAttribute("role","group"),this._panningDivContainer.setAttribute("aria-label",B.panningContainerAriaLabel),this._contentDiv.appendChild(this._panningDivContainer),this._flipviewDiv.appendChild(this._contentDiv),this._panningDiv.style.width="100%",this._panningDiv.style.height="100%",this._setupOrientation(),l(this._prevButton),l(this._nextButton),this._prevButton.setAttribute("aria-label",k),this._nextButton.setAttribute("aria-label",P),this._prevButton.setAttribute("type","button"),this._nextButton.setAttribute("type","button"),this._panningDivContainer.appendChild(this._panningDiv),this._contentDiv.appendChild(this._prevButton),this._contentDiv.appendChild(this._nextButton),this._itemsManagerCallback={inserted:function(e,t,n){h._itemsManager._itemFromPromise(e).then(function(e){var i=h._itemsManager._elementFromHandle(t),o=h._itemsManager._elementFromHandle(n);h._pageManager.inserted(e,i,o,!0)})},countChanged:function(e,t){h._pageManager._cachedSize=e,t!==v.CountResult.unknown&&h._fireDatasourceCountChangedEvent()},changed:function(e,t){h._pageManager.changed(e,t)},moved:function(e,t,n,i){var o=function(e){h._pageManager.moved(e,t,n)};e?o(e):h._itemsManager._itemFromPromise(i).then(o)},removed:function(e,t){e&&h._pageManager.removed(e,t,!0)},knownUpdatesComplete:function(){},beginNotifications:function(){h._cancelAnimation(),h._pageManager.notificationsStarted()},endNotifications:function(){h._pageManager.notificationsEnded()},itemAvailable:function(e,t){h._pageManager.itemRetrieved(e,t)},reload:function(){h._pageManager.reload()}},this._dataSource&&(this._itemsManager=g._createItemsManager(this._dataSource,this._itemRenderer,this._itemsManagerCallback,{ownerElement:this._flipviewDiv})),this._pageManager=new w._FlipPageManager(this._flipviewDiv,this._panningDiv,this._panningDivContainer,this._itemsManager,a,this._environmentSupportsTouch,{hidePreviousButton:function(){h._hasPrevContent=!1,h._fadeOutButton("prev"),h._prevButton.setAttribute("aria-hidden",!0)},showPreviousButton:function(){h._hasPrevContent=!0,h._fadeInButton("prev"),h._prevButton.setAttribute("aria-hidden",!1)},hideNextButton:function(){h._hasNextContent=!1,h._fadeOutButton("next"),h._nextButton.setAttribute("aria-hidden",!0)},showNextButton:function(){h._hasNextContent=!0,h._fadeInButton("next"),h._nextButton.setAttribute("aria-hidden",!1)}}),this._pageManager.initialize(s,this._isHorizontal),this._dataSource.getCount().then(function(e){h._pageManager._cachedSize=e}),this._prevButton.addEventListener("click",function(){h.previous()},!1),this._nextButton.addEventListener("click",function(){h.next()},!1),new f._MutationObserver(_).observe(this._flipviewDiv,{attributes:!0,attributeFilter:["dir","style"]}),this._cachedStyleDir=this._flipviewDiv.style.direction,this._contentDiv.addEventListener("mouseleave",function(){h._mouseInViewport=!1},!1);var j=f._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch";this._environmentSupportsTouch&&(f._addEventListener(this._contentDiv,"pointerdown",c,!1),f._addEventListener(this._contentDiv,"pointermove",u,!1),f._addEventListener(this._contentDiv,"pointerup",d,!1)),this._panningDivContainer.addEventListener("scroll",function(){h._scrollPosChanged()},!1),this._panningDiv.addEventListener("blur",function(){h._touchInteraction||h._fadeOutButtons()},!0),this._resizeHandlerBound=this._resizeHandler.bind(this),this._elementResizeInstrument=new y._ElementResizeInstrument,this._flipviewDiv.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandlerBound),f._resizeNotifier.subscribe(this._flipviewDiv,this._resizeHandlerBound);var T=e.document.body.contains(this._flipviewDiv);T&&this._elementResizeInstrument.addedToDom(),f._addInsertedNotifier(this._flipviewDiv);var O=!0;this._flipviewDiv.addEventListener("WinJSNodeInserted",function(e){O?(O=!1,T||(h._elementResizeInstrument.addedToDom(),h._pageManager.resized())):h._pageManager.resized()},!1),this._flipviewDiv.addEventListener("keydown",function(e){if(!h._disposed){var t=!0;if(!h._isInteractive(e.target)){var n=f.Key,i=!1;if(h._isHorizontal)switch(e.keyCode){case n.leftArrow:!h._rtl&&h.currentPage>0?(h.previous(),i=!0):h._rtl&&h.currentPage<h._pageManager._cachedSize-1&&(h.next(),i=!0);break;case n.pageUp:h.currentPage>0&&(h.previous(),i=!0);break;case n.rightArrow:!h._rtl&&h.currentPage<h._pageManager._cachedSize-1?(h.next(),i=!0):h._rtl&&h.currentPage>0&&(h.previous(),i=!0);break;case n.pageDown:h.currentPage<h._pageManager._cachedSize-1&&(h.next(),i=!0);break;case n.upArrow:case n.downArrow:i=!0,t=!1}else switch(e.keyCode){case n.upArrow:case n.pageUp:h.currentPage>0&&(h.previous(),i=!0);break;case n.downArrow:case n.pageDown:h.currentPage<h._pageManager._cachedSize-1&&(h.next(),i=!0);break;case n.space:i=!0}switch(e.keyCode){case n.home:h.currentPage=0,i=!0;break;case n.end:h._pageManager._cachedSize>0&&(h.currentPage=h._pageManager._cachedSize-1),i=!0}if(i)return e.preventDefault(),t&&e.stopPropagation(),!0}}},!1),m=!0},_windowWheelHandler:function(e){if(!this._disposed){e=e.detail.originalEvent;var t=e.target&&(this._flipviewDiv.contains(e.target)||this._flipviewDiv===e.target),i=this,o=n._now(),r=this._avoidTrappingTime>o;t&&!r||(this._avoidTrappingTime=o+O),t&&r?(this._panningDivContainer.style.overflowX="hidden",this._panningDivContainer.style.overflowY="hidden",n._yieldForDomModification(function(){i._pageManager._ensureCentered(),i._isHorizontal?(i._panningDivContainer.style.overflowX=i._environmentSupportsTouch?"scroll":"hidden",i._panningDivContainer.style.overflowY="hidden"):(i._panningDivContainer.style.overflowY=i._environmentSupportsTouch?"scroll":"hidden",i._panningDivContainer.style.overflowX="hidden")})):t&&this._pageManager.simulateMouseWheelScroll(e)}},_isInteractive:function(e){if(e.parentNode)for(var t=e.parentNode.querySelectorAll(".win-interactive, .win-interactive *"),n=0,i=t.length;n<i;n++)if(t[n]===e)return!0;return!1},_resizeHandler:function(){s("WinJS.UI.FlipView:resize,StartTM"),this._pageManager.resized()},_refreshHandler:function(){var e=this._dataSourceAfterRefresh||this._dataSource,t=this._itemRendererAfterRefresh||this._itemRenderer,n=this._indexAfterRefresh||0;this._setDatasource(e,t,n),this._dataSourceAfterRefresh=null,this._itemRendererAfterRefresh=null,this._indexAfterRefresh=0,this._refreshTimer=!1},_refresh:function(){if(!this._refreshTimer){var e=this;this._refreshTimer=!0,h.schedule(function(){e._refreshTimer&&!e._disposed&&e._refreshHandler()},h.Priority.high,null,"WinJS.UI.FlipView._refreshHandler")}},_getItemRenderer:function(t){var n=null;if("function"==typeof t){var i=new d(function(){}),o=t(i);n=o.element?"object"===a(o.element)&&"function"==typeof o.element.then?function(n){var i=e.document.createElement("div");return i.className="win-template",p.markDisposable(i),{element:i,renderComplete:t(n).element.then(function(e){i.appendChild(e)})}}:t:function(n){var i=e.document.createElement("div");return i.className="win-template",p.markDisposable(i),{element:i,renderComplete:n.then(function(){return d.as(t(n)).then(function(e){i.appendChild(e)})})}}}else"object"===("undefined"==typeof t?"undefined":a(t))&&(n=t.renderItem);return n},_navigate:function(e,t){if(n.validation&&this._refreshTimer)throw new i("WinJS.UI.FlipView.NavigationDuringStateChange",B.navigationDuringStateChange);if(this._animating||(this._animatingForward=e),this._goForward=e,this._animating&&!this._cancelAnimation())return!1;var o=this,r=e?this._nextAnimation:this._prevAnimation,s=r?r:this._defaultAnimation.bind(this),a=function(e){o._completeNavigation(e)},l=this._pageManager.startAnimatedNavigation(e,t,a);if(l){this._animationsStarted();var u=l.outgoing.pageRoot,c=l.incoming.pageRoot;return this._contentDiv.appendChild(u),this._contentDiv.appendChild(c),this._completeNavigationPending=!0,s(u,c).then(function(){o._completeNavigationPending&&a(o._goForward)}).done(),!0}return!1},_cancelDefaultAnimation:function(e,t){e.style.opacity=0,t.style.animationName="",t.style.opacity=1},_cancelAnimation:function(){if(this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.completionCallback){var e=this._pageManager._navigationAnimationRecord.cancelAnimationCallback;if(e&&(e=e.bind(this)),this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var t=this._pageManager._navigationAnimationRecord.elementContainers[0],n=this._pageManager._navigationAnimationRecord.elementContainers[1],i=t.pageRoot,o=n.pageRoot;return e&&e(i,o),this._pageManager._navigationAnimationRecord.completionCallback(this._animatingForward),!0}}return!1},_completeNavigation:function(e){if(!this._disposed){if(this._pageManager._resizing=!1,this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var t=this._pageManager._navigationAnimationRecord.elementContainers[0],n=this._pageManager._navigationAnimationRecord.elementContainers[1],i=t.pageRoot,o=n.pageRoot;i.parentNode&&i.parentNode.removeChild(i),o.parentNode&&o.parentNode.removeChild(o),this._pageManager.endAnimatedNavigation(e,t,n),this._fadeOutButtons(),this._scrollPosChanged(),this._pageManager._ensureCentered(!0),this._animationsFinished()}this._completeNavigationPending=!1}},_completeJump:function(){if(!this._disposed){if(this._pageManager._resizing=!1,this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var e=this._pageManager._navigationAnimationRecord.elementContainers[0],t=this._pageManager._navigationAnimationRecord.elementContainers[1],n=e.pageRoot,i=t.pageRoot;n.parentNode&&n.parentNode.removeChild(n),i.parentNode&&i.parentNode.removeChild(i),this._pageManager.endAnimatedJump(e,t),this._animationsFinished()}this._completeJumpPending=!1}},_setCurrentIndex:function(e){return this._pageManager.jumpToIndex(e)},_getCurrentIndex:function(){return this._pageManager.currentIndex()},_setDatasource:function(e,t,n){this._animating&&this._cancelAnimation();var i=0;void 0!==n&&(i=n),this._dataSource=e,this._itemRenderer=t;var o=this._itemsManager;this._itemsManager=g._createItemsManager(this._dataSource,this._itemRenderer,this._itemsManagerCallback,{ownerElement:this._flipviewDiv}),this._dataSource=this._itemsManager.dataSource;var r=this;this._dataSource.getCount().then(function(e){r._pageManager._cachedSize=e}),this._pageManager.setNewItemsManager(this._itemsManager,i),o&&o.release()},_fireDatasourceCountChangedEvent:function(){var t=this;h.schedule(function(){var n=e.document.createEvent("Event");n.initEvent(R.datasourceCountChangedEvent,!0,!0),s("WinJS.UI.FlipView:dataSourceCountChangedEvent,info"),t._flipviewDiv.dispatchEvent(n)},h.Priority.normal,null,"WinJS.UI.FlipView._dispatchDataSourceCountChangedEvent")},_scrollPosChanged:function(){this._disposed||this._pageManager.scrollPosChanged()},_axisAsString:function(){return this._isHorizontal?"horizontal":"vertical"},_setupOrientation:function(){if(this._isHorizontal){this._panningDivContainer.style.overflowX=this._environmentSupportsTouch?"scroll":"hidden",
this._panningDivContainer.style.overflowY="hidden";var e="rtl"===f._getComputedStyle(this._flipviewDiv,null).direction;this._rtl=e,e?(this._prevButton.className=C+" "+I,this._nextButton.className=C+" "+S):(this._prevButton.className=C+" "+S,this._nextButton.className=C+" "+I),this._prevButton.innerHTML=e?M:A,this._nextButton.innerHTML=e?A:M}else this._panningDivContainer.style.overflowY=this._environmentSupportsTouch?"scroll":"hidden",this._panningDivContainer.style.overflowX="hidden",this._prevButton.className=C+" "+x,this._nextButton.className=C+" "+j,this._prevButton.innerHTML=D,this._nextButton.innerHTML=L;this._panningDivContainer.style.msOverflowStyle="none"},_fadeInButton:function(e,t){(this._mouseInViewport||t||!this._environmentSupportsTouch)&&("next"===e&&this._hasNextContent?(this._nextButtonAnimation&&(this._nextButtonAnimation.cancel(),this._nextButtonAnimation=null),this._nextButton.style.visibility="visible",this._nextButtonAnimation=this._fadeInFromCurrentValue(this._nextButton)):"prev"===e&&this._hasPrevContent&&(this._prevButtonAnimation&&(this._prevButtonAnimation.cancel(),this._prevButtonAnimation=null),this._prevButton.style.visibility="visible",this._prevButtonAnimation=this._fadeInFromCurrentValue(this._prevButton)))},_fadeOutButton:function(e){var t=this;return"next"===e?(this._nextButtonAnimation&&(this._nextButtonAnimation.cancel(),this._nextButtonAnimation=null),this._nextButtonAnimation=l.fadeOut(this._nextButton).then(function(){t._nextButton.style.visibility="hidden"}),this._nextButtonAnimation):(this._prevButtonAnimation&&(this._prevButtonAnimation.cancel(),this._prevButtonAnimation=null),this._prevButtonAnimation=l.fadeOut(this._prevButton).then(function(){t._prevButton.style.visibility="hidden"}),this._prevButtonAnimation)},_fadeOutButtons:function(e){if(this._environmentSupportsTouch){this._buttonFadePromise&&(this._buttonFadePromise.cancel(),this._buttonFadePromise=null);var t=this;this._buttonFadePromise=(e?d.wrap():d.timeout(u._animationTimeAdjustment(T))).then(function(){t._fadeOutButton("prev"),t._fadeOutButton("next"),t._buttonFadePromise=null})}},_animationsStarted:function(){this._animating=!0},_animationsFinished:function(){this._animating=!1},_defaultAnimation:function(e,t){var n={};t.style.left="0px",t.style.top="0px",t.style.opacity=0;var i=e.itemIndex>t.itemIndex?-N:N;n.left=(this._isHorizontal?this._rtl?-i:i:0)+"px",n.top=(this._isHorizontal?0:i)+"px";var o=l.fadeOut(e),r=l.enterContent(t,[n],{mechanism:"transition"});return d.join([o,r])},_fadeInFromCurrentValue:function(e){return u.executeTransition(e,{property:"opacity",delay:0,duration:167,timing:"linear",to:1})}},b);return t.Class.mix(R,o.createEventProperties(R.datasourceCountChangedEvent,R.pageVisibilityChangedEvent,R.pageSelectedEvent,R.pageCompletedEvent)),t.Class.mix(R,m.DOMEventMixin),R})})}),i("WinJS/Controls/ItemContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","../Utilities/_UI","./ItemContainer/_Constants","./ItemContainer/_ItemEventsHandler"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v){"use strict";var y=r._createEventProperty,b={invoked:"invoked",selectionchanging:"selectionchanging",selectionchanged:"selectionchanged"};n.Namespace._moduleDefine(e,"WinJS.UI",{ItemContainer:n.Namespace._lazy(function(){var r={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get swipeOrientationDeprecated(){return"Invalid configuration: swipeOrientation is deprecated. The control will default this property to 'none'"},get swipeBehaviorDeprecated(){return"Invalid configuration: swipeBehavior is deprecated. The control will default this property to 'none'"}},a=n.Class.define(function(n,i){function s(e,t,n){return{name:t?e:e.toLowerCase(),handler:function(t){l["_on"+e](t)},capture:n}}if(n=n||t.document.createElement("DIV"),this._id=n.id||m._uniqueID(n),this._writeProfilerMark("constructor,StartTM"),i=i||{},n.winControl)throw new o("WinJS.UI.ItemContainer.DuplicateConstruction",r.duplicateConstruction);n.winControl=this,this._element=n,m.addClass(n,"win-disposable"),this._selectionMode=_.SelectionMode.single,this._draggable=!1,this._pressedEntity={type:_.ObjectType.item,index:g._INVALID_INDEX},this.tapBehavior=_.TapBehavior.invokeOnly,m.addClass(this.element,a._ClassName.itemContainer+" "+g._containerClass),this._setupInternalTree(),this._selection=new e._SingleItemSelectionManager(n,this._itemBox),this._setTabIndex(),d.setOptions(this,i),this._mutationObserver=new m._MutationObserver(this._itemPropertyChange.bind(this)),this._mutationObserver.observe(n,{attributes:!0,attributeFilter:["aria-selected"]}),this._setAriaRole();var l=this;this.selectionDisabled||c.schedule(function(){l._setDirectionClass()},c.Priority.normal,null,"WinJS.UI.ItemContainer_async_initialize"),this._itemEventsHandler=new v._ItemEventsHandler(Object.create({containerFromElement:function(){return l.element},indexForItemElement:function(){return 1},indexForHeaderElement:function(){return g._INVALID_INDEX},itemBoxAtIndex:function(){return l._itemBox},itemAtIndex:function(){return l.element},headerAtIndex:function(){return null},containerAtIndex:function(){return l.element},isZombie:function(){return this._disposed},getItemPosition:function(){return l._getItemPosition()},rtl:function(){return l._rtl()},fireInvokeEvent:function(){l._fireInvokeEvent()},verifySelectionAllowed:function(){return l._verifySelectionAllowed()},changeFocus:function(){},selectRange:function(e,t){return l._selection.set({firstIndex:e,lastIndex:t})}},{pressedEntity:{get:function(){return l._pressedEntity},set:function(e){l._pressedEntity=e}},pressedElement:{enumerable:!0,set:function(e){l._pressedElement=e}},eventHandlerRoot:{enumerable:!0,get:function(){return l.element}},selectionMode:{enumerable:!0,get:function(){return l._selectionMode}},accessibleItemClass:{enumerable:!0,get:function(){return g._containerClass}},canvasProxy:{enumerable:!0,get:function(){return l._captureProxy}},tapBehavior:{enumerable:!0,get:function(){return l._tapBehavior}},draggable:{enumerable:!0,get:function(){return l._draggable}},selection:{enumerable:!0,get:function(){return l._selection}},customFootprintParent:{enumerable:!0,get:function(){return null}},skipPreventDefaultOnPointerDown:{enumerable:!0,get:function(){return!0}}}));var u=[s("PointerDown"),s("Click"),s("PointerUp"),s("PointerCancel"),s("LostPointerCapture"),s("ContextMenu"),s("MSHoldVisual",!0),s("FocusIn"),s("FocusOut"),s("DragStart"),s("DragEnd"),s("KeyDown")];u.forEach(function(e){m._addEventListener(l.element,e.name,e.handler,!!e.capture)}),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},draggable:{get:function(){return this._draggable},set:function(e){i.isPhone||this._draggable!==e&&(this._draggable=e,this._updateDraggableAttribute())}},selected:{get:function(){return this._selection.selected},set:function(e){this._selection.selected!==e&&(this._selection.selected=e)}},swipeOrientation:{get:function(){return"none"},set:function(e){m._deprecated(r.swipeOrientationDeprecated)}},tapBehavior:{get:function(){return this._tapBehavior},set:function(e){i.isPhone&&e===_.TapBehavior.directSelect||(this._tapBehavior=e,this._setAriaRole())}},swipeBehavior:{get:function(){return"none"},set:function(e){m._deprecated(r.swipeBehaviorDeprecated)}},selectionDisabled:{get:function(){return this._selectionMode===_.SelectionMode.none},set:function(e){e?this._selectionMode=_.SelectionMode.none:(this._setDirectionClass(),this._selectionMode=_.SelectionMode.single),this._setAriaRole()}},oninvoked:y(b.invoked),onselectionchanging:y(b.selectionchanging),onselectionchanged:y(b.selectionchanged),forceLayout:function(){this._forceLayout()},dispose:function(){this._disposed||(this._disposed=!0,this._itemEventsHandler.dispose(),h.disposeSubTree(this.element))},_onMSManipulationStateChanged:function(e){this._itemEventsHandler.onMSManipulationStateChanged(e)},_onPointerDown:function(e){this._itemEventsHandler.onPointerDown(e)},_onClick:function(e){this._itemEventsHandler.onClick(e)},_onPointerUp:function(e){m.hasClass(this._itemBox,g._itemFocusClass)&&this._onFocusOut(e),this._itemEventsHandler.onPointerUp(e)},_onPointerCancel:function(e){this._itemEventsHandler.onPointerCancel(e)},_onLostPointerCapture:function(e){this._itemEventsHandler.onLostPointerCapture(e)},_onContextMenu:function(e){this._itemEventsHandler.onContextMenu(e)},_onMSHoldVisual:function(e){this._itemEventsHandler.onMSHoldVisual(e)},_onFocusIn:function(){if(!this._itemBox.querySelector("."+g._itemFocusOutlineClass)&&f._keyboardSeenLast){m.addClass(this._itemBox,g._itemFocusClass);var e=t.document.createElement("div");e.className=g._itemFocusOutlineClass,this._itemBox.appendChild(e)}},_onFocusOut:function(){m.removeClass(this._itemBox,g._itemFocusClass);var e=this._itemBox.querySelector("."+g._itemFocusOutlineClass);e&&e.parentNode.removeChild(e)},_onDragStart:function(e){if(this._pressedElement&&this._itemEventsHandler._isInteractive(this._pressedElement))e.preventDefault();else{this._dragging=!0;var t=this;if(e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage){var n=this.element.getBoundingClientRect();e.dataTransfer.setDragImage(this.element,e.clientX-n.left,e.clientY-n.top)}i._yieldForDomModification(function(){t._dragging&&m.addClass(t._itemBox,g._dragSourceClass)})}},_onDragEnd:function(){this._dragging=!1,m.removeClass(this._itemBox,g._dragSourceClass),this._itemEventsHandler.resetPointerDownState()},_onKeyDown:function(e){if(!this._itemEventsHandler._isInteractive(e.target)){var t=m.Key,n=e.keyCode,i=!1;if(e.ctrlKey||n!==t.enter)e.ctrlKey&&n===t.enter||n===t.space?this.selectionDisabled||(this.selected=!this.selected,i=m._setActive(this.element)):n===t.escape&&this.selected&&(this.selected=!1,i=!0);else{var o=this._verifySelectionAllowed();o.canTapSelect&&(this.selected=!this.selected),this._fireInvokeEvent(),i=!0}i&&(e.stopPropagation(),e.preventDefault())}},_setTabIndex:function(){var e=this.element.getAttribute("tabindex");e||this.element.setAttribute("tabindex","0")},_rtl:function(){return"boolean"!=typeof this._cachedRTL&&(this._cachedRTL="rtl"===m._getComputedStyle(this.element,null).direction),this._cachedRTL},_setDirectionClass:function(){m[this._rtl()?"addClass":"removeClass"](this.element,g._rtlListViewClass)},_forceLayout:function(){this._cachedRTL="rtl"===m._getComputedStyle(this.element,null).direction,this._setDirectionClass()},_getItemPosition:function(){var e=this.element;return e?u.wrap({left:this._rtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft,top:e.offsetTop,totalWidth:m.getTotalWidth(e),totalHeight:m.getTotalHeight(e),contentWidth:m.getContentWidth(e),contentHeight:m.getContentHeight(e)}):u.cancel},_itemPropertyChange:function(e){if(!this._disposed){var t=e[0].target,n="true"===t.getAttribute("aria-selected");n!==m._isSelectionRendered(this._itemBox)&&(this.selectionDisabled?m._setAttribute(t,"aria-selected",!n):(this.selected=n,n!==this.selected&&m._setAttribute(t,"aria-selected",!n)))}},_updateDraggableAttribute:function(){this._itemBox.setAttribute("draggable",this._draggable)},_verifySelectionAllowed:function(){if(this._selectionMode!==_.SelectionMode.none&&this._tapBehavior===_.TapBehavior.toggleSelect){var e=this._selection.fireSelectionChanging();return{canSelect:e,canTapSelect:e&&this._tapBehavior===_.TapBehavior.toggleSelect}}return{canSelect:!1,canTapSelect:!1}},_setupInternalTree:function(){var e=t.document.createElement("div");e.className=g._itemClass,this._captureProxy=t.document.createElement("div"),this._itemBox=t.document.createElement("div"),this._itemBox.className=g._itemBoxClass;for(var n=this.element.firstChild;n;){var i=n.nextSibling;e.appendChild(n),n=i}this.element.appendChild(this._itemBox),this._itemBox.appendChild(e),this.element.appendChild(this._captureProxy)},_fireInvokeEvent:function(){if(this.tapBehavior!==_.TapBehavior.none){var e=t.document.createEvent("CustomEvent");e.initCustomEvent(b.invoked,!0,!1,{}),this.element.dispatchEvent(e)}},_setAriaRole:function(){if(!this.element.getAttribute("role")||this._usingDefaultItemRole){this._usingDefaultItemRole=!0;var e;e=this.tapBehavior===_.TapBehavior.none&&this.selectionDisabled?"listitem":"option",m._setAttribute(this.element,"role",e)}},_writeProfilerMark:function(e){var t="WinJS.UI.ItemContainer:"+this._id+":"+e;l(t),s.log&&s.log(t,null,"itemcontainerprofiler")}},{_ClassName:{itemContainer:"win-itemcontainer",vertical:"win-vertical",horizontal:"win-horizontal"}});return n.Class.mix(a,d.DOMEventMixin),a}),_SingleItemSelectionManager:n.Namespace._lazy(function(){return n.Class.define(function(e,t){this._selected=!1,this._element=e,this._itemBox=t},{selected:{get:function(){return this._selected},set:function(e){e=!!e,this._selected!==e&&this.fireSelectionChanging()&&(this._selected=e,v._ItemEventsHandler.renderSelection(this._itemBox,this._element,e,!0,this._element),this.fireSelectionChanged())}},count:function(){return this._selected?1:0},getIndices:function(){},getItems:function(){},getRanges:function(){},isEverything:function(){return!1},set:function(){this.selected=!0},clear:function(){this.selected=!1},add:function(){this.selected=!0},remove:function(){this.selected=!1},selectAll:function(){},fireSelectionChanging:function(){var e=t.document.createEvent("CustomEvent");return e.initCustomEvent(b.selectionchanging,!0,!0,{}),this._element.dispatchEvent(e)},fireSelectionChanged:function(){var e=t.document.createEvent("CustomEvent");e.initCustomEvent(b.selectionchanged,!0,!1,{}),this._element.dispatchEvent(e)},_isIncluded:function(){return this._selected},_getFocused:function(){return{type:_.ObjectType.item,index:g._INVALID_INDEX}}})})})}),i("WinJS/Controls/Repeater",["exports","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../BindingList","../BindingTemplate","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{Repeater:n.Namespace._lazy(function(){function e(e){var n=t.document.createElement("div");return n.textContent=JSON.stringify(e),n}var r="itemsloaded",m="itemchanging",p="itemchanged",f="iteminserting",_="iteminserted",g="itemmoving",v="itemmoved",y="itemremoving",b="itemremoved",w="itemsreloading",C="itemsreloaded",E=o._createEventProperty,S={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get asynchronousRender(){return"Top level items must render synchronously"},get repeaterReentrancy(){return"Cannot modify Repeater data until Repeater has commited previous modification."}},I=n.Class.define(function(e,n){if(e&&e.winControl)throw new i("WinJS.UI.Repeater.DuplicateConstruction",S.duplicateConstruction);this._element=e||t.document.createElement("div"),this._id=this._element.id||h._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),n=n||{},h.addClass(this._element,"win-repeater win-disposable"),this._render=null,this._modifying=!1,this._disposed=!1,this._element.winControl=this,this._dataListeners={itemchanged:this._dataItemChangedHandler.bind(this),iteminserted:this._dataItemInsertedHandler.bind(this),itemmoved:this._dataItemMovedHandler.bind(this),itemremoved:this._dataItemRemovedHandler.bind(this),reload:this._dataReloadHandler.bind(this)};var o=this._extractInlineTemplate();this._initializing=!0,this.template=n.template||o,this.data=n.data,this._initializing=!1,c._setOptions(this,n,!0),this._repeatedDOM=[],this._renderAllItems(),this.dispatchEvent(r,{}),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},data:{get:function(){return this._data},set:function(e){this._writeProfilerMark("data.set,StartTM"),this._data&&this._removeDataListeners(),this._data=e||new a.List,this._addDataListeners(),this._initializing||(this._reloadRepeater(!0),this.dispatchEvent(r,{})),this._writeProfilerMark("data.set,StopTM")}},template:{get:function(){return this._template},set:function(t){this._writeProfilerMark("template.set,StartTM"),this._template=t||e,this._render=h._syncRenderer(this._template,this.element.tagName),this._initializing||(this._reloadRepeater(!0),this.dispatchEvent(r,{})),this._writeProfilerMark("template.set,StopTM")}},length:{get:function(){return this._repeatedDOM.length}},elementFromIndex:function(e){return this._repeatedDOM[e]},dispose:function(){if(!this._disposed){this._disposed=!0,this._removeDataListeners(),this._data=null,this._template=null;for(var e=0,t=this._repeatedDOM.length;e<t;e++)d._disposeElement(this._repeatedDOM[e])}},onitemsloaded:E(r),onitemchanging:E(m),onitemchanged:E(p),oniteminserting:E(f),oniteminserted:E(_),onitemmoving:E(g),onitemmoved:E(v),onitemremoving:E(y),onitemremoved:E(b),onitemsreloading:E(w),onitemsreloaded:E(C),_extractInlineTemplate:function(){if(this._element.firstElementChild){for(var e=t.document.createElement(this._element.tagName);this._element.firstElementChild;)e.appendChild(this._element.firstElementChild);return new l.Template(e,{extractChild:!0})}},_renderAllItems:function(){for(var e=t.document.createDocumentFragment(),n=0,o=this._data.length;n<o;n++){var r=this._render(this._data.getAt(n));if(!r)throw new i("WinJS.UI.Repeater.AsynchronousRender",S.asynchronousRender);e.appendChild(r),this._repeatedDOM.push(r)}this._element.appendChild(e)},_reloadRepeater:function(e){this._unloadRepeatedDOM(e),this._repeatedDOM=[],this._renderAllItems()},_unloadRepeatedDOM:function(e){for(var t=0,n=this._repeatedDOM.length;t<n;t++){var i=this._repeatedDOM[t];e&&d._disposeElement(i),i.parentElement===this._element&&this._element.removeChild(i)}},_addDataListeners:function(){Object.keys(this._dataListeners).forEach(function(e){this._data.addEventListener(e,this._dataListeners[e],!1)}.bind(this))},_beginModification:function(){if(this._modifying)throw new i("WinJS.UI.Repeater.RepeaterModificationReentrancy",S.repeaterReentrancy);this._modifying=!0},_endModification:function(){this._modifying=!1},_removeDataListeners:function(){Object.keys(this._dataListeners).forEach(function(e){this._data.removeEventListener(e,this._dataListeners[e],!1)}.bind(this))},_dataItemChangedHandler:function(e){this._beginModification();var t,n=this._element,o=e.detail.index,r=this._render(e.detail.newValue);if(!r)throw new i("WinJS.UI.Repeater.AsynchronousRender",S.asynchronousRender);this._repeatedDOM[o]&&(e.detail.oldElement=this._repeatedDOM[o]),e.detail.newElement=r,e.detail.setPromise=function(e){t=e},this._writeProfilerMark(m+",info"),this.dispatchEvent(m,e.detail);var s=null;o<this._repeatedDOM.length?(s=this._repeatedDOM[o],n.replaceChild(r,s),this._repeatedDOM[o]=r):(n.appendChild(r),this._repeatedDOM.push(r)),this._endModification(),this._writeProfilerMark(p+",info"),this.dispatchEvent(p,e.detail),s&&u.as(t).done(function(){d._disposeElement(s)}.bind(this))},_dataItemInsertedHandler:function(e){this._beginModification();var t=e.detail.index,n=this._render(e.detail.value);if(!n)throw new i("WinJS.UI.Repeater.AsynchronousRender",S.asynchronousRender);var o=this._element;if(e.detail.affectedElement=n,this._writeProfilerMark(f+",info"),this.dispatchEvent(f,e.detail),t<this._repeatedDOM.length){var r=this._repeatedDOM[t];o.insertBefore(n,r)}else o.appendChild(n);this._repeatedDOM.splice(t,0,n),this._endModification(),this._writeProfilerMark(_+",info"),this.dispatchEvent(_,e.detail)},_dataItemMovedHandler:function(e){this._beginModification();var t=this._repeatedDOM[e.detail.oldIndex];if(e.detail.affectedElement=t,this._writeProfilerMark(g+",info"),this.dispatchEvent(g,e.detail),this._repeatedDOM.splice(e.detail.oldIndex,1)[0],t.parentNode.removeChild(t),e.detail.newIndex<this._data.length-1){var n=this._repeatedDOM[e.detail.newIndex];this._element.insertBefore(t,n),this._repeatedDOM.splice(e.detail.newIndex,0,t)}else this._repeatedDOM.push(t),this._element.appendChild(t);this._endModification(),this._writeProfilerMark(v+",info"),this.dispatchEvent(v,e.detail)},_dataItemRemovedHandler:function(e){this._beginModification();var t,n=this._repeatedDOM[e.detail.index],i={affectedElement:n,index:e.detail.index,item:e.detail.item};i.setPromise=function(e){t=e},this._writeProfilerMark(y+",info"),this.dispatchEvent(y,i),n.parentNode.removeChild(n),this._repeatedDOM.splice(e.detail.index,1),this._endModification(),this._writeProfilerMark(b+",info"),this.dispatchEvent(b,i),u.as(t).done(function(){d._disposeElement(n)}.bind(this))},_dataReloadHandler:function(){this._beginModification();var e,t=this._repeatedDOM.slice(0),n={affectedElements:t};n.setPromise=function(t){e=t},this._writeProfilerMark(w+",info"),this.dispatchEvent(w,n),this._reloadRepeater(!1);var i=this._repeatedDOM.slice(0);this._endModification(),this._writeProfilerMark(C+",info"),this.dispatchEvent(C,{affectedElements:i}),u.as(e).done(function(){for(var e=0,n=t.length;e<n;e++)d._disposeElement(t[e])}.bind(this))},_writeProfilerMark:function(e){s("WinJS.UI.Repeater:"+this._id+":"+e)}},{isDeclarativeControlContainer:!0});return n.Class.mix(I,c.DOMEventMixin),I})})}),i("require-style!less/styles-datetimepicker",[],function(){}),i("WinJS/Controls/DatePicker",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_Select","require-style!less/styles-datetimepicker"],function(e,t,n,i,o,r,s,a,l,u){"use strict";n.Namespace.define("WinJS.UI",{DatePicker:n.Namespace._lazy(function(){function i(e,n,i){var o=t.Windows.Globalization.DateTimeFormatting;e=e?e:i;var r=new o.DateTimeFormatter(e);return n?new o.DateTimeFormatter(e,r.languages,r.geographicRegion,n,r.clock):r}function l(e,t,n){var o=y[e];o||(o=y[e]={});var r=o[t];r||(r=o[t]={});var s=r[n];return s||(s=r[n]={},s.formatter=i(e,t,n),s.years={}),s}function c(e,t,n,i,o,r){var s=l(e,t,n),a=s.years[r.year+"-"+r.era];return a||(a=s.formatter.format(r.getDateTime()),s.years[r.year+"-"+r.era]=a),a}function d(e,t,n,i){var o=l(e,t,n);return o.formatter.format(i.getDateTime())}function h(e,t,n,i){var o=l(e,t,n);return o.formatter.format(i.getDateTime())}function m(e){var n=t.Windows.Globalization,i=new n.Calendar;return e?new n.Calendar(i.languages,e,i.getClock()):i}function p(e,t){var n=0;if(e.era===t.era)n=t.year-e.year;else for(;e.era!==t.era||e.year!==t.year;)n++,e.addYears(1);return n}var f="day",_="{month.full}",g="year.full",v={get ariaLabel(){return r._getWinJSString("ui/datePicker").value},get selectDay(){return r._getWinJSString("ui/selectDay").value},get selectMonth(){return r._getWinJSString("ui/selectMonth").value},get selectYear(){return r._getWinJSString("ui/selectYear").value}},y={},b=n.Class.define(function(t,n){this._currentDate=new Date,this._minYear=this._currentDate.getFullYear()-100,this._maxYear=this._currentDate.getFullYear()+100,this._datePatterns={date:null,month:null,year:null},t=t||e.document.createElement("div"),a.addClass(t,"win-disposable"),t.winControl=this;var i=t.getAttribute("aria-label");i||t.setAttribute("aria-label",v.ariaLabel),this._init(t),s.setOptions(this,n)},{_information:null,_currentDate:null,_calendar:null,_disabled:!1,_dateElement:null,_dateControl:null,_monthElement:null,_monthControl:null,_minYear:null,_maxYear:null,_yearElement:null,_yearControl:null,_datePatterns:{date:null,month:null,year:null},_addAccessibilityAttributes:function(){this._domElement.setAttribute("role","group"),this._dateElement.setAttribute("aria-label",v.selectDay),this._monthElement.setAttribute("aria-label",v.selectMonth),this._yearElement.setAttribute("aria-label",v.selectYear)},_addControlsInOrder:function(){var e=this._domElement,t=this,n=0;t._information.order.forEach(function(i){switch(i){case"month":e.appendChild(t._monthElement),a.addClass(t._monthElement,"win-order"+n++);break;case"date":e.appendChild(t._dateElement),a.addClass(t._dateElement,"win-order"+n++);break;case"year":e.appendChild(t._yearElement),a.addClass(t._yearElement,"win-order"+n++)}})},_createControlElements:function(){this._monthElement=e.document.createElement("select"),this._monthElement.className="win-datepicker-month win-dropdown",this._dateElement=e.document.createElement("select"),this._dateElement.className="win-datepicker-date win-dropdown",this._yearElement=e.document.createElement("select"),this._yearElement.className="win-datepicker-year win-dropdown"},_createControls:function(){var e=this._information,t=e.getIndex(this.current);e.forceLanguage&&(this._domElement.setAttribute("lang",e.forceLanguage),this._domElement.setAttribute("dir",e.isRTL?"rtl":"ltr")),this._yearControl=new u._Select(this._yearElement,{dataSource:this._information.years,disabled:this.disabled,index:t.year}),this._monthControl=new u._Select(this._monthElement,{dataSource:this._information.months(t.year),disabled:this.disabled,index:t.month}),this._dateControl=new u._Select(this._dateElement,{dataSource:this._information.dates(t.year,t.month),disabled:this.disabled,index:t.date}),this._wireupEvents()},dispose:function(){},calendar:{get:function(){return this._calendar},set:function(e){this._calendar=e,this._setElement(this._domElement)}},current:{get:function(){var e=this._currentDate,t=e.getFullYear();return new Date(Math.max(Math.min(this.maxYear,t),this.minYear),e.getMonth(),e.getDate(),12,0,0,0)},set:function(e){var t;"string"==typeof e?(t=new Date(Date.parse(e)),t.setHours(12,0,0,0)):t=e;var n=this._currentDate;n!==t&&(this._currentDate=t,this._updateDisplay())}},disabled:{get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._yearControl&&(this._monthControl.setDisabled(e),this._dateControl.setDisabled(e),this._yearControl.setDisabled(e)))}},datePattern:{get:function(){return this._datePatterns.date},set:function(e){this._datePatterns.date!==e&&(this._datePatterns.date=e,this._init())}},element:{get:function(){return this._domElement}},_setElement:function(e){this._domElement=this._domElement||e,this._domElement&&(a.empty(this._domElement),a.addClass(this._domElement,"win-datepicker"),this._updateInformation(),this._createControlElements(),this._addControlsInOrder(),this._createControls(),this._addAccessibilityAttributes())},minYear:{get:function(){return this._information.getDate({year:0,month:0,date:0}).getFullYear()},set:function(e){this._minYear!==e&&(this._minYear=e,e>this._maxYear&&(this._maxYear=e),this._updateInformation(),this._yearControl&&(this._yearControl.dataSource=this._information.years),this._updateDisplay())}},maxYear:{get:function(){var e={year:this._information.years.getLength()-1};return e.month=this._information.months(e.year).getLength()-1,e.date=this._information.dates(e.year,e.month).getLength()-1,this._information.getDate(e).getFullYear()},set:function(e){this._maxYear!==e&&(this._maxYear=e,e<this._minYear&&(this._minYear=e),this._updateInformation(),this._yearControl&&(this._yearControl.dataSource=this._information.years),this._updateDisplay())}},monthPattern:{get:function(){return this._datePatterns.month},set:function(e){this._datePatterns.month!==e&&(this._datePatterns.month=e,this._init())}},_updateInformation:function(){var e=new Date(this._minYear,0,1,12,0,0),t=new Date(this._maxYear,11,31,12,0,0);e.setFullYear(this._minYear),t.setFullYear(this._maxYear),this._information=b.getInformation(e,t,this._calendar,this._datePatterns)},_init:function(e){this._setElement(e)},_updateDisplay:function(){if(this._domElement&&this._yearControl){var e=this._information.getIndex(this.current);this._yearControl.index=e.year,this._monthControl.dataSource=this._information.months(e.year),this._monthControl.index=e.month,this._dateControl.dataSource=this._information.dates(e.year,e.month),this._dateControl.index=e.date}},_wireupEvents:function(){function e(){t._currentDate=t._information.getDate({year:t._yearControl.index,month:t._monthControl.index,date:t._dateControl.index},t._currentDate);var e=t._information.getIndex(t._currentDate);t._monthControl.dataSource=t._information.months(e.year),t._monthControl.index=e.month,t._dateControl.dataSource=t._information.dates(e.year,e.month),t._dateControl.index=e.date}var t=this;this._dateElement.addEventListener("change",e,!1),this._monthElement.addEventListener("change",e,!1),this._yearElement.addEventListener("change",e,!1)},yearPattern:{get:function(){return this._datePatterns.year},set:function(e){this._datePatterns.year!==e&&(this._datePatterns.year=e,this._init())}}},{_getInformationWinRT:function(e,t,n,i){function o(e){return new Date(Math.min(new Date(Math.max(u,e)),v))}i=i||{date:f,month:_,year:g};var r=m(n),s=m(n),a=m(n);r.setToMin();var u=r.getDateTime();r.setToMax();var v=r.getDateTime();r.hour=12,e=o(e),t=o(t),r.setDateTime(t);var y={year:r.year,era:r.era};r.setDateTime(e);var b=0;b=p(r,y)+1;var w=l("day month.full year",n).formatter,C=w.patterns[0],E=8207===C.charCodeAt(0),S=["date","month","year"],I={month:C.indexOf("{month"),date:C.indexOf("{day"),year:C.indexOf("{year")};S.sort(function(e,t){return I[e]<I[t]?-1:I[e]>I[t]?1:0});var x=function(){return{getLength:function(){return b},getValue:function(t){return r.setDateTime(e),r.addYears(t),c(i.year,n,g,i,S,r)}}}(),j=function(t){return s.setDateTime(e),s.addYears(t),{getLength:function(){return s.numberOfMonthsInThisYear},getValue:function(e){return s.month=s.firstMonthInThisYear,s.addMonths(e),d(i.month,n,_,s)}}},k=function(t,o){return a.setDateTime(e),a.addYears(t),a.month=a.firstMonthInThisYear,a.addMonths(o),a.day=a.firstDayInThisMonth,{getLength:function(){return a.numberOfDaysInThisMonth},getValue:function(e){return a.day=a.firstDayInThisMonth,a.addDays(e),h(i.date,n,f,a)}}};return{isRTL:E,forceLanguage:w.resolvedLanguage,order:S,getDate:function(t,n){var i;n&&(r.setDateTime(n),i={year:r.year,month:r.month,day:r.day});var o=r;o.setDateTime(e),o.addYears(t.year);var s;o.firstMonthInThisYear>o.lastMonthInThisYear?(s=t.month+o.firstMonthInThisYear>o.numberOfMonthsInThisYear?t.month+o.firstMonthInThisYear-o.numberOfMonthsInThisYear:t.month+o.firstMonthInThisYear,i&&i.year!==o.year&&(s=Math.max(Math.min(i.month,o.numberOfMonthsInThisYear),1))):s=i&&i.year!==o.year?Math.max(Math.min(i.month,o.firstMonthInThisYear+o.numberOfMonthsInThisYear-1),o.firstMonthInThisYear):Math.max(Math.min(t.month+o.firstMonthInThisYear,o.firstMonthInThisYear+o.numberOfMonthsInThisYear-1),o.firstMonthInThisYear),o.month=s;var a=Math.max(Math.min(t.date+o.firstDayInThisMonth,o.firstDayInThisMonth+o.numberOfDaysInThisMonth-1),o.firstDayInThisMonth);return!i||i.year===o.year&&i.month===o.month||(a=Math.max(Math.min(i.day,o.firstDayInThisMonth+o.numberOfDaysInThisMonth-1),o.firstDayInThisMonth)),o.day=o.firstDayInThisMonth,o.addDays(a-o.firstDayInThisMonth),o.getDateTime()},getIndex:function(t){var n=o(t);r.setDateTime(n);var i={year:r.year,era:r.era},s=0;r.setDateTime(e),r.month=1,s=p(r,i),r.setDateTime(n);var a=r.month-r.firstMonthInThisYear;a<0&&(a=r.month-r.firstMonthInThisYear+r.numberOfMonthsInThisYear);var l=r.day-r.firstDayInThisMonth,u={year:s,month:a,date:l};return u},years:x,months:j,dates:k}},_getInformationJS:function(e,t){var n=e.getFullYear(),i=t.getFullYear(),o={getLength:function(){return Math.max(0,i-n+1)},getValue:function(e){return n+e}},r=["January","February","March","April","May","June","July","August","September","October","November","December"],s=function(){return{getLength:function(){return r.length},getValue:function(e){return r[e]},getMonthNumber:function(e){
return Math.min(e,r.length-1)}}},a=function(e,t){var n=new Date,i=o.getValue(e),r=t+1;n.setFullYear(i,r,0);var s=n.getDate();return{getLength:function(){return s},getValue:function(e){return""+(e+1)},getDateNumber:function(e){return Math.min(e+1,s)}}};return{order:["month","date","year"],getDate:function(e){return new Date(o.getValue(e.year),s(e.year).getMonthNumber(e.month),a(e.year,e.month).getDateNumber(e.date),12,0)},getIndex:function(e){var t=0,i=e.getFullYear();t=i<n?0:i>this.maxYear?o.getLength()-1:e.getFullYear()-n;var r=Math.min(e.getMonth(),s(t).getLength()),l=Math.min(e.getDate()-1,a(t,r).getLength());return{year:t,month:r,date:l}},years:o,months:s,dates:a}}});return t.Windows.Globalization.Calendar&&t.Windows.Globalization.DateTimeFormatting?b.getInformation=b._getInformationWinRT:b.getInformation=b._getInformationJS,n.Class.mix(b,o.createEventProperties("change")),n.Class.mix(b,s.DOMEventMixin),b})})}),i("WinJS/Controls/TimePicker",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_Select","require-style!less/styles-datetimepicker"],function(e,t,n,i,o,r,s,a,l,u){"use strict";n.Namespace.define("WinJS.UI",{TimePicker:n.Namespace._lazy(function(){var i="{minute.integer(2)}",l="{hour.integer(1)}",c="{period.abbreviated(2)}",d={get ariaLabel(){return r._getWinJSString("ui/timePicker").value},get selectHour(){return r._getWinJSString("ui/selectHour").value},get selectMinute(){return r._getWinJSString("ui/selectMinute").value},get selectAMPM(){return r._getWinJSString("ui/selectAMPM").value}},h=function(e,t){return e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},m=n.Class.define(function(t,n){this._currentTime=m._sentinelDate(),t=t||e.document.createElement("div"),a.addClass(t,"win-disposable"),t.winControl=this;var i=t.getAttribute("aria-label");i||t.setAttribute("aria-label",d.ariaLabel),this._timePatterns={minute:null,hour:null,period:null},this._init(t),s.setOptions(this,n)},{_currentTime:null,_clock:null,_disabled:!1,_hourElement:null,_hourControl:null,_minuteElement:null,_minuteControl:null,_ampmElement:null,_ampmControl:null,_minuteIncrement:1,_timePatterns:{minute:null,hour:null,period:null},_information:null,_addAccessibilityAttributes:function(){this._domElement.setAttribute("role","group"),this._hourElement.setAttribute("aria-label",d.selectHour),this._minuteElement.setAttribute("aria-label",d.selectMinute),this._ampmElement&&this._ampmElement.setAttribute("aria-label",d.selectAMPM)},_addControlsInOrder:function(e){var t=this;e.order.forEach(function(e,n){switch(e){case"hour":t._domElement.appendChild(t._hourElement),a.addClass(t._hourElement,"win-order"+n);break;case"minute":t._domElement.appendChild(t._minuteElement),a.addClass(t._minuteElement,"win-order"+n);break;case"period":t._ampmElement&&(t._domElement.appendChild(t._ampmElement),a.addClass(t._ampmElement,"win-order"+n))}})},dispose:function(){},clock:{get:function(){return this._clock},set:function(e){this._clock!==e&&(this._clock=e,this._init())}},current:{get:function(){var e=this._currentTime;if(e){var t=m._sentinelDate();return t.setHours(e.getHours()),t.setMinutes(this._getMinutesIndex(e)*this.minuteIncrement),t.setSeconds(0),t.setMilliseconds(0),t}return e},set:function(e){var t;"string"==typeof e?(t=m._sentinelDate(),t.setTime(Date.parse(t.toDateString()+" "+e))):(t=m._sentinelDate(),t.setHours(e.getHours()),t.setMinutes(e.getMinutes()));var n=this._currentTime;h(n,t)||(this._currentTime=t,this._updateDisplay())}},disabled:{get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._hourControl&&(this._hourControl.setDisabled(e),this._minuteControl.setDisabled(e)),this._ampmControl&&this._ampmControl.setDisabled(e))}},element:{get:function(){return this._domElement}},_init:function(e){this._setElement(e),this._updateDisplay()},hourPattern:{get:function(){return this._timePatterns.hour.pattern},set:function(e){this._timePatterns.hour!==e&&(this._timePatterns.hour=e,this._init())}},_getHoursAmpm:function(e){var t=e.getHours();return this._ampmElement?0===t?{hours:12,ampm:0}:t<12?{hours:t,ampm:0}:{hours:t-12,ampm:1}:{hours:t}},_getHoursIndex:function(e){return this._ampmElement&&12===e?0:e},_getMinutesIndex:function(e){return parseInt(e.getMinutes()/this.minuteIncrement)},minuteIncrement:{get:function(){return Math.max(1,Math.abs(0|this._minuteIncrement)%60)},set:function(e){this._minuteIncrement!==e&&(this._minuteIncrement=e,this._init())}},minutePattern:{get:function(){return this._timePatterns.minute.pattern},set:function(e){this._timePatterns.minute!==e&&(this._timePatterns.minute=e,this._init())}},periodPattern:{get:function(){return this._timePatterns.period.pattern},set:function(e){this._timePatterns.period!==e&&(this._timePatterns.period=e,this._init())}},_setElement:function(t){if(this._domElement=this._domElement||t,this._domElement){var n=m.getInformation(this.clock,this.minuteIncrement,this._timePatterns);this._information=n,n.forceLanguage&&(this._domElement.setAttribute("lang",n.forceLanguage),this._domElement.setAttribute("dir",n.isRTL?"rtl":"ltr")),a.empty(this._domElement),a.addClass(this._domElement,"win-timepicker"),this._hourElement=e.document.createElement("select"),a.addClass(this._hourElement,"win-timepicker-hour win-dropdown"),this._minuteElement=e.document.createElement("select"),a.addClass(this._minuteElement,"win-timepicker-minute win-dropdown"),this._ampmElement=null,"12HourClock"===n.clock&&(this._ampmElement=e.document.createElement("select"),a.addClass(this._ampmElement,"win-timepicker-period win-dropdown")),this._addControlsInOrder(n);var i=this._getHoursAmpm(this.current);this._hourControl=new u._Select(this._hourElement,{dataSource:this._getInfoHours(),disabled:this.disabled,index:this._getHoursIndex(i.hours)}),this._minuteControl=new u._Select(this._minuteElement,{dataSource:n.minutes,disabled:this.disabled,index:this._getMinutesIndex(this.current)}),this._ampmControl=null,this._ampmElement&&(this._ampmControl=new u._Select(this._ampmElement,{dataSource:n.periods,disabled:this.disabled,index:i.ampm})),this._wireupEvents(),this._updateValues(),this._addAccessibilityAttributes()}},_getInfoHours:function(){return this._information.hours},_updateLayout:function(){this._domElement&&this._updateValues()},_updateValues:function(){if(this._hourControl){var e=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=e.ampm),this._hourControl.index=this._getHoursIndex(e.hours),this._minuteControl.index=this._getMinutesIndex(this.current)}},_updateDisplay:function(){var e=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=e.ampm),this._hourControl&&(this._hourControl.index=this._getHoursIndex(e.hours),this._minuteControl.index=this._getMinutesIndex(this.current))},_wireupEvents:function(){var e=this,t=function(){var t=e._hourControl.index;return e._ampmElement&&1===e._ampmControl.index&&12!==t&&(t+=12),t},n=function(){var n=t();e._currentTime.setHours(n),e._currentTime.setMinutes(e._minuteControl.index*e.minuteIncrement)};this._hourElement.addEventListener("change",n,!1),this._minuteElement.addEventListener("change",n,!1),this._ampmElement&&this._ampmElement.addEventListener("change",n,!1)}},{_sentinelDate:function(){var e=new Date;return new Date(2011,6,15,e.getHours(),e.getMinutes())},_getInformationWinRT:function(e,n,o){var r=function(n,i){var o=t.Windows.Globalization.DateTimeFormatting;n=n?n:i;var r=new o.DateTimeFormatter(n);return e&&(r=o.DateTimeFormatter(n,r.languages,r.geographicRegion,r.calendar,e)),r},s=t.Windows.Globalization,a=new s.Calendar;e&&(a=new s.Calendar(a.languages,a.getCalendarSystem(),e)),a.setDateTime(m._sentinelDate());var u=a.getClock(),d=24;d=a.numberOfHoursInThisPeriod;var h=function(){var e=r(o.period,c);return{getLength:function(){return 2},getValue:function(t){var n=m._sentinelDate();if(0===t){n.setHours(1);var i=e.format(n);return i}if(1===t){n.setHours(13);var o=e.format(n);return o}return null}}}(),p=function(){var e=r(o.minute,i),t=m._sentinelDate();return{getLength:function(){return 60/n},getValue:function(i){var o=i*n;return t.setMinutes(o),e.format(t)}}}(),f=function(){var e=r(o.hour,l),t=m._sentinelDate();return{getLength:function(){return d},getValue:function(n){return t.setHours(n),e.format(t)}}}(),_=r("hour minute"),g=_.patterns[0],v=["hour","minute"],y={period:g.indexOf("{period"),hour:g.indexOf("{hour"),minute:g.indexOf("{minute")};y.period>-1&&v.push("period");var b=t.Windows.Globalization.DateTimeFormatting.DateTimeFormatter,w=new b("month.full",t.Windows.Globalization.ApplicationLanguages.languages,"ZZ","GregorianCalendar","24HourClock"),C=w.patterns[0],E=8207===C.charCodeAt(0);if(E){var S=y.hour;y.hour=y.minute,y.minute=S}return v.sort(function(e,t){return y[e]<y[t]?-1:y[e]>y[t]?1:0}),{minutes:p,hours:f,clock:u,periods:h,order:v,forceLanguage:_.resolvedLanguage,isRTL:E}},_getInformationJS:function(e,t){var n=[12,1,2,3,4,5,6,7,8,9,10,11],i={};i.getLength=function(){return 60/t},i.getValue=function(e){var n=e*t;return n<10?"0"+n.toString():n.toString()};var o=["hour","minute","period"];return"24HourClock"===e&&(n=["00","01","02","03","04","05","06","07","08","09",10,11,12,13,14,15,16,17,18,19,20,21,22,23],o=["hour","minute"]),{minutes:i,hours:n,clock:e||"12HourClock",periods:["AM","PM"],order:o}}});return t.Windows.Globalization.DateTimeFormatting&&t.Windows.Globalization.Calendar&&t.Windows.Globalization.ApplicationLanguages?m.getInformation=m._getInformationWinRT:m.getInformation=m._getInformationJS,n.Class.mix(m,o.createEventProperties("change")),n.Class.mix(m,s.DOMEventMixin),m})})}),i("require-style!less/styles-backbutton",[],function(){}),i("require-style!less/colors-backbutton",[],function(){}),i("WinJS/Controls/BackButton",["exports","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources","../Navigation","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","require-style!less/styles-backbutton","require-style!less/colors-backbutton"],function(e,t,n,i,o,r,s,a,l){"use strict";var u=a.Key,c="win-navigation-backbutton",d="win-back",h=3,m=function(){function e(){t.addEventListener("keyup",i,!1),a._addEventListener(t,"pointerup",o,!1)}function n(){t.removeEventListener("keyup",i,!1),a._removeEventListener(t,"pointerup",o,!1)}function i(e){(e.keyCode===u.leftArrow&&e.altKey&&!e.shiftKey&&!e.ctrlKey||e.keyCode===u.browserBack)&&(r.back(),e.preventDefault())}function o(e){e.button===h&&r.back()}var s=0;return{addRef:function(){0===s&&e(),s++},release:function(){s>0&&(s--,0===s&&n())},getCount:function(){return s}}}();n.Namespace._moduleDefine(e,"WinJS.UI",{BackButton:n.Namespace._lazy(function(){var e={get ariaLabel(){return o._getWinJSString("ui/backbuttonarialabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"}},l=n.Class.define(function(n,o){if(n&&n.winControl)throw new i("WinJS.UI.BackButton.DuplicateConstruction",e.duplicateConstruction);this._element=n||t.document.createElement("button"),o=o||{},this._initializeButton(),this._disposed=!1,this._element.winControl=this,s.setOptions(this,o),this._buttonClickHandler=this._handleBackButtonClick.bind(this),this._element.addEventListener("click",this._buttonClickHandler,!1),this._navigatedHandler=this._handleNavigatedEvent.bind(this),r.addEventListener("navigated",this._navigatedHandler,!1),m.addRef()},{element:{get:function(){return this._element}},dispose:function(){this._disposed||(this._disposed=!0,r.removeEventListener("navigated",this._navigatedHandler,!1),m.release())},refresh:function(){r.canGoBack?this._element.disabled=!1:this._element.disabled=!0},_initializeButton:function(){if("BUTTON"!==this._element.tagName)throw new i("WinJS.UI.BackButton.BadButtonElement",e.badButtonElement);a.addClass(this._element,c),a.addClass(this._element,"win-disposable"),this._element.innerHTML='<span class="'+d+'"></span>',this.refresh(),this._element.setAttribute("aria-label",e.ariaLabel),this._element.setAttribute("title",e.ariaLabel),this._element.setAttribute("type","button")},_handleNavigatedEvent:function(){this.refresh()},_handleBackButtonClick:function(){r.back()}});return l._getReferenceCount=function(){return m.getCount()},n.Class.mix(l,s.DOMEventMixin),l})})}),i("require-style!less/styles-tooltip",[],function(){}),i("require-style!less/colors-tooltip",[],function(){}),i("WinJS/Controls/Tooltip",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Animations","../Animations/_TransitionAnimation","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","require-style!less/styles-tooltip","require-style!less/colors-tooltip"],function(e,t,n,i,o,r,s,a,l,u,c,d){"use strict";i.Namespace._moduleDefine(e,"WinJS.UI",{Tooltip:i.Namespace._lazy(function(){function e(e,t){return"pointerdown"===e?t===A:e in M}function d(e,t){return"pointerdown"===e?t!==A:e in L}var h=0,m=c.Key,p="top",f=a._animationTimeAdjustment(400),_=a._animationTimeAdjustment(1200),g=a._animationTimeAdjustment(400),v=a._animationTimeAdjustment(5e3),y=a._animationTimeAdjustment(0),b=a._animationTimeAdjustment(600),w=a._animationTimeAdjustment(400),C=a._animationTimeAdjustment(600),E=a._animationTimeAdjustment(200),S=a._animationTimeAdjustment(3e5),I=12,x=20,j=45,k=20,P=12,T=1,O=c._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",A=c._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",M={keyup:"",pointerover:"",pointerdown:""},D={pointermove:""},L={pointerdown:"",keydown:"",focusout:"",pointerout:"",pointercancel:"",pointerup:""},N={pointerover:"",pointerout:""},B="win-tooltip",R="win-tooltip-phantom",F=g,z=2*F,H=2.5*F,W=v,V=!1,U=!1,q=r._createEventProperty;return i.Class.define(function(e,i){e=e||t.document.createElement("div");var o=c.data(e).tooltip;if(o)return o;if(!U&&n.Windows.UI.ViewManagement.UISettings){var r=new n.Windows.UI.ViewManagement.UISettings;F=a._animationTimeAdjustment(r.mouseHoverTime),z=2*F,H=2.5*F,W=a._animationTimeAdjustment(1e3*r.messageDuration);var s=r.handPreference;V=s===n.Windows.UI.ViewManagement.HandPreference.leftHanded}U=!0,this._disposed=!1,this._placement=p,this._infotip=!1,this._innerHTML=null,this._contentElement=null,this._extraClass=null,this._lastContentType="html",this._anchorElement=e,this._domElement=null,this._phantomDiv=null,this._triggerByOpen=!1,this._eventListenerRemoveStack=[],this._lastKeyOrBlurEvent=null,this._currentKeyOrBlurEvent=null,e.winControl=this,c.addClass(e,"win-disposable"),e.title&&(this._innerHTML=this._anchorElement.title,this._anchorElement.removeAttribute("title")),l.setOptions(this,i),this._events(),c.data(e).tooltip=this},{innerHTML:{get:function(){return this._innerHTML},set:function(e){if(this._innerHTML=e,this._domElement){if(!this._innerHTML||""===this._innerHTML)return void this._onDismiss();this._domElement.innerHTML=e,this._position()}this._lastContentType="html"}},element:{get:function(){return this._anchorElement}},contentElement:{get:function(){return this._contentElement},set:function(e){if(this._contentElement=e,this._domElement){if(!this._contentElement)return void this._onDismiss();this._domElement.innerHTML="",this._domElement.appendChild(this._contentElement),this._position()}this._lastContentType="element"}},placement:{get:function(){return this._placement},set:function(e){"top"!==e&&"bottom"!==e&&"left"!==e&&"right"!==e&&(e=p),this._placement=e,this._domElement&&this._position()}},infotip:{get:function(){return this._infotip},set:function(e){this._infotip=!!e}},extraClass:{get:function(){return this._extraClass},set:function(e){this._extraClass=e}},onbeforeopen:q("beforeopen"),onopened:q("opened"),onbeforeclose:q("beforeclose"),onclosed:q("closed"),dispose:function(){if(!this._disposed){this._disposed=!0,u.disposeSubTree(this.element);for(var e=0,t=this._eventListenerRemoveStack.length;e<t;e++)this._eventListenerRemoveStack[e]();this._onDismiss();var n=c.data(this._anchorElement);n&&delete n.tooltip}},addEventListener:function(e,t,n){if(this._anchorElement){this._anchorElement.addEventListener(e,t,n);var i=this;this._eventListenerRemoveStack.push(function(){i._anchorElement.removeEventListener(e,t,n)})}},removeEventListener:function(e,t,n){this._anchorElement&&this._anchorElement.removeEventListener(e,t,n)},open:function(e){switch(this._triggerByOpen=!0,"touch"!==e&&"mouseover"!==e&&"mousedown"!==e&&"keyboard"!==e&&(e="default"),e){case"touch":this._onInvoke("touch","never");break;case"mouseover":this._onInvoke("mouse","auto");break;case"keyboard":this._onInvoke("keyboard","auto");break;case"mousedown":case"default":this._onInvoke("nodelay","never")}},close:function(){this._onDismiss()},_cleanUpDOM:function(){this._domElement&&(u.disposeSubTree(this._domElement),t.document.body.removeChild(this._domElement),this._domElement=null,t.document.body.removeChild(this._phantomDiv),this._phantomDiv=null)},_createTooltipDOM:function(){this._cleanUpDOM(),this._domElement=t.document.createElement("div");var e=c._uniqueID(this._domElement);this._domElement.setAttribute("id",e);var n=c._getComputedStyle(this._anchorElement,null),i=this._domElement.style;i.direction=n.direction,i.writingMode=n["writing-mode"],this._domElement.setAttribute("tabindex",-1),this._domElement.setAttribute("role","tooltip"),this._anchorElement.setAttribute("aria-describedby",e),"element"===this._lastContentType?this._domElement.appendChild(this._contentElement):this._domElement.innerHTML=this._innerHTML,t.document.body.appendChild(this._domElement),c.addClass(this._domElement,B),this._extraClass&&c.addClass(this._domElement,this._extraClass),this._phantomDiv=t.document.createElement("div"),this._phantomDiv.setAttribute("tabindex",-1),t.document.body.appendChild(this._phantomDiv),c.addClass(this._phantomDiv,R);var o=c._getComputedStyle(this._domElement,null).zIndex+1;this._phantomDiv.style.zIndex=o},_raiseEvent:function(e,n){if(this._anchorElement){var i=t.document.createEvent("CustomEvent");i.initCustomEvent(e,!1,!1,n),this._anchorElement.dispatchEvent(i)}},_captureLastKeyBlurOrPointerOverEvent:function(e){switch(this._lastKeyOrBlurEvent=this._currentKeyOrBlurEvent,e.type){case"keyup":e.keyCode===m.shift?this._currentKeyOrBlurEvent=null:this._currentKeyOrBlurEvent="keyboard";break;case"focusout":this._currentKeyOrBlurEvent=null}},_registerEventToListener:function(e,t){var n=this,i=function(e){n._captureLastKeyBlurOrPointerOverEvent(e),n._handleEvent(e)};c._addEventListener(e,t,i,!1),this._eventListenerRemoveStack.push(function(){c._removeEventListener(e,t,i,!1)})},_events:function(){for(var e in M)this._registerEventToListener(this._anchorElement,e);for(var e in D)this._registerEventToListener(this._anchorElement,e);for(e in L)this._registerEventToListener(this._anchorElement,e);this._registerEventToListener(this._anchorElement,"contextmenu"),this._registerEventToListener(this._anchorElement,"MSHoldVisual")},_handleEvent:function(t){var n=t._normalizedType||t.type;if(!this._triggerByOpen){if(n in N&&c.eventWithinElement(this._anchorElement,t))return;if(e(n,t.pointerType))if(t.pointerType===A)this._isShown||(this._showTrigger="touch"),this._onInvoke("touch","never",t);else{if(this._skipMouseOver&&t.pointerType===O&&"pointerover"===n)return void(this._skipMouseOver=!1);var i="key"===n.substring(0,3)?"keyboard":"mouse";this._isShown||(this._showTrigger=i),this._onInvoke(i,"auto",t)}else if(n in D)this._contactPoint={x:t.clientX,y:t.clientY};else if(d(n,t.pointerType)){var r;if(t.pointerType===A){if("pointerup"===n){this._skipMouseOver=!0;var s=this;o._yieldForEvents(function(){s._skipMouseOver=!1})}r="touch"}else r="key"===n.substring(0,3)?"keyboard":"mouse";if("focusout"!==n&&r!==this._showTrigger)return;this._onDismiss()}else"contextmenu"!==n&&"MSHoldVisual"!==n||t.preventDefault()}},_onShowAnimationEnd:function(){if(!this._shouldDismiss&&!this._disposed&&(this._raiseEvent("opened"),this._domElement&&"never"!==this._hideDelay)){var e=this,t=this._infotip?Math.min(3*W,S):W;this._hideDelayTimer=this._setTimeout(function(){e._onDismiss()},t)}},_onHideAnimationEnd:function(){t.document.body.removeEventListener("DOMNodeRemoved",this._removeTooltip,!1),this._cleanUpDOM(),this._anchorElement&&this._anchorElement.removeAttribute("aria-describedby"),h=(new Date).getTime(),this._triggerByOpen=!1,this._disposed||this._raiseEvent("closed")},_decideOnDelay:function(e){var t;if(this._useAnimation=!0,"nodelay"===e)t=0,this._useAnimation=!1;else{var n=(new Date).getTime();n-h<=E?(t="touch"===e?this._infotip?w:y:this._infotip?C:b,this._useAnimation=!1):t="touch"===e?this._infotip?_:f:this._infotip?H:z}return t},_getAnchorPositionFromElementWindowCoord:function(){var e=this._anchorElement.getBoundingClientRect();return{x:e.left,y:e.top,width:e.width,height:e.height}},_getAnchorPositionFromPointerWindowCoord:function(e){return{x:e.x,y:e.y,width:1,height:1}},_canPositionOnSide:function(e,t,n,i){var o=0,r=0;switch(e){case"top":o=i.width+this._offset,r=n.y;break;case"bottom":o=i.width+this._offset,r=t.height-n.y-n.height;break;case"left":o=n.x,r=i.height+this._offset;break;case"right":o=t.width-n.x-n.width,r=i.height+this._offset}return o>=i.width+this._offset&&r>=i.height+this._offset},_positionOnSide:function(e,t,n,i){var o=0,r=0;switch(e){case"top":case"bottom":o=n.x+n.width/2-i.width/2,o=Math.min(Math.max(o,0),t.width-i.width-T),r="top"===e?n.y-i.height-this._offset:n.y+n.height+this._offset;break;case"left":case"right":r=n.y+n.height/2-i.height/2,r=Math.min(Math.max(r,0),t.height-i.height-T),o="left"===e?n.x-i.width-this._offset:n.x+n.width+this._offset}this._domElement.style.left=o+"px",this._domElement.style.top=r+"px",this._phantomDiv.style.left=o+"px",this._phantomDiv.style.top=r+"px",this._phantomDiv.style.width=i.width+"px",this._phantomDiv.style.height=i.height+"px"},_position:function(e){var n={width:0,height:0},i={x:0,y:0,width:0,height:0},o={width:0,height:0};n.width=t.document.documentElement.clientWidth,n.height=t.document.documentElement.clientHeight,"tb-rl"===c._getComputedStyle(t.document.body,null)["writing-mode"]&&(n.width=t.document.documentElement.clientHeight,n.height=t.document.documentElement.clientWidth),i=!this._contactPoint||"touch"!==e&&"mouse"!==e?this._getAnchorPositionFromElementWindowCoord():this._getAnchorPositionFromPointerWindowCoord(this._contactPoint),o.width=this._domElement.offsetWidth,o.height=this._domElement.offsetHeight;var r={top:["top","bottom","left","right"],bottom:["bottom","top","left","right"],left:["left","right","top","bottom"],right:["right","left","top","bottom"]};V&&(r.top[2]="right",r.top[3]="left",r.bottom[2]="right",r.bottom[3]="left");for(var s=r[this._placement],a=s.length,l=0;l<a;l++)if(l===a-1||this._canPositionOnSide(s[l],n,i,o)){this._positionOnSide(s[l],n,i,o);break}return s[l]},_showTooltip:function(e){if(!this._shouldDismiss&&(this._isShown=!0,this._raiseEvent("beforeopen"),t.document.body.contains(this._anchorElement)&&!this._shouldDismiss)){if("element"===this._lastContentType){if(!this._contentElement)return void(this._isShown=!1)}else if(!this._innerHTML||""===this._innerHTML)return void(this._isShown=!1);var n=this;this._removeTooltip=function(e){for(var i=n._anchorElement;i;){if(e.target===i){t.document.body.removeEventListener("DOMNodeRemoved",n._removeTooltip,!1),n._cleanUpDOM();break}i=i.parentNode}},t.document.body.addEventListener("DOMNodeRemoved",this._removeTooltip,!1),this._createTooltipDOM(),this._position(e),this._useAnimation?s.fadeIn(this._domElement).then(this._onShowAnimationEnd.bind(this)):this._onShowAnimationEnd()}},_onInvoke:function(e,t,n){if(this._shouldDismiss=!1,!this._isShown&&(!n||"keyup"!==n.type||"keyboard"!==this._lastKeyOrBlurEvent&&(this._lastKeyOrBlurEvent||n.keyCode===m.tab))){this._hideDelay=t,this._contactPoint=null,n?(this._contactPoint={x:n.clientX,y:n.clientY},"touch"===e?this._offset=j:"keyboard"===e?this._offset=I:this._offset=x):"touch"===e?this._offset=k:this._offset=P,this._clearTimeout(this._delayTimer),this._clearTimeout(this._hideDelayTimer);var i=this._decideOnDelay(e);if(i>0){var o=this;this._delayTimer=this._setTimeout(function(){o._showTooltip(e)},i)}else this._showTooltip(e)}},_onDismiss:function(){this._shouldDismiss=!0,this._isShown&&(this._isShown=!1,this._showTrigger="mouse",this._domElement?(this._raiseEvent("beforeclose"),this._useAnimation?s.fadeOut(this._domElement).then(this._onHideAnimationEnd.bind(this)):this._onHideAnimationEnd()):(this._raiseEvent("beforeclose"),this._raiseEvent("closed")))},_setTimeout:function(e,n){return t.setTimeout(e,n)},_clearTimeout:function(e){t.clearTimeout(e)}},{_DELAY_INITIAL_TOUCH_SHORT:{get:function(){return f}},_DELAY_INITIAL_TOUCH_LONG:{get:function(){return _}},_DEFAULT_MOUSE_HOVER_TIME:{get:function(){return g}},_DEFAULT_MESSAGE_DURATION:{get:function(){return v}},_DELAY_RESHOW_NONINFOTIP_TOUCH:{get:function(){return y}},_DELAY_RESHOW_NONINFOTIP_NONTOUCH:{get:function(){return b}},_DELAY_RESHOW_INFOTIP_TOUCH:{get:function(){return w}},_DELAY_RESHOW_INFOTIP_NONTOUCH:{get:function(){return C}},_RESHOW_THRESHOLD:{get:function(){return E}},_HIDE_DELAY_MAX:{get:function(){return S}}})})})}),i("require-style!less/styles-rating",[],function(){}),i("require-style!less/colors-rating",[],function(){}),i("WinJS/Controls/Rating",["../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_SafeHtml","./Tooltip","require-style!less/styles-rating","require-style!less/colors-rating"],function(e,t,n,i,o,r,s,l,u,c,d){"use strict";r.createAccentRule(".win-rating .win-star.win-user.win-full, .win-rating .win-star.win-user.win-full.win-disabled",[{name:"color",value:r.ColorTypes.accent}]),t.Namespace.define("WinJS.UI",{Rating:t.Namespace._lazy(function(){var r=i._createEventProperty,u={get averageRating(){return o._getWinJSString("ui/averageRating").value},get clearYourRating(){return o._getWinJSString("ui/clearYourRating").value},get tentativeRating(){return o._getWinJSString("ui/tentativeRating").value},get tooltipStringsIsInvalid(){return"Invalid argument: tooltipStrings must be null or an array of strings."},get unrated(){return o._getWinJSString("ui/unrated").value},get userRating(){return o._getWinJSString("ui/userRating").value}},h=5,m=!1,p="cancel",f="change",_="previewchange",g=0,v=l._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",y=l._MSPointerEvent.MSPOINTER_TYPE_PEN||"pen",b=l._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",w="padding-left: 0px; padding-right: 0px; border-left: 0px; border-right: 0px; -ms-flex: none; -webkit-flex: none; flex: none; display: none",C="win-rating",E="win-star win-empty",S="win-star win-average win-empty",I="win-star win-average win-full",x="win-star win-user win-empty",j="win-star win-user win-full",k="win-star win-tentative win-empty",P="win-star win-tentative win-full",T="win-disabled",O="win-average",A="win-user";return t.Class.define(function(t,n){this._disposed=!1,t=t||e.document.createElement("div"),n=n||{},this._element=t,l.addClass(this._element,"win-disposable"),this._userRating=0,this._averageRating=0,this._disabled=m,this._enableClear=!0,this._tooltipStrings=[],this._controlUpdateNeeded=!1,this._setControlSize(n.maxRating),n.tooltipStrings||this._updateTooltips(null),s.setOptions(this,n),this._controlUpdateNeeded=!0,this._forceLayout(),l._addInsertedNotifier(this._element),t.winControl=this,this._events()},{maxRating:{get:function(){return this._maxRating},set:function(e){this._setControlSize(e),this._forceLayout()}},userRating:{get:function(){return this._userRating},set:function(e){this._userRating=Math.max(0,Math.min(Number(e)>>0,this._maxRating)),this._updateControl()}},averageRating:{get:function(){return this._averageRating},set:function(e){this._averageRating=Number(e)<1?0:Math.min(Number(e)||0,this._maxRating),this._averageRatingElement&&this._ensureAverageMSStarRating(),this._updateControl()}},disabled:{get:function(){return this._disabled},set:function(e){this._disabled=!!e,this._disabled&&this._clearTooltips(),this._updateTabIndex(),this._updateControl()}},enableClear:{get:function(){return this._enableClear},set:function(e){this._enableClear=!!e,this._setAriaValueMin(),this._updateControl()}},tooltipStrings:{get:function(){return this._tooltipStrings},set:function(e){if("object"!==("undefined"==typeof e?"undefined":a(e)))throw new n("WinJS.UI.Rating.TooltipStringsIsInvalid",u.tooltipStringsIsInvalid);this._updateTooltips(e),this._updateAccessibilityRestState()}},element:{get:function(){return this._element}},oncancel:r(p),onchange:r(f),onpreviewchange:r(_),dispose:function(){if(!this._disposed){this._disposed=!0;for(var e=0;e<this._toolTips.length;e++)this._toolTips[e].dispose();this._toolTips=null}},addEventListener:function(e,t,n){this._element.addEventListener(e,t,n)},removeEventListener:function(e,t,n){return this._element.removeEventListener(e,t,n)},_forceLayout:function(){if(this._controlUpdateNeeded){var e=!1;this._updateControl=function(){e=!0},this.userRating=this._userRating,this.averageRating=this._averageRating,this._lastEventWasChange=!1,this._lastEventWasCancel=!1,this._tentativeRating=-1,this._captured=!1,this._pointerDownFocus=!1,this._elements=[],this._toolTips=[],this._clearElement=null,this._averageRatingElement=null,this._elementWidth=null,this._elementPadding=null,this._elementBorder=null,this._floatingValue=0,this._createControl(),this._setAccessibilityProperties(),delete this._updateControl,e&&this._updateControl()}},_hideAverageRating:function(){this._averageRatingHidden||(this._averageRatingHidden=!0,this._averageRatingElement.style.cssText=w)},_createControl:function(){l.addClass(this._element,C);var e="";this._averageRatingHidden=!0;for(var t=0;t<=this._maxRating;t++)e=t===this._maxRating?e+"<div class='"+I+"' style='"+w+"'></div>":e+"<div class='"+x+"'></div>";c.setInnerHTMLUnsafe(this._element,e);for(var n=this._element.firstElementChild,t=0;n;)this._elements[t]=n,t<this._maxRating&&(l.data(n).msStarRating=t+1),n=n.nextElementSibling,t++;this._averageRatingElement=this._elements[this._maxRating],this._ensureAverageMSStarRating(),this._updateTabIndex()},_setAriaValueMin:function(){this._element.setAttribute("aria-valuemin",this._enableClear?0:1)},_setAccessibilityProperties:function(){this._element.setAttribute("role","slider"),this._element.setAttribute("aria-valuemax",this._maxRating),this._setAriaValueMin(),this._updateAccessibilityRestState()},_getText:function(t){var n=this._tooltipStrings[t];if(n){var i=e.document.createElement("div");return i.innerHTML=n,i.textContent}return t===this._maxRating?u.clearYourRating:t+1},_updateAccessibilityRestState:function(){var e=this._element;this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.disconnect(),e.setAttribute("aria-readOnly",this._disabled),0!==this._userRating?(e.setAttribute("aria-valuenow",this._userRating),e.setAttribute("aria-label",u.userRating),e.setAttribute("aria-valuetext",this._getText(this._userRating-1))):0!==this._averageRating?(e.setAttribute("aria-valuenow",this._averageRating),e.setAttribute("aria-label",u.averageRating),e.setAttribute("aria-valuetext",this._averageRating)):(e.setAttribute("aria-valuenow",u.unrated),e.setAttribute("aria-label",u.userRating),e.setAttribute("aria-valuetext",u.unrated)),this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_updateAccessibilityHoverState:function(){var e=this._element;this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.disconnect(),
e.setAttribute("aria-readOnly",this._disabled),this._tentativeRating>0?(e.setAttribute("aria-label",u.tentativeRating),e.setAttribute("aria-valuenow",this._tentativeRating),e.setAttribute("aria-valuetext",this._getText(this._tentativeRating-1))):0===this._tentativeRating?(e.setAttribute("aria-valuenow",u.unrated),e.setAttribute("aria-label",u.tentativeRating),e.setAttribute("aria-valuetext",this._getText(this._maxRating))):(e.setAttribute("aria-valuenow",u.unrated),e.setAttribute("aria-label",u.tentativeRating),e.setAttribute("aria-valuetext",u.unrated)),this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_ensureTooltips:function(){if(!this.disabled&&0===this._toolTips.length)for(var e=0;e<this._maxRating;e++)this._toolTips[e]=new d.Tooltip(this._elements[e])},_decrementRating:function(){this._closeTooltip();var e=!0;this._tentativeRating<=0?e=!1:(this._tentativeRating>0?this._tentativeRating--:this._tentativeRating===-1&&(0!==this._userRating&&this._userRating>0?this._tentativeRating=this._userRating-1:this._tentativeRating=0),0!==this._tentativeRating||this._enableClear||(this._tentativeRating=1,e=!1)),this._showTentativeRating(e,"keyboard")},_events:function(){function e(e){return{name:e,lowerCaseName:e.toLowerCase(),handler:function(t){var i=n["_on"+e];i&&i.apply(n,[t])}}}var t,n=this,i=[e("KeyDown"),e("FocusOut"),e("FocusIn"),e("PointerCancel"),e("PointerDown"),e("PointerMove"),e("PointerOver"),e("PointerUp"),e("PointerOut")],o=[e("WinJSNodeInserted")];for(t=0;t<i.length;++t)l._addEventListener(this._element,i[t].lowerCaseName,i[t].handler,!1);for(t=0;t<o.length;++t)this._element.addEventListener(o[t].name,o[t].handler,!1);this._ariaValueNowMutationObserver=new l._MutationObserver(this._ariaValueNowChanged.bind(this)),this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_onWinJSNodeInserted:function(){this._recalculateStarProperties(),this._updateControl()},_recalculateStarProperties:function(){var e=0;1===this._averageRating&&(e=1);var t=l._getComputedStyle(this._elements[e]);this._elementWidth=t.width,"rtl"===l._getComputedStyle(this._element).direction?(this._elementPadding=t.paddingRight,this._elementBorder=t.borderRight):(this._elementPadding=t.paddingLeft,this._elementBorder=t.borderLeft)},_hideAverageStar:function(){0!==this._averageRating&&this._resetAverageStar(!1)},_incrementRating:function(){this._closeTooltip();var e=!0;(this._tentativeRating<0||this._tentativeRating>=this._maxRating)&&(e=!1),this._tentativeRating!==-1?this._tentativeRating<this._maxRating&&this._tentativeRating++:0!==this._userRating?this._userRating<this._maxRating?this._tentativeRating=this._userRating+1:this._tentativeRating=this._maxRating:this._tentativeRating=1,this._showTentativeRating(e,"keyboard")},_ariaValueNowChanged:function(){if(!this._disabled){var e=this._element.getAttributeNode("aria-valuenow");if(null!==e){var t=Number(e.nodeValue);this.userRating!==t&&(this.userRating=t,this._tentativeRating=this._userRating,this._raiseEvent(f,this._userRating))}}},_onPointerCancel:function(){this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(p,null),this._captured=!1},_onPointerDown:function(e){e.pointerType===b&&e.button!==g||this._captured||(this._pointerDownAt={x:e.clientX,y:e.clientY},this._pointerDownFocus=!0,this._disabled||(l._setPointerCapture(this._element,e.pointerId),this._captured=!0,e.pointerType===v?(this._tentativeRating=l.data(e.target).msStarRating||0,this._setStarClasses(P,this._tentativeRating,k),this._hideAverageStar(),this._updateAccessibilityHoverState(),this._openTooltip("touch"),this._raiseEvent(_,this._tentativeRating)):this._openTooltip("mousedown")))},_onCapturedPointerMove:function(e,t){var n,i=this._pointerDownAt||{x:e.clientX,y:e.clientY},o=l._elementsFromPoint(e.clientX,i.y);if(o)for(var r=0,s=o.length;r<s;r++){var a=o[r];if("tooltip"===a.getAttribute("role"))return;if(l.hasClass(a,"win-star")){n=a;break}}var u;if(n&&n.parentElement===this._element)u=l.data(n).msStarRating||0;else{var c=0,d=this.maxRating;"rtl"===l._getComputedStyle(this._element).direction&&(c=d,d=0),u=e.clientX<i.x?c:d}var h=!1,m=Math.min(Math.ceil(u),this._maxRating);0!==m||this._enableClear||(m=1),m!==this._tentativeRating&&(this._closeTooltip(),h=!0),this._tentativeRating=m,this._showTentativeRating(h,t),e.preventDefault()},_onPointerMove:function(e){this._captured&&(e.pointerType===v?this._onCapturedPointerMove(e,"touch"):this._onCapturedPointerMove(e,"mousedown"))},_onPointerOver:function(e){this._disabled||e.pointerType!==y&&e.pointerType!==b||this._onCapturedPointerMove(e,"mouseover")},_onPointerUp:function(e){this._captured&&(l._releasePointerCapture(this._element,e.pointerId),this._captured=!1,this._onUserRatingChanged()),this._pointerDownAt=null},_onFocusOut:function(){this._captured||(this._onUserRatingChanged(),this._lastEventWasChange||this._lastEventWasCancel||this._raiseEvent(p,null))},_onFocusIn:function(){if(!this._pointerDownFocus){if(!this._disabled){if(0===this._userRating)for(var e=0;e<this._maxRating;e++)this._elements[e].className=k;this._hideAverageStar()}0!==this._userRating?this._raiseEvent(_,this._userRating):this._raiseEvent(_,0),this._tentativeRating=this._userRating}this._pointerDownFocus=!1},_onKeyDown:function(e){var t=l.Key,n=e.keyCode,i=l._getComputedStyle(this._element).direction,o=!0;switch(n){case t.enter:this._onUserRatingChanged();break;case t.tab:this._onUserRatingChanged(),o=!1;break;case t.escape:this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(p,null);break;case t.leftArrow:"rtl"===i&&this._tentativeRating<this.maxRating?this._incrementRating():"rtl"!==i&&this._tentativeRating>0?this._decrementRating():o=!1;break;case t.upArrow:this._tentativeRating<this.maxRating?this._incrementRating():o=!1;break;case t.rightArrow:"rtl"===i&&this._tentativeRating>0?this._decrementRating():"rtl"!==i&&this._tentativeRating<this.maxRating?this._incrementRating():o=!1;break;case t.downArrow:this._tentativeRating>0?this._decrementRating():o=!1;break;default:var r=0;if(n>=t.num0&&n<=t.num9?r=t.num0:n>=t.numPad0&&n<=t.numPad9&&(r=t.numPad0),r>0){var s=!1,a=Math.min(n-r,this._maxRating);0!==a||this._enableClear||(a=1),a!==this._tentativeRating&&(this._closeTooltip(),s=!0),this._tentativeRating=a,this._showTentativeRating(s,"keyboard")}else o=!1}o&&(e.stopPropagation(),e.preventDefault())},_onPointerOut:function(e){this._captured||l.eventWithinElement(this._element,e)||(this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(p,null))},_onUserRatingChanged:function(){this._disabled||(this._closeTooltip(),this._userRating===this._tentativeRating||this._lastEventWasCancel||this._lastEventWasChange?this._updateControl():(this.userRating=this._tentativeRating,this._raiseEvent(f,this._userRating)))},_raiseEvent:function(t,n){if(!this._disabled&&(this._lastEventWasChange=t===f,this._lastEventWasCancel=t===p,e.document.createEvent)){var i=e.document.createEvent("CustomEvent");i.initCustomEvent(t,!1,!1,{tentativeRating:n}),this._element.dispatchEvent(i)}},_resetNextElement:function(e){if(null!==this._averageRatingElement.nextSibling){l._setFlexStyle(this._averageRatingElement.nextSibling,{grow:1,shrink:1});var t=this._averageRatingElement.nextSibling.style,n=l._getComputedStyle(this._element).direction;e&&(n="rtl"===n?"ltr":"rtl"),"rtl"===n?(t.paddingRight=this._elementPadding,t.borderRight=this._elementBorder,t.direction="rtl"):(t.paddingLeft=this._elementPadding,t.borderLeft=this._elementBorder,t.direction="ltr"),t.backgroundPosition="left",t.backgroundSize="100% 100%",t.width=this._resizeStringValue(this._elementWidth,1,t.width)}},_resetAverageStar:function(e){this._resetNextElement(e),this._hideAverageRating()},_resizeStringValue:function(e,t,n){var i=parseFloat(e);if(isNaN(i))return null!==n?n:e;var o=e.substring(i.toString(10).length);return i*=t,i+o},_setControlSize:function(e){var t=(Number(e)||h)>>0;this._maxRating=t>0?t:h},_updateTooltips:function(e){var t,n=0;if(null!==e)for(n=e.length<=this._maxRating+1?e.length:this._maxRating+1,t=0;t<n;t++)this._tooltipStrings[t]=e[t];else{for(t=0;t<this._maxRating;t++)this._tooltipStrings[t]=t+1;this._tooltipStrings[this._maxRating]=u.clearYourRating}},_updateTabIndex:function(){this._element.tabIndex=this._disabled?"-1":"0"},_setStarClasses:function(e,t,n){for(var i=0;i<this._maxRating;i++)i<t?this._elements[i].className=e:this._elements[i].className=n},_updateAverageStar:function(){var e=this._averageRatingElement.style,t=this._averageRatingElement.nextSibling.style;"rtl"===l._getComputedStyle(this._element).direction?(e.backgroundPosition="right",e.paddingRight=this._elementPadding,e.borderRight=this._elementBorder,t.paddingRight="0px",t.borderRight="0px",t.direction="ltr"):(e.backgroundPosition="left",t.backgroundPosition="right",e.paddingLeft=this._elementPadding,e.borderLeft=this._elementBorder,t.paddingLeft="0px",t.borderLeft="0px",t.direction="rtl"),l._setFlexStyle(this._averageRatingElement,{grow:this._floatingValue,shrink:this._floatingValue}),e.width=this._resizeStringValue(this._elementWidth,this._floatingValue,e.width),e.backgroundSize=100/this._floatingValue+"% 100%",e.display=l._getComputedStyle(this._averageRatingElement.nextSibling).display,this._averageRatingHidden=!1,l._setFlexStyle(this._averageRatingElement.nextSibling,{grow:1-this._floatingValue,shrink:1-this._floatingValue}),t.width=this._resizeStringValue(this._elementWidth,1-this._floatingValue,t.width),t.backgroundSize=100/(1-this._floatingValue)+"% 100%"},_showCurrentRating:function(){this._closeTooltip(),this._tentativeRating=-1,this._disabled||this._updateControl(),this._updateAccessibilityRestState()},_showTentativeRating:function(e,t){!this._disabled&&this._tentativeRating>=0&&(this._setStarClasses(P,this._tentativeRating,k),this._hideAverageStar()),this._updateAccessibilityHoverState(),e&&(this._openTooltip(t),this._raiseEvent(_,this._tentativeRating))},_openTooltip:function(t){if(!this.disabled)if(this._ensureTooltips(),this._tentativeRating>0)this._toolTips[this._tentativeRating-1].innerHTML=this._tooltipStrings[this._tentativeRating-1],this._toolTips[this._tentativeRating-1].open(t);else if(0===this._tentativeRating){this._clearElement=e.document.createElement("div");var n=this._elements[0].offsetWidth+parseInt(this._elementPadding,10);"ltr"===l._getComputedStyle(this._element).direction&&(n*=-1),this._clearElement.style.cssText="visiblity:hidden; position:absolute; width:0px; height:100%; left:"+n+"px; top:0px;",this._elements[0].appendChild(this._clearElement),this._toolTips[this._maxRating]=new d.Tooltip(this._clearElement),this._toolTips[this._maxRating].innerHTML=this._tooltipStrings[this._maxRating],this._toolTips[this._maxRating].open(t)}},_closeTooltip:function(){0!==this._toolTips.length&&(this._tentativeRating>0?this._toolTips[this._tentativeRating-1].close():0===this._tentativeRating&&null!==this._clearElement&&(this._toolTips[this._maxRating].close(),this._elements[0].removeChild(this._clearElement),this._clearElement=null))},_clearTooltips:function(){if(this._toolTips&&0!==this._toolTips.length)for(var e=0;e<this._maxRating;e++)this._toolTips[e].innerHTML=null},_appendClass:function(e){for(var t=0;t<=this._maxRating;t++)l.addClass(this._elements[t],e)},_setClasses:function(e,t,n){for(var i=0;i<this._maxRating;i++)i<t?this._elements[i].className=e:this._elements[i].className=n},_ensureAverageMSStarRating:function(){l.data(this._averageRatingElement).msStarRating=Math.ceil(this._averageRating)},_updateControl:function(){if(this._controlUpdateNeeded){if(0!==this._averageRating&&0===this._userRating&&this._averageRating>=1&&this._averageRating<=this._maxRating){this._setClasses(I,this._averageRating-1,S),this._averageRatingElement.className=I;for(var e=0;e<this._maxRating;e++)if(e<this._averageRating&&e+1>=this._averageRating){this._resetNextElement(!1),this._element.insertBefore(this._averageRatingElement,this._elements[e]),this._floatingValue=this._averageRating-e;var t=l._getComputedStyle(this._elements[e]);this._elementWidth=t.width,"rtl"===l._getComputedStyle(this._element).direction?(this._elementPadding=t.paddingRight,this._elementBorder=t.borderRight):(this._elementPadding=t.paddingLeft,this._elementBorder=t.borderLeft),this._updateAverageStar()}}0!==this._userRating&&this._userRating>=1&&this._userRating<=this._maxRating&&(this._setClasses(j,this._userRating,x),this._resetAverageStar(!1)),0===this._userRating&&0===this._averageRating&&(this._setClasses(E,this._maxRating),this._resetAverageStar(!1)),this.disabled&&this._appendClass(T),0!==this._averageRating&&0===this._userRating?this._appendClass(O):this._appendClass(A),this._updateAccessibilityRestState()}}})})})}),i("require-style!less/styles-toggleswitch",[],function(){}),i("require-style!less/colors-toggleswitch",[],function(){}),i("WinJS/Controls/ToggleSwitch",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","require-style!less/styles-toggleswitch","require-style!less/colors-toggleswitch"],function(e,t,n,i,o,r,s,a){"use strict";r.createAccentRule(".win-toggleswitch-on .win-toggleswitch-track",[{name:"background-color",value:r.ColorTypes.accent}]),r.createAccentRule("html.win-hoverable .win-toggleswitch-on:not(.win-toggleswitch-disabled):not(.win-toggleswitch-pressed) .win-toggleswitch-clickregion:hover .win-toggleswitch-track",[{name:"background-color",value:r.ColorTypes.listSelectPress}]),t.Namespace.define("WinJS.UI",{ToggleSwitch:t.Namespace._lazy(function(){var n="win-toggleswitch",r="win-toggleswitch-header",l="win-toggleswitch-clickregion",u="win-toggleswitch-track",c="win-toggleswitch-thumb",d="win-toggleswitch-values",h="win-toggleswitch-value",m="win-toggleswitch-value-on",p="win-toggleswitch-value-off",f="win-toggleswitch-description",_="win-toggleswitch-on",g="win-toggleswitch-off",v="win-toggleswitch-disabled",y="win-toggleswitch-enabled",b="win-toggleswitch-dragging",w="win-toggleswitch-pressed",C={get on(){return o._getWinJSString("ui/on").value},get off(){return o._getWinJSString("ui/off").value}},E=t.Class.define(function(t,i){t=t||e.document.createElement("div"),this._domElement=t,a.addClass(this._domElement,n),this._domElement.innerHTML=['<div class="'+r+'"></div>','<div class="'+l+'">','   <div class="'+u+'">','       <div class="'+c+'"></div>',"   </div>",'   <div class="'+d+'">','      <div class="'+h+" "+m+'"></div>','      <div class="'+h+" "+p+'"></div>',"   </div>","</div>",'<div class="'+f+'"></div>'].join("\n"),this._headerElement=this._domElement.firstElementChild,this._clickElement=this._headerElement.nextElementSibling,this._trackElement=this._clickElement.firstElementChild,this._thumbElement=this._trackElement.firstElementChild,this._labelsElement=this._trackElement.nextElementSibling,this._labelOnElement=this._labelsElement.firstElementChild,this._labelOffElement=this._labelOnElement.nextElementSibling,this._descriptionElement=this._clickElement.nextElementSibling,this._headerElement.setAttribute("aria-hidden",!0),this._labelsElement.setAttribute("aria-hidden",!0),this._headerElement.setAttribute("id",a._uniqueID(this._headerElement)),this._domElement.setAttribute("aria-labelledby",this._headerElement.id),this._domElement.setAttribute("role","checkbox"),this._domElement.winControl=this,a.addClass(this._domElement,"win-disposable"),this._domElement.addEventListener("keydown",this._keyDownHandler.bind(this)),a._addEventListener(this._clickElement,"pointerdown",this._pointerDownHandler.bind(this)),a._addEventListener(this._clickElement,"pointercancel",this._pointerCancelHandler.bind(this)),this._boundPointerMove=this._pointerMoveHandler.bind(this),this._boundPointerUp=this._pointerUpHandler.bind(this),this._mutationObserver=new a._MutationObserver(this._ariaChangedHandler.bind(this)),this._mutationObserver.observe(this._domElement,{attributes:!0,attributeFilter:["aria-checked"]}),this._dragX=0,this._dragging=!1,this.checked=!1,this.disabled=!1,this.labelOn=C.on,this.labelOff=C.off,s.setOptions(this,i)},{element:{get:function(){return this._domElement}},checked:{get:function(){return this._checked},set:function(e){e=!!e,e!==this.checked&&(this._checked=e,this._domElement.setAttribute("aria-checked",e),e?(a.addClass(this._domElement,_),a.removeClass(this._domElement,g)):(a.addClass(this._domElement,g),a.removeClass(this._domElement,_)),this.dispatchEvent("change"))}},disabled:{get:function(){return this._disabled},set:function(e){e=!!e,e!==this._disabled&&(e?(a.addClass(this._domElement,v),a.removeClass(this._domElement,y)):(a.removeClass(this._domElement,v),a.addClass(this._domElement,y)),this._disabled=e,this._domElement.setAttribute("aria-disabled",e),this._domElement.setAttribute("tabIndex",e?-1:0))}},labelOn:{get:function(){return this._labelOnElement.innerHTML},set:function(e){this._labelOnElement.innerHTML=e}},labelOff:{get:function(){return this._labelOffElement.innerHTML},set:function(e){this._labelOffElement.innerHTML=e}},title:{get:function(){return this._headerElement.innerHTML},set:function(e){this._headerElement.innerHTML=e}},onchange:i._createEventProperty("change"),dispose:function(){this._disposed||(this._disposed=!0)},_ariaChangedHandler:function(){var e=this._domElement.getAttribute("aria-checked");e="true"===e,this.checked=e},_keyDownHandler:function(e){this.disabled||(e.keyCode===a.Key.space&&(e.preventDefault(),this.checked=!this.checked),e.keyCode!==a.Key.rightArrow&&e.keyCode!==a.Key.upArrow||(e.preventDefault(),this.checked=!0),e.keyCode!==a.Key.leftArrow&&e.keyCode!==a.Key.downArrow||(e.preventDefault(),this.checked=!1))},_pointerDownHandler:function(e){this.disabled||this._mousedown||(e.preventDefault(),this._mousedown=!0,this._dragXStart=e.pageX-this._trackElement.getBoundingClientRect().left,this._dragX=this._dragXStart,this._dragging=!1,a.addClass(this._domElement,w),a._globalListener.addEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),a._globalListener.addEventListener(this._domElement,"pointerup",this._boundPointerUp,!0),e.pointerType===a._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&a._setPointerCapture(this._domElement,e.pointerId))},_pointerCancelHandler:function(e){this._resetPressedState(),e.pointerType===a._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&a._releasePointerCapture(this._domElement,e.pointerId)},_pointerUpHandler:function(e){if(!this.disabled&&this._mousedown){e=e.detail.originalEvent,e.preventDefault();var t=this._trackElement.getBoundingClientRect(),n=this._thumbElement.getBoundingClientRect(),i="rtl"===a._getComputedStyle(this._domElement).direction;if(this._dragging){var o=t.width-n.width;this.checked=i?this._dragX<o/2:this._dragX>=o/2,this._dragging=!1,a.removeClass(this._domElement,b)}else this.checked=!this.checked;this._resetPressedState()}},_pointerMoveHandler:function(e){if(!this.disabled&&this._mousedown){e=e.detail.originalEvent,e.preventDefault();var t=this._trackElement.getBoundingClientRect(),n=e.pageX-t.left;if(!(n>t.width)){var i=this._thumbElement.getBoundingClientRect(),o=t.width-i.width-6;this._dragX=Math.min(o,n-i.width/2),this._dragX=Math.max(2,this._dragX),!this._dragging&&Math.abs(n-this._dragXStart)>3&&(this._dragging=!0,a.addClass(this._domElement,b)),this._thumbElement.style.left=this._dragX+"px"}}},_resetPressedState:function(){this._mousedown=!1,this._thumbElement.style.left="",a.removeClass(this._domElement,w),a._globalListener.removeEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),a._globalListener.removeEventListener(this._domElement,"pointerup",this._boundPointerUp,!0)}});return t.Class.mix(E,s.DOMEventMixin),E})})}),i("require-style!less/styles-semanticzoom",[],function(){}),i("require-style!less/colors-semanticzoom",[],function(){}),i("WinJS/Controls/SemanticZoom",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Animations/_TransitionAnimation","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_ElementListUtilities","../Utilities/_Hoverable","./ElementResizeInstrument","require-style!less/styles-semanticzoom","require-style!less/colors-semanticzoom"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_){"use strict";t.Namespace.define("WinJS.UI",{SemanticZoom:t.Namespace._lazy(function(){function r(e){return e}function g(e,t,n){return e+" "+l._animationTimeAdjustment(t)+"s "+n+" "+l._libraryDelay+"ms"}function v(){return g(Y.cssName,W,"ease-in-out")+", "+g("opacity",z,"ease-in-out")}function y(){return g(Y.cssName,V,"ease-in-out")+", "+g("opacity",H,"ease-in-out")}function b(){return g(Y.cssName,J,G)}function w(){return g(Y.cssName,K,G)}function C(e,t){return m.convertToPixels(e,t)}function E(e,t){l.isAnimationEnabled()&&(e.style[Y.scriptName]="scale("+t+")")}function S(e){var t=e[0].target&&e[0].target.winControl;t&&t instanceof ae&&t._onPropertyChanged()}var I=n._browserStyleEquivalents,x={get invalidZoomFactor(){return"Invalid zoomFactor"}},j="win-semanticzoom-button",k="win-semanticzoom-button-location",P=3e3,T=8,O="win-semanticzoom",A="win-semanticzoom-zoomedinview",M="win-semanticzoom-zoomedoutview",D="zoomchanged",L=1.05,N=.65,B=.8,R=.2,F=4096,z=.333,H=.333,W=.333,V=.333,U=1e3*z,q=50,J=.333,K=.333,G="cubic-bezier(0.1,0.9,0.2,1)",Y=I.transform,X=I.transition.scriptName,Z=2,Q=.2,$=.45,ee=1e3,te=50,ne={none:0,zoomedIn:1,zoomedOut:2},ie=m._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",oe=m._MSPointerEvent.MSPOINTER_TYPE_PEN||"pen",re=m._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",se={x:0,y:0},ae=t.Class.define(function(t,o){this._disposed=!1;var r=this,s=n.isPhone;this._element=t,this._element.winControl=this,m.addClass(this._element,"win-disposable"),m.addClass(this._element,O),this._element.setAttribute("role","ms-semanticzoomcontainer");var a=this._element.getAttribute("aria-label");if(a||this._element.setAttribute("aria-label",""),o=o||{},this._zoomedOut=!!o.zoomedOut||!!o.initiallyZoomedOut||!1,this._enableButton=!s,s||void 0===o.enableButton||(this._enableButton=!!o.enableButton),this._element.setAttribute("aria-checked",this._zoomedOut.toString()),this._zoomFactor=m._clamp(o.zoomFactor,R,B,N),this.zoomedInItem=o.zoomedInItem,this.zoomedOutItem=o.zoomedOutItem,n.validation&&o._zoomFactor&&o._zoomFactor!==this._zoomFactor)throw new i("WinJS.UI.SemanticZoom.InvalidZoomFactor",x.invalidZoomFactor);this._locked=!!o.locked,this._zoomInProgress=!1,this._isBouncingIn=!1,this._isBouncing=!1,this._zooming=!1,this._aligning=!1,this._gesturing=!1,this._gestureEnding=!1,this._buttonShown=!1,this._shouldFakeTouchCancel="TouchEvent"in e,this._initialize(),this._configure(),this._onResizeBound=this._onResize.bind(this),this._elementResizeInstrument=new _._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._onResizeBound),m._resizeNotifier.subscribe(this._element,this._onResizeBound);var l=e.document.body.contains(this._element);l&&this._elementResizeInstrument.addedToDom(),m._addInsertedNotifier(this._element);var u=!0;this._element.addEventListener("WinJSNodeInserted",function(e){u?(u=!1,l||(r._elementResizeInstrument.addedToDom(),r._onResizeBound())):r._onResizeBound()},!1),new m._MutationObserver(S).observe(this._element,{attributes:!0,attributeFilter:["aria-checked"]}),s||(this._element.addEventListener("wheel",this._onWheel.bind(this),!0),this._element.addEventListener("mousewheel",this._onMouseWheel.bind(this),!0),this._element.addEventListener("keydown",this._onKeyDown.bind(this),!0),m._addEventListener(this._element,"pointerdown",this._onPointerDown.bind(this),!0),m._addEventListener(this._element,"pointermove",this._onPointerMove.bind(this),!0),m._addEventListener(this._element,"pointerout",this._onPointerOut.bind(this),!0),m._addEventListener(this._element,"pointercancel",this._onPointerCancel.bind(this),!0),m._addEventListener(this._element,"pointerup",this._onPointerUp.bind(this),!1),this._hiddenElement.addEventListener("gotpointercapture",this._onGotPointerCapture.bind(this),!1),this._hiddenElement.addEventListener("lostpointercapture",this._onLostPointerCapture.bind(this),!1),this._element.addEventListener("click",this._onClick.bind(this),!0),this._canvasIn.addEventListener(n._browserEventEquivalents.transitionEnd,this._onCanvasTransitionEnd.bind(this),!1),this._canvasOut.addEventListener(n._browserEventEquivalents.transitionEnd,this._onCanvasTransitionEnd.bind(this),!1),this._element.addEventListener("MSContentZoom",this._onMSContentZoom.bind(this),!0),this._resetPointerRecords()),this._onResizeImpl(),d._setOptions(this,o,!0),r._setVisibility()},{element:{get:function(){return this._element}},enableButton:{get:function(){return this._enableButton},set:function(e){var t=!!e;this._enableButton===t||n.isPhone||(this._enableButton=t,t?this._createSemanticZoomButton():this._removeSemanticZoomButton())}},zoomedOut:{get:function(){return this._zoomedOut},set:function(e){this._zoom(!!e,{x:.5*this._sezoClientWidth,y:.5*this._sezoClientHeight},!1,!1,this._zoomedOut&&n.isPhone)}},zoomFactor:{get:function(){return this._zoomFactor},set:function(e){var t=this._zoomFactor,n=m._clamp(e,R,B,N);t!==n&&(this._zoomFactor=n,this.forceLayout())}},locked:{get:function(){return this._locked},set:function(e){this._locked=!!e,e?this._hideSemanticZoomButton():this._displayButton()}},zoomedInItem:{get:function(){return this._zoomedInItem},set:function(e){this._zoomedInItem=e||r}},zoomedOutItem:{get:function(){return this._zoomedOutItem},set:function(e){this._zoomedOutItem=e||r}},dispose:function(){this._disposed||(this._disposed=!0,this._elementResizeInstrument.dispose(),m._resizeNotifier.unsubscribe(this._element,this._onResizeBound),h._disposeElement(this._elementIn),h._disposeElement(this._elementOut),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer))},forceLayout:function(){this._onResizeImpl()},_initialize:function(){var t=p.children(this._element);this._elementIn=t[0],this._elementOut=t[1],this._elementIn.style.height=this._elementOut.style.height=this._element.offsetHeight+"px",u.processAll(this._elementIn),u.processAll(this._elementOut),this._viewIn=this._elementIn.winControl.zoomableView,this._viewOut=this._elementOut.winControl.zoomableView,this._element.removeChild(this._elementOut),this._element.removeChild(this._elementIn),this._element.innerHTML="",this._cropViewport=e.document.createElement("div"),this._element.appendChild(this._cropViewport),this._viewportIn=e.document.createElement("div"),this._opticalViewportIn=e.document.createElement("div"),this._viewportOut=e.document.createElement("div"),this._opticalViewportOut=e.document.createElement("div"),this._opticalViewportIn.appendChild(this._viewportIn),this._opticalViewportOut.appendChild(this._viewportOut),this._cropViewport.appendChild(this._opticalViewportIn),this._cropViewport.appendChild(this._opticalViewportOut),this._canvasIn=e.document.createElement("div"),this._canvasOut=e.document.createElement("div"),this._viewportIn.appendChild(this._canvasIn),this._viewportOut.appendChild(this._canvasOut),this._canvasIn.appendChild(this._elementIn),this._canvasOut.appendChild(this._elementOut),this._enableButton&&this._createSemanticZoomButton(),this._hiddenElement=e.document.createElement("div"),this._hiddenElement.tabIndex=-1,this._hiddenElement.visibility="hidden",this._hiddenElement.setAttribute("aria-hidden","true"),this._element.appendChild(this._hiddenElement),m.addClass(this._elementIn,A),m.addClass(this._elementOut,M),this._setLayout(this._element,"relative","hidden"),this._setLayout(this._cropViewport,"absolute","hidden"),this._setLayout(this._opticalViewportIn,"absolute","auto"),this._setLayout(this._opticalViewportOut,"absolute","auto"),this._setLayout(this._viewportIn,"absolute","hidden"),this._setLayout(this._viewportOut,"absolute","hidden"),this._setLayout(this._canvasIn,"absolute","hidden"),this._setLayout(this._canvasOut,"absolute","hidden"),this._setupOpticalViewport(this._opticalViewportIn),this._setupOpticalViewport(this._opticalViewportOut),this._viewportIn.style["-ms-overflow-style"]="-ms-autohiding-scrollbar",this._viewportOut.style["-ms-overflow-style"]="-ms-autohiding-scrollbar",this._elementIn.style.position="absolute",this._elementOut.style.position="absolute"},_createSemanticZoomButton:function(){this._sezoButton=e.document.createElement("button"),this._sezoButton.setAttribute("type","button"),this._sezoButton.className=j+" "+k+" win-button",this._sezoButton.tabIndex=-1,this._sezoButton.style.visibility="hidden",this._sezoButton.setAttribute("aria-hidden",!0),this._element.appendChild(this._sezoButton),this._sezoButton.addEventListener("click",this._onSeZoButtonZoomOutClick.bind(this),!1),this._element.addEventListener("scroll",this._onSeZoChildrenScroll.bind(this),!0),m._addEventListener(this._element,"pointermove",this._onPenHover.bind(this),!1)},_removeSemanticZoomButton:function(){this._sezoButton&&(this._element.removeChild(this._sezoButton),this._sezoButton=null)},_configure:function(){var e=this._viewIn.getPanAxis(),t=this._viewOut.getPanAxis(),i=n.isPhone;if(this._pansHorizontallyIn="horizontal"===e||"both"===e,this._pansVerticallyIn="vertical"===e||"both"===e,this._pansHorizontallyOut="horizontal"===t||"both"===t,this._pansVerticallyOut="vertical"===t||"both"===t,!this._zoomInProgress){var o=1/this._zoomFactor-1,r=L-1;this._setLayout(this._elementIn,"absolute","visible"),this._setLayout(this._elementOut,"absolute","visible"),this._viewIn.configureForZoom(!1,!this._zoomedOut,this._zoomFromCurrent.bind(this,!0),o),this._viewOut.configureForZoom(!0,this._zoomedOut,this._zoomFromCurrent.bind(this,!1),r),this._pinching=!1,this._pinchGesture=0,this._canvasLeftIn=0,this._canvasTopIn=0,this._canvasLeftOut=0,this._canvasTopOut=0,i||(this._zoomedOut?E(this._canvasIn,this._zoomFactor):E(this._canvasOut,1/this._zoomFactor));var s=this._opticalViewportIn.style,a=this._opticalViewportOut.style,u=this._canvasIn.style,c=this._canvasOut.style;u.opacity=this._zoomedOut&&!i?0:1,c.opacity=this._zoomedOut?1:0,i&&(u.zIndex=1,c.zIndex=2),l.isAnimationEnabled()&&!i&&(s[I["transition-property"].scriptName]=Y.cssName,s[I["transition-duration"].scriptName]="0s",s[I["transition-timing-function"].scriptName]="linear",a[I["transition-property"].scriptName]=Y.cssName,a[I["transition-duration"].scriptName]="0s",a[I["transition-timing-function"].scriptName]="linear")}},_onPropertyChanged:function(){var e=this._element.getAttribute("aria-checked"),t="true"===e;this._zoomedOut!==t&&(this.zoomedOut=t)},_onResizeImpl:function(){this._resizing=this._resizing||0,this._resizing++;try{var e=function(e,t,n,i,o){var r=e.style;r.left=t+"px",r.top=n+"px",r.width=i+"px",r.height=o+"px"},t=m._getComputedStyle(this._element,null),n=parseFloat(t.width),i=parseFloat(t.height),o=C(this._element,t.paddingLeft),r=C(this._element,t.paddingRight),s=C(this._element,t.paddingTop),a=C(this._element,t.paddingBottom),l=n-o-r,u=i-s-a,c=1/this._zoomFactor;if(this._viewportWidth===l&&this._viewportHeight===u)return;this._sezoClientHeight=i,this._sezoClientWidth=n,this._viewportWidth=l,this._viewportHeight=u,this._configure();var d=2*c-1,h=Math.min(F,(this._pansHorizontallyIn?d:1)*l),p=Math.min(F,(this._pansVerticallyIn?d:1)*u);this._canvasLeftIn=.5*(h-l),this._canvasTopIn=.5*(p-u),e(this._cropViewport,o,s,l,u),e(this._viewportIn,0,0,l,u),e(this._opticalViewportIn,0,0,l,u),e(this._canvasIn,-this._canvasLeftIn,-this._canvasTopIn,h,p),e(this._elementIn,this._canvasLeftIn,this._canvasTopIn,l,u);var f=2*L-1,_=(this._pansHorizontallyOut?f:1)*l,g=(this._pansVerticallyOut?f:1)*u;this._canvasLeftOut=.5*(_-l),
this._canvasTopOut=.5*(g-u),e(this._viewportOut,0,0,l,u),e(this._opticalViewportOut,0,0,l,u),e(this._canvasOut,-this._canvasLeftOut,-this._canvasTopOut,_,g),e(this._elementOut,this._canvasLeftOut,this._canvasTopOut,l,u)}finally{this._resizing--}},_onResize:function(){this._resizing||this._onResizeImpl()},_onMouseMove:function(e){return this._zooming||!this._lastMouseX&&!this._lastMouseY||e.screenX===this._lastMouseX&&e.screenY===this._lastMouseY?(this._lastMouseX=e.screenX,void(this._lastMouseY=e.screenY)):void(Math.abs(e.screenX-this._lastMouseX)<=T&&Math.abs(e.screenY-this._lastMouseY)<=T||(this._lastMouseX=e.screenX,this._lastMouseY=e.screenY,this._displayButton()))},_displayButton:function(){if(f.isHoverable){e.clearTimeout(this._dismissButtonTimer),this._showSemanticZoomButton();var t=this;this._dismissButtonTimer=e.setTimeout(function(){t._hideSemanticZoomButton()},l._animationTimeAdjustment(P))}},_showSemanticZoomButton:function(){this._disposed||this._buttonShown||!this._sezoButton||this._zoomedOut||this._locked||(a.fadeIn(this._sezoButton),this._sezoButton.style.visibility="visible",this._buttonShown=!0)},_hideSemanticZoomButton:function(e){if(!this._disposed&&this._buttonShown&&this._sezoButton){if(e)this._sezoButton.style.visibility="hidden";else{var t=this;a.fadeOut(this._sezoButton).then(function(){t._sezoButton.style.visibility="hidden"})}this._buttonShown=!1}},_onSeZoChildrenScroll:function(e){e.target!==this.element&&this._hideSemanticZoomButton(!0)},_onWheel:function(e){e.ctrlKey&&(this._zoom(e.deltaY>0,this._getPointerLocation(e)),e.stopPropagation(),e.preventDefault())},_onMouseWheel:function(e){e.ctrlKey&&(this._zoom(e.wheelDelta<0,this._getPointerLocation(e)),e.stopPropagation(),e.preventDefault())},_onPenHover:function(e){e.pointerType===oe&&0===e.buttons&&this._displayButton()},_onSeZoButtonZoomOutClick:function(){this._hideSemanticZoomButton(),this._zoom(!0,{x:.5*this._sezoClientWidth,y:.5*this._sezoClientHeight},!1)},_onKeyDown:function(e){var t=!1;if(e.ctrlKey){var n=m.Key;switch(e.keyCode){case n.add:case n.equal:case 61:this._zoom(!1),t=!0;break;case n.subtract:case n.dash:case 173:this._zoom(!0),t=!0}}t&&(e.stopPropagation(),e.preventDefault())},_createPointerRecord:function(e,t){var n=this._getPointerLocation(e),i={};return i.startX=i.currentX=n.x,i.startY=i.currentY=n.y,i.fireCancelOnPinch=t,this._pointerRecords[e.pointerId]=i,this._pointerCount=Object.keys(this._pointerRecords).length,i},_deletePointerRecord:function(e){var t=this._pointerRecords[e];return delete this._pointerRecords[e],this._pointerCount=Object.keys(this._pointerRecords).length,2!==this._pointerCount&&(this._pinching=!1),t},_fakeCancelOnPointer:function(t){var n=e.document.createEvent("UIEvent");n.initUIEvent("touchcancel",!0,!0,e,0),n.touches=t.touches,n.targetTouches=t.targetTouches,n.changedTouches=[t._currentTouch],n._fakedBySemanticZoom=!0,t.target.dispatchEvent(n)},_handlePointerDown:function(e){this._createPointerRecord(e,!1);for(var t=Object.keys(this._pointerRecords),n=0,i=t.length;n<i;n++)try{m._setPointerCapture(this._hiddenElement,t[n]||0)}catch(e){return void this._resetPointerRecords()}e.stopImmediatePropagation(),e.preventDefault()},_handleFirstPointerDown:function(e){this._resetPointerRecords(),this._createPointerRecord(e,this._shouldFakeTouchCancel),this._startedZoomedOut=this._zoomedOut},_onClick:function(e){e.target!==this._element&&this._isBouncing&&e.stopImmediatePropagation()},_onPointerDown:function(e){e.pointerType===ie&&(0===this._pointerCount?this._handleFirstPointerDown(e):this._handlePointerDown(e))},_onPointerMove:function(e){function t(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function n(e,t){return{x:.5*(e.currentX+t.currentX)|0,y:.5*(e.currentY+t.currentY)|0}}if(e.pointerType===re||e.pointerType===oe)return void this._onMouseMove(e);if(e.pointerType===ie){var i=this._pointerRecords[e.pointerId],o=this._getPointerLocation(e);if(i){if(i.currentX=o.x,i.currentY=o.y,2===this._pointerCount){this._pinching=!0;var r=Object.keys(this._pointerRecords),a=this._pointerRecords[r[0]],l=this._pointerRecords[r[1]];this._currentMidPoint=n(a,l);var u=t(a.currentX,a.currentY,l.currentX,l.currentY),c=this,d=function(e){var t=e?ne.zoomedOut:ne.zoomedIn,i=e?c._pinchedDirection===ne.zoomedIn&&!c._zoomingOut:c._pinchedDirection===ne.zoomedOut&&c._zoomingOut,o=e?!c._zoomedOut:c._zoomedOut;if(c._pinchedDirection===ne.none)o?(c._isBouncingIn=!1,c._zoom(e,n(a,l),!0),c._pinchedDirection=t):c._isBouncingIn||c._playBounce(!0,n(a,l));else if(i){var r=c._lastPinchDistance/c._lastPinchStartDistance,s=c._lastLastPinchDistance/c._lastPinchDistance;(e&&r>Q||!e&&s>$)&&(c._zoom(e,n(a,l),!0),c._pinchedDirection=t)}};this._updatePinchDistanceRecords(u),this._pinchDistanceCount>=Z&&(this._zooming||this._isBouncing||(s("WinJS.UI.SemanticZoom:EndPinchDetection,info"),d(this._lastPinchDirection===ne.zoomedOut)))}else this._pointerCount>2&&this._resetPinchDistanceRecords();this._pointerCount>=2&&(i.fireCancelOnPinch&&(this._fakeCancelOnPointer(e,i),i.fireCancelOnPinch=!1),e.stopImmediatePropagation(),e.preventDefault()),2!==this._pointerCount&&this._isBouncingIn&&this._playBounce(!1)}}},_onPointerOut:function(e){e.pointerType===ie&&e.target===this._element&&this._completePointerUp(e,!1)},_onPointerUp:function(e){this._releasePointerCapture(e),this._completePointerUp(e,!0),this._completeZoomingIfTimeout()},_onPointerCancel:function(e){e._fakedBySemanticZoom||(this._releasePointerCapture(e),this._completePointerUp(e,!1),this._completeZoomingIfTimeout())},_onGotPointerCapture:function(e){var t=this._pointerRecords[e.pointerId];t&&(t.dirty=!1)},_onLostPointerCapture:function(e){var t=this._pointerRecords[e.pointerId];if(t){t.dirty=!0;var n=this;c.timeout(te).then(function(){t.dirty&&n._completePointerUp(e,!1)})}},_onMSContentZoom:function(e){var t=e.target;if(t===this._opticalViewportIn||t===this._opticalViewportOut){var n=t.msContentZoomFactor<.995,i=t.msContentZoomFactor>1.005;!n||this._zoomedOut||this._zoomingOut?i&&(this._zoomedOut||this._zoomingOut)&&(this.zoomedOut=!1):this.zoomedOut=!0}},_updatePinchDistanceRecords:function(e){function t(t){n._lastPinchDirection===t?n._pinchDistanceCount++:(n._pinchGesture++,n._pinchDistanceCount=0,n._lastPinchStartDistance=e),n._lastPinchDirection=t,n._lastPinchDistance=e,n._lastLastPinchDistance=n._lastPinchDistance}var n=this;this._lastPinchDistance===-1?(s("WinJS.UI.SemanticZoom:StartPinchDetection,info"),this._lastPinchDistance=e):this._lastPinchDistance!==e&&t(this._lastPinchDistance>e?ne.zoomedOut:ne.zoomedIn)},_zoomFromCurrent:function(e){this._zoom(e,null,!1,!0)},_zoom:function(e,t,i,o,r){if(s("WinJS.UI.SemanticZoom:StartZoom(zoomOut="+e+"),info"),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._hideSemanticZoomButton(),this._resetPinchDistanceRecords(),!this._locked&&!this._gestureEnding)if(this._zoomInProgress){if(this._gesturing===!i)return;e!==this._zoomingOut&&this._startAnimations(e)}else if(e!==this._zoomedOut){this._zooming=!0,this._aligning=!0,this._gesturing=!!i,t&&(e?this._viewIn:this._viewOut).setCurrentItem(t.x,t.y),this._zoomInProgress=!0,(e?this._opticalViewportOut:this._opticalViewportIn).style.visibility="visible",e&&n.isPhone&&(this._canvasOut.style.opacity=1);var a=this._viewIn.beginZoom(),l=this._viewOut.beginZoom(),u=null;if((a||l)&&n.isPhone&&(u=c.join([a,l])),o&&!r){var d=this;(e?this._viewIn:this._viewOut).getCurrentItem().then(function(t){var n=t.position;d._prepareForZoom(e,{x:d._rtl()?d._sezoClientWidth-n.left-.5*n.width:n.left+.5*n.width,y:n.top+.5*n.height},c.wrap(t),u)})}else this._prepareForZoom(e,t||{},null,u,r)}},_prepareForZoom:function(e,t,n,i,o){function r(e,t){a._canvasIn.style[I["transform-origin"].scriptName]=a._canvasLeftIn+l-e.x+"px "+(a._canvasTopIn+u-e.y)+"px",a._canvasOut.style[I["transform-origin"].scriptName]=a._canvasLeftOut+l-t.x+"px "+(a._canvasTopOut+u-t.y)+"px"}s("WinJS.UI.SemanticZoom:prepareForZoom,StartTM");var a=this,l=t.x,u=t.y;"number"==typeof l&&this._pansHorizontallyIn&&this._pansHorizontallyOut||(l=.5*this._sezoClientWidth),"number"==typeof u&&this._pansVerticallyIn&&this._pansVerticallyOut||(u=.5*this._sezoClientHeight),r(se,se),o?this._aligning=!1:this._alignViewsPromise=this._alignViews(e,l,u,n).then(function(){a._aligning=!1,a._gestureEnding=!1,a._alignViewsPromise=null,a._zooming||a._gesturing||a._completeZoom()}),this._zoomingOut=e,m._getComputedStyle(this._canvasIn).opacity,m._getComputedStyle(this._canvasOut).opacity,s("WinJS.UI.SemanticZoom:prepareForZoom,StopTM"),this._startAnimations(e,i)},_alignViews:function(e,t,n,i){var o=1-this._zoomFactor,r=this._rtl(),s=o*(r?this._viewportWidth-t:t),a=o*n,l=this;if(e){var u=i||this._viewIn.getCurrentItem();if(u)return u.then(function(e){var t=e.position,n={left:t.left*l._zoomFactor+s,top:t.top*l._zoomFactor+a,width:t.width*l._zoomFactor,height:t.height*l._zoomFactor};return l._viewOut.positionItem(l._zoomedOutItem(e.item),n)})}else{var d=i||this._viewOut.getCurrentItem();if(d)return d.then(function(e){var t=e.position,n={left:(t.left-s)/l._zoomFactor,top:(t.top-a)/l._zoomFactor,width:t.width/l._zoomFactor,height:t.height/l._zoomFactor};return l._viewIn.positionItem(l._zoomedInItem(e.item),n)})}return new c(function(e){e({x:0,y:0})})},_startAnimations:function(e,t){this._zoomingOut=e;var i=n.isPhone;if(l.isAnimationEnabled()&&!i&&(s("WinJS.UI.SemanticZoom:ZoomAnimation,StartTM"),this._canvasIn.style[X]=e?v():y(),this._canvasOut.style[X]=e?y():v()),i||(E(this._canvasIn,e?this._zoomFactor:1),E(this._canvasOut,e?1:1/this._zoomFactor)),this._canvasIn.style.opacity=e&&!i?0:1,i&&!e||(this._canvasOut.style.opacity=e?1:0),l.isAnimationEnabled())if(t){var o=this,r=function(){o._canvasIn.style[Y.scriptName]="",o._canvasOut.style[Y.scriptName]="",o._onZoomAnimationComplete()};t.then(r,r)}else this.setTimeoutAfterTTFF(this._onZoomAnimationComplete.bind(this),l._animationTimeAdjustment(U));else this._zooming=!1,this._canvasIn.style[Y.scriptName]="",this._canvasOut.style[Y.scriptName]="",this._completeZoom()},_onBounceAnimationComplete:function(){this._isBouncingIn||this._disposed||this._completeZoom()},_onZoomAnimationComplete:function(){s("WinJS.UI.SemanticZoom:ZoomAnimation,StopTM"),this._disposed||(this._zooming=!1,this._aligning||this._gesturing||this._gestureEnding||this._completeZoom())},_onCanvasTransitionEnd:function(e){if(!this._disposed)return e.target!==this._canvasOut&&e.target!==this._canvasIn||!this._isBouncing?void(e.target===this._canvasIn&&e.propertyName===Y.cssName&&this._onZoomAnimationComplete()):void this._onBounceAnimationComplete()},_clearTimeout:function(t){t&&e.clearTimeout(t)},_completePointerUp:function(e,t){if(!this._disposed){var n=e.pointerId,i=this._pointerRecords[n];if(i&&(this._deletePointerRecord(n),this._isBouncingIn&&this._playBounce(!1),t&&this._pinchedDirection!==ne.none&&e.stopImmediatePropagation(),0===this._pointerCount)){if(1===this._pinchGesture&&!this._zooming&&this._lastPinchDirection!==ne.none&&this._pinchDistanceCount<Z)return this._zoom(this._lastPinchDirection===ne.zoomedOut,this._currentMidPoint,!1),this._pinchGesture=0,void this._attemptRecordReset();this._pinchedDirection!==ne.none&&(this._gesturing=!1,this._aligning||this._zooming||this._completeZoom()),this._pinchGesture=0,this._attemptRecordReset()}}},setTimeoutAfterTTFF:function(t,n){var i=this;i._TTFFTimer=e.setTimeout(function(){this._disposed||(i._TTFFTimer=e.setTimeout(t,n))},q)},_completeZoomingIfTimeout:function(){if(0===this._pointerCount){var t=this;(this._zoomInProgress||this._isBouncing)&&(t._completeZoomTimer=e.setTimeout(function(){t._completeZoom()},l._animationTimeAdjustment(ee)))}},_completeZoom:function(){if(!this._disposed){if(this._isBouncing)return this._zoomedOut?this._viewOut.endZoom(!0):this._viewIn.endZoom(!0),void(this._isBouncing=!1);if(this._zoomInProgress){s("WinJS.UI.SemanticZoom:CompleteZoom,info"),this._aligning=!1,this._alignViewsPromise&&this._alignViewsPromise.cancel(),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._gestureEnding=!1,this[this._zoomingOut?"_opticalViewportOut":"_opticalViewportIn"].msContentZoomFactor=1,this._viewIn.endZoom(!this._zoomingOut),this._viewOut.endZoom(this._zoomingOut),this._canvasIn.style.opacity=this._zoomingOut&&!n.isPhone?0:1,this._canvasOut.style.opacity=this._zoomingOut?1:0,this._zoomInProgress=!1;var t=!1;if(this._zoomingOut!==this._zoomedOut&&(this._zoomedOut=!!this._zoomingOut,this._element.setAttribute("aria-checked",this._zoomedOut.toString()),t=!0),this._setVisibility(),t){var i=e.document.createEvent("CustomEvent");i.initCustomEvent(D,!0,!0,this._zoomedOut),this._element.dispatchEvent(i),this._isActive&&m._setActive(this._zoomedOut?this._elementOut:this._elementIn)}s("WinJS.UI.SemanticZoom:CompleteZoom_Custom,info")}}},_isActive:function(){var t=e.document.activeElement;return this._element===t||this._element.contains(t)},_setLayout:function(e,t,n){var i=e.style;i.position=t,i.overflow=n},_setupOpticalViewport:function(e){e.style["-ms-overflow-style"]="none",n.isPhone||(e.style["-ms-content-zooming"]="zoom",e.style["-ms-content-zoom-limit-min"]="99%",e.style["-ms-content-zoom-limit-max"]="101%",e.style["-ms-content-zoom-snap-points"]="snapList(100%)",e.style["-ms-content-zoom-snap-type"]="mandatory")},_setVisibility:function(){function e(e,t){e.style.visibility=t?"visible":"hidden"}e(this._opticalViewportIn,!this._zoomedOut||n.isPhone),e(this._opticalViewportOut,this._zoomedOut),this._opticalViewportIn.setAttribute("aria-hidden",!!this._zoomedOut),this._opticalViewportOut.setAttribute("aria-hidden",!this._zoomedOut)},_resetPointerRecords:function(){this._pinchedDirection=ne.none,this._pointerCount=0,this._pointerRecords={},this._resetPinchDistanceRecords()},_releasePointerCapture:function(e){var t=e.pointerId;try{m._releasePointerCapture(this._hiddenElement,t)}catch(e){}},_attemptRecordReset:function(){this._recordResetPromise&&this._recordResetPromise.cancel();var e=this;this._recordResetPromise=c.timeout(te).then(function(){0===e._pointerCount&&(e._resetPointerRecords(),e._recordResetPromise=null)})},_resetPinchDistanceRecords:function(){this._lastPinchDirection=ne.none,this._lastPinchDistance=-1,this._lastLastPinchDistance=-1,this._pinchDistanceCount=0,this._currentMidPoint=null},_getPointerLocation:function(e){var t={left:0,top:0};try{t=this._element.getBoundingClientRect()}catch(e){}var n=m._getComputedStyle(this._element,null),i=C(this._element,n.paddingLeft),o=C(this._element,n.paddingTop),r=C(this._element,n.borderLeftWidth);return{x:+e.clientX===e.clientX?e.clientX-t.left-i-r:0,y:+e.clientY===e.clientY?e.clientY-t.top-o-o:0}},_playBounce:function(e,t){if(l.isAnimationEnabled()&&this._isBouncingIn!==e){this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._isBouncing=!0,this._isBouncingIn=e,e?this._bounceCenter=t:this._aligned=!0;var n=this._zoomedOut?this._canvasOut:this._canvasIn,i=this._zoomedOut?this._canvasLeftOut:this._canvasLeftIn,o=this._zoomedOut?this._canvasTopOut:this._canvasTopIn;n.style[I["transform-origin"].scriptName]=i+this._bounceCenter.x+"px "+(o+this._bounceCenter.y)+"px",n.style[X]=e?b():w(),this._zoomedOut?this._viewOut.beginZoom():this._viewIn.beginZoom();var r=e?this._zoomedOut?2-L:L:1;E(n,r),this.setTimeoutAfterTTFF(this._onBounceAnimationComplete.bind(this),l._animationTimeAdjustment(U))}},_rtl:function(){return"rtl"===m._getComputedStyle(this._element,null).direction},_pinching:{set:function(e){this._viewIn.pinching=e,this._viewOut.pinching=e}}});return t.Class.mix(ae,o.createEventProperties("zoomchanged")),t.Class.mix(ae,d.DOMEventMixin),ae})})}),i("WinJS/Controls/Pivot/_Constants",["require","exports"],function(e,t){t._ClassNames={pivot:"win-pivot",pivotCustomHeaders:"win-pivot-customheaders",pivotLocked:"win-pivot-locked",pivotTitle:"win-pivot-title",pivotHeaderArea:"win-pivot-header-area",pivotHeaderLeftCustom:"win-pivot-header-leftcustom",pivotHeaderRightCustom:"win-pivot-header-rightcustom",pivotHeaderItems:"win-pivot-header-items",pivotHeaders:"win-pivot-headers",pivotHeader:"win-pivot-header",pivotHeaderSelected:"win-pivot-header-selected",pivotViewport:"win-pivot-viewport",pivotSurface:"win-pivot-surface",pivotNoSnap:"win-pivot-nosnap",pivotNavButton:"win-pivot-navbutton",pivotNavButtonPrev:"win-pivot-navbutton-prev",pivotNavButtonNext:"win-pivot-navbutton-next",pivotShowNavButtons:"win-pivot-shownavbuttons",pivotInputTypeMouse:"win-pivot-mouse",pivotInputTypeTouch:"win-pivot-touch",pivotDisableContentSwipeNavigation:"win-pivot-disablecontentswipenavigation"}}),i("WinJS/Controls/Pivot/_Item",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../ControlProcessor","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","./_Constants"],function(e,t,n,i,o,r,s,a,l,u,c,d,h){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{PivotItem:n.Namespace._lazy(function(){var e={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},r=n.Class.define(function(n,i){if(n=n||t.document.createElement("DIV"),i=i||{},n.winControl)throw new o("WinJS.UI.PivotItem.DuplicateConstruction",e.duplicateConstruction);n.winControl=this,this._element=n,d.addClass(this.element,r._ClassName.pivotItem),d.addClass(this.element,"win-disposable"),this._element.setAttribute("role","tabpanel"),this._contentElement=t.document.createElement("DIV"),this._contentElement.className=r._ClassName.pivotItemContent,n.appendChild(this._contentElement);for(var a=this.element.firstChild;a!==this._contentElement;){var l=a.nextSibling;this._contentElement.appendChild(a),a=l}this._processors=[s.processAll],u.setOptions(this,i)},{element:{get:function(){return this._element}},contentElement:{get:function(){return this._contentElement}},header:{get:function(){return this._header},set:function(e){this._header=e,this._parentPivot&&this._parentPivot._headersState.handleHeaderChanged(this)}},_parentPivot:{get:function(){for(var e=this._element;e&&!d.hasClass(e,h._ClassNames.pivot);)e=e.parentNode;return e&&e.winControl}},_process:function(){var e=this;return this._processors&&this._processors.push(function(){return l.schedulePromiseAboveNormal()}),this._processed=(this._processors||[]).reduce(function(t,n){return t.then(function(){return n(e.contentElement)})},this._processed||a.as()),this._processors=null,this._processed},dispose:function(){this._disposed||(this._disposed=!0,this._processors=null,c.disposeSubTree(this.contentElement))}},{_ClassName:{pivotItem:"win-pivot-item",pivotItemContent:"win-pivot-item-content"},isDeclarativeControlContainer:i.markSupportedForProcessing(function(e,t){t!==s.processAll&&(e._processors=e._processors||[],e._processors.push(t),e._processed&&e._process())})});return r})})}),i("require-style!less/styles-pivot",[],function(){}),i("require-style!less/colors-pivot",[],function(){});var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};i("WinJS/Controls/Pivot/_Pivot",["require","exports","../../Core/_Global","../../Animations","../../BindingList","../../ControlProcessor","../../Promise","../../Scheduler","../../Core/_Base","../../Core/_BaseUtils","../../Utilities/_Control","../../Utilities/_Dispose","../ElementResizeInstrument","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Utilities/_Hoverable","../../Utilities/_KeyboardBehavior","../../Core/_Log","../../Core/_Resources","../../Animations/_TransitionAnimation","../../Core/_WriteProfilerMark","./_Constants"],function(e,t,n,i,r,s,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C,E,S){function I(e){var t=n.document.createTextNode("object"===a(e.header)?JSON.stringify(e.header):""+e.header);return t}v.isHoverable,e(["require-style!less/styles-pivot"]),e(["require-style!less/colors-pivot"]);var x={selectionChanged:"selectionchanged",itemAnimationStart:"itemanimationstart",itemAnimationEnd:"itemanimationend"},j={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get duplicateItem(){return w._getWinJSString("ui/duplicateItem").value},get invalidContent(){return"Invalid content: Pivot content must be made up of PivotItems."},get pivotAriaLabel(){return w._getWinJSString("ui/pivotAriaLabel").value},get pivotViewportAriaLabel(){return w._getWinJSString("ui/pivotViewportAriaLabel").value}},k=!!(f._supportsSnapPoints&&"inertiaDestinationX"in n.MSManipulationEvent.prototype),P=f._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",T=f._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",O=f.Key,A=250,M=-1,D=function(){function e(e,t){var i=this;if(void 0===t&&(t={}),this._disposed=!1,this._firstLoad=!0,this._hidePivotItemAnimation=l.wrap(),this._loadPromise=l.wrap(),this._pendingRefresh=!1,this._selectedIndex=0,this._showPivotItemAnimation=l.wrap(),this._slideHeadersAnimation=l.wrap(),e=e||n.document.createElement("DIV"),e.winControl)throw new _("WinJS.UI.Pivot.DuplicateConstruction",j.duplicateConstruction);this._handleItemChanged=this._handleItemChanged.bind(this),this._handleItemInserted=this._handleItemInserted.bind(this),this._handleItemMoved=this._handleItemMoved.bind(this),this._handleItemRemoved=this._handleItemRemoved.bind(this),this._handleItemReload=this._handleItemReload.bind(this),this._resizeHandler=this._resizeHandler.bind(this),this._updatePointerType=this._updatePointerType.bind(this),this._id=e.id||f._uniqueID(e),this._writeProfilerMark("constructor,StartTM"),e.winControl=this,this._element=e,this._element.setAttribute("role","tablist"),this._element.getAttribute("aria-label")||this._element.setAttribute("aria-label",j.pivotAriaLabel),f.addClass(this.element,S._ClassNames.pivot),f.addClass(this.element,"win-disposable"),f._addEventListener(this.element,"pointerenter",this._updatePointerType),f._addEventListener(this.element,"pointerout",this._updatePointerType),this._titleElement=n.document.createElement("DIV"),this._titleElement.style.display="none",f.addClass(this._titleElement,S._ClassNames.pivotTitle),this._element.appendChild(this._titleElement),this._headerAreaElement=n.document.createElement("DIV"),f.addClass(this._headerAreaElement,S._ClassNames.pivotHeaderArea),this._element.appendChild(this._headerAreaElement),this._headerItemsElement=n.document.createElement("DIV"),f.addClass(this._headerItemsElement,S._ClassNames.pivotHeaderItems),this._headerAreaElement.appendChild(this._headerItemsElement),this._headerItemsElWidth=null,this._headersContainerElement=n.document.createElement("DIV"),this._headersContainerElement.tabIndex=0,f.addClass(this._headersContainerElement,S._ClassNames.pivotHeaders),this._headersContainerElement.addEventListener("keydown",this._headersKeyDown.bind(this)),f._addEventListener(this._headersContainerElement,"pointerenter",this._showNavButtons.bind(this)),f._addEventListener(this._headersContainerElement,"pointerout",this._hideNavButtons.bind(this)),this._headerItemsElement.appendChild(this._headersContainerElement),this._element.addEventListener("click",this._elementClickedHandler.bind(this)),this._winKeyboard=new y._WinKeyboard(this._headersContainerElement),this._customLeftHeader=n.document.createElement("DIV"),f.addClass(this._customLeftHeader,S._ClassNames.pivotHeaderLeftCustom),this._headerAreaElement.insertBefore(this._customLeftHeader,this._headerAreaElement.children[0]),this._customRightHeader=n.document.createElement("DIV"),f.addClass(this._customRightHeader,S._ClassNames.pivotHeaderRightCustom),this._headerAreaElement.appendChild(this._customRightHeader),this._viewportElement=n.document.createElement("DIV"),this._viewportElement.className=S._ClassNames.pivotViewport,this._element.appendChild(this._viewportElement),this._viewportElement.setAttribute("role","group"),this._viewportElement.setAttribute("aria-label",j.pivotViewportAriaLabel),this._elementResizeInstrument=new p._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandler),f._inDom(this._element).then(function(){i._disposed||i._elementResizeInstrument.addedToDom()}),f._resizeNotifier.subscribe(this.element,this._resizeHandler),this._viewportElWidth=null,this._surfaceElement=n.document.createElement("DIV"),this._surfaceElement.className=S._ClassNames.pivotSurface,this._viewportElement.appendChild(this._surfaceElement),this._headersState=new L(this),k?this._viewportElement.addEventListener("MSManipulationStateChanged",this._MSManipulationStateChangedHandler.bind(this)):(f.addClass(this.element,S._ClassNames.pivotNoSnap),f._addEventListener(this._element,"pointerdown",this._elementPointerDownHandler.bind(this)),f._addEventListener(this._element,"pointerup",this._elementPointerUpHandler.bind(this))),this._parse(),t=d._shallowCopy(t),t.items&&(this.items=t.items,delete t.items),h.setOptions(this,t),this._refresh(),this._writeProfilerMark("constructor,StopTM")}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customLeftHeader",{get:function(){return this._customLeftHeader.firstElementChild},set:function(e){f.empty(this._customLeftHeader),e?(this._customLeftHeader.appendChild(e),f.addClass(this._element,S._ClassNames.pivotCustomHeaders)):this._customLeftHeader.children.length||this._customRightHeader.childNodes.length||f.removeClass(this._element,S._ClassNames.pivotCustomHeaders),this.forceLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customRightHeader",{get:function(){return this._customRightHeader.firstElementChild},set:function(e){f.empty(this._customRightHeader),e?(this._customRightHeader.appendChild(e),f.addClass(this._element,S._ClassNames.pivotCustomHeaders)):this._customLeftHeader.children.length||this._customRightHeader.childNodes.length||f.removeClass(this._element,S._ClassNames.pivotCustomHeaders),this.forceLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return f.hasClass(this.element,S._ClassNames.pivotLocked)},set:function(e){f[e?"addClass":"removeClass"](this.element,S._ClassNames.pivotLocked),e&&this._hideNavButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._pendingItems?this._pendingItems:this._items},set:function(e){this._pendingItems=e,this._refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._titleElement.textContent},set:function(e){e?(this._titleElement.style.display="block",this._titleElement.textContent=e):(this._titleElement.style.display="none",this._titleElement.textContent="")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return 0===this.items.length?-1:this._selectedIndex},set:function(e){e>=0&&e<this.items.length&&(this._pendingRefresh?this._selectedIndex=e:this._loadItem(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this.items.getAt(this.selectedIndex)},set:function(e){var t=this.items.indexOf(e);t!==-1&&(this.selectedIndex=t)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this._updateEvents(this._items,null),f._resizeNotifier.unsubscribe(this.element,this._resizeHandler),this._elementResizeInstrument.dispose(),this._headersState.exit(),m._disposeElement(this._headersContainerElement);for(var e=0,t=this.items.length;e<t;e++)this.items.getAt(e).dispose()}},e.prototype.forceLayout=function(){this._disposed||this._resizeHandler()},e.prototype._applyProperties=function(){function e(e){for(var t=0,n=e.items.length;t<n;t++){var i=e._items.getAt(t);if(i.element.parentNode===e._surfaceElement)throw new _("WinJS.UI.Pivot.DuplicateItem",j.duplicateItem);i.element.style.display="none",e._surfaceElement.appendChild(i.element)}}if(!this._disposed){if(this._pendingItems){for(this._updateEvents(this._items,this._pendingItems),this._items=this._pendingItems,this._pendingItems=null;this.element.firstElementChild!==this._titleElement;){var t=this.element.firstElementChild;t.parentNode.removeChild(t)}f.empty(this._surfaceElement)}e(this),this._rtl="rtl"===f._getComputedStyle(this._element,null).direction,this._headersState.refreshHeadersState(!0),this._pendingRefresh=!1,this._firstLoad=!0,this.selectedIndex=this._selectedIndex,this._firstLoad=!1,this._recenterViewport()}},e.prototype._parse=function(){for(var e=[],t=this.element.firstElementChild;t!==this._titleElement;){s.processAll(t);var n=t.winControl;if(!n)throw new _("WinJS.UI.Pivot.InvalidContent",j.invalidContent);e.push(n);var i=t.nextElementSibling;t=i}this.items=new r.List(e)},e.prototype._refresh=function(){this._pendingRefresh||(this._pendingRefresh=!0,u.schedule(this._applyProperties.bind(this),u.Priority.high))},e.prototype._resizeHandler=function(){if(!this._disposed&&!this._pendingRefresh){var e=this._getViewportWidth(),t=this._getHeaderItemsWidth();this._invalidateMeasures(),e!==this._getViewportWidth()||t!==this._getHeaderItemsWidth()?(b.log&&b.log("_resizeHandler, viewport from:"+e+" to: "+this._getViewportWidth()),b.log&&b.log("_resizeHandler, headers from:"+t+" to: "+this._getHeaderItemsWidth()),this._hidePivotItemAnimation&&this._hidePivotItemAnimation.cancel(),this._showPivotItemAnimation&&this._showPivotItemAnimation.cancel(),this._slideHeadersAnimation&&this._slideHeadersAnimation.cancel(),this._recenterViewport(),this._headersState.handleResize()):b.log&&b.log("_resizeHandler worthless resize")}},e.prototype._activateHeader=function(e){if(!this.locked){var t=this._items.indexOf(e._item);t!==this.selectedIndex?this._headersState.activateHeader(e):f._setActiveFirstFocusableElement(this.selectedItem.element)}},e.prototype._goNext=function(){this.selectedIndex<this._items.length-1?this.selectedIndex++:this.selectedIndex=0},e.prototype._goPrevious=function(){this._animateToPrevious=!0,this.selectedIndex>0?this.selectedIndex--:this.selectedIndex=this._items.length-1,this._animateToPrevious=!1},e.prototype._loadItem=function(e){var t=this;this._rtl="rtl"===f._getComputedStyle(this._element,null).direction,this._hidePivotItemAnimation.cancel(),this._showPivotItemAnimation.cancel(),this._slideHeadersAnimation.cancel();var n=this._animateToPrevious,i=this._items.getAt(e),o=this._firstLoad,r=this._loadPromise=this._loadPromise.then(function(){var s=t._items.getAt(t.selectedIndex);s&&t._hidePivotItem(s.element,n,o);var a=t._selectedIndex;t._selectedIndex=e;var u={index:e,direction:n?"backwards":"forward",item:i};return t._fireEvent(x.selectionChanged,!0,!1,u),t._headersState.handleNavigation(n,e,a),l.join([i._process(),t._hidePivotItemAnimation,l.timeout()]).then(function(){if(!t._disposed&&t._loadPromise===r)return t._recenterViewport(),t._showPivotItem(i.element,n,o).then(function(){t._disposed||t._loadPromise!==r||(t._loadPromise=l.wrap(),t._writeProfilerMark("itemAnimationStop,info"),t._fireEvent(x.itemAnimationEnd,!0,!1,null))})})})},e.prototype._recenterViewport=function(){f.setScrollPosition(this._viewportElement,{scrollLeft:this._getViewportWidth()}),this.selectedItem&&(this.selectedItem.element.style[this._getDirectionAccessor()]=this._getViewportWidth()+"px")},e.prototype._fireEvent=function(e,t,i,o){var r=n.document.createEvent("CustomEvent");return r.initCustomEvent(e,!!t,!!i,o),this.element.dispatchEvent(r)},e.prototype._getDirectionAccessor=function(){return this._rtl?"right":"left"},e.prototype._getHeaderItemsWidth=function(){return this._headerItemsElWidth||(this._headerItemsElWidth=parseFloat(f._getComputedStyle(this._headerItemsElement).width)),
this._headerItemsElWidth||M},e.prototype._getViewportWidth=function(){return this._viewportElWidth||(this._viewportElWidth=parseFloat(f._getComputedStyle(this._viewportElement).width),k&&(this._viewportElement.style[d._browserStyleEquivalents["scroll-snap-points-x"].scriptName]="snapInterval(0%, "+Math.ceil(this._viewportElWidth)+"px)")),this._viewportElWidth||M},e.prototype._invalidateMeasures=function(){this._viewportElWidth=this._headerItemsElWidth=null},e.prototype._updateEvents=function(e,t){e&&(e.removeEventListener("itemchanged",this._handleItemChanged),e.removeEventListener("iteminserted",this._handleItemInserted),e.removeEventListener("itemmoved",this._handleItemMoved),e.removeEventListener("itemremoved",this._handleItemRemoved),e.removeEventListener("reload",this._handleItemReload)),t&&(t.addEventListener("itemchanged",this._handleItemChanged),t.addEventListener("iteminserted",this._handleItemInserted),t.addEventListener("itemmoved",this._handleItemMoved),t.addEventListener("itemremoved",this._handleItemRemoved),t.addEventListener("reload",this._handleItemReload))},e.prototype._writeProfilerMark=function(e){var t="WinJS.UI.Pivot:"+this._id+":"+e;E(t),b.log&&b.log(t,null,"pivotprofiler")},e.prototype._handleItemChanged=function(e){if(!this._pendingItems){var t=e.detail.index,n=e.detail.newValue,i=e.detail.oldValue;if(n.element!==i.element){if(n.element.parentNode===this._surfaceElement)throw new _("WinJS.UI.Pivot.DuplicateItem",j.duplicateItem);n.element.style.display="none",this._surfaceElement.insertBefore(n.element,i.element),this._surfaceElement.removeChild(i.element),t===this.selectedIndex&&(this.selectedIndex=t)}this._headersState.render(),this._headersState.refreshHeadersState(!0)}},e.prototype._handleItemInserted=function(e){if(!this._pendingItems){var t=e.detail.index,n=e.detail.value;if(n.element.parentNode===this._surfaceElement)throw new _("WinJS.UI.Pivot.DuplicateItem",j.duplicateItem);n.element.style.display="none",t<this.items.length-1?this._surfaceElement.insertBefore(n.element,this.items.getAt(t+1).element):this._surfaceElement.appendChild(n.element),t<=this.selectedIndex&&this._selectedIndex++,1===this._items.length&&(this.selectedIndex=0),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},e.prototype._handleItemMoved=function(e){if(!this._pendingItems){var t=e.detail.oldIndex,n=e.detail.newIndex,i=e.detail.value;n<this.items.length-1?this._surfaceElement.insertBefore(i.element,this.items.getAt(n+1).element):this._surfaceElement.appendChild(i.element),t<this.selectedIndex&&n>=this.selectedIndex?this._selectedIndex--:n>this.selectedIndex&&t<=this.selectedIndex?this._selectedIndex++:t===this.selectedIndex&&(this.selectedIndex=this.selectedIndex),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},e.prototype._handleItemReload=function(){this.items=this.items},e.prototype._handleItemRemoved=function(e){if(!this._pendingItems){var t=e.detail.value,n=e.detail.index;this._surfaceElement.removeChild(t.element),n<this.selectedIndex?this._selectedIndex--:n===this._selectedIndex&&(this.selectedIndex=Math.min(this.items.length-1,this._selectedIndex)),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},e.prototype._elementClickedHandler=function(e){if(this.locked||this._navigationHandled)return void(this._navigationHandled=!1);var t,n=e.target;if(f.hasClass(n,S._ClassNames.pivotHeader))t=n;else{var i=!1,o=f._elementsFromPoint(e.clientX,e.clientY);if(o&&o[0]===this._viewportElement)for(var r=0,s=o.length;r<s;r++)o[r]===n&&(i=!0),f.hasClass(o[r],S._ClassNames.pivotHeader)&&(t=o[r]);i||(t=null)}t&&this._activateHeader(t)},e.prototype._elementPointerDownHandler=function(e){if(!k){var t=e.target;this._elementPointerDownPoint={x:e.clientX,y:e.clientY,type:e.pointerType||"mouse",time:Date.now(),inHeaders:this._headersContainerElement.contains(t)}}},e.prototype._elementPointerUpHandler=function(e){if(!this._elementPointerDownPoint||this.locked)return void(this._elementPointerDownPoint=null);var t=e.target,n=32,i=.4,o=Math.abs(e.clientY-this._elementPointerDownPoint.y),r=e.clientX-this._elementPointerDownPoint.x,s=Math.abs(r*i),a=o<s&&Math.abs(r)>n&&(!f._supportsTouchDetection||this._elementPointerDownPoint.type===e.pointerType&&e.pointerType===T)&&(!this.element.classList.contains(S._ClassNames.pivotDisableContentSwipeNavigation)||this._elementPointerDownPoint.inHeaders&&this._headersContainerElement.contains(t));if(this._navigationHandled=!1,a){var l=Date.now()-this._elementPointerDownPoint.time;r*=Math.max(1,Math.pow(350/l,2)),r=this._rtl?-r:r;var u=this._getViewportWidth()/4;r<-u?(this._goNext(),this._navigationHandled=!0):r>u&&(this._goPrevious(),this._navigationHandled=!0)}if(!this._navigationHandled){for(;null!==t&&!f.hasClass(t,S._ClassNames.pivotHeader);)t=t.parentElement;null!==t&&(this._activateHeader(t),this._navigationHandled=!0)}this._elementPointerDownPoint=null},e.prototype._headersKeyDown=function(e){this.locked||(e.keyCode===O.leftArrow||e.keyCode===O.pageUp?(this._rtl?this._goNext():this._goPrevious(),e.preventDefault()):e.keyCode!==O.rightArrow&&e.keyCode!==O.pageDown||(this._rtl?this._goPrevious():this._goNext(),e.preventDefault()))},e.prototype._hideNavButtons=function(e){e&&this._headersContainerElement.contains(e.relatedTarget)||f.removeClass(this._headersContainerElement,S._ClassNames.pivotShowNavButtons)},e.prototype._hidePivotItem=function(e,t,n){return n||!C.isAnimationEnabled()?(e.style.display="none",this._hidePivotItemAnimation=l.wrap(),this._hidePivotItemAnimation):(this._hidePivotItemAnimation=C.executeTransition(e,{property:"opacity",delay:0,duration:67,timing:"linear",from:"",to:"0"}).then(function(){e.style.display="none"}),this._hidePivotItemAnimation)},e.prototype._MSManipulationStateChangedHandler=function(e){if(e.target===this._viewportElement&&e.currentState===f._MSManipulationEvent.MS_MANIPULATION_STATE_INERTIA){var t=e.inertiaDestinationX-this._getViewportWidth();t>0?this._goNext():t<0&&this._goPrevious()}},e.prototype._updatePointerType=function(e){this._pointerType!==(e.pointerType||P)&&(this._pointerType=e.pointerType||P,this._pointerType===T?(f.removeClass(this.element,S._ClassNames.pivotInputTypeMouse),f.addClass(this.element,S._ClassNames.pivotInputTypeTouch),this._hideNavButtons()):(f.removeClass(this.element,S._ClassNames.pivotInputTypeTouch),f.addClass(this.element,S._ClassNames.pivotInputTypeMouse)))},e.prototype._showNavButtons=function(e){this.locked||e&&e.pointerType===T||f.addClass(this._headersContainerElement,S._ClassNames.pivotShowNavButtons)},e.prototype._showPivotItem=function(e,t,n){function o(e){var t=e.getBoundingClientRect();return t.top<s.bottom&&t.bottom>s.top}if(this._writeProfilerMark("itemAnimationStart,info"),this._fireEvent(x.itemAnimationStart,!0,!1,null),e.style.display="",n||!C.isAnimationEnabled())return e.style.opacity="",this._showPivotItemAnimation=l.wrap(),this._showPivotItemAnimation;var r=this._rtl?!t:t,s=this._viewportElement.getBoundingClientRect(),a=e.querySelectorAll(".win-pivot-slide1"),u=e.querySelectorAll(".win-pivot-slide2"),c=e.querySelectorAll(".win-pivot-slide3");return a=Array.prototype.filter.call(a,o),u=Array.prototype.filter.call(u,o),c=Array.prototype.filter.call(c,o),this._showPivotItemAnimation=l.join([C.executeTransition(e,{property:"opacity",delay:0,duration:333,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"0",to:""}),C.executeTransition(e,{property:d._browserStyleEquivalents.transform.cssName,delay:0,duration:767,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"translateX("+(r?"-20px":"20px")+")",to:""}),i[r?"slideRightIn":"slideLeftIn"](null,a,u,c)]),this._showPivotItemAnimation},e.supportedForProcessing=!0,e._ClassNames=S._ClassNames,e._EventNames=x,e}();t.Pivot=D;var L=function(){function e(e){this.pivot=e}return e.prototype.exit=function(){},e.prototype.render=function(e){},e.prototype.activateHeader=function(e){},e.prototype.handleNavigation=function(e,t,n){},e.prototype.handleResize=function(){},e.prototype.handleHeaderChanged=function(e){},e.prototype.getCumulativeHeaderWidth=function(t){if(0===t)return 0;for(var n=this.pivot._headersContainerElement.children.length,i=0;i<t;i++){var o=this.renderHeader(i,!1);this.pivot._headersContainerElement.appendChild(o)}var r=0,s=this.pivot._rtl?this.pivot._headersContainerElement.lastElementChild:this.pivot._headersContainerElement.children[n],a=this.pivot._rtl?this.pivot._headersContainerElement.children[n]:this.pivot._headersContainerElement.lastElementChild;r=a.offsetLeft+a.offsetWidth-s.offsetLeft,r+=2*e.headerHorizontalMargin;for(var i=0;i<t;i++)this.pivot._headersContainerElement.removeChild(this.pivot._headersContainerElement.lastElementChild);return r},e.prototype.refreshHeadersState=function(e){e&&(this.cachedHeaderWidth=0);var t=this.cachedHeaderWidth||this.getCumulativeHeaderWidth(this.pivot.items.length);this.cachedHeaderWidth=t,t>this.pivot._getHeaderItemsWidth()&&!(this.pivot._headersState instanceof B)?(this.exit(),this.pivot._headersState=new B(this.pivot)):t<=this.pivot._getHeaderItemsWidth()&&!(this.pivot._headersState instanceof N)&&(this.exit(),this.pivot._headersState=new N(this.pivot))},e.prototype.renderHeader=function(t,i){function o(){r.pivot._disposed||r.pivot._headersContainerElement.contains(l)&&t!==r.pivot.selectedIndex&&"true"===l.getAttribute("aria-selected")&&(r.pivot.selectedIndex=t)}var r=this,s=f._syncRenderer(I),a=this.pivot.items.getAt(t),l=n.document.createElement("BUTTON");return l.tabIndex=-1,l.setAttribute("type","button"),l.style.marginLeft=l.style.marginRight=e.headerHorizontalMargin+"px",f.addClass(l,S._ClassNames.pivotHeader),l._item=a,l._pivotItemIndex=t,s(a,l),i&&(l.setAttribute("aria-selected",""+(t===this.pivot.selectedIndex)),l.setAttribute("role","tab"),new f._MutationObserver(o).observe(l,{attributes:!0,attributeFilter:["aria-selected"]})),l},e.prototype.updateHeader=function(e){var t=this.pivot.items.indexOf(e),n=this.pivot._headersContainerElement.children[t];n.innerHTML="";var i=f._syncRenderer(I);i(e,n)},e.prototype.setActiveHeader=function(e){var t=!1,i=this.pivot._headersContainerElement.querySelector("."+S._ClassNames.pivotHeaderSelected);i&&(i.classList.remove(S._ClassNames.pivotHeaderSelected),i.setAttribute("aria-selected","false"),t=this.pivot._headersContainerElement.contains(n.document.activeElement)),e.classList.add(S._ClassNames.pivotHeaderSelected),e.setAttribute("aria-selected","true"),t&&this.pivot._headersContainerElement.focus()},e.headersContainerLeadingMargin=12,e.headerHorizontalMargin=12,e}(),N=function(e){function t(t){if(e.call(this,t),this._firstRender=!0,this._transitionAnimation=l.wrap(),t._headersContainerElement.children.length&&C.isAnimationEnabled()){var n=t._headersContainerElement.querySelector("."+S._ClassNames.pivotHeaderSelected),i=0,o=0;t._rtl?(i=n.offsetLeft+n.offsetWidth+L.headerHorizontalMargin,o=t._getHeaderItemsWidth()-this.getCumulativeHeaderWidth(t.selectedIndex)-L.headersContainerLeadingMargin,o+=parseFloat(t._headersContainerElement.style.marginLeft)):(i=n.offsetLeft,i+=parseFloat(t._headersContainerElement.style.marginLeft),o=this.getCumulativeHeaderWidth(t.selectedIndex)+L.headersContainerLeadingMargin+L.headerHorizontalMargin);var r=i-o;this.render();for(var s=d._browserStyleEquivalents.transform.cssName,a="translateX("+r+"px)",u=0,c=t._headersContainerElement.children.length;u<c;u++)t._headersContainerElement.children[u].style[s]=a;this._transitionAnimation=C.executeTransition(t._headersContainerElement.querySelectorAll("."+S._ClassNames.pivotHeader),{property:s,delay:0,duration:A,timing:"ease-out",to:""})}else this.render()}return o(t,e),t.prototype.exit=function(){this._transitionAnimation.cancel()},t.prototype.render=function(){var e=this.pivot;if(!e._pendingRefresh&&e._items){if(m._disposeElement(e._headersContainerElement),f.empty(e._headersContainerElement),e._rtl?(e._headersContainerElement.style.marginLeft="0px",e._headersContainerElement.style.marginRight=L.headersContainerLeadingMargin+"px"):(e._headersContainerElement.style.marginLeft=L.headersContainerLeadingMargin+"px",e._headersContainerElement.style.marginRight="0px"),e._viewportElement.style.overflow=1===e.items.length?"hidden":"",e.items.length)for(var t=0;t<e.items.length;t++){var n=this.renderHeader(t,!0);e._headersContainerElement.appendChild(n),t===e.selectedIndex&&n.classList.add(S._ClassNames.pivotHeaderSelected)}this._firstRender=!1}},t.prototype.activateHeader=function(e){this.setActiveHeader(e),this.pivot._animateToPrevious=e._pivotItemIndex<this.pivot.selectedIndex,this.pivot.selectedIndex=e._pivotItemIndex,this.pivot._animateToPrevious=!1},t.prototype.handleNavigation=function(e,t,n){this._firstRender&&this.render(),this.setActiveHeader(this.pivot._headersContainerElement.children[t])},t.prototype.handleResize=function(){this.refreshHeadersState(!1)},t.prototype.handleHeaderChanged=function(e){this.updateHeader(e),this.refreshHeadersState(!0)},t}(L),B=function(e){function t(t){if(e.call(this,t),this._blocked=!1,this._firstRender=!0,this._transitionAnimation=l.wrap(),t._slideHeadersAnimation=l.wrap(),t._headersContainerElement.children.length&&C.isAnimationEnabled()){var n=this,i=function(){n._blocked=!1,n.render()};this._blocked=!0;var o=t._headersContainerElement.querySelector("."+S._ClassNames.pivotHeaderSelected),r=0,s=0;t._rtl?(r=t._getHeaderItemsWidth()-L.headersContainerLeadingMargin,s=o.offsetLeft,s+=L.headerHorizontalMargin,s+=o.offsetWidth,s+=parseFloat(t._headersContainerElement.style.marginLeft)):(r=L.headersContainerLeadingMargin,s=o.offsetLeft,s-=L.headerHorizontalMargin,s+=parseFloat(t._headersContainerElement.style.marginLeft));for(var a=r-s,u=0;u<t.selectedIndex;u++)t._headersContainerElement.appendChild(t._headersContainerElement.children[u].cloneNode(!0));var c=d._browserStyleEquivalents.transform.cssName;this._transitionAnimation=C.executeTransition(t._headersContainerElement.querySelectorAll("."+S._ClassNames.pivotHeader),{property:c,delay:0,duration:A,timing:"ease-out",to:"translateX("+a+"px)"}).then(i,i)}else this.render()}return o(t,e),t.prototype.exit=function(){this._transitionAnimation.cancel(),this.pivot._slideHeadersAnimation.cancel()},t.prototype.render=function(e){var t=this.pivot;if(!this._blocked&&!t._pendingRefresh&&t._items){var i=t._headersContainerElement.contains(n.document.activeElement);if(m._disposeElement(t._headersContainerElement),f.empty(t._headersContainerElement),1===t._items.length){var o=this.renderHeader(0,!0);o.classList.add(S._ClassNames.pivotHeaderSelected),t._headersContainerElement.appendChild(o),t._viewportElement.style.overflow="hidden",t._headersContainerElement.style.marginLeft="0px",t._headersContainerElement.style.marginRight="0px"}else if(t._items.length>1){var r=t._items.length+(e?2:1),s=.8*t._getHeaderItemsWidth(),a=t.selectedIndex-1;t._viewportElement.style.overflow&&(t._viewportElement.style.overflow="");for(var l=0;l<r;l++){a===-1?a=t._items.length-1:a===t._items.length&&(a=0);var o=this.renderHeader(a,!0);t._headersContainerElement.appendChild(o),o.offsetWidth>s&&(o.style.textOverflow="ellipsis",o.style.width=s+"px"),a===t.selectedIndex&&o.classList.add(S._ClassNames.pivotHeaderSelected),a++}if(!t._firstLoad&&!this._firstRender){var u,c;e?(u="",c="0"):(u="0",c="");var h=t._headersContainerElement.children[r-1];h.style.opacity=u;var p=.167;h.style[d._browserStyleEquivalents.transition.scriptName]="opacity "+C._animationTimeAdjustment(p)+"s",f._getComputedStyle(h).opacity,h.style.opacity=c}t._headersContainerElement.children[0].setAttribute("aria-hidden","true"),t._headersContainerElement.style.marginLeft="0px",t._headersContainerElement.style.marginRight="0px";var _=t._rtl?"marginRight":"marginLeft",g=t._headersContainerElement.children[0],v=f.getTotalWidth(g)-L.headersContainerLeadingMargin;if(g!==t._headersContainerElement.children[0])return;t._headersContainerElement.style[_]=-1*v+"px",t._prevButton=n.document.createElement("button"),t._prevButton.setAttribute("type","button"),f.addClass(t._prevButton,S._ClassNames.pivotNavButton),f.addClass(t._prevButton,S._ClassNames.pivotNavButtonPrev),t._prevButton.addEventListener("click",function(){t.locked||(t._rtl?t._goNext():t._goPrevious())}),t._headersContainerElement.appendChild(t._prevButton),t._prevButton.style.left=t._rtl?"0px":v+"px",t._nextButton=n.document.createElement("button"),t._nextButton.setAttribute("type","button"),f.addClass(t._nextButton,S._ClassNames.pivotNavButton),f.addClass(t._nextButton,S._ClassNames.pivotNavButtonNext),t._nextButton.addEventListener("click",function(){t.locked||(t._rtl?t._goPrevious():t._goNext())}),t._headersContainerElement.appendChild(t._nextButton),t._nextButton.style.right=t._rtl?v+"px":"0px"}t._headersContainerElement.children.length>1?1:0;i&&t._headersContainerElement.focus(),this._firstRender=!1}},t.prototype.activateHeader=function(e){e.previousSibling&&(this.pivot.selectedIndex=e._pivotItemIndex)},t.prototype.handleNavigation=function(e,t,n){function i(e){return u?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}function o(){s._disposed||(r.render(e),s._slideHeadersAnimation=l.wrap())}var r=this,s=this.pivot;if(this._blocked||t<0||s._firstLoad)return void this.render(e);var a;if(e?a=s._headersContainerElement.children[0]:(t<n&&(t+=s._items.length),a=s._headersContainerElement.children[1+t-n]),!a)return void this.render(e);f.removeClass(s._headersContainerElement.children[1],S._ClassNames.pivotHeaderSelected),f.addClass(a,S._ClassNames.pivotHeaderSelected);var u=s._rtl,c=i(s._headersContainerElement.children[1])-i(a);u&&(c*=-1);var h;h=C.isAnimationEnabled()?C.executeTransition(s._headersContainerElement.querySelectorAll("."+S._ClassNames.pivotHeader),{property:d._browserStyleEquivalents.transform.cssName,delay:0,duration:A,timing:"ease-out",to:"translateX("+c+"px)"}):l.wrap(),s._slideHeadersAnimation=h.then(o,o)},t.prototype.handleResize=function(){this.refreshHeadersState(!1)},t.prototype.handleHeaderChanged=function(e){this.render(),this.refreshHeadersState(!0)},t}(L);c.Class.mix(D,g.createEventProperties(x.itemAnimationEnd,x.itemAnimationStart,x.selectionChanged)),c.Class.mix(D,h.DOMEventMixin)}),i("WinJS/Controls/Pivot",["require","exports","../Core/_Base","./Pivot/_Item"],function(e,t,n,i){i.touch;var o=null;n.Namespace.define("WinJS.UI",{Pivot:{get:function(){return o||e(["./Pivot/_Pivot"],function(e){o=e}),o.Pivot}}})}),i("WinJS/Controls/Hub/_Section",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../ControlProcessor","../../Promise","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior"],function(e,t,n,i,o,r,s,a,l,u,c,d){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{HubSection:n.Namespace._lazy(function(){var e={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get seeMore(){return r._getWinJSString("ui/seeMore").value}},h=n.Class.define(function(n,i){if(n=n||t.document.createElement("DIV"),i=i||{},n.winControl)throw new o("WinJS.UI.HubSection.DuplicateConstruction",e.duplicateConstruction);n.winControl=this,this._element=n,c.addClass(this.element,h._ClassName.hubSection),c.addClass(this.element,"win-disposable"),this._headerElement=t.document.createElement("DIV"),this._headerElement.className=h._ClassName.hubSectionHeader,this._headerElement.innerHTML='<button type="button" role="link" class="'+h._ClassName.hubSectionInteractive+" "+h._ClassName.hubSectionHeaderTabStop+'"><div class="'+h._ClassName.hubSectionHeaderWrapper+'" tabindex="-1"><h2 class="win-type-subheader '+h._ClassName.hubSectionHeaderContent+'"></h2><span class="'+h._ClassName.hubSectionHeaderChevron+' win-type-body">'+e.seeMore+"</span></div></button>",this._headerTabStopElement=this._headerElement.firstElementChild,this._headerWrapperElement=this._headerTabStopElement.firstElementChild,this._headerContentElement=this._headerWrapperElement.firstElementChild,this._headerChevronElement=this._headerWrapperElement.lastElementChild,n.appendChild(this._headerElement),this._winKeyboard=new d._WinKeyboard(this._headerElement),this._contentElement=t.document.createElement("DIV"),this._contentElement.className=h._ClassName.hubSectionContent,this._contentElement.style.visibility="hidden",n.appendChild(this._contentElement);for(var r=this.element.firstChild;r!==this._headerElement;){var a=r.nextSibling;this._contentElement.appendChild(r),r=a}this._processors=[s.processAll],l.setOptions(this,i)},{element:{get:function(){return this._element}},isHeaderStatic:{get:function(){return this._isHeaderStatic},set:function(e){this._isHeaderStatic=e,this._isHeaderStatic?(this._headerTabStopElement.setAttribute("role","heading"),c.removeClass(this._headerTabStopElement,h._ClassName.hubSectionInteractive)):(this._headerTabStopElement.setAttribute("role","link"),c.addClass(this._headerTabStopElement,h._ClassName.hubSectionInteractive))}},contentElement:{get:function(){return this._contentElement}},header:{get:function(){return this._header},set:function(e){this._header=e,this._renderHeader()}},_setHeaderTemplate:function(e){this._template=c._syncRenderer(e),this._renderHeader()},_renderHeader:function(){this._template&&(u._disposeElement(this._headerContentElement),c.empty(this._headerContentElement),this._template(this,this._headerContentElement))},_process:function(){var e=this;return this._processed=(this._processors||[]).reduce(function(t,n){return t.then(function(){return n(e.contentElement)})},this._processed||a.as()),this._processors=null,this._processed},dispose:function(){this._disposed||(this._disposed=!0,this._processors=null,u._disposeElement(this._headerContentElement),u.disposeSubTree(this.contentElement))}},{_ClassName:{hubSection:"win-hub-section",hubSectionHeader:"win-hub-section-header",hubSectionHeaderTabStop:"win-hub-section-header-tabstop",hubSectionHeaderWrapper:"win-hub-section-header-wrapper",hubSectionInteractive:"win-hub-section-header-interactive",hubSectionHeaderContent:"win-hub-section-header-content",hubSectionHeaderChevron:"win-hub-section-header-chevron",hubSectionContent:"win-hub-section-content"},isDeclarativeControlContainer:i.markSupportedForProcessing(function(e,t){t!==s.processAll&&(e._processors=e._processors||[],e._processors.push(t),e._processed&&e._process())})});return h})})}),i("require-style!less/styles-hub",[],function(){}),i("require-style!less/colors-hub",[],function(){}),i("WinJS/Controls/Hub",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../_Accents","../Animations","../Animations/_TransitionAnimation","../BindingList","../ControlProcessor","../Promise","../_Signal","../Scheduler","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_UI","./ElementResizeInstrument","./Hub/_Section","require-style!less/styles-hub","require-style!less/colors-hub"],function(e,t,n,i,o,r,s,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C){"use strict";u.createAccentRule(".win-semanticzoom-zoomedoutview .win-hub-section-header-interactive .win-hub-section-header-content,             .win-hub-section-header-interactive .win-hub-section-header-chevron",[{name:"color",value:u.ColorTypes.accent}]),t.Namespace.define("WinJS.UI",{Hub:t.Namespace._lazy(function(){function u(t){var n=e.document.createTextNode("object"===a(t.header)?JSON.stringify(t.header):""+t.header);return n}var y=v.Key,E=o._createEventProperty,S={contentAnimating:"contentanimating",headerInvoked:"headerinvoked",loadingStateChanged:"loadingstatechanged"},I=500,x={scrollPos:"scrollTop",scrollSize:"scrollHeight",offsetPos:"offsetTop",offsetSize:"offsetHeight",oppositeOffsetSize:"offsetWidth",marginStart:"marginTop",marginEnd:"marginBottom",borderStart:"borderTopWidth",borderEnd:"borderBottomWidth",paddingStart:"paddingTop",paddingEnd:"paddingBottom"},j={scrollPos:"scrollLeft",scrollSize:"scrollWidth",offsetPos:"offsetLeft",offsetSize:"offsetWidth",oppositeOffsetSize:"offsetHeight",marginStart:"marginRight",marginEnd:"marginLeft",borderStart:"borderRightWidth",borderEnd:"borderLeftWidth",paddingStart:"paddingRight",paddingEnd:"paddingLeft"},k={scrollPos:"scrollLeft",scrollSize:"scrollWidth",offsetPos:"offsetLeft",offsetSize:"offsetWidth",oppositeOffsetSize:"offsetHeight",marginStart:"marginLeft",marginEnd:"marginRight",borderStart:"borderLeftWidth",borderEnd:"borderRightWidth",paddingStart:"paddingLeft",paddingEnd:"paddingRight"},P=t.Class.define(function(t,n){if(t=t||e.document.createElement("DIV"),n=n||{},t.winControl)throw new i("WinJS.UI.Hub.DuplicateConstruction",O.duplicateConstruction);this._id=t.id||v._uniqueID(t),this._writeProfilerMark("constructor,StartTM"),this._windowKeyDownHandlerBound=this._windowKeyDownHandler.bind(this),e.addEventListener("keydown",this._windowKeyDownHandlerBound),t.winControl=this,this._element=t,v.addClass(this.element,P._ClassName.hub),v.addClass(this.element,"win-disposable"),this._parse(),this._viewportElement=e.document.createElement("DIV"),this._viewportElement.className=P._ClassName.hubViewport,this._element.appendChild(this._viewportElement),this._viewportElement.setAttribute("role","group"),this._viewportElement.setAttribute("aria-label",O.hubViewportAriaLabel),this._surfaceElement=e.document.createElement("DIV"),this._surfaceElement.className=P._ClassName.hubSurface,this._viewportElement.appendChild(this._surfaceElement),this._visible=!1,this._viewportElement.style.opacity=0,n.orientation||(this._orientation=b.Orientation.horizontal,v.addClass(this.element,P._ClassName.hubHorizontal)),this._fireEntrance=!0,this._animateEntrance=!0,this._loadId=0,this.runningAnimations=new p.wrap,this._currentIndexForSezo=0,g.setOptions(this,n),v._addEventListener(this.element,"focusin",this._focusin.bind(this),!1),this.element.addEventListener("keydown",this._keyDownHandler.bind(this)),this.element.addEventListener("click",this._clickHandler.bind(this)),this._viewportElement.addEventListener("scroll",this._scrollHandler.bind(this)),this._resizeHandlerBound=this._resizeHandler.bind(this),this._elementResizeInstrument=new w._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandlerBound);var o=this;v._inDom(this.element).then(function(){o._disposed||o._elementResizeInstrument.addedToDom()}),v._resizeNotifier.subscribe(this.element,this._resizeHandlerBound),this._handleSectionChangedBind=this._handleSectionChanged.bind(this),this._handleSectionInsertedBind=this._handleSectionInserted.bind(this),this._handleSectionMovedBind=this._handleSectionMoved.bind(this),this._handleSectionRemovedBind=this._handleSectionRemoved.bind(this),this._handleSectionReloadBind=this._handleSectionReload.bind(this),this._refresh(),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},orientation:{get:function(){return this._orientation},set:function(e){if(e!==this._orientation){if(this._measured=!1,this._names){var t={};t[this._names.scrollPos]=0,v.setScrollPosition(this._viewportElement,t)}e===b.Orientation.vertical?(v.removeClass(this.element,P._ClassName.hubHorizontal),v.addClass(this.element,P._ClassName.hubVertical)):(e=b.Orientation.horizontal,v.removeClass(this.element,P._ClassName.hubVertical),v.addClass(this.element,P._ClassName.hubHorizontal)),this._orientation=e,_.schedule(this._updateSnapList.bind(this),_.Priority.idle)}}},sections:{get:function(){return this._pendingSections?this._pendingSections:this._sections},set:function(e){var t=!this._pendingSections;this._pendingSections=e,this._refresh(),t&&(this.scrollPosition=0)}},headerTemplate:{get:function(){return this._pendingHeaderTemplate?this._pendingHeaderTemplate:(this._headerTemplate||(this._headerTemplate=u),this._headerTemplate)},set:function(e){this._pendingHeaderTemplate=e||u,this._refresh()}},scrollPosition:{get:function(){return+this._pendingScrollLocation===this._pendingScrollLocation?this._pendingScrollLocation:(this._measure(),this._scrollPosition)},set:function(e){if(e=Math.max(0,e),this._pendingRefresh)this._pendingScrollLocation=e,this._pendingSectionOnScreen=null;else{this._measure();var t=Math.max(0,Math.min(this._scrollLength-this._viewportSize,e));this._scrollPosition=t;var n={};n[this._names.scrollPos]=t,v.setScrollPosition(this._viewportElement,n)}}},sectionOnScreen:{get:function(){if(+this._pendingSectionOnScreen===this._pendingSectionOnScreen)return this._pendingSectionOnScreen;this._measure();for(var e=0;e<this._sectionSizes.length;e++){var t=this._sectionSizes[e];if(t.offset+t.size-t.borderEnd-t.paddingEnd>this._scrollPosition+this._startSpacer+t.borderStart+t.paddingStart)return e}return-1},set:function(e){e=Math.max(0,e),this._pendingRefresh?(this._pendingSectionOnScreen=e,this._pendingScrollLocation=null):(this._measure(),e>=0&&e<this._sectionSizes.length&&this._scrollToSection(e))}},indexOfFirstVisible:{get:function(){this._measure();for(var e=0;e<this._sectionSizes.length;e++){var t=this._sectionSizes[e];if(t.offset+t.size-t.borderEnd-t.paddingEnd>this._scrollPosition)return e}return-1}},indexOfLastVisible:{get:function(){this._measure();for(var e=this._sectionSizes.length-1;e>=0;e--){var t=this._sectionSizes[e];if(t.offset+t.paddingStart+t.borderStart<this._scrollPosition+this._viewportSize)return e}return-1}},onheaderinvoked:E(S.headerInvoked),onloadingstatechanged:E(S.loadingStateChanged),oncontentanimating:E(S.contentAnimating),_refresh:function(){this._pendingRefresh||(this._loadId++,this._setState(P.LoadingState.loading),this._pendingRefresh=!0,_.schedule(this._refreshImpl.bind(this),_.Priority.high))},_refreshImpl:function(){if(!this._disposed){var e=p.wrap();if(this._pendingSections&&(this._animateEntrance=!0,this._fireEntrance=!this._visible,!this._fireEntrance&&(this._visible=!1,this._viewportElement.style.opacity=0,d.isAnimationEnabled()))){var t=this._fireEvent(P._EventName.contentAnimating,{type:P.AnimationType.contentTransition});t&&(this._viewportElement.style["-ms-overflow-style"]="none",e=c.fadeOut(this._viewportElement).then(function(){this._viewportElement.style["-ms-overflow-style"]=""}.bind(this))),this._animateEntrance=t}e.done(this._applyProperties.bind(this))}},_applyProperties:function(){if(!this._disposed){this._pendingRefresh=!1;var e=!1;this._pendingSections&&(e=!0,this._updateEvents(this._sections,this._pendingSections),this._sections&&this._sections.forEach(function(e){var t=e.element;t.parentElement.removeChild(t)}),this._sections=this._pendingSections,this._pendingSections=null),this._pendingHeaderTemplate&&(this._headerTemplate=this._pendingHeaderTemplate,this._pendingHeaderTemplate=null),this._assignHeaderTemplate(),e&&this._attachSections(),+this._pendingSectionOnScreen===this._pendingSectionOnScreen?this.sectionOnScreen=this._pendingSectionOnScreen:+this._pendingScrollLocation===this._pendingScrollLocation?this.scrollPosition=this._pendingScrollLocation:this.scrollPosition=0,this._pendingSectionOnScreen=null,this._pendingScrollLocation=null,this._setState(P.LoadingState.loading),this._loadSections()}},_handleSectionChanged:function(e){if(!this._pendingSections){var t=e.detail.newValue,n=e.detail.oldValue;if(t._setHeaderTemplate(this.headerTemplate),t.element!==n.element){if(t.element.parentNode===this._surfaceElement)throw new i("WinJS.UI.Hub.DuplicateSection",O.duplicateSection);this._surfaceElement.insertBefore(t.element,n.element),this._surfaceElement.removeChild(n.element),this._measured=!1,this._setState(P.LoadingState.loading),this._loadSections()}}},_handleSectionInserted:function(e){if(!this._pendingSections){var t=e.detail.index,n=e.detail.value;n._animation&&n._animation.cancel();var o,r=this._fireEvent(P._EventName.contentAnimating,{
type:P.AnimationType.insert,index:t,section:n});if(r){for(var s=[],a=t+1;a<this.sections.length;a++)s.push(this.sections.getAt(a).element);o=new c._createUpdateListAnimation([n.element],[],s)}if(n.element.parentNode===this._surfaceElement)throw new i("WinJS.UI.Hub.DuplicateSection",O.duplicateSection);if(n._setHeaderTemplate(this.headerTemplate),t<this.sections.length-1?this._surfaceElement.insertBefore(n.element,this.sections.getAt(t+1).element):this._surfaceElement.appendChild(n.element),this._measured=!1,o){var l=o.execute();this.runningAnimations=p.join([this.runningAnimations,l])}this._setState(P.LoadingState.loading),this._loadSections()}},_handleSectionMoved:function(e){if(!this._pendingSections){var t=e.detail.newIndex,n=e.detail.value;t<this.sections.length-1?this._surfaceElement.insertBefore(n.element,this.sections.getAt(t+1).element):this._surfaceElement.appendChild(n.element),this._measured=!1,this._setState(P.LoadingState.loading),this._loadSections()}},_handleSectionRemoved:function(e){if(!this._pendingSections){var t=e.detail.value,n=e.detail.index,i=p.wrap(),o=this._fireEvent(P._EventName.contentAnimating,{type:P.AnimationType.remove,index:n,section:t});if(o){for(var r=[],s=n;s<this.sections.length;s++)r.push(this.sections.getAt(s).element);var a=new c._createUpdateListAnimation([],[t.element],r);this._measure();var l=t.element.offsetTop,u=t.element.offsetLeft;t.element.style.position="absolute",t.element.style.top=l,t.element.style.left=u,t.element.style.opacity=0,this._measured=!1,i=a.execute().then(function(){t.element.style.position="",t.element.style.top="",t.element.style.left="",t.element.style.opacity=1}.bind(this))}i.done(function(){this._disposed||(this._surfaceElement.removeChild(t.element),this._measured=!1)}.bind(this)),t._animation=i,this.runningAnimations=p.join([this.runningAnimations,i]),this._setState(P.LoadingState.loading),this._loadSections()}},_handleSectionReload:function(){this.sections=this.sections},_updateEvents:function(e,t){e&&(e.removeEventListener("itemchanged",this._handleSectionChangedBind),e.removeEventListener("iteminserted",this._handleSectionInsertedBind),e.removeEventListener("itemmoved",this._handleSectionMovedBind),e.removeEventListener("itemremoved",this._handleSectionRemovedBind),e.removeEventListener("reload",this._handleSectionReloadBind)),t&&(t.addEventListener("itemchanged",this._handleSectionChangedBind),t.addEventListener("iteminserted",this._handleSectionInsertedBind),t.addEventListener("itemmoved",this._handleSectionMovedBind),t.addEventListener("itemremoved",this._handleSectionRemovedBind),t.addEventListener("reload",this._handleSectionReloadBind))},_attachSections:function(){this._measured=!1;for(var e=0;e<this.sections.length;e++){var t=this._sections.getAt(e);if(t._animation&&t._animation.cancel(),t.element.parentNode===this._surfaceElement)throw new i("WinJS.UI.Hub.DuplicateSection",O.duplicateSection);this._surfaceElement.appendChild(t.element)}},_assignHeaderTemplate:function(){this._measured=!1;for(var e=0;e<this.sections.length;e++){var t=this._sections.getAt(e);t._setHeaderTemplate(this.headerTemplate)}},_loadSection:function(e){var t=this._sections.getAt(e);return t._process().then(function(){var e=t.contentElement.style;""!==e.visibility&&(e.visibility="")})},_loadSections:function(){function t(e){e.then(function(){_.schedule(n,_.Priority.idle)})}function n(){if(i===o._loadId&&!o._disposed)if(s.length){var e=s.shift(),n=o._loadSection(e);t(n)}else l.complete()}this._loadId++;var i=this._loadId,o=this,r=p.wrap(),s=[],a=p.wrap();if(this._showProgressPromise||(this._showProgressPromise=p.timeout(I).then(function(){this._disposed||(this._progressBar||(this._progressBar=e.document.createElement("progress"),v.addClass(this._progressBar,P._ClassName.hubProgress),this._progressBar.max=100),this._progressBar.parentNode||this.element.insertBefore(this._progressBar,this._viewportElement),this._showProgressPromise=null)}.bind(this),function(){this._showProgressPromise=null}.bind(this))),this.sections.length){var l=new f;a=l.promise;for(var u=[],h=Math.max(0,this.indexOfFirstVisible),m=Math.max(0,this.indexOfLastVisible),g=h;g<=m;g++)u.push(this._loadSection(g));for(h--,m++;h>=0||m<this.sections.length;)m<this.sections.length&&(s.push(m),m++),h>=0&&(s.push(h),h--);var y=p.join(u);y.done(function(){i!==this._loadId||o._disposed||(this._showProgressPromise&&this._showProgressPromise.cancel(),this._progressBar&&this._progressBar.parentNode&&this._progressBar.parentNode.removeChild(this._progressBar),_.schedule(function(){if(i===this._loadId&&!o._disposed&&!this._visible){if(this._visible=!0,this._viewportElement.style.opacity=1,this._animateEntrance&&d.isAnimationEnabled()){var t={type:P.AnimationType.entrance};this._fireEntrance&&!this._fireEvent(P._EventName.contentAnimating,t)||(this._viewportElement.style["-ms-overflow-style"]="none",r=c.enterContent(this._viewportElement).then(function(){this._viewportElement.style["-ms-overflow-style"]="",this._viewportElement.onmousewheel=function(){}}.bind(this)))}this._element===e.document.activeElement&&this._moveFocusIn(this.sectionOnScreen)}},_.Priority.high,this,"WinJS.UI.Hub.entranceAnimation"))}.bind(this)),t(y)}else this._showProgressPromise&&this._showProgressPromise.cancel(),this._progressBar&&this._progressBar.parentNode&&this._progressBar.parentNode.removeChild(this._progressBar);p.join([this.runningAnimations,r,a]).done(function(){i!==this._loadId||o._disposed||(this.runningAnimations=p.wrap(),this._measured&&this._scrollLength!==this._viewportElement[this._names.scrollSize]&&(this._measured=!1),this._setState(P.LoadingState.complete),_.schedule(this._updateSnapList.bind(this),_.Priority.idle))}.bind(this))},loadingState:{get:function(){return this._loadingState}},_setState:function(t){if(t!==this._loadingState){this._writeProfilerMark("loadingStateChanged:"+t+",info"),this._loadingState=t;var n=e.document.createEvent("CustomEvent");n.initCustomEvent(P._EventName.loadingStateChanged,!0,!1,{loadingState:t}),this._element.dispatchEvent(n)}},_parse:function(){for(var e=[],t=this.element.firstElementChild;t;){m.processAll(t);var n=t.winControl;if(!n)throw new i("WinJS.UI.Hub.InvalidContent",O.invalidContent);e.push(n);var o=t.nextElementSibling;t.parentElement.removeChild(t),t=o}this.sections=new h.List(e)},_fireEvent:function(t,n){var i=e.document.createEvent("CustomEvent");return i.initCustomEvent(t,!0,!0,n),this.element.dispatchEvent(i)},_findHeaderTabStop:function(e){if(e.parentNode&&v._matchesSelector(e,".win-hub-section-header-tabstop, .win-hub-section-header-tabstop *")){for(;!v.hasClass(e,"win-hub-section-header-tabstop");)e=e.parentElement;return e}return null},_isInteractive:function(t){for(;t&&t!==e.document.body;){if(v.hasClass(t,"win-interactive"))return!0;t=t.parentElement}return!1},_clickHandler:function(e){var t=this._findHeaderTabStop(e.target);if(t&&!this._isInteractive(e.target)){var n=t.parentElement.parentElement.winControl;if(!n.isHeaderStatic){var i=this.sections.indexOf(n);this._fireEvent(P._EventName.headerInvoked,{index:i,section:n})}}},_resizeHandler:function(){this._measured=!1,_.schedule(this._updateSnapList.bind(this),_.Priority.idle)},_scrollHandler:function(){this._measured=!1,this._pendingSections||(this._pendingScrollLocation=null,this._pendingSectionOnScreen=null,this._pendingScrollHandler||(this._pendingScrollHandler=n._requestAnimationFrame(function(){this._pendingScrollHandler=null,this._pendingSections||this.loadingState!==P.LoadingState.complete&&this._loadSections()}.bind(this))))},_measure:function(){if(!this._measured||0===this._scrollLength){this._writeProfilerMark("measure,StartTM"),this._measured=!0,this._rtl="rtl"===v._getComputedStyle(this._element,null).direction,this.orientation===b.Orientation.vertical?this._names=x:this._rtl?this._names=j:this._names=k,this._viewportSize=this._viewportElement[this._names.offsetSize],this._viewportOppositeSize=this._viewportElement[this._names.oppositeOffsetSize],this._scrollPosition=v.getScrollPosition(this._viewportElement)[this._names.scrollPos],this._scrollLength=this._viewportElement[this._names.scrollSize];var e=v._getComputedStyle(this._surfaceElement);this._startSpacer=parseFloat(e[this._names.marginStart])+parseFloat(e[this._names.borderStart])+parseFloat(e[this._names.paddingStart]),this._endSpacer=parseFloat(e[this._names.marginEnd])+parseFloat(e[this._names.borderEnd])+parseFloat(e[this._names.paddingEnd]),this._sectionSizes=[];for(var t=0;t<this.sections.length;t++){var n=this.sections.getAt(t),i=v._getComputedStyle(n.element);this._sectionSizes[t]={offset:n.element[this._names.offsetPos],size:n.element[this._names.offsetSize],marginStart:parseFloat(i[this._names.marginStart]),marginEnd:parseFloat(i[this._names.marginEnd]),borderStart:parseFloat(i[this._names.borderStart]),borderEnd:parseFloat(i[this._names.borderEnd]),paddingStart:parseFloat(i[this._names.paddingStart]),paddingEnd:parseFloat(i[this._names.paddingEnd])},this._rtl&&this.orientation===b.Orientation.horizontal&&(this._sectionSizes[t].offset=this._viewportSize-(this._sectionSizes[t].offset+this._sectionSizes[t].size))}this._writeProfilerMark("measure,StopTM")}},_updateSnapList:function(){this._writeProfilerMark("updateSnapList,StartTM"),this._measure();for(var e="snapList(",t=0;t<this._sectionSizes.length;t++){t>0&&(e+=",");var n=this._sectionSizes[t];e+=n.offset-n.marginStart-this._startSpacer+"px"}e+=")";var i="",o="";this.orientation===b.Orientation.vertical?i=e:o=e,this._lastSnapPointY!==i&&(this._lastSnapPointY=i,this._viewportElement.style["-ms-scroll-snap-points-y"]=i),this._lastSnapPointX!==o&&(this._lastSnapPointX=o,this._viewportElement.style["-ms-scroll-snap-points-x"]=o),this._writeProfilerMark("updateSnapList,StopTM")},_scrollToSection:function(e,t){this._measure();var n=this._sectionSizes[e],i=Math.min(this._scrollLength-this._viewportSize,n.offset-n.marginStart-this._startSpacer);this._scrollTo(i,t)},_ensureVisible:function(e,t){this._measure();var n=this._ensureVisibleMath(e,this._scrollPosition);this._scrollTo(n,t)},_ensureVisibleMath:function(e,t){this._measure();var n=this._sectionSizes[e],i=Math.min(this._scrollLength-this._viewportSize,n.offset-n.marginStart-this._startSpacer),o=Math.max(0,n.offset+n.size+n.marginEnd+this._endSpacer-this._viewportSize+1);return t>i?t=i:t<o&&(t=Math.min(i,o)),t},_scrollTo:function(e,t){if(this._scrollPosition=e,t)this.orientation===b.Orientation.vertical?v._zoomTo(this._viewportElement,{contentX:0,contentY:this._scrollPosition,viewportX:0,viewportY:0}):v._zoomTo(this._viewportElement,{contentX:this._scrollPosition,contentY:0,viewportX:0,viewportY:0});else{var n={};n[this._names.scrollPos]=this._scrollPosition,v.setScrollPosition(this._viewportElement,n)}},_windowKeyDownHandler:function(e){if(e.keyCode===y.tab){this._tabSeenLast=!0;var t=this;n._yieldForEvents(function(){t._tabSeenLast=!1})}},_focusin:function(e){if(this._tabSeenLast){var t=this._findHeaderTabStop(e.target);if(t&&!this._isInteractive(e.target)){var n=this.sections.indexOf(t.parentElement.parentElement.winControl);n>-1&&this._ensureVisible(n,!0)}}for(var i=e.target;i&&!v.hasClass(i,C.HubSection._ClassName.hubSection);)i=i.parentElement;if(i){var n=this.sections.indexOf(i.winControl);n>-1&&(this._currentIndexForSezo=n)}if(e.target===this.element){var o;+this._sectionToFocus===this._sectionToFocus&&this._sectionToFocus>=0&&this._sectionToFocus<this.sections.length?(o=this._sectionToFocus,this._sectionToFocus=null):o=this.sectionOnScreen,this._moveFocusIn(o)}},_moveFocusIn:function(e){if(e>=0){for(var t=e;t<this.sections.length;t++){var n=this.sections.getAt(t),i=v._trySetActive(n._headerTabStopElement,this._viewportElement);if(i)return;if(v._setActiveFirstFocusableElement(n.contentElement,this._viewportElement))return}for(var t=e-1;t>=0;t--){var n=this.sections.getAt(t);if(v._setActiveFirstFocusableElement(n.contentElement,this._viewportElement))return;var i=v._trySetActive(n._headerTabStopElement,this._viewportElement);if(i)return}}},_keyDownHandler:function(e){if(!this._isInteractive(e.target)&&!v._hasCursorKeysBehaviors(e.target)){var t=this._rtl?y.rightArrow:y.leftArrow,n=this._rtl?y.leftArrow:y.rightArrow;if(e.keyCode===y.upArrow||e.keyCode===y.downArrow||e.keyCode===y.leftArrow||e.keyCode===y.rightArrow||e.keyCode===y.pageUp||e.keyCode===y.pageDown){var i=this._findHeaderTabStop(e.target);if(i){var o,r=this.sections.indexOf(i.parentElement.parentElement.winControl),s=!1;if(e.keyCode===y.pageDown||this.orientation===b.Orientation.horizontal&&e.keyCode===n||this.orientation===b.Orientation.vertical&&e.keyCode===y.downArrow){for(var a=r+1;a<this.sections.length;a++)if(this._tryFocus(a)){o=a;break}}else if(e.keyCode===y.pageUp||this.orientation===b.Orientation.horizontal&&e.keyCode===t||this.orientation===b.Orientation.vertical&&e.keyCode===y.upArrow)for(var a=r-1;a>=0;a--)if(this._tryFocus(a)){o=a;break}e.keyCode!==y.upArrow&&e.keyCode!==y.downArrow&&e.keyCode!==y.leftArrow&&e.keyCode!==y.rightArrow||(s=!0),+o===o&&(s?this._ensureVisible(o,!0):this._scrollToSection(o,!0),e.preventDefault())}}else if(e.keyCode===y.home||e.keyCode===y.end){this._measure();var l=Math.max(0,this._scrollLength-this._viewportSize);this._scrollTo(e.keyCode===y.home?0:l,!0),e.preventDefault()}}},_tryFocus:function(t){var n=this.sections.getAt(t);return v._setActive(n._headerTabStopElement,this._viewportElement),e.document.activeElement===n._headerTabStopElement},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new T(this)),this._zoomableView}},_getPanAxis:function(){return this.orientation===b.Orientation.horizontal?"horizontal":"vertical"},_configureForZoom:function(){},_setCurrentItem:function(e,t){var n;n=this.orientation===b.Orientation.horizontal?e:t,this._measure(),n+=this._scrollPosition,this._currentIndexForSezo=this._sectionSizes.length-1;for(var i=1;i<this._sectionSizes.length;i++){var o=this._sectionSizes[i];if(o.offset-o.marginStart>n){this._currentIndexForSezo=i-1;break}}},_getCurrentItem:function(){var e;if(this._sectionSizes.length>0){this._measure();var t=Math.max(0,Math.min(this._currentIndexForSezo,this._sectionSizes.length)),n=this._sectionSizes[t];e=this.orientation===b.Orientation.horizontal?{left:Math.max(0,n.offset-n.marginStart-this._scrollPosition),top:0,width:n.size,height:this._viewportOppositeSize}:{left:0,top:Math.max(0,n.offset-n.marginStart-this._scrollPosition),width:this._viewportOppositeSize,height:n.size};var i=this.sections.getAt(t);return p.wrap({item:{data:i,index:t,groupIndexHint:t},position:e})}},_beginZoom:function(){this._viewportElement.style["-ms-overflow-style"]="none"},_positionItem:function(e,t){if(e.index>=0&&e.index<this._sectionSizes.length){this._measure();var n,i=this._sectionSizes[e.index];n=this.orientation===b.Orientation.horizontal?t.left:t.top,this._sectionToFocus=e.index;var o=i.offset-n,o=this._ensureVisibleMath(e.index,o);this._scrollPosition=o;var r={};r[this._names.scrollPos]=this._scrollPosition,v.setScrollPosition(this._viewportElement,r)}},_endZoom:function(){this._viewportElement.style["-ms-overflow-style"]=""},_writeProfilerMark:function(e){var t="WinJS.UI.Hub:"+this._id+":"+e;l(t),r.log&&r.log(t,null,"hubprofiler")},dispose:function(){if(!this._disposed){this._disposed=!0,e.removeEventListener("keydown",this._windowKeyDownHandlerBound),v._resizeNotifier.unsubscribe(this.element,this._resizeHandlerBound),this._elementResizeInstrument.dispose(),this._updateEvents(this._sections);for(var t=0;t<this.sections.length;t++)this.sections.getAt(t).dispose()}},forceLayout:function(){this._resizeHandler()}},{AnimationType:{entrance:"entrance",contentTransition:"contentTransition",insert:"insert",remove:"remove"},LoadingState:{loading:"loading",complete:"complete"},_ClassName:{hub:"win-hub",hubSurface:"win-hub-surface",hubProgress:"win-hub-progress",hubViewport:"win-hub-viewport",hubVertical:"win-hub-vertical",hubHorizontal:"win-hub-horizontal"},_EventName:{contentAnimating:S.contentAnimating,headerInvoked:S.headerInvoked,loadingStateChanged:S.loadingStateChanged}});t.Class.mix(P,g.DOMEventMixin);var T=t.Class.define(function(e){this._hub=e},{getPanAxis:function(){return this._hub._getPanAxis()},configureForZoom:function(e,t,n,i){this._hub._configureForZoom(e,t,n,i)},setCurrentItem:function(e,t){this._hub._setCurrentItem(e,t)},getCurrentItem:function(){return this._hub._getCurrentItem()},beginZoom:function(){this._hub._beginZoom()},positionItem:function(e,t){return this._hub._positionItem(e,t)},endZoom:function(e){this._hub._endZoom(e)}}),O={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get duplicateSection(){return"Hub duplicate sections: Each HubSection must be unique"},get invalidContent(){return"Invalid content: Hub content must be made up of HubSections."},get hubViewportAriaLabel(){return s._getWinJSString("ui/hubViewportAriaLabel").value}};return P})})}),i("require-style!less/styles-lightdismissservice",[],function(){});var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};i("WinJS/_LightDismissService",["require","exports","./Application","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Global","./Utilities/_KeyboardBehavior","./Core/_Log","./Core/_Resources"],function(e,t,n,i,r,s,a,l,u,c){e(["require-style!less/styles-lightdismissservice"]);var d=1e3,h={get closeOverlay(){return c._getWinJSString("ui/closeOverlay").value}};t._ClassNames={_clickEater:"win-clickeater"};t.LightDismissalReasons={tap:"tap",lostFocus:"lostFocus",escape:"escape",hardwareBackButton:"hardwareBackButton",windowResize:"windowResize",windowBlur:"windowBlur"},t.DismissalPolicies={light:function(e){switch(e.reason){case t.LightDismissalReasons.tap:case t.LightDismissalReasons.escape:return!!e.active||(e.stopPropagation(),!1);case t.LightDismissalReasons.hardwareBackButton:return e.active?(e.preventDefault(),!0):(e.stopPropagation(),!1);case t.LightDismissalReasons.lostFocus:case t.LightDismissalReasons.windowResize:case t.LightDismissalReasons.windowBlur:return!0}},modal:function(e){switch(e.stopPropagation(),e.reason){case t.LightDismissalReasons.tap:case t.LightDismissalReasons.lostFocus:case t.LightDismissalReasons.windowResize:case t.LightDismissalReasons.windowBlur:return!1;case t.LightDismissalReasons.escape:return e.active;case t.LightDismissalReasons.hardwareBackButton:return e.preventDefault(),e.active}},sticky:function(e){return e.stopPropagation(),!1}};var m={keyDown:"keyDown",keyUp:"keyUp",keyPress:"keyPress"},p=function(){function e(e){this.element=e.element,this.element.tabIndex=e.tabIndex,this.onLightDismiss=e.onLightDismiss,e.onTakeFocus&&(this.onTakeFocus=e.onTakeFocus),e.onShouldLightDismiss&&(this.onShouldLightDismiss=e.onShouldLightDismiss),this._ldeOnKeyDownBound=this._ldeOnKeyDown.bind(this),this._ldeOnKeyUpBound=this._ldeOnKeyUp.bind(this),this._ldeOnKeyPressBound=this._ldeOnKeyPress.bind(this)}return e.prototype.restoreFocus=function(){var e=a.document.activeElement;if(e&&this.containsElement(e))return this._ldeCurrentFocus=e,!0;var t=!l._keyboardSeenLast;return this._ldeCurrentFocus&&this.containsElement(this._ldeCurrentFocus)&&s._tryFocusOnAnyElement(this._ldeCurrentFocus,t)},e.prototype._ldeOnKeyDown=function(e){this._ldeService.keyDown(this,e)},e.prototype._ldeOnKeyUp=function(e){this._ldeService.keyUp(this,e)},e.prototype._ldeOnKeyPress=function(e){this._ldeService.keyPress(this,e)},e.prototype.setZIndex=function(e){this.element.style.zIndex=e},e.prototype.getZIndexCount=function(){return 1},e.prototype.containsElement=function(e){return this.element.contains(e)},e.prototype.onTakeFocus=function(e){this.restoreFocus()||s._focusFirstFocusableElement(this.element,e)||s._tryFocusOnAnyElement(this.element,e)},e.prototype.onFocus=function(e){this._ldeCurrentFocus=e},e.prototype.onShow=function(e){this._ldeService=e,this.element.addEventListener("keydown",this._ldeOnKeyDownBound),this.element.addEventListener("keyup",this._ldeOnKeyUpBound),this.element.addEventListener("keypress",this._ldeOnKeyPressBound)},e.prototype.onHide=function(){this._ldeCurrentFocus=null,this._ldeService=null,this.element.removeEventListener("keydown",this._ldeOnKeyDownBound),this.element.removeEventListener("keyup",this._ldeOnKeyUpBound),this.element.removeEventListener("keypress",this._ldeOnKeyPressBound)},e.prototype.onKeyInStack=function(e){},e.prototype.onShouldLightDismiss=function(e){return!1},e.prototype.onLightDismiss=function(e){},e}(),f=function(e){function n(){e.apply(this,arguments)}return o(n,e),n.prototype.onKeyInStack=function(e){},n.prototype.onShouldLightDismiss=function(e){return t.DismissalPolicies.light(e)},n}(p);t.LightDismissableElement=f;var _=function(e){function n(){e.apply(this,arguments)}return o(n,e),n.prototype.onKeyInStack=function(e){e.stopPropagation()},n.prototype.onShouldLightDismiss=function(e){return t.DismissalPolicies.modal(e)},n}(p);t.ModalElement=_;var g=function(){function e(){}return e.prototype.setZIndex=function(e){},e.prototype.getZIndexCount=function(){return 1},e.prototype.containsElement=function(e){return a.document.body.contains(e)},e.prototype.onTakeFocus=function(e){this.currentFocus&&this.containsElement(this.currentFocus)&&s._tryFocusOnAnyElement(this.currentFocus,e)},e.prototype.onFocus=function(e){this.currentFocus=e},e.prototype.onShow=function(e){},e.prototype.onHide=function(){this.currentFocus=null},e.prototype.onKeyInStack=function(e){},e.prototype.onShouldLightDismiss=function(e){return!1},e.prototype.onLightDismiss=function(e){},e}(),v=function(){function e(){this._debug=!1,this._clients=[],this._notifying=!1,this._bodyClient=new g,this._updateDom_rendered={serviceActive:!1},this._clickEaterEl=this._createClickEater(),this._onBeforeRequestingFocusOnKeyboardInputBound=this._onBeforeRequestingFocusOnKeyboardInput.bind(this),this._onFocusInBound=this._onFocusIn.bind(this),this._onKeyDownBound=this._onKeyDown.bind(this),this._onWindowResizeBound=this._onWindowResize.bind(this),this._onClickEaterPointerUpBound=this._onClickEaterPointerUp.bind(this),this._onClickEaterPointerCancelBound=this._onClickEaterPointerCancel.bind(this),n.addEventListener("backclick",this._onBackClick.bind(this)),a.window.addEventListener("blur",this._onWindowBlur.bind(this)),this.shown(this._bodyClient)}return e.prototype.shown=function(e){var t=this._clients.indexOf(e);t===-1&&(this._clients.push(e),e.onShow(this),this._updateDom())},e.prototype.hidden=function(e){var t=this._clients.indexOf(e);t!==-1&&(this._clients.splice(t,1),e.setZIndex(""),e.onHide(),this._updateDom())},e.prototype.updated=function(e){this._updateDom()},e.prototype.keyDown=function(e,t){t.keyCode===s.Key.escape?this._escapePressed(t):this._dispatchKeyboardEvent(e,m.keyDown,t)},e.prototype.keyUp=function(e,t){this._dispatchKeyboardEvent(e,m.keyUp,t)},e.prototype.keyPress=function(e,t){this._dispatchKeyboardEvent(e,m.keyPress,t)},e.prototype.isShown=function(e){return this._clients.indexOf(e)!==-1},e.prototype.isTopmost=function(e){return e===this._clients[this._clients.length-1]},e.prototype._setDebug=function(e){this._debug=e},e.prototype._updateDom=function(e){e=e||{};var t=!!e.activeDismissableNeedsFocus,i=this._updateDom_rendered;if(!this._notifying){var o=this._clients.length>1;if(o!==i.serviceActive){if(o)n.addEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),s._addEventListener(a.document.documentElement,"focusin",this._onFocusInBound),a.document.documentElement.addEventListener("keydown",this._onKeyDownBound),a.window.addEventListener("resize",this._onWindowResizeBound),this._bodyClient.currentFocus=a.document.activeElement,a.document.body.appendChild(this._clickEaterEl);else{n.removeEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),s._removeEventListener(a.document.documentElement,"focusin",this._onFocusInBound),a.document.documentElement.removeEventListener("keydown",this._onKeyDownBound),a.window.removeEventListener("resize",this._onWindowResizeBound);var r=this._clickEaterEl.parentNode;r&&r.removeChild(this._clickEaterEl)}i.serviceActive=o}var u=0,c=d+1;this._clients.forEach(function(e,t){var n=c+u;e.setZIndex(""+n),c=n,u=e.getZIndexCount()+1}),o&&(this._clickEaterEl.style.zIndex=""+(c-1));var h=this._clients.length>0?this._clients[this._clients.length-1]:null;if(this._activeDismissable!==h&&(this._activeDismissable=h,t=!0),t){var m=!l._keyboardSeenLast;this._activeDismissable&&this._activeDismissable.onTakeFocus(m)}}},e.prototype._dispatchKeyboardEvent=function(e,t,n){var i=this._clients.indexOf(e);if(i!==-1)for(var o={type:t,keyCode:n.keyCode,propagationStopped:!1,stopPropagation:function(){this.propagationStopped=!0,n.stopPropagation()}},r=this._clients.slice(0,i+1),s=r.length-1;s>=0&&!o.propagationStopped;s--)r[s].onKeyInStack(o)},e.prototype._dispatchLightDismiss=function(e,t,n){if(this._notifying)return void(u.log&&u.log('_LightDismissService ignored dismiss trigger to avoid re-entrancy: "'+e+'"',"winjs _LightDismissService","warning"));if(t=t||this._clients.slice(0),0!==t.length){this._notifying=!0;for(var i={reason:e,active:!1,_stop:!1,stopPropagation:function(){this._stop=!0},_doDefault:!0,preventDefault:function(){this._doDefault=!1}},o=t.length-1;o>=0&&!i._stop;o--)i.active=this._activeDismissable===t[o],t[o].onShouldLightDismiss(i)&&t[o].onLightDismiss(i);return this._notifying=!1,this._updateDom(n),i._doDefault}},e.prototype._onBeforeRequestingFocusOnKeyboardInput=function(e){return!0},e.prototype._clickEaterTapped=function(){this._dispatchLightDismiss(t.LightDismissalReasons.tap)},e.prototype._onFocusIn=function(e){for(var n=e.target,i=this._clients.length-1;i>=0&&!this._clients[i].containsElement(n);i--);i!==-1&&this._clients[i].onFocus(n),i+1<this._clients.length&&this._dispatchLightDismiss(t.LightDismissalReasons.lostFocus,this._clients.slice(i+1),{activeDismissableNeedsFocus:!0})},e.prototype._onKeyDown=function(e){e.keyCode===s.Key.escape&&this._escapePressed(e)},e.prototype._escapePressed=function(e){e.preventDefault(),e.stopPropagation(),this._dispatchLightDismiss(t.LightDismissalReasons.escape)},e.prototype._onBackClick=function(e){var n=this._dispatchLightDismiss(t.LightDismissalReasons.hardwareBackButton);return!n},e.prototype._onWindowResize=function(e){this._dispatchLightDismiss(t.LightDismissalReasons.windowResize)},e.prototype._onWindowBlur=function(e){if(!this._debug)if(a.document.hasFocus()){var n=a.document.activeElement;n&&"IFRAME"===n.tagName&&!n.msLightDismissBlur&&(n.addEventListener("blur",this._onWindowBlur.bind(this),!1),n.msLightDismissBlur=!0)}else this._dispatchLightDismiss(t.LightDismissalReasons.windowBlur)},e.prototype._createClickEater=function(){var e=a.document.createElement("section");return e.className=t._ClassNames._clickEater,s._addEventListener(e,"pointerdown",this._onClickEaterPointerDown.bind(this),!0),e.addEventListener("click",this._onClickEaterClick.bind(this),!0),e.setAttribute("role","menuitem"),e.setAttribute("aria-label",h.closeOverlay),e.setAttribute("unselectable","on"),e},e.prototype._onClickEaterPointerDown=function(e){e.stopPropagation(),e.preventDefault(),this._clickEaterPointerId=e.pointerId,this._registeredClickEaterCleanUp||(s._addEventListener(a.window,"pointerup",this._onClickEaterPointerUpBound),s._addEventListener(a.window,"pointercancel",this._onClickEaterPointerCancelBound),this._registeredClickEaterCleanUp=!0)},e.prototype._onClickEaterPointerUp=function(e){var t=this;if(e.stopPropagation(),e.preventDefault(),e.pointerId===this._clickEaterPointerId){this._resetClickEaterPointerState();var n=a.document.elementFromPoint(e.clientX,e.clientY);n===this._clickEaterEl&&(this._skipClickEaterClick=!0,r._yieldForEvents(function(){t._skipClickEaterClick=!1}),this._clickEaterTapped())}},e.prototype._onClickEaterClick=function(e){e.stopPropagation(),e.preventDefault(),this._skipClickEaterClick||this._clickEaterTapped()},e.prototype._onClickEaterPointerCancel=function(e){e.pointerId===this._clickEaterPointerId&&this._resetClickEaterPointerState()},e.prototype._resetClickEaterPointerState=function(){this._registeredClickEaterCleanUp&&(s._removeEventListener(a.window,"pointerup",this._onClickEaterPointerUpBound),s._removeEventListener(a.window,"pointercancel",this._onClickEaterPointerCancelBound)),this._clickEaterPointerId=null,this._registeredClickEaterCleanUp=!1},e}(),y=new v;t.shown=y.shown.bind(y),t.hidden=y.hidden.bind(y),t.updated=y.updated.bind(y),t.isShown=y.isShown.bind(y),t.isTopmost=y.isTopmost.bind(y),t.keyDown=y.keyDown.bind(y),t.keyUp=y.keyUp.bind(y),t.keyPress=y.keyPress.bind(y),t._clickEaterTapped=y._clickEaterTapped.bind(y),t._onBackClick=y._onBackClick.bind(y),t._setDebug=y._setDebug.bind(y),i.Namespace.define("WinJS.UI._LightDismissService",{shown:t.shown,hidden:t.hidden,updated:t.updated,isShown:t.isShown,isTopmost:t.isTopmost,keyDown:t.keyDown,keyUp:t.keyUp,keyPress:t.keyPress,_clickEaterTapped:t._clickEaterTapped,_onBackClick:t._onBackClick,_setDebug:t._setDebug,LightDismissableElement:f,DismissalPolicies:t.DismissalPolicies,LightDismissalReasons:t.LightDismissalReasons,_ClassNames:t._ClassNames,_service:y})}),i("WinJS/Controls/_LegacyAppBar/_Constants",["exports","../../Core/_Base"],function(e,t){"use strict";t.Namespace._moduleDefine(e,null,{appBarClass:"win-navbar",firstDivClass:"win-firstdiv",finalDivClass:"win-finaldiv",invokeButtonClass:"win-navbar-invokebutton",ellipsisClass:"win-navbar-ellipsis",primaryCommandsClass:"win-primarygroup",secondaryCommandsClass:"win-secondarygroup",commandLayoutClass:"win-commandlayout",menuLayoutClass:"win-menulayout",topClass:"win-top",bottomClass:"win-bottom",showingClass:"win-navbar-opening",shownClass:"win-navbar-opened",hidingClass:"win-navbar-closing",hiddenClass:"win-navbar-closed",compactClass:"win-navbar-compact",minimalClass:"win-navbar-minimal",menuContainerClass:"win-navbar-menu",appBarPlacementTop:"top",appBarPlacementBottom:"bottom",appBarLayoutCustom:"custom",appBarLayoutCommands:"commands",appBarLayoutMenu:"menu",appBarInvokeButtonWidth:32,typeSeparator:"separator",typeContent:"content",typeButton:"button",typeToggle:"toggle",typeFlyout:"flyout",appBarCommandClass:"win-command",appBarCommandGlobalClass:"win-global",appBarCommandSelectionClass:"win-selection",commandHiddenClass:"win-command-hidden",sectionSelection:"selection",sectionGlobal:"global",sectionPrimary:"primary",sectionSecondary:"secondary",menuCommandClass:"win-command",menuCommandButtonClass:"win-command-button",menuCommandToggleClass:"win-command-toggle",menuCommandFlyoutClass:"win-command-flyout",menuCommandFlyoutActivatedClass:"win-command-flyout-activated",menuCommandSeparatorClass:"win-command-separator",_menuCommandInvokedEvent:"_invoked",menuClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",menuContainsFlyoutCommandClass:"win-menu-containsflyoutcommand",menuMouseSpacingClass:"win-menu-mousespacing",menuTouchSpacingClass:"win-menu-touchspacing",menuCommandHoverDelay:400,overlayClass:"win-overlay",flyoutClass:"win-flyout",flyoutLightClass:"win-ui-light",settingsFlyoutClass:"win-settingsflyout",scrollsClass:"win-scrolls",pinToRightEdge:-1,pinToBottomEdge:-1,separatorWidth:34,buttonWidth:68,narrowClass:"win-narrow",wideClass:"win-wide",_visualViewportClass:"win-visualviewport-space",commandPropertyMutated:"_commandpropertymutated",commandVisibilityChanged:"commandvisibilitychanged"})}),i("WinJS/Utilities/_KeyboardInfo",["require","exports","../Core/_BaseCoreUtils","../Core/_Global","../Core/_WinRT"],function(e,t,n,i,o){"use strict";var r={visualViewportClass:"win-visualviewport-space",scrollTimeout:150};t._KeyboardInfo,t._KeyboardInfo={get _visible(){try{return o.Windows.UI.ViewManagement.InputPane&&o.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height>0;
}catch(e){return!1}},get _extraOccluded(){var e=0;return!t._KeyboardInfo._isResized&&o.Windows.UI.ViewManagement.InputPane&&(e=o.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height),e},get _isResized(){var e=i.document.documentElement.clientHeight/i.innerHeight,t=i.document.documentElement.clientWidth/i.innerWidth;return t/e<.99},get _visibleDocBottom(){return t._KeyboardInfo._visibleDocTop+t._KeyboardInfo._visibleDocHeight},get _visibleDocHeight(){return t._KeyboardInfo._visualViewportHeight-t._KeyboardInfo._extraOccluded},get _visibleDocTop(){return 0},get _visibleDocBottomOffset(){return t._KeyboardInfo._extraOccluded},get _visualViewportHeight(){var e=t._KeyboardInfo._visualViewportSpace;return e.height},get _visualViewportWidth(){var e=t._KeyboardInfo._visualViewportSpace;return e.width},get _visualViewportSpace(){var e=i.document.body.querySelector("."+r.visualViewportClass);return e||(e=i.document.createElement("DIV"),e.className=r.visualViewportClass,i.document.body.appendChild(e)),e.getBoundingClientRect()},get _animationShowLength(){if(n.hasWinRT){if(o.Windows.UI.Core.AnimationMetrics){for(var e=o.Windows.UI.Core.AnimationMetrics,t=new e.AnimationDescription(e.AnimationEffect.showPanel,e.AnimationEffectTarget.primary),i=t.animations,r=0,s=0;s<i.size;s++){var a=i[s];r=Math.max(r,a.delay+a.duration)}return r}var l=300,u=50;return u+l}return 0},get _scrollTimeout(){return r.scrollTimeout},get _layoutViewportCoords(){var e=i.window.pageYOffset-i.document.documentElement.scrollTop,t=i.document.documentElement.clientHeight-(e+this._visibleDocHeight);return{visibleDocTop:e,visibleDocBottom:t}}}}),i("require-style!less/styles-overlay",[],function(){}),i("require-style!less/colors-overlay",[],function(){}),i("WinJS/Controls/Flyout/_Overlay",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Resources","../../Core/_WriteProfilerMark","../../_Accents","../../Animations","../../Application","../../ControlProcessor","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardInfo","../_LegacyAppBar/_Constants","require-style!less/styles-overlay","require-style!less/colors-overlay"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v){"use strict";u.createAccentRule("button[aria-checked=true].win-command:before,         .win-menu-containsflyoutcommand button.win-command-flyout-activated:before",[{name:"background-color",value:u.ColorTypes.accent},{name:"border-color",value:u.ColorTypes.accent}]),u.createAccentRule(".win-flyout, .win-settingsflyout",[{name:"border-color",value:u.ColorTypes.accent}]),i.Namespace._moduleDefine(e,"WinJS.UI",{_Overlay:i.Namespace._lazy(function(){function e(e,n,i){var o=t.document.querySelectorAll("."+v.overlayClass);if(o)for(var r=o.length,s=0;s<r;s++){var a=o[s],l=a.winControl;if(!l._disposed&&l){var u=l[n](e);if(i&&u)return u}}}function o(e){if(!e)return[];"string"!=typeof e&&e&&e.length||(e=[e]);var n,i=[];for(n=0;n<e.length;n++)if(e[n])if("string"==typeof e[n]){var o=t.document.getElementById(e[n]);o&&i.push(o)}else e[n].element?i.push(e[n].element):i.push(e[n]);return i}var s=i.Class.define(function(){this._currentState=s.states.off,this._inputPaneShowing=this._inputPaneShowing.bind(this),this._inputPaneHiding=this._inputPaneHiding.bind(this),this._documentScroll=this._documentScroll.bind(this),this._windowResized=this._windowResized.bind(this)},{initialize:function(){this._toggleListeners(s.states.on)},reset:function(){this._toggleListeners(s.states.off),this._toggleListeners(s.states.on)},_inputPaneShowing:function(t){l(s.profilerString+"_showingKeyboard,StartTM"),e(t,"_showingKeyboard"),l(s.profilerString+"_showingKeyboard,StopTM")},_inputPaneHiding:function(t){l(s.profilerString+"_hidingKeyboard,StartTM"),e(t,"_hidingKeyboard"),l(s.profilerString+"_hidingKeyboard,StopTM")},_documentScroll:function(t){l(s.profilerString+"_checkScrollPosition,StartTM"),e(t,"_checkScrollPosition"),l(s.profilerString+"_checkScrollPosition,StopTM")},_windowResized:function(t){l(s.profilerString+"_baseResize,StartTM"),e(t,"_baseResize"),l(s.profilerString+"_baseResize,StopTM")},_toggleListeners:function(e){var i;if(this._currentState!==e){if(e===s.states.on?i="addEventListener":e===s.states.off&&(i="removeEventListener"),n.Windows.UI.ViewManagement.InputPane){var o=n.Windows.UI.ViewManagement.InputPane.getForCurrentView();o[i]("showing",this._inputPaneShowing,!1),o[i]("hiding",this._inputPaneHiding,!1),t.document[i]("scroll",this._documentScroll,!1)}t.addEventListener("resize",this._windowResized,!1),this._currentState=e}}},{profilerString:{get:function(){return"WinJS.UI._Overlay Global Listener:"}},states:{get:function(){return{off:0,on:1}}}}),u={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get mustContainCommands(){return"Invalid HTML: AppBars/Menus must contain only AppBarCommands/MenuCommands"},get closeOverlay(){return a._getWinJSString("ui/closeOverlay").value}},d=i.Class.define(function(e,t){this._baseOverlayConstructor(e,t)},{_baseOverlayConstructor:function(e,n){this._disposed=!1,e||(e=t.document.createElement("div"));var i=e.winControl;if(i)throw new r("WinJS.UI._Overlay.DuplicateConstruction",u.duplicateConstruction);this._element||(this._element=e),this._element.hasAttribute("tabIndex")||(this._element.tabIndex=-1),this._sticky=!1,this._doNext="",this._element.style.visibility="hidden",this._element.style.opacity=0,e.winControl=this,_.addClass(this._element,v.overlayClass),_.addClass(this._element,"win-disposable");var o=this._element.getAttribute("unselectable");null!==o&&void 0!==o||this._element.setAttribute("unselectable","on"),this._currentAnimateIn=this._baseAnimateIn,this._currentAnimateOut=this._baseAnimateOut,this._animationPromise=m.as(),this._queuedToShow=[],this._queuedToHide=[],this._queuedCommandAnimation=!1,n&&f.setOptions(this,n),d._globalEventListeners.initialize()},element:{get:function(){return this._element}},dispose:function(){this._disposed||(this._disposed=!0,this._dispose())},_dispose:function(){},_show:function(){this._baseShow()},_hide:function(){this._baseHide()},hidden:{get:function(){return"hidden"===this._element.style.visibility||"hiding"===this._element.winAnimating||"hide"===this._doNext},set:function(e){var t=this.hidden;!e&&t?this.show():e&&!t&&this.hide()}},addEventListener:function(e,t,n){return this._element.addEventListener(e,t,n)},removeEventListener:function(e,t,n){return this._element.removeEventListener(e,t,n)},_baseShow:function(){if(this._animating||this._needToHandleHidingKeyboard)return this._doNext="show",!1;if("visible"!==this._element.style.visibility){this._element.winAnimating="showing",this._element.style.display="",this._element.style.visibility="hidden",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),this._beforeShow(),this._sendEvent(d.beforeShow),this._ensurePosition();var e=this;return this._animationPromise=this._currentAnimateIn().then(function(){e._baseEndShow()},function(){e._baseEndShow()}),!0}return!1},_beforeShow:function(){},_ensurePosition:function(){},_baseEndShow:function(){this._disposed||(this._element.setAttribute("aria-hidden","false"),this._element.winAnimating="","show"===this._doNext&&(this._doNext=""),this._sendEvent(d.afterShow),this._writeProfilerMark("show,StopTM"),p.schedule(this._checkDoNext,p.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_baseHide:function(){if(this._animating)return this._doNext="hide",!1;if(this._needToHandleHidingKeyboard&&(this._element.style.visibility=""),"hidden"!==this._element.style.visibility){if(this._element.winAnimating="hiding",this._element.setAttribute("aria-hidden","true"),this._sendEvent(d.beforeHide),""===this._element.style.visibility)this._element.style.opacity=0,this._baseEndHide();else{var e=this;this._animationPromise=this._currentAnimateOut().then(function(){e._baseEndHide()},function(){e._baseEndHide()})}return!0}return!1},_baseEndHide:function(){this._disposed||(this._beforeEndHide(),this._element.style.visibility="hidden",this._element.style.display="none",this._element.winAnimating="",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),"hide"===this._doNext&&(this._doNext=""),this._afterHide(),this._sendEvent(d.afterHide),this._writeProfilerMark("hide,StopTM"),p.schedule(this._checkDoNext,p.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_beforeEndHide:function(){},_afterHide:function(){},_checkDoNext:function(){this._animating||this._needToHandleHidingKeyboard||this._disposed||("hide"===this._doNext?(this._hide(),this._doNext=""):this._queuedCommandAnimation?this._showAndHideQueue():"show"===this._doNext&&(this._show(),this._doNext=""))},_baseAnimateIn:function(){return this._element.style.opacity=0,this._element.style.visibility="visible",_._getComputedStyle(this._element,null).opacity,c.fadeIn(this._element)},_baseAnimateOut:function(){return this._element.style.opacity=1,_._getComputedStyle(this._element,null).opacity,c.fadeOut(this._element)},_animating:{get:function(){return!!this._element.winAnimating}},_sendEvent:function(e,n){if(!this._disposed){var i=t.document.createEvent("CustomEvent");i.initEvent(e,!0,!0,n||{}),this._element.dispatchEvent(i)}},_showCommands:function(e,t){var n=this._resolveCommands(e);this._showAndHideCommands(n.commands,[],t)},_hideCommands:function(e,t){var n=this._resolveCommands(e);this._showAndHideCommands([],n.commands,t)},_showOnlyCommands:function(e,t){var n=this._resolveCommands(e);this._showAndHideCommands(n.commands,n.others,t)},_showAndHideCommands:function(e,t,n){n||this.hidden&&!this._animating?(this._showAndHideFast(e,t),this._removeFromQueue(e,this._queuedToShow),this._removeFromQueue(t,this._queuedToHide)):(this._updateAnimateQueue(e,this._queuedToShow,this._queuedToHide),this._updateAnimateQueue(t,this._queuedToHide,this._queuedToShow))},_removeFromQueue:function(e,t){var n;for(n=0;n<e.length;n++){var i;for(i=0;i<t.length;i++)if(t[i]===e[n]){t.splice(i,1);break}}},_updateAnimateQueue:function(e,t,n){if(!this._disposed){var i;for(i=0;i<e.length;i++){var o;for(o=0;o<t.length&&t[o]!==e[i];o++);for(o===t.length&&(t[o]=e[i]),o=0;o<n.length;o++)if(n[o]===e[i]){n.splice(o,1);break}}this._queuedCommandAnimation||(this._animating||p.schedule(this._checkDoNext,p.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"),this._queuedCommandAnimation=!0)}},_showAndHideFast:function(e,t){var n,i;for(n=0;n<e.length;n++)i=e[n],i&&i.style&&(i.style.visibility="",i.style.display="");for(n=0;n<t.length;n++)i=t[n],i&&i.style&&(i.style.visibility="hidden",i.style.display="none");this._commandsUpdated()},_showAndHideQueue:function(){if(this._queuedCommandAnimation=!1,this.hidden)this._showAndHideFast(this._queuedToShow,this._queuedToHide),p.schedule(this._checkDoNext,p.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext");else{var e,n=this._queuedToShow,i=this._queuedToHide,o=this._findSiblings(n.concat(i));for(e=0;e<n.length;e++)n[e]&&n[e].style&&t.document.body.contains(n[e])?"hidden"!==n[e].style.visibility&&"0"!==n[e].style.opacity&&(o.push(n[e]),n.splice(e,1),e--):(n.splice(e,1),e--);for(e=0;e<i.length;e++)i[e]&&i[e].style&&t.document.body.contains(i[e])&&"hidden"!==i[e].style.visibility&&"0"!==i[e].style.opacity||(i.splice(e,1),e--);var r=this._baseBeginAnimateCommands(n,i,o),s=this;r?r.done(function(){s._baseEndAnimateCommands(i)},function(){s._baseEndAnimateCommands(i)}):p.schedule(function(){s._baseEndAnimateCommands([])},p.Priority.normal,null,"WinJS.UI._Overlay._endAnimateCommandsWithoutAnimation")}this._queuedToShow=[],this._queuedToHide=[]},_baseBeginAnimateCommands:function(e,t,n){this._beginAnimateCommands(e,t,this._getVisibleCommands(n));var i=null,o=null;t.length>0&&(o=c.createDeleteFromListAnimation(t,0===e.length?n:void 0)),e.length>0&&(i=c.createAddToListAnimation(e,n));for(var r=0,s=t.length;r<s;r++){var a=t[r].getBoundingClientRect(),l=_._getComputedStyle(t[r]);t[r].style.top=a.top-parseFloat(l.marginTop)+"px",t[r].style.left=a.left-parseFloat(l.marginLeft)+"px",t[r].style.opacity=0,t[r].style.position="fixed"}this._element.winAnimating="rearranging";var u=null;for(o&&(u=o.execute()),r=0;r<e.length;r++)e[r].style.visibility="",e[r].style.display="",e[r].style.opacity=1;if(i){var d=i.execute();u=u?m.join([u,d]):d}return u},_beginAnimateCommands:function(){},_getVisibleCommands:function(e){var t,n=e,i=[];n||(n=this.element.querySelectorAll(".win-command"));for(var o=0,r=n.length;o<r;o++)t=n[o].winControl||n[o],t.hidden||i.push(t);return i},_baseEndAnimateCommands:function(e){if(!this._disposed){var t;for(t=0;t<e.length;t++)e[t].style.position="",e[t].style.top="",e[t].style.left="",e[t].getBoundingClientRect(),e[t].style.visibility="hidden",e[t].style.display="none",e[t].style.opacity=1;this._element.winAnimating="",this._endAnimateCommands(),this._checkDoNext()}},_endAnimateCommands:function(){},_resolveCommands:function(e){e=o(e);var t={};t.commands=[],t.others=[];var n,i,r=this.element.querySelectorAll(".win-command");for(n=0;n<r.length;n++){var s=!1;for(i=0;i<e.length;i++)if(e[i]===r[n]){t.commands.push(r[n]),e.splice(i,1),s=!0;break}s||t.others.push(r[n])}return t},_findSiblings:function(e){var t,n,i=[],o=this.element.querySelectorAll(".win-command");for(t=0;t<o.length;t++){var r=!1;for(n=0;n<e.length;n++)if(e[n]===o[t]){e.splice(n,1),r=!0;break}r||i.push(o[t])}return i},_baseResize:function(e){this._resize(e)},_hideOrDismiss:function(){var e=this._element;e&&_.hasClass(e,v.settingsFlyoutClass)?this._dismiss():e&&_.hasClass(e,v.appBarClass)?this.close():this.hide()},_resize:function(){},_commandsUpdated:function(){},_checkScrollPosition:function(){},_showingKeyboard:function(){},_hidingKeyboard:function(){},_verifyCommandsOnly:function(e,t){for(var n=e.children,i=new Array(n.length),o=0;o<n.length;o++){if(!_.hasClass(n[o],"win-command")&&n[o].getAttribute("data-win-control")!==t)throw new r("WinJS.UI._Overlay.MustContainCommands",u.mustContainCommands);h.processAll(n[o]),i[o]=n[o].winControl}return i},_focusOnLastFocusableElementOrThis:function(){this._focusOnLastFocusableElement()||d._trySetActive(this._element)},_focusOnLastFocusableElement:function(){if(this._element.firstElementChild){var e=this._element.firstElementChild.tabIndex,n=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var i=_._focusLastFocusableElement(this._element);return i&&d._trySelect(t.document.activeElement),this._element.firstElementChild.tabIndex=e,this._element.lastElementChild.tabIndex=n,i}return!1},_focusOnFirstFocusableElementOrThis:function(){this._focusOnFirstFocusableElement()||d._trySetActive(this._element)},_focusOnFirstFocusableElement:function(e,n){if(this._element.firstElementChild){var i=this._element.firstElementChild.tabIndex,o=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var r=_._focusFirstFocusableElement(this._element,e,n);return r&&d._trySelect(t.document.activeElement),this._element.firstElementChild.tabIndex=i,this._element.lastElementChild.tabIndex=o,r}return!1},_writeProfilerMark:function(e){l("WinJS.UI._Overlay:"+this._id+":"+e)}},{_isFlyoutVisible:function(){for(var e=t.document.querySelectorAll("."+v.flyoutClass),n=0;n<e.length;n++){var i=e[n].winControl;if(i&&!i.hidden)return!0}return!1},_trySetActive:function(e,n){return!!(e&&t.document.body&&t.document.body.contains(e))&&(!!_._setActive(e,n)&&e===t.document.activeElement)},_trySelect:function(e){try{e&&e.select&&e.select()}catch(e){}},_sizeOfDocument:function(){return{width:t.document.documentElement.offsetWidth,height:t.document.documentElement.offsetHeight}},_getParentControlUsingClassName:function(e,n){for(;e&&e!==t.document.body;){if(_.hasClass(e,n))return e.winControl;e=e.parentNode}return null},_globalEventListeners:new s,_hideAppBars:function(e,t){var n=e.map(function(e){return e.close(),e._animationPromise});return m.join(n)},_showAppBars:function(e,t){var n=e.map(function(e){return e._show(),e._animationPromise});return m.join(n)},_keyboardInfo:g._KeyboardInfo,_scrollTimeout:g._KeyboardInfo._scrollTimeout,beforeShow:"beforeshow",beforeHide:"beforehide",afterShow:"aftershow",afterHide:"afterhide",commonstrings:{get cannotChangeCommandsWhenVisible(){return"Invalid argument: You must call hide() before changing {0} commands"},get cannotChangeHiddenProperty(){return"Unable to set hidden property while parent {0} is visible."}}});return i.Class.mix(d,f.DOMEventMixin),d})})}),i("WinJS/Controls/Flyout",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../_Signal","../_LightDismissService","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_KeyboardBehavior","../Utilities/_Hoverable","./_LegacyAppBar/_Constants","./Flyout/_Overlay"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{Flyout:n.Namespace._lazy(function(){function e(e,t){return m.convertToPixels(e,m._getComputedStyle(e,null)[t])}function f(t){return{marginTop:e(t,"marginTop"),marginBottom:e(t,"marginBottom"),marginLeft:e(t,"marginLeft"),marginRight:e(t,"marginRight"),totalWidth:m.getTotalWidth(t),totalHeight:m.getTotalHeight(t),contentWidth:m.getContentWidth(t),contentHeight:m.getContentHeight(t)}}var v=m.Key,y={get ariaLabel(){return a._getWinJSString("ui/flyoutAriaLabel").value},get noAnchor(){return"Invalid argument: Flyout anchor element not found in DOM."},get badPlacement(){return"Invalid argument: Flyout placement should be 'top' (default), 'bottom', 'left', 'right', 'auto', 'autohorizontal', or 'autovertical'."},get badAlignment(){return"Invalid argument: Flyout alignment should be 'center' (default), 'left', or 'right'."},get noCoordinates(){return"Invalid argument: Flyout coordinates must contain a valid x,y pair."}},b=r._createEventProperty,w=n.Class.define(function(e){this._onLightDismiss=e,this._currentlyFocusedClient=null,this._clients=[]},{shown:function(e){e._focusable=!0;var t=this._clients.indexOf(e);t===-1&&(this._clients.push(e),e.onShow(this),d.isShown(this)?(d.updated(this),this._activateTopFocusableClientIfNeeded()):d.shown(this))},hiding:function(e){var t=this._clients.indexOf(e);t!==-1&&(this._clients[t]._focusable=!1,this._activateTopFocusableClientIfNeeded())},hidden:function(e){var t=this._clients.indexOf(e);t!==-1&&(this._clients.splice(t,1),e.setZIndex(""),e.onHide(),0===this._clients.length?d.hidden(this):(d.updated(this),this._activateTopFocusableClientIfNeeded()))},keyDown:function(e,t){d.keyDown(this,t)},keyUp:function(e,t){d.keyUp(this,t)},keyPress:function(e,t){d.keyPress(this,t)},clients:{get:function(){return this._clients}},_clientForElement:function(e){for(var t=this._clients.length-1;t>=0;t--)if(this._clients[t].containsElement(e))return this._clients[t];return null},_focusableClientForElement:function(e){for(var t=this._clients.length-1;t>=0;t--)if(this._clients[t]._focusable&&this._clients[t].containsElement(e))return this._clients[t];return null},_getTopmostFocusableClient:function(){for(var e=this._clients.length-1;e>=0;e--){var t=this._clients[e];if(t&&t._focusable)return t}return null},_activateTopFocusableClientIfNeeded:function(){var e=this._getTopmostFocusableClient();if(e&&d.isTopmost(this)){var t=!p._keyboardSeenLast;e.onTakeFocus(t)}},setZIndex:function(e){this._clients.forEach(function(t,n){t.setZIndex(e+n)},this)},getZIndexCount:function(){return this._clients.length},containsElement:function(e){return!!this._clientForElement(e)},onTakeFocus:function(e){var n=this._focusableClientForElement(t.document.activeElement);!n&&this._clients.indexOf(this._currentlyFocusedClient)!==-1&&this._currentlyFocusedClient._focusable&&(n=this._currentlyFocusedClient),n||(n=this._getTopmostFocusableClient()),this._currentlyFocusedClient=n,n&&n.onTakeFocus(e)},onFocus:function(e){this._currentlyFocusedClient=this._clientForElement(e),this._currentlyFocusedClient&&this._currentlyFocusedClient.onFocus(e)},onShow:function(e){},onHide:function(){this._currentlyFocusedClient=null},onKeyInStack:function(e){var t=this._clients.indexOf(this._currentlyFocusedClient);if(t!==-1)for(var n=this._clients.slice(0,t+1),i=n.length-1;i>=0&&!e.propagationStopped;i--)n[i]._focusable&&n[i].onKeyInStack(e)},onShouldLightDismiss:function(e){return d.DismissalPolicies.light(e)},onLightDismiss:function(e){this._onLightDismiss(e)}}),C=n.Class.define(function(){var e=this;this._dismissableLayer=new w(function(t){t.reason===d.LightDismissalReasons.escape?e.collapseFlyout(e.getAt(e.length-1)):e.collapseAll()}),this._cascadingStack=[],this._handleKeyDownInCascade_bound=this._handleKeyDownInCascade.bind(this),this._inputType=null},{appendFlyout:function(e){if(s.log&&this.reentrancyLock&&s.log("_CascadeManager is attempting to append a Flyout through reentrancy.","winjs _CascadeManager","error"),this.indexOf(e)<0){var t=this.collapseAll;if(e._positionRequest instanceof S.AnchorPositioning){var n=this.indexOfElement(e._positionRequest.anchor);n>=0&&(t=function(){this.collapseFlyout(this.getAt(n+1))})}t.call(this),e.element.addEventListener("keydown",this._handleKeyDownInCascade_bound,!1),this._cascadingStack.push(e)}},collapseFlyout:function(e){if(!this.reentrancyLock&&e&&this.indexOf(e)>=0){this.reentrancyLock=!0;var t=new c;this.unlocked=t.promise;for(var n;this.length&&e!==n;)n=this._cascadingStack.pop(),n.element.removeEventListener("keydown",this._handleKeyDownInCascade_bound,!1),n._hide();0===this._cascadingStack.length&&(this._inputType=null),this.reentrancyLock=!1,this.unlocked=null,t.complete()}},flyoutShown:function(e){this._dismissableLayer.shown(e._dismissable)},flyoutHiding:function(e){this._dismissableLayer.hiding(e._dismissable)},flyoutHidden:function(e){this._dismissableLayer.hidden(e._dismissable)},collapseAll:function(){var e=this.getAt(0);e&&this.collapseFlyout(e)},indexOf:function(e){return this._cascadingStack.indexOf(e)},indexOfElement:function(e){for(var t=-1,n=0,i=this.length;n<i;n++){var o=this.getAt(n);if(o.element.contains(e)){t=n;break}}return t},length:{get:function(){return this._cascadingStack.length}},getAt:function(e){return this._cascadingStack[e]},handleFocusIntoFlyout:function(e){var t=this.indexOfElement(e.target);if(t>=0){var n=this.getAt(t+1);this.collapseFlyout(n)}},inputType:{get:function(){return this._inputType||(this._inputType=p._lastInputType),this._inputType}},dismissableLayer:{get:function(){return this._dismissableLayer}},_handleKeyDownInCascade:function(e){var t="rtl"===m._getComputedStyle(e.target).direction,n=t?v.rightArrow:v.leftArrow,i=e.target;if(e.keyCode===n){var o=this.indexOfElement(i);if(o>=1){var r=this.getAt(o);this.collapseFlyout(r),e.preventDefault()}}else e.keyCode!==v.alt&&e.keyCode!==v.F10||this.collapseAll()}}),E={top:{top:"50px",left:"0px",keyframe:"WinJS-showFlyoutTop"},bottom:{top:"-50px",left:"0px",keyframe:"WinJS-showFlyoutBottom"},left:{top:"0px",left:"50px",keyframe:"WinJS-showFlyoutLeft"},right:{top:"0px",left:"-50px",keyframe:"WinJS-showFlyoutRight"}},S={AnchorPositioning:n.Class.define(function(e,n,i){if("string"==typeof e?e=t.document.getElementById(e):e&&e.element&&(e=e.element),!e)throw new o("WinJS.UI.Flyout.NoAnchor",y.noAnchor);this.anchor=e,this.placement=n,this.alignment=i},{getTopLeft:function(e,t){function n(e){a(e)?(S=r(e)-C,v=g._Overlay._keyboardInfo._visibleDocTop,w=E.top):(S=s(e)-C,v=_.pinToBottomEdge,w=E.bottom),b=!0}function i(e,t){return(g._Overlay._keyboardInfo._visibleDocHeight-e.height)/2>=t.totalHeight}function r(e){return e.top-g._Overlay._keyboardInfo._visibleDocTop}function s(e){return g._Overlay._keyboardInfo._visibleDocBottom-e.bottom}function a(e){return r(e)>s(e)}function l(e,t){return v=e-t.totalHeight,w=E.top,v>=g._Overlay._keyboardInfo._visibleDocTop&&v+t.totalHeight<=g._Overlay._keyboardInfo._visibleDocBottom}function u(e,t){return v=e,w=E.bottom,v>=g._Overlay._keyboardInfo._visibleDocTop&&v+t.totalHeight<=g._Overlay._keyboardInfo._visibleDocBottom}function c(e,t){return f=e-t.totalWidth,w=E.left,f>=0&&f+t.totalWidth<=g._Overlay._keyboardInfo._visualViewportWidth}function d(e,t){return f=e,w=E.right,f>=0&&f+t.totalWidth<=g._Overlay._keyboardInfo._visualViewportWidth}function h(e,t){v=e.top+e.height/2-t.totalHeight/2,v<g._Overlay._keyboardInfo._visibleDocTop?v=g._Overlay._keyboardInfo._visibleDocTop:v+t.totalHeight>=g._Overlay._keyboardInfo._visibleDocBottom&&(v=_.pinToBottomEdge)}function m(e,t,n){if("center"===n)f=e.left+e.width/2-t.totalWidth/2;else if("left"===n)f=e.left;else{if("right"!==n)throw new o("WinJS.UI.Flyout.BadAlignment",y.badAlignment);f=e.right-t.totalWidth}f<0?f=0:f+t.totalWidth>=g._Overlay._keyboardInfo._visualViewportWidth&&(f=_.pinToRightEdge)}var p;try{p=this.anchor.getBoundingClientRect()}catch(e){throw new o("WinJS.UI.Flyout.NoAnchor",y.noAnchor)}var f,v,b,w,C=e.totalHeight-e.contentHeight,S=e.contentHeight,I=this.alignment;switch(this.placement){case"top":l(p.top,e)||(v=g._Overlay._keyboardInfo._visibleDocTop,b=!0,S=r(p)-C),m(p,e,I);break;case"bottom":u(p.bottom,e)||(v=_.pinToBottomEdge,b=!0,S=s(p)-C),m(p,e,I);break;case"left":c(p.left,e)||(f=0),h(p,e);break;case"right":d(p.right,e)||(f=_.pinToRightEdge),h(p,e);break;case"autovertical":l(p.top,e)||u(p.bottom,e)||n(p),m(p,e,I);break;case"autohorizontal":c(p.left,e)||d(p.right,e)||(f=_.pinToRightEdge),h(p,e);break;case"auto":i(p,e)?(l(p.top,e)||u(p.bottom,e),m(p,e,I)):c(p.left,e)||d(p.right,e)?h(p,e):(n(p),m(p,e,I));break;case"_cascade":u(p.top-e.marginTop,e)||l(p.bottom+e.marginBottom,e)||h(p,e);var x=3,j=p.right-e.marginLeft-x,k=p.left+e.marginRight+x;t?c(k,e)||d(j,e)||(f=0,w=E.left):d(j,e)||c(k,e)||(f=_.pinToRightEdge,w=E.right);break;default:throw new o("WinJS.UI.Flyout.BadPlacement",y.badPlacement)}return{left:f,top:v,animOffset:w,doesScroll:b,contentHeight:S,verticalMarginBorderPadding:C}}}),CoordinatePositioning:n.Class.define(function(e){if(e.clientX===+e.clientX&&e.clientY===+e.clientY){var t=e;e={x:t.clientX,y:t.clientY}}else if(e.x!==+e.x||e.y!==+e.y)throw new o("WinJS.UI.Flyout.NoCoordinates",y.noCoordinates);this.coordinates=e},{getTopLeft:function(e,t){var n=this.coordinates,i=e.totalWidth-e.marginLeft-e.marginRight,o=t?i:0,r=e.totalHeight-e.contentHeight,s=e.contentHeight,a=n.y-e.marginTop,l=n.x-e.marginLeft-o;return a<0?a=0:a+e.totalHeight>g._Overlay._keyboardInfo._visibleDocBottom&&(a=_.pinToBottomEdge),l<0?l=0:l+e.totalWidth>g._Overlay._keyboardInfo._visualViewportWidth&&(l=_.pinToRightEdge),{left:l,top:a,verticalMarginBorderPadding:r,contentHeight:s,doesScroll:!1,animOffset:E.top}}})},I=n.Class.derive(g._Overlay,function(e,n){n=n||{},this._element=e||t.document.createElement("div"),this._id=this._element.id||m._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),this._baseFlyoutConstructor(this._element,n);var i=this._element.getElementsByTagName("*"),o=this._addFirstDiv();o.tabIndex=m._getLowestTabIndexInList(i);var r=this._addFinalDiv();return r.tabIndex=m._getHighestTabIndexInList(i),this._element.addEventListener("keydown",this._handleKeyDown,!0),this._writeProfilerMark("constructor,StopTM"),this},{_lastMaxHeight:null,_baseFlyoutConstructor:function(e,t){this._placement="auto",this._alignment="center",this._baseOverlayConstructor(e,t),this._element.style.visibilty="hidden",this._element.style.display="none",m.addClass(this._element,_.flyoutClass);var n=this;this._dismissable=new d.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){n.hide()},onTakeFocus:function(e){n._dismissable.restoreFocus()||(m.hasClass(n.element,_.menuClass)?g._Overlay._trySetActive(n._element):n._focusOnFirstFocusableElementOrThis())}});var i=this._element.getAttribute("role");null!==i&&""!==i&&void 0!==i||(m.hasClass(this._element,_.menuClass)?this._element.setAttribute("role","menu"):this._element.setAttribute("role","dialog"));var o=this._element.getAttribute("aria-label");null!==o&&""!==o&&void 0!==o||this._element.setAttribute("aria-label",y.ariaLabel),this._currentAnimateIn=this._flyoutAnimateIn,this._currentAnimateOut=this._flyoutAnimateOut,m._addEventListener(this.element,"focusin",this._handleFocusIn.bind(this),!1)},anchor:{get:function(){return this._anchor},set:function(e){this._anchor=e}},placement:{get:function(){return this._placement},set:function(e){if("top"!==e&&"bottom"!==e&&"left"!==e&&"right"!==e&&"auto"!==e&&"autohorizontal"!==e&&"autovertical"!==e)throw new o("WinJS.UI.Flyout.BadPlacement",y.badPlacement);this._placement=e}},alignment:{get:function(){return this._alignment},set:function(e){if("right"!==e&&"left"!==e&&"center"!==e)throw new o("WinJS.UI.Flyout.BadAlignment",y.badAlignment);this._alignment=e}},disabled:{get:function(){return!!this._element.disabled},set:function(e){e=!!e;var t=!!this._element.disabled;t!==e&&(this._element.disabled=e,!this.hidden&&this._element.disabled&&this.hide())}},onbeforeshow:b(g._Overlay.beforeShow),onaftershow:b(g._Overlay.afterShow),onbeforehide:b(g._Overlay.beforeHide),onafterhide:b(g._Overlay.afterHide),_dispose:function(){h.disposeSubTree(this.element),this._hide(),I._cascadeManager.flyoutHidden(this),this.anchor=null},show:function(e,t,n){this._writeProfilerMark("show,StartTM"),this._positionRequest=new S.AnchorPositioning(e||this._anchor,t||this._placement,n||this._alignment),this._show()},_show:function(){this._baseFlyoutShow()},showAt:function(e){this._writeProfilerMark("show,StartTM"),this._positionRequest=new S.CoordinatePositioning(e),this._show()},hide:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(){I._cascadeManager.collapseFlyout(this),this._baseHide()&&I._cascadeManager.flyoutHiding(this)},_beforeEndHide:function(){I._cascadeManager.flyoutHidden(this)},_baseFlyoutShow:function(){if(!this.disabled&&!this._disposed)if(I._cascadeManager.appendFlyout(this),this._element.winAnimating)this._doNext="show";else if(I._cascadeManager.reentrancyLock){this._doNext="show";var e=this;I._cascadeManager.unlocked.then(function(){e._checkDoNext()})}else if(this._baseShow()){if(!m.hasClass(this.element,"win-menu")){var t=this._element.getElementsByTagName("*"),n=this.element.querySelectorAll(".win-first");this.element.children.length&&!m.hasClass(this.element.children[0],_.firstDivClass)&&(n&&n.length>0&&n.item(0).parentNode.removeChild(n.item(0)),n=this._addFirstDiv()),n.tabIndex=m._getLowestTabIndexInList(t);var i=this.element.querySelectorAll(".win-final");m.hasClass(this.element.children[this.element.children.length-1],_.finalDivClass)||(i&&i.length>0&&i.item(0).parentNode.removeChild(i.item(0)),i=this._addFinalDiv()),i.tabIndex=m._getHighestTabIndexInList(t)}I._cascadeManager.flyoutShown(this)}},_lightDismiss:function(){I._cascadeManager.collapseAll()},_ensurePosition:function(){this._keyboardMovedUs=!1,this._clearAdjustedStyles(),this._setAlignment();var e=f(this._element),t="rtl"===m._getComputedStyle(this._element).direction;this._currentPosition=this._positionRequest.getTopLeft(e,t),this._currentPosition.top<0?(this._element.style.bottom=g._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"),this._currentPosition.left<0?(this._element.style.right="0px",this._element.style.left="auto"):(this._element.style.left=this._currentPosition.left+"px",this._element.style.right="auto"),this._currentPosition.doesScroll&&(m.addClass(this._element,_.scrollsClass),
this._lastMaxHeight=this._element.style.maxHeight,this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),g._Overlay._keyboardInfo._visible&&(this._checkKeyboardFit(),this._keyboardMovedUs&&this._adjustForKeyboard())},_clearAdjustedStyles:function(){this._element.style.top="0px",this._element.style.bottom="auto",this._element.style.left="0px",this._element.style.right="auto",m.removeClass(this._element,_.scrollsClass),null!==this._lastMaxHeight&&(this._element.style.maxHeight=this._lastMaxHeight,this._lastMaxHeight=null),m.removeClass(this._element,"win-rightalign"),m.removeClass(this._element,"win-leftalign")},_setAlignment:function(){switch(this._positionRequest.alignment){case"left":m.addClass(this._element,"win-leftalign");break;case"right":m.addClass(this._element,"win-rightalign")}},_showingKeyboard:function(e){if(!this.hidden&&(e.ensuredFocusedElementInView=!0,this._checkKeyboardFit(),this._keyboardMovedUs)){this._element.style.opacity=0;var n=this;t.setTimeout(function(){n._adjustForKeyboard(),n._baseAnimateIn()},g._Overlay._keyboardInfo._animationShowLength)}},_resize:function(){if((!this.hidden||this._animating)&&this._needToHandleHidingKeyboard){var e=this;i._setImmediate(function(){e.hidden&&!e._animating||e._ensurePosition()}),this._needToHandleHidingKeyboard=!1}},_checkKeyboardFit:function(){var e=!1,t=g._Overlay._keyboardInfo._visibleDocHeight,n=this._currentPosition.contentHeight+this._currentPosition.verticalMarginBorderPadding;n>t?(e=!0,this._currentPosition.top=_.pinToBottomEdge,this._currentPosition.contentHeight=t-this._currentPosition.verticalMarginBorderPadding,this._currentPosition.doesScroll=!0):this._currentPosition.top>=0&&this._currentPosition.top+n>g._Overlay._keyboardInfo._visibleDocBottom?(this._currentPosition.top=_.pinToBottomEdge,e=!0):this._currentPosition.top===_.pinToBottomEdge&&(e=!0),this._keyboardMovedUs=e},_adjustForKeyboard:function(){this._currentPosition.doesScroll&&(this._lastMaxHeight||(m.addClass(this._element,_.scrollsClass),this._lastMaxHeight=this._element.style.maxHeight),this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),this._checkScrollPosition(!0)},_hidingKeyboard:function(){if(!this.hidden||this._animating)if(g._Overlay._keyboardInfo._isResized)this._needToHandleHidingKeyboard=!0;else{var e=this;i._setImmediate(function(){e.hidden&&!e._animating||e._ensurePosition()})}},_checkScrollPosition:function(e){this.hidden&&!e||(this._currentPosition.top<0?(this._element.style.bottom=g._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"))},_flyoutAnimateIn:function(){return this._keyboardMovedUs?this._baseAnimateIn():(this._element.style.opacity=1,this._element.style.visibility="visible",u.showPopup(this._element,this._currentPosition.animOffset))},_flyoutAnimateOut:function(){return this._keyboardMovedUs?this._baseAnimateOut():(this._element.style.opacity=0,u.hidePopup(this._element,this._currentPosition.animOffset))},_hideAllOtherFlyouts:function(e){for(var n=t.document.querySelectorAll("."+_.flyoutClass),i=0;i<n.length;i++){var o=n[i].winControl;o&&!o.hidden&&o!==e&&o.hide()}},_handleKeyDown:function(e){e.keyCode!==v.space&&e.keyCode!==v.enter||this!==t.document.activeElement?!e.shiftKey||e.keyCode!==v.tab||this!==t.document.activeElement||e.altKey||e.ctrlKey||e.metaKey||(e.preventDefault(),e.stopPropagation(),this.winControl._focusOnLastFocusableElementOrThis()):(e.preventDefault(),e.stopPropagation(),this.winControl.hide())},_handleFocusIn:function(e){this.element.contains(e.relatedTarget)||I._cascadeManager.handleFocusIntoFlyout(e)},_addFirstDiv:function(){var e=t.document.createElement("div");e.className=_.firstDivClass,e.style.display="inline",e.setAttribute("role","menuitem"),e.setAttribute("aria-hidden","true"),this._element.children[0]?this._element.insertBefore(e,this._element.children[0]):this._element.appendChild(e);var n=this;return m._addEventListener(e,"focusin",function(){n._focusOnLastFocusableElementOrThis()},!1),e},_addFinalDiv:function(){var e=t.document.createElement("div");e.className=_.finalDivClass,e.style.display="inline",e.setAttribute("role","menuitem"),e.setAttribute("aria-hidden","true"),this._element.appendChild(e);var n=this;return m._addEventListener(e,"focusin",function(){n._focusOnFirstFocusableElementOrThis()},!1),e},_writeProfilerMark:function(e){l("WinJS.UI.Flyout:"+this._id+":"+e)}},{_cascadeManager:new C});return I})})}),i("WinJS/Controls/CommandingSurface/_Constants",["require","exports"],function(e,t){t.ClassNames={controlCssClass:"win-commandingsurface",disposableCssClass:"win-disposable",tabStopClass:"win-commandingsurface-tabstop",contentClass:"win-commandingsurface-content",actionAreaCssClass:"win-commandingsurface-actionarea",actionAreaContainerCssClass:"win-commandingsurface-actionareacontainer",overflowButtonCssClass:"win-commandingsurface-overflowbutton",spacerCssClass:"win-commandingsurface-spacer",ellipsisCssClass:"win-commandingsurface-ellipsis",overflowAreaCssClass:"win-commandingsurface-overflowarea",overflowAreaContainerCssClass:"win-commandingsurface-overflowareacontainer",contentFlyoutCssClass:"win-commandingsurface-contentflyout",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",insetOutlineClass:"win-commandingsurface-insetoutline",openingClass:"win-commandingsurface-opening",openedClass:"win-commandingsurface-opened",closingClass:"win-commandingsurface-closing",closedClass:"win-commandingsurface-closed",noneClass:"win-commandingsurface-closeddisplaynone",minimalClass:"win-commandingsurface-closeddisplayminimal",compactClass:"win-commandingsurface-closeddisplaycompact",fullClass:"win-commandingsurface-closeddisplayfull",overflowTopClass:"win-commandingsurface-overflowtop",overflowBottomClass:"win-commandingsurface-overflowbottom",commandHiddenClass:"win-commandingsurface-command-hidden",commandPrimaryOverflownPolicyClass:"win-commandingsurface-command-primary-overflown",commandSecondaryOverflownPolicyClass:"win-commandingsurface-command-secondary-overflown",commandSeparatorHiddenPolicyClass:"win-commandingsurface-command-separator-hidden"},t.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",commandPropertyMutated:"_commandpropertymutated"},t.actionAreaCommandWidth=68,t.actionAreaSeparatorWidth=34,t.actionAreaOverflowButtonWidth=32,t.overflowCommandHeight=44,t.overflowSeparatorHeight=12,t.controlMinWidth=t.actionAreaOverflowButtonWidth,t.overflowAreaMaxWidth=480,t.heightOfMinimal=24,t.heightOfCompact=48,t.contentMenuCommandDefaultLabel="Custom content",t.defaultClosedDisplayMode="compact",t.defaultOpened=!1,t.defaultOverflowDirection="bottom",t.typeSeparator="separator",t.typeContent="content",t.typeButton="button",t.typeToggle="toggle",t.typeFlyout="flyout",t.commandSelector=".win-command",t.primaryCommandSection="primary",t.secondaryCommandSection="secondary"}),i("WinJS/Controls/ToolBar/_Constants",["require","exports","../CommandingSurface/_Constants"],function(e,t,n){t.ClassNames={controlCssClass:"win-toolbar",disposableCssClass:"win-disposable",actionAreaCssClass:"win-toolbar-actionarea",overflowButtonCssClass:"win-toolbar-overflowbutton",spacerCssClass:"win-toolbar-spacer",ellipsisCssClass:"win-toolbar-ellipsis",overflowAreaCssClass:"win-toolbar-overflowarea",contentFlyoutCssClass:"win-toolbar-contentflyout",emptytoolbarCssClass:"win-toolbar-empty",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",openedClass:"win-toolbar-opened",closedClass:"win-toolbar-closed",compactClass:"win-toolbar-closeddisplaycompact",fullClass:"win-toolbar-closeddisplayfull",overflowTopClass:"win-toolbar-overflowtop",overflowBottomClass:"win-toolbar-overflowbottom",placeHolderCssClass:"win-toolbar-placeholder"},t.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},t.OverflowDirection={top:"top",bottom:"bottom"},t.overflowAreaMaxWidth=n.overflowAreaMaxWidth,t.controlMinWidth=n.controlMinWidth,t.defaultClosedDisplayMode="compact",t.defaultOpened=!1,t.typeSeparator="separator",t.typeContent="content",t.typeButton="button",t.typeToggle="toggle",t.typeFlyout="flyout",t.commandSelector=".win-command",t.primaryCommandSection="primary",t.secondaryCommandSection="secondary"}),i("WinJS/Controls/AppBar/_Icon",["exports","../../Core/_Base","../../Core/_Resources"],function(e,t,n){"use strict";var i=["previous","next","play","pause","edit","save","clear","delete","remove","add","cancel","accept","more","redo","undo","home","up","forward","right","back","left","favorite","camera","settings","video","sync","download","mail","find","help","upload","emoji","twopage","leavechat","mailforward","clock","send","crop","rotatecamera","people","closepane","openpane","world","flag","previewlink","globe","trim","attachcamera","zoomin","bookmarks","document","protecteddocument","page","bullets","comment","mail2","contactinfo","hangup","viewall","mappin","phone","videochat","switch","contact","rename","pin","musicinfo","go","keyboard","dockleft","dockright","dockbottom","remote","refresh","rotate","shuffle","list","shop","selectall","orientation","import","importall","browsephotos","webcam","pictures","savelocal","caption","stop","showresults","volume","repair","message","page2","calendarday","calendarweek","calendar","characters","mailreplyall","read","link","accounts","showbcc","hidebcc","cut","attach","paste","filter","copy","emoji2","important","mailreply","slideshow","sort","manage","allapps","disconnectdrive","mapdrive","newwindow","openwith","contactpresence","priority","uploadskydrive","gototoday","font","fontcolor","contact2","folder","audio","placeholder","view","setlockscreen","settile","cc","stopslideshow","permissions","highlight","disableupdates","unfavorite","unpin","openlocal","mute","italic","underline","bold","movetofolder","likedislike","dislike","like","alignright","aligncenter","alignleft","zoom","zoomout","openfile","otheruser","admin","street","map","clearselection","fontdecrease","fontincrease","fontsize","cellphone","reshare","tag","repeatone","repeatall","outlinestar","solidstar","calculator","directions","target","library","phonebook","memo","microphone","postupdate","backtowindow","fullscreen","newfolder","calendarreply","unsyncfolder","reporthacked","syncfolder","blockcontact","switchapps","addfriend","touchpointer","gotostart","zerobars","onebar","twobars","threebars","fourbars","scan","preview","hamburger"],o=i.reduce(function(e,t){return e[t]={get:function(){return n._getWinJSString("ui/appBarIcons/"+t).value}},e},{});t.Namespace._moduleDefine(e,"WinJS.UI.AppBarIcon",o)}),i("WinJS/Controls/AppBar/_Command",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Resources","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../Flyout/_Overlay","../Tooltip","../_LegacyAppBar/_Constants","./_Icon"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p){"use strict";i.Namespace._moduleDefine(e,"WinJS.UI",{AppBarCommand:i.Namespace._lazy(function(){function e(e){var n=this.winControl;if(n){if(n._type===m.typeToggle)n.selected=!n.selected;else if(n._type===m.typeFlyout&&n._flyout){var i=n._flyout;"string"==typeof i&&(i=t.document.getElementById(i)),i.show||(i=i.winControl),i&&i.show&&i.show(this,"autovertical")}n.onclick&&n.onclick(e)}}function f(e,t){var n=e[t],i=e.constructor.prototype,o=_(i,t)||{},r=o.get.bind(e)||function(){return n},s=o.set.bind(e)||function(e){n=e};Object.defineProperty(e,t,{get:function(){return r()},set:function(n){var i=r();s(n);var o=r();this._disposed||i===n||i===o||e._disposed||e._propertyMutations.dispatchEvent(m.commandPropertyMutated,{command:e,propertyName:t,oldValue:i,newValue:o})}})}function _(e,t){for(var n=null;e&&!n;)n=Object.getOwnPropertyDescriptor(e,t),e=Object.getPrototypeOf(e);return n}var g=i.Class.define(function(){this._observer=o._merge({},s.eventMixin)},{bind:function(e){this._observer.addEventListener(m.commandPropertyMutated,e)},unbind:function(e){this._observer.removeEventListener(m.commandPropertyMutated,e)},dispatchEvent:function(e,t){this._observer.dispatchEvent(e,t)}}),v={get ariaLabel(){return a._getWinJSString("ui/appBarCommandAriaLabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badClick(){return"Invalid argument: The onclick property for an {0} must be a function"},get badDivElement(){return"Invalid argument: For a content command, the element must be null or a div element"},get badHrElement(){return"Invalid argument: For a separator, the element must be null or an hr element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"},get badPriority(){return"Invalid argument: the priority of an {0} must be a non-negative integer"}},y=i.Class.define(function(t,n){if(t&&t.winControl)throw new r("WinJS.UI.AppBarCommand.DuplicateConstruction",v.duplicateConstruction);if(this._disposed=!1,n||(n={}),n.type||(this._type=m.typeButton),n.section=n.section||m.sectionPrimary,this._element=t,n.type===m.typeContent?this._createContent():n.type===m.typeSeparator?this._createSeparator():this._createButton(),c.addClass(this._element,"win-disposable"),this._element.winControl=this,c.addClass(this._element,m.appBarCommandClass),n.onclick&&(this.onclick=n.onclick),n.onclick=e,l.setOptions(this,n),this._type!==m.typeToggle||n.selected||(this.selected=!1),this._type!==m.typeSeparator){var i=this._element.getAttribute("role");null!==i&&""!==i&&void 0!==i||(i=this._type===m.typeToggle?"checkbox":this._type===m.typeContent?"group":"menuitem",this._element.setAttribute("role",i),this._type===m.typeFlyout&&this._element.setAttribute("aria-haspopup",!0));var o=this._element.getAttribute("aria-label");null!==o&&""!==o&&void 0!==o||this._element.setAttribute("aria-label",v.ariaLabel)}this._propertyMutations=new g;var s=this;b.forEach(function(e){f(s,e)})},{id:{get:function(){return this._element.id},set:function(e){e&&!this._element.id&&(this._element.id=e)}},type:{get:function(){return this._type},set:function(e){this._type||(e!==m.typeContent&&e!==m.typeFlyout&&e!==m.typeToggle&&e!==m.typeSeparator?this._type=m.typeButton:this._type=e)}},label:{get:function(){return this._label},set:function(e){this._label=e,this._labelSpan&&(this._labelSpan.textContent=this.label),!this.tooltip&&this._tooltipControl&&(this._tooltip=this.label,this._tooltipControl.innerHTML=this.label),this._element.setAttribute("aria-label",this.label),this._testIdenticalTooltip()}},icon:{get:function(){return this._icon},set:function(e){this._icon=p[e]||e,this._imageSpan&&(this._icon&&1===this._icon.length?(this._imageSpan.textContent=this._icon,this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",c.addClass(this._imageSpan,"win-commandglyph")):(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage=this._icon,this._imageSpan.style.msHighContrastAdjust="none",c.removeClass(this._imageSpan,"win-commandglyph")))}},onclick:{get:function(){return this._onclick},set:function(e){if(e&&"function"!=typeof e)throw new r("WinJS.UI.AppBarCommand.BadClick",a._formatString(v.badClick,"AppBarCommand"));this._onclick=e}},priority:{get:function(){return this._priority},set:function(e){if(!(void 0===e||"number"==typeof e&&e>=0))throw new r("WinJS.UI.AppBarCommand.BadPriority",a._formatString(v.badPriority,"AppBarCommand"));this._priority=e}},flyout:{get:function(){var e=this._flyout;return"string"==typeof e&&(e=t.document.getElementById(e)),e&&!e.element&&e.winControl&&(e=e.winControl),e},set:function(e){var t=e;t&&"string"!=typeof t&&(t.element&&(t=t.element),t&&(t.id?t=t.id:(t.id=c._uniqueID(t),t=t.id))),"string"==typeof t&&this._element.setAttribute("aria-owns",t),this._flyout=e}},section:{get:function(){return this._section},set:function(e){this._section&&!n.Windows.ApplicationModel.DesignMode.designModeEnabled||this._setSection(e)}},tooltip:{get:function(){return this._tooltip},set:function(e){this._tooltip=e,this._tooltipControl&&(this._tooltipControl.innerHTML=this._tooltip),this._testIdenticalTooltip()}},selected:{get:function(){return"true"===this._element.getAttribute("aria-checked")},set:function(e){this._element.setAttribute("aria-checked",e)}},element:{get:function(){return this._element}},disabled:{get:function(){return!!this._element.disabled},set:function(e){this._element.disabled=e}},hidden:{get:function(){return c.hasClass(this._element,m.commandHiddenClass)},set:function(e){if(e!==this.hidden){var t=this.hidden;e?c.addClass(this._element,m.commandHiddenClass):c.removeClass(this._element,m.commandHiddenClass),this._sendEvent(m.commandVisibilityChanged)||(t?c.addClass(this._element,m.commandHiddenClass):c.removeClass(this._element,m.commandHiddenClass))}}},firstElementFocus:{get:function(){return this._firstElementFocus||this._lastElementFocus||this._element},set:function(e){this._firstElementFocus=e===this.element?null:e,this._updateTabStop()}},lastElementFocus:{get:function(){return this._lastElementFocus||this._firstElementFocus||this._element},set:function(e){this._lastElementFocus=e===this.element?null:e,this._updateTabStop()}},dispose:function(){this._disposed||(this._disposed=!0,this._tooltipControl&&this._tooltipControl.dispose(),this._type===m.typeContent&&u.disposeSubTree(this.element))},addEventListener:function(e,t,n){return this._element.addEventListener(e,t,n)},removeEventListener:function(e,t,n){return this._element.removeEventListener(e,t,n)},extraClass:{get:function(){return this._extraClass},set:function(e){this._extraClass&&c.removeClass(this._element,this._extraClass),this._extraClass=e,c.addClass(this._element,this._extraClass)}},_testIdenticalTooltip:function(){this._hideIfFullSize=this._label===this._tooltip},_createContent:function(){if(this._element){if("DIV"!==this._element.tagName)throw new r("WinJS.UI.AppBarCommand.BadDivElement",v.badDivElement)}else this._element=t.document.createElement("div");parseInt(this._element.getAttribute("tabIndex"),10)!==this._element.tabIndex&&(this._element.tabIndex=0)},_createSeparator:function(){if(this._element){if("HR"!==this._element.tagName)throw new r("WinJS.UI.AppBarCommand.BadHrElement",v.badHrElement)}else this._element=t.document.createElement("hr")},_createButton:function(){if(this._element){if("BUTTON"!==this._element.tagName)throw new r("WinJS.UI.AppBarCommand.BadButtonElement",v.badButtonElement);var e=this._element.getAttribute("type");null!==e&&""!==e&&void 0!==e||this._element.setAttribute("type","button"),this._element.innerHTML=""}else this._element=t.document.createElement("button");this._element.type="button",this._iconSpan=t.document.createElement("span"),this._iconSpan.setAttribute("aria-hidden","true"),this._iconSpan.className="win-commandicon",this._iconSpan.tabIndex=-1,this._element.appendChild(this._iconSpan),this._imageSpan=t.document.createElement("span"),this._imageSpan.setAttribute("aria-hidden","true"),this._imageSpan.className="win-commandimage",this._imageSpan.tabIndex=-1,this._iconSpan.appendChild(this._imageSpan),this._labelSpan=t.document.createElement("span"),this._labelSpan.setAttribute("aria-hidden","true"),this._labelSpan.className="win-label",this._labelSpan.tabIndex=-1,this._element.appendChild(this._labelSpan),this._tooltipControl=new h.Tooltip(this._element);var n=this;this._tooltipControl.addEventListener("beforeopen",function(){n._hideIfFullSize&&!d._Overlay._getParentControlUsingClassName(n._element.parentElement,m.reducedClass)&&n._tooltipControl.close()},!1)},_setSection:function(e){e||(e=m.sectionPrimary),this._section&&(this._section===m.sectionGlobal?c.removeClass(this._element,m.appBarCommandGlobalClass):this.section===m.sectionSelection&&c.removeClass(this._element,m.appBarCommandSelectionClass)),this._section=e,e===m.sectionGlobal?c.addClass(this._element,m.appBarCommandGlobalClass):e===m.sectionSelection&&c.addClass(this._element,m.appBarCommandSelectionClass)},_updateTabStop:function(){this._firstElementFocus||this._lastElementFocus?this.element.tabIndex=-1:this.element.tabIndex=0},_isFocusable:function(){return!this.hidden&&this._type!==m.typeSeparator&&!this.element.disabled&&(this.firstElementFocus.tabIndex>=0||this.lastElementFocus.tabIndex>=0)},_sendEvent:function(e,n){if(!this._disposed){var i=t.document.createEvent("CustomEvent");return i.initCustomEvent(e,!0,!0,n||{}),this._element.dispatchEvent(i)}}}),b=["label","disabled","flyout","extraClass","selected","onclick","hidden"];return y})}),i.Namespace._moduleDefine(e,"WinJS.UI",{Command:i.Namespace._lazy(function(){return e.AppBarCommand})})}),i("WinJS/Controls/Menu/_Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Resources","../../Promise","../../Utilities/_Control","../../Utilities/_ElementUtilities","../_LegacyAppBar/_Constants","../Flyout/_Overlay"],function(e,t,n,i,o,r,s,a,l,u){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{MenuCommand:n.Namespace._lazy(function(){var e={get ariaLabel(){return o._getWinJSString("ui/menuCommandAriaLabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badClick(){return"Invalid argument: The onclick property for an {0} must be a function"},get badHrElement(){return"Invalid argument: For a separator, the element must be null or an hr element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"}},c=n.Class.define(function(t,n){if(t&&t.winControl)throw new i("WinJS.UI.MenuCommand.DuplicateConstruction",e.duplicateConstruction);if(this._disposed=!1,n||(n={}),n.type||(this._type=l.typeButton),this._element=t,n.type===l.typeSeparator?this._createSeparator():this._createButton(),a.addClass(this._element,"win-disposable"),this._element.winControl=this,a.addClass(this._element,l.menuCommandClass),n.selected||n.type!==l.typeToggle||(this.selected=!1),n.onclick&&(this.onclick=n.onclick),n.onclick=this._handleClick.bind(this),s.setOptions(this,n),this._type!==l.typeSeparator){var o=this._element.getAttribute("role");null!==o&&""!==o&&void 0!==o||(o="menuitem",this._type===l.typeToggle&&(o="checkbox"),this._element.setAttribute("role",o),this._type===l.typeFlyout&&this._element.setAttribute("aria-haspopup",!0));var r=this._element.getAttribute("aria-label");null!==r&&""!==r&&void 0!==r||this._element.setAttribute("aria-label",e.ariaLabel)}},{id:{get:function(){return this._element.id},set:function(e){this._element.id||(this._element.id=e)}},type:{get:function(){return this._type},set:function(e){this._type||(e!==l.typeButton&&e!==l.typeFlyout&&e!==l.typeToggle&&e!==l.typeSeparator&&(e=l.typeButton),this._type=e,e===l.typeButton?a.addClass(this.element,l.menuCommandButtonClass):e===l.typeFlyout?(a.addClass(this.element,l.menuCommandFlyoutClass),this.element.addEventListener("keydown",this._handleKeyDown.bind(this),!1)):e===l.typeSeparator?a.addClass(this.element,l.menuCommandSeparatorClass):e===l.typeToggle&&a.addClass(this.element,l.menuCommandToggleClass))}},label:{get:function(){return this._label},set:function(e){this._label=e||"",this._labelSpan&&(this._labelSpan.textContent=this.label),this._element.setAttribute("aria-label",this.label)}},onclick:{get:function(){return this._onclick},set:function(t){if(t&&"function"!=typeof t)throw new i("WinJS.UI.MenuCommand.BadClick",o._formatString(e.badClick,"MenuCommand"));this._onclick=t}},flyout:{get:function(){var e=this._flyout;return"string"==typeof e&&(e=t.document.getElementById(e)),e&&!e.element&&(e=e.winControl),e},set:function(e){var t=e;t&&"string"!=typeof t&&(t.element&&(t=t.element),t&&(t.id?t=t.id:(t.id=a._uniqueID(t),t=t.id))),"string"==typeof t&&this._element.setAttribute("aria-owns",t),this._flyout!==e&&c._deactivateFlyoutCommand(this),this._flyout=e}},selected:{get:function(){return"true"===this._element.getAttribute("aria-checked")},set:function(e){this._element.setAttribute("aria-checked",!!e)}},element:{get:function(){return this._element}},disabled:{get:function(){return!!this._element.disabled},set:function(e){e=!!e,e&&this.type===l.typeFlyout&&c._deactivateFlyoutCommand(this),this._element.disabled=e}},hidden:{get:function(){return"hidden"===this._element.style.visibility},set:function(e){var t=u._Overlay._getParentControlUsingClassName(this._element,l.menuClass);if(t&&!t.hidden)throw new i("WinJS.UI.MenuCommand.CannotChangeHiddenProperty",o._formatString(u._Overlay.commonstrings.cannotChangeHiddenProperty,"Menu"));var n=this._element.style;e?(this.type===l.typeFlyout&&c._deactivateFlyoutCommand(this),n.visibility="hidden",n.display="none"):(n.visibility="",n.display="block")}},extraClass:{get:function(){return this._extraClass},set:function(e){this._extraClass&&a.removeClass(this._element,this._extraClass),this._extraClass=e,a.addClass(this._element,this._extraClass)}},dispose:function(){this._disposed||(this._disposed=!0)},addEventListener:function(e,t,n){return this._element.addEventListener(e,t,n)},removeEventListener:function(e,t,n){return this._element.removeEventListener(e,t,n)},_createSeparator:function(){if(this._element){if("HR"!==this._element.tagName)throw new i("WinJS.UI.MenuCommand.BadHrElement",e.badHrElement)}else this._element=t.document.createElement("hr")},_createButton:function(){if(this._element){if("BUTTON"!==this._element.tagName)throw new i("WinJS.UI.MenuCommand.BadButtonElement",e.badButtonElement)}else this._element=t.document.createElement("button");this._element.innerHTML='<div class="win-menucommand-liner"><span class="win-toggleicon" aria-hidden="true"></span><span class="win-label" aria-hidden="true"></span><span class="win-flyouticon" aria-hidden="true"></span></div>',this._element.type="button",this._menuCommandLiner=this._element.firstElementChild,this._toggleSpan=this._menuCommandLiner.firstElementChild,this._labelSpan=this._toggleSpan.nextElementSibling,this._flyoutSpan=this._labelSpan.nextElementSibling},_sendEvent:function(e,n){if(!this._disposed){var i=t.document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,n||{}),this._element.dispatchEvent(i)}},_invoke:function(e){this.hidden||this.disabled||this._disposed||(this._type===l.typeToggle?this.selected=!this.selected:this._type===l.typeFlyout&&c._activateFlyoutCommand(this),e&&"click"===e.type&&this.onclick&&this.onclick(e),this._sendEvent(l._menuCommandInvokedEvent,{command:this}))},_handleClick:function(e){this._invoke(e)},_handleKeyDown:function(e){var t=a.Key,n="rtl"===a._getComputedStyle(this.element).direction,i=n?t.leftArrow:t.rightArrow;e.keyCode===i&&this.type===l.typeFlyout&&(this._invoke(e),e.preventDefault())}},{_activateFlyoutCommand:function(e){return new r(function(t,n){e=e.winControl||e;var i=e.flyout;i&&i.hidden&&i.show?(a.addClass(e.element,l.menuCommandFlyoutActivatedClass),i.element.setAttribute("aria-expanded","true"),i.addEventListener("beforehide",function t(){i.removeEventListener("beforehide",t,!1),a.removeClass(e.element,l.menuCommandFlyoutActivatedClass),i.element.removeAttribute("aria-expanded")},!1),i.addEventListener("aftershow",function e(){i.removeEventListener("aftershow",e,!1),t()},!1),i.show(e,"_cascade")):n()})},_deactivateFlyoutCommand:function(e){return new r(function(t){e=e.winControl||e,a.removeClass(e.element,l.menuCommandFlyoutActivatedClass);var n=e.flyout;n&&!n.hidden&&n.hide?(n.addEventListener("afterhide",function e(){n.removeEventListener("afterhide",e,!1),t()},!1),n.hide()):t()})}});return c})})});var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};return i("WinJS/Controls/CommandingSurface/_MenuCommand",["require","exports","../Menu/_Command"],function(e,t,n){var i=function(e){function t(t,n){n&&n.beforeInvoke&&(this._beforeInvoke=n.beforeInvoke),e.call(this,t,n)}return o(t,e),t.prototype._invoke=function(t){this._beforeInvoke&&this._beforeInvoke(t),e.prototype._invoke.call(this,t)},t}(n.MenuCommand);t._MenuCommand=i}),i("WinJS/Utilities/_OpenCloseMachine",["require","exports","../Core/_Global","../Promise","../_Signal"],function(e,t,n,i,o){"use strict";function r(e){return i._cancelBlocker(e,function(){e.cancel()})}function s(){}function a(e,t){e._interruptibleWorkPromises=e._interruptibleWorkPromises||[];var n=new o;e._interruptibleWorkPromises.push(t(n.promise)),n.complete()}function l(){(this._interruptibleWorkPromises||[]).forEach(function(e){e.cancel()})}var u={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",_openCloseStateSettled:"_openCloseStateSettled"},c=function(){function e(e){this._control=e,this._initializedSignal=new o,this._disposed=!1,this._setState(d.Init)}return e.prototype.exitInit=function(){this._initializedSignal.complete()},e.prototype.updateDom=function(){this._state.updateDom()},e.prototype.open=function(){this._state.open()},e.prototype.close=function(){this._state.close()},Object.defineProperty(e.prototype,"opened",{get:function(){return this._state.opened},set:function(e){e?this.open():this.close()},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._setState(d.Disposed),this._disposed=!0,this._control=null},e.prototype._setState=function(e,t){this._disposed||(this._state&&this._state.exit(),this._state=new e,this._state.machine=this,this._state.enter(t))},e.prototype._fireEvent=function(e,t){t=t||{};var i=t.detail||null,o=!!t.cancelable,r=n.document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,o,i),this._control.eventElement.dispatchEvent(r)},e.prototype._fireBeforeOpen=function(){return this._fireEvent(u.beforeOpen,{cancelable:!0})},e.prototype._fireBeforeClose=function(){return this._fireEvent(u.beforeClose,{cancelable:!0})},e}();t.OpenCloseMachine=c;var d;!function(e){function t(){this.machine._control.onUpdateDom()}var n=function(){function e(){this.name="Init",this.exit=l,this.updateDom=s}return e.prototype.enter=function(){var e=this;a(this,function(t){return t.then(function(){return e.machine._initializedSignal.promise}).then(function(){e.machine._control.onUpdateDomWithIsOpened(e._opened),e.machine._setState(e._opened?d:i)})})},Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._opened=!0},e.prototype.close=function(){this._opened=!1},e}();e.Init=n;var i=function(){function e(){this.name="Closed",this.exit=s,this.opened=!1,this.close=s,this.updateDom=t}return e.prototype.enter=function(e){e=e||{},e.openIsPending&&this.open(),this.machine._fireEvent(u._openCloseStateSettled)},e.prototype.open=function(){this.machine._setState(o)},e}(),o=function(){function e(){this.name="BeforeOpen",this.exit=l,this.opened=!1,this.open=s,this.close=s,this.updateDom=t}return e.prototype.enter=function(){var e=this;a(this,function(t){return t.then(function(){return e.machine._fireBeforeOpen()}).then(function(t){t?e.machine._setState(c):e.machine._setState(i)})})},e}(),c=function(){function e(){this.name="Opening",this.exit=l,this.updateDom=s}return e.prototype.enter=function(){var e=this;a(this,function(t){return t.then(function(){return e._closeIsPending=!1,r(e.machine._control.onOpen())}).then(function(){e.machine._fireEvent(u.afterOpen)}).then(function(){e.machine._control.onUpdateDom(),e.machine._setState(d,{closeIsPending:e._closeIsPending})})})},Object.defineProperty(e.prototype,"opened",{get:function(){return!this._closeIsPending},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._closeIsPending=!1;
},e.prototype.close=function(){this._closeIsPending=!0},e}(),d=function(){function e(){this.name="Opened",this.exit=s,this.opened=!0,this.open=s,this.updateDom=t}return e.prototype.enter=function(e){e=e||{},e.closeIsPending&&this.close(),this.machine._fireEvent(u._openCloseStateSettled)},e.prototype.close=function(){this.machine._setState(h)},e}(),h=function(){function e(){this.name="BeforeClose",this.exit=l,this.opened=!0,this.open=s,this.close=s,this.updateDom=t}return e.prototype.enter=function(){var e=this;a(this,function(t){return t.then(function(){return e.machine._fireBeforeClose()}).then(function(t){t?e.machine._setState(m):e.machine._setState(d)})})},e}(),m=function(){function e(){this.name="Closing",this.exit=l,this.updateDom=s}return e.prototype.enter=function(){var e=this;a(this,function(t){return t.then(function(){return e._openIsPending=!1,r(e.machine._control.onClose())}).then(function(){e.machine._fireEvent(u.afterClose)}).then(function(){e.machine._control.onUpdateDom(),e.machine._setState(i,{openIsPending:e._openIsPending})})})},Object.defineProperty(e.prototype,"opened",{get:function(){return this._openIsPending},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._openIsPending=!0},e.prototype.close=function(){this._openIsPending=!1},e}(),p=function(){function e(){this.name="Disposed",this.enter=s,this.exit=s,this.opened=!1,this.open=s,this.close=s,this.updateDom=s}return e}();e.Disposed=p}(d||(d={}))}),i("require-style!less/styles-commandingsurface",[],function(){}),i("require-style!less/colors-commandingsurface",[],function(){}),i("WinJS/Controls/CommandingSurface/_CommandingSurface",["require","exports","../../Animations","../../Core/_Base","../../Core/_BaseUtils","../../BindingList","../../ControlProcessor","../CommandingSurface/_Constants","../AppBar/_Command","../CommandingSurface/_MenuCommand","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Controls/Flyout","../../Core/_Global","../../Utilities/_Hoverable","../../Utilities/_KeyboardBehavior","../../Core/_Log","../../Promise","../../Core/_Resources","../../Scheduler","../../Utilities/_OpenCloseMachine","../../_Signal","../../Core/_WriteProfilerMark"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C,E,S,I){function x(e,t){t&&h.addClass(e,t)}function j(e,t){t&&h.removeClass(e,t)}function k(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function P(e,t){return e.filter(function(e){return t.indexOf(e)!==-1})}e(["require-style!less/styles-commandingsurface"]),e(["require-style!less/colors-commandingsurface"]);var T={get overflowButtonAriaLabel(){return w._getWinJSString("ui/commandingSurfaceOverflowButtonAriaLabel").value},get badData(){return"Invalid argument: The data property must an instance of a WinJS.Binding.List"},get mustContainCommands(){return"The commandingSurface can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},O={bottom:"bottom",top:"top"},A={};A[O.top]=a.ClassNames.overflowTopClass,A[O.bottom]=a.ClassNames.overflowBottomClass;var M={none:"none",minimal:"minimal",compact:"compact",full:"full"},D={};D[M.none]=a.ClassNames.noneClass,D[M.minimal]=a.ClassNames.minimalClass,D[M.compact]=a.ClassNames.compactClass,D[M.full]=a.ClassNames.fullClass;var L=function(){function e(e,t){var n=this;if(void 0===t&&(t={}),this._hoverable=g.isHoverable,this._dataChangedEvents=["itemchanged","iteminserted","itemmoved","itemremoved","reload"],this._updateDomImpl=function(){var e={closedDisplayMode:void 0,isOpenedMode:void 0,overflowDirection:void 0,overflowAlignmentOffset:void 0},t=function(){var t=e,i=n._dom;if(t.isOpenedMode!==n._isOpenedMode&&(n._isOpenedMode?(j(i.root,a.ClassNames.closedClass),x(i.root,a.ClassNames.openedClass),i.overflowButton.setAttribute("aria-expanded","true"),i.firstTabStop.tabIndex=0,i.finalTabStop.tabIndex=0,i.firstTabStop.setAttribute("x-ms-aria-flowfrom",i.finalTabStop.id),i.finalTabStop.setAttribute("aria-flowto",i.firstTabStop.id)):(j(i.root,a.ClassNames.openedClass),x(i.root,a.ClassNames.closedClass),i.overflowButton.setAttribute("aria-expanded","false"),i.firstTabStop.tabIndex=-1,i.finalTabStop.tabIndex=-1,i.firstTabStop.removeAttribute("x-ms-aria-flowfrom"),i.finalTabStop.removeAttribute("aria-flowto")),t.isOpenedMode=n._isOpenedMode),t.closedDisplayMode!==n.closedDisplayMode&&(j(i.root,D[t.closedDisplayMode]),x(i.root,D[n.closedDisplayMode]),t.closedDisplayMode=n.closedDisplayMode),t.overflowDirection!==n.overflowDirection&&(j(i.root,A[t.overflowDirection]),x(i.root,A[n.overflowDirection]),t.overflowDirection=n.overflowDirection),n._overflowAlignmentOffset!==t.overflowAlignmentOffset){var o=n._rtl?"left":"right",r=n._overflowAlignmentOffset+"px";i.overflowAreaContainer.style[o]=r}},i={newDataStage:3,measuringStage:2,layoutStage:1,idle:0},o=i.idle,r=function(){n._writeProfilerMark("_updateDomImpl_updateCommands,info");for(var e=o;e!==i.idle;){var t=e,r=!1;switch(e){case i.newDataStage:e=i.measuringStage,r=n._processNewData();break;case i.measuringStage:e=i.layoutStage,r=n._measure();break;case i.layoutStage:e=i.idle,r=n._layoutCommands()}if(!r){e=t;break}}o=e,e===i.idle?n._layoutCompleteCallback&&n._layoutCompleteCallback():n._minimalLayout()};return{get renderedState(){return{get closedDisplayMode(){return e.closedDisplayMode},get isOpenedMode(){return e.isOpenedMode},get overflowDirection(){return e.overflowDirection},get overflowAlignmentOffset(){return e.overflowAlignmentOffset}}},update:function(){t(),r()},dataDirty:function(){o=Math.max(i.newDataStage,o)},measurementsDirty:function(){o=Math.max(i.measuringStage,o)},layoutDirty:function(){o=Math.max(i.layoutStage,o)},get _currentLayoutStage(){return o}}}(),this._writeProfilerMark("constructor,StartTM"),e){if(e.winControl)throw new m("WinJS.UI._CommandingSurface.DuplicateConstruction",T.duplicateConstruction);t.data||(t=o._shallowCopy(t),t.data=t.data||this._getDataFromDOMElements(e))}this._initializeDom(e||_.document.createElement("div")),this._machine=t.openCloseMachine||new E.OpenCloseMachine({eventElement:this._dom.root,onOpen:function(){return n.synchronousOpen(),b.wrap()},onClose:function(){return n.synchronousClose(),b.wrap()},onUpdateDom:function(){n._updateDomImpl.update()},onUpdateDomWithIsOpened:function(e){e?n.synchronousOpen():n.synchronousClose()}}),this._disposed=!1,this._primaryCommands=[],this._secondaryCommands=[],this._refreshBound=this._refresh.bind(this),this._resizeHandlerBound=this._resizeHandler.bind(this),this._winKeyboard=new v._WinKeyboard(this._dom.root),this._refreshPending=!1,this._rtl=!1,this._initializedSignal=new S,this._isOpenedMode=a.defaultOpened,this._menuCommandProjections=[],this.overflowDirection=a.defaultOverflowDirection,this.closedDisplayMode=a.defaultClosedDisplayMode,this.opened=this._isOpenedMode,c.setOptions(this,t),h._resizeNotifier.subscribe(this._dom.root,this._resizeHandlerBound),this._dom.root.addEventListener("keydown",this._keyDownHandler.bind(this)),h._addEventListener(this._dom.firstTabStop,"focusin",function(){n._focusLastFocusableElementOrThis(!1)}),h._addEventListener(this._dom.finalTabStop,"focusin",function(){n._focusFirstFocusableElementOrThis(!1)}),h._inDom(this._dom.root).then(function(){n._rtl="rtl"===h._getComputedStyle(n._dom.root).direction,t.openCloseMachine||n._machine.exitInit(),n._initializedSignal.complete(),n._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){if(this._writeProfilerMark("set_data,info"),e!==this.data){if(!(e instanceof r.List))throw new m("WinJS.UI._CommandingSurface.BadData",T.badData);this._data&&this._removeDataListeners(),this._data=e,this._addDataListeners(),this._dataUpdated()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closedDisplayMode",{get:function(){return this._closedDisplayMode},set:function(e){this._writeProfilerMark("set_closedDisplayMode,info");var t=e!==this._closedDisplayMode;M[e]&&t&&(this._updateDomImpl.layoutDirty(),this._closedDisplayMode=e,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowDirection",{get:function(){return this._overflowDirection},set:function(e){var t=e!==this._overflowDirection;O[e]&&t&&(this._overflowDirection=e,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._machine.opened},set:function(e){this._machine.opened=e},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._machine.open()},e.prototype.close=function(){this._machine.close()},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._machine.dispose(),h._resizeNotifier.unsubscribe(this._dom.root,this._resizeHandlerBound),this._contentFlyout&&(this._contentFlyout.dispose(),this._contentFlyout.element.parentNode.removeChild(this._contentFlyout.element)),d.disposeSubTree(this._dom.root))},e.prototype.forceLayout=function(){this._updateDomImpl.measurementsDirty(),this._machine.updateDom()},e.prototype.getBoundingRects=function(){return{commandingSurface:this._dom.root.getBoundingClientRect(),overflowArea:this._dom.overflowArea.getBoundingClientRect()}},e.prototype.getCommandById=function(e){if(this._data)for(var t=0,n=this._data.length;t<n;t++){var i=this._data.getAt(t);if(i.id===e)return i}return null},e.prototype.showOnlyCommands=function(e){if(this._data){for(var t=0,n=this._data.length;t<n;t++)this._data.getAt(t).hidden=!0;for(var t=0,n=e.length;t<n;t++){var i="string"==typeof e[t]?this.getCommandById(e[t]):e[t];i&&(i.hidden=!1)}}},e.prototype.takeFocus=function(e){this._focusFirstFocusableElementOrThis(e)},e.prototype._focusFirstFocusableElementOrThis=function(e){h._focusFirstFocusableElement(this._dom.content,e)||h._tryFocusOnAnyElement(this.element,e)},e.prototype._focusLastFocusableElementOrThis=function(e){h._focusLastFocusableElement(this._dom.content,e)||h._tryFocusOnAnyElement(this.element,e)},e.prototype.deferredDomUpate=function(){this._machine.updateDom()},e.prototype.createOpenAnimation=function(e){y.log&&this._updateDomImpl.renderedState.isOpenedMode&&y.log("The CommandingSurface should only attempt to create an open animation when it's not already opened");var t=this;return{execute:function(){h.addClass(t.element,a.ClassNames.openingClass);var i=t.getBoundingRects();return t._dom.overflowAreaContainer.style.width=i.overflowArea.width+"px",t._dom.overflowAreaContainer.style.height=i.overflowArea.height+"px",n._commandingSurfaceOpenAnimation({actionAreaClipper:t._dom.actionAreaContainer,actionArea:t._dom.actionArea,overflowAreaClipper:t._dom.overflowAreaContainer,overflowArea:t._dom.overflowArea,oldHeight:e,newHeight:i.commandingSurface.height,overflowAreaHeight:i.overflowArea.height,menuPositionedAbove:t.overflowDirection===O.top}).then(function(){h.removeClass(t.element,a.ClassNames.openingClass),t._clearAnimation()})}}},e.prototype.createCloseAnimation=function(e){y.log&&!this._updateDomImpl.renderedState.isOpenedMode&&y.log("The CommandingSurface should only attempt to create an closed animation when it's not already closed");var t=this.getBoundingRects().commandingSurface.height,i=this._dom.overflowArea.offsetHeight,o=(this._dom.overflowArea.offsetTop,this);return{execute:function(){return h.addClass(o.element,a.ClassNames.closingClass),n._commandingSurfaceCloseAnimation({actionAreaClipper:o._dom.actionAreaContainer,actionArea:o._dom.actionArea,overflowAreaClipper:o._dom.overflowAreaContainer,overflowArea:o._dom.overflowArea,oldHeight:t,newHeight:e,overflowAreaHeight:i,menuPositionedAbove:o.overflowDirection===O.top}).then(function(){h.removeClass(o.element,a.ClassNames.closingClass),o._clearAnimation()})}}},Object.defineProperty(e.prototype,"initialized",{get:function(){return this._initializedSignal.promise},enumerable:!0,configurable:!0}),e.prototype._writeProfilerMark=function(e){I("WinJS.UI._CommandingSurface:"+this._id+":"+e)},e.prototype._initializeDom=function(e){var t=this;this._writeProfilerMark("_intializeDom,info"),e.winControl=this,this._id=e.id||h._uniqueID(e),e.hasAttribute("tabIndex")||(e.tabIndex=-1),h.addClass(e,a.ClassNames.controlCssClass),h.addClass(e,a.ClassNames.disposableCssClass);var n=_.document.createElement("div");h.addClass(n,a.ClassNames.contentClass),e.appendChild(n);var i=_.document.createElement("div");h.addClass(i,a.ClassNames.actionAreaCssClass);var o=document.createElement("div");h.addClass(o,a.ClassNames.insetOutlineClass);var r=_.document.createElement("div");h.addClass(r,a.ClassNames.actionAreaContainerCssClass),r.appendChild(i),r.appendChild(o),n.appendChild(r);var s=_.document.createElement("div");h.addClass(s,a.ClassNames.spacerCssClass),s.tabIndex=-1,i.appendChild(s);var l=_.document.createElement("button");l.tabIndex=0,l.innerHTML="<span class='"+a.ClassNames.ellipsisCssClass+"'></span>",l.setAttribute("aria-label",T.overflowButtonAriaLabel),h.addClass(l,a.ClassNames.overflowButtonCssClass),i.appendChild(l),l.addEventListener("click",function(){t.opened=!t.opened});var u=_.document.createElement("div");h.addClass(u,a.ClassNames.overflowAreaCssClass),h.addClass(u,a.ClassNames.menuCssClass);var c=_.document.createElement("DIV");h.addClass(c,a.ClassNames.insetOutlineClass);var d=_.document.createElement("div");h.addClass(d,a.ClassNames.overflowAreaContainerCssClass),d.appendChild(u),d.appendChild(c),n.appendChild(d);var m=_.document.createElement("div");h.addClass(m,a.ClassNames.spacerCssClass),m.tabIndex=-1,u.appendChild(m);var p=_.document.createElement("div");h.addClass(p,a.ClassNames.tabStopClass),h._ensureId(p),e.insertBefore(p,e.children[0]);var f=_.document.createElement("div");h.addClass(f,a.ClassNames.tabStopClass),h._ensureId(f),e.appendChild(f),this._dom={root:e,content:n,actionArea:i,actionAreaContainer:r,actionAreaSpacer:s,overflowButton:l,overflowArea:u,overflowAreaContainer:d,overflowAreaSpacer:m,firstTabStop:p,finalTabStop:f}},e.prototype._getFocusableElementsInfo=function(){var e=this,t={elements:[],focusedIndex:-1},n=Array.prototype.slice.call(this._dom.actionArea.children);return this._updateDomImpl.renderedState.isOpenedMode&&(n=n.concat(Array.prototype.slice.call(this._dom.overflowArea.children))),n.forEach(function(n){e._isElementFocusable(n)&&(t.elements.push(n),n.contains(_.document.activeElement)&&(t.focusedIndex=t.elements.length-1))}),t},e.prototype._dataUpdated=function(){var e=this;this._primaryCommands=[],this._secondaryCommands=[],this.data.length>0&&this.data.forEach(function(t){"secondary"===t.section?e._secondaryCommands.push(t):e._primaryCommands.push(t)}),this._updateDomImpl.dataDirty(),this._machine.updateDom()},e.prototype._refresh=function(){var e=this;this._refreshPending||(this._refreshPending=!0,this._batchDataUpdates(function(){e._refreshPending&&!e._disposed&&(e._refreshPending=!1,e._dataUpdated())}))},e.prototype._batchDataUpdates=function(e){C.schedule(function(){e()},C.Priority.high,null,"WinJS.UI._CommandingSurface._refresh")},e.prototype._addDataListeners=function(){var e=this;this._dataChangedEvents.forEach(function(t){e._data.addEventListener(t,e._refreshBound,!1)})},e.prototype._removeDataListeners=function(){var e=this;this._dataChangedEvents.forEach(function(t){e._data.removeEventListener(t,e._refreshBound,!1)})},e.prototype._isElementFocusable=function(e){var t=!1;if(e){var n=e.winControl;t=n?!this._hasAnyHiddenClasses(n)&&n.type!==a.typeSeparator&&!n.hidden&&!n.disabled&&(!n.firstElementFocus||n.firstElementFocus.tabIndex>=0||n.lastElementFocus.tabIndex>=0):"none"!==e.style.display&&"hidden"!==h._getComputedStyle(e).visibility&&e.tabIndex>=0}return t},e.prototype._clearHiddenPolicyClasses=function(e){h.removeClass(e.element,a.ClassNames.commandPrimaryOverflownPolicyClass),h.removeClass(e.element,a.ClassNames.commandSecondaryOverflownPolicyClass),h.removeClass(e.element,a.ClassNames.commandSeparatorHiddenPolicyClass)},e.prototype._hasHiddenPolicyClasses=function(e){return h.hasClass(e.element,a.ClassNames.commandPrimaryOverflownPolicyClass)||h.hasClass(e.element,a.ClassNames.commandSecondaryOverflownPolicyClass)||h.hasClass(e.element,a.ClassNames.commandSeparatorHiddenPolicyClass)},e.prototype._hasAnyHiddenClasses=function(e){return h.hasClass(e.element,a.ClassNames.commandHiddenClass)||this._hasHiddenPolicyClasses(e)},e.prototype._isCommandInActionArea=function(e){return e&&e.winControl&&e.parentElement===this._dom.actionArea},e.prototype._getLastElementFocus=function(e){return this._isCommandInActionArea(e)?e.winControl.lastElementFocus:e},e.prototype._getFirstElementFocus=function(e){return this._isCommandInActionArea(e)?e.winControl.firstElementFocus:e},e.prototype._keyDownHandler=function(e){if(!e.altKey){if(h._matchesSelector(e.target,".win-interactive, .win-interactive *"))return;var t,n=h.Key,i=this._getFocusableElementsInfo();if(i.elements.length)switch(e.keyCode){case this._rtl?n.rightArrow:n.leftArrow:case n.upArrow:var o=Math.max(0,i.focusedIndex-1);t=this._getLastElementFocus(i.elements[o%i.elements.length]);break;case this._rtl?n.leftArrow:n.rightArrow:case n.downArrow:var o=Math.min(i.focusedIndex+1,i.elements.length-1);t=this._getFirstElementFocus(i.elements[o]);break;case n.home:var o=0;t=this._getFirstElementFocus(i.elements[o]);break;case n.end:var o=i.elements.length-1;t=this._getLastElementFocus(i.elements[o])}t&&t!==_.document.activeElement&&(t.focus(),e.preventDefault())}},e.prototype._getDataFromDOMElements=function(e){this._writeProfilerMark("_getDataFromDOMElements,info"),s.processAll(e,!0);for(var t,n=[],i=e.children.length,o=0;o<i;o++){if(t=e.children[o],!(t.winControl&&t.winControl instanceof l.AppBarCommand))throw new m("WinJS.UI._CommandingSurface.MustContainCommands",T.mustContainCommands);n.push(t.winControl)}return new r.List(n)},e.prototype._canMeasure=function(){return(this._updateDomImpl.renderedState.isOpenedMode||this._updateDomImpl.renderedState.closedDisplayMode===M.compact||this._updateDomImpl.renderedState.closedDisplayMode===M.full)&&_.document.body.contains(this._dom.root)&&this._dom.actionArea.offsetWidth>0},e.prototype._resizeHandler=function(){if(this._canMeasure()){var e=h._getPreciseContentWidth(this._dom.actionArea);this._cachedMeasurements&&this._cachedMeasurements.actionAreaContentBoxWidth!==e&&(this._cachedMeasurements.actionAreaContentBoxWidth=e,this._updateDomImpl.layoutDirty(),this._machine.updateDom())}else this._updateDomImpl.measurementsDirty()},e.prototype.synchronousOpen=function(){this._overflowAlignmentOffset=0,this._isOpenedMode=!0,this._updateDomImpl.update(),this._overflowAlignmentOffset=this._computeAdjustedOverflowAreaOffset(),this._updateDomImpl.update()},e.prototype._computeAdjustedOverflowAreaOffset=function(){y.log&&(!this._updateDomImpl.renderedState.isOpenedMode&&y.log("The CommandingSurface should only attempt to compute adjusted overflowArea offset  when it has been rendered opened"),0!==this._updateDomImpl.renderedState.overflowAlignmentOffset&&y.log("The CommandingSurface should only attempt to compute adjusted overflowArea offset  when it has been rendered with an overflowAlignementOffset of 0"));var e=(this._dom.overflowArea,this.getBoundingRects()),t=0;if(this._rtl){var n=window.innerWidth,i=e.overflowArea.right;t=Math.min(n-i,0)}else{var o=e.overflowArea.left;t=Math.min(0,o)}return t},e.prototype.synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl.update()},e.prototype.updateDom=function(){this._updateDomImpl.update()},e.prototype._getDataChangeInfo=function(){var e=this,t=[],n=[],i=[],o=[],r=[],s=[],l=[],u=[],c=[],d=[];return Array.prototype.forEach.call(this._dom.actionArea.querySelectorAll(a.commandSelector),function(t){e._hasAnyHiddenClasses(t.winControl)||o.push(t),r.push(t)}),this.data.forEach(function(t){var n=t.hidden,i=n&&!h.hasClass(t.element,a.ClassNames.commandHiddenClass),o=!n&&h.hasClass(t.element,a.ClassNames.commandHiddenClass),r=h.hasClass(t.element,a.ClassNames.commandPrimaryOverflownPolicyClass);e._hasAnyHiddenClasses(t.element.winControl)||s.push(t.element),r?u.push(t.element):i?c.push(t.element):o&&d.push(t.element),l.push(t.element)}),n=k(r,l),i=P(o,s),t=k(l,r),{nextElements:l,prevElements:r,added:t,deleted:n,unchanged:i,hiding:c,showing:d,overflown:u}},e.prototype._processNewData=function(){var e=this;this._writeProfilerMark("_processNewData,info");var t=this._getDataChangeInfo(),i=n._createUpdateListAnimation(t.added.concat(t.showing).concat(t.overflown),t.deleted.concat(t.hiding),t.unchanged);return t.deleted.forEach(function(t){var n=t.winControl;n&&n._propertyMutations&&n._propertyMutations.unbind(e._refreshBound)}),t.added.forEach(function(t){var n=t.winControl;n&&n._propertyMutations&&n._propertyMutations.bind(e._refreshBound)}),t.prevElements.forEach(function(e){e.parentElement&&e.parentElement.removeChild(e)}),t.nextElements.forEach(function(t){e._dom.actionArea.appendChild(t)}),t.hiding.forEach(function(e){h.addClass(e,a.ClassNames.commandHiddenClass)}),t.showing.forEach(function(e){h.removeClass(e,a.ClassNames.commandHiddenClass)}),this._dom.actionArea.appendChild(this._dom.overflowButton),i.execute(),!0},e.prototype._measure=function(){var e=this;if(this._writeProfilerMark("_measure,info"),this._canMeasure()){var t=this._dom.overflowButton.style.display;this._dom.overflowButton.style.display="";var n=h._getPreciseTotalWidth(this._dom.overflowButton);this._dom.overflowButton.style.display=t;var i=h._getPreciseContentWidth(this._dom.actionArea),o=0,r=0,s={};return this._primaryCommands.forEach(function(t){var n=t.element.style.display;t.element.style.display="inline-block",t.type===a.typeContent?s[e._commandUniqueId(t)]=h._getPreciseTotalWidth(t.element):t.type===a.typeSeparator?o||(o=h._getPreciseTotalWidth(t.element)):r||(r=h._getPreciseTotalWidth(t.element)),t.element.style.display=n}),this._cachedMeasurements={contentCommandWidths:s,separatorWidth:o,standardCommandWidth:r,overflowButtonWidth:n,actionAreaContentBoxWidth:i},!0}return!1},e.prototype._layoutCommands=function(){var e=this;this._writeProfilerMark("_layoutCommands,StartTM");var t=[],n=[],i=[],o=[];this.data.forEach(function(i){e._clearHiddenPolicyClasses(i),i.hidden||(i.section===a.secondaryCommandSection?t.push(i):n.push(i))});var r=t.length>0,s=this._getVisiblePrimaryCommandsLocation(n,r);i=s.commandsForActionArea,o=s.commandsForOverflowArea,o.forEach(function(e){return h.addClass(e.element,a.ClassNames.commandPrimaryOverflownPolicyClass)}),t.forEach(function(e){return h.addClass(e.element,a.ClassNames.commandSecondaryOverflownPolicyClass)}),this._hideSeparatorsIfNeeded(i),h.empty(this._dom.overflowArea),this._menuCommandProjections.map(function(e){e.dispose()});var l=function(e){return e.type===a.typeContent},c=o.some(l)||t.some(l);c&&!this._contentFlyout&&(this._contentFlyoutInterior=_.document.createElement("div"),h.addClass(this._contentFlyoutInterior,a.ClassNames.contentFlyoutCssClass),this._contentFlyout=new f.Flyout,this._contentFlyout.element.appendChild(this._contentFlyoutInterior),_.document.body.appendChild(this._contentFlyout.element),this._contentFlyout.onbeforeshow=function(){h.empty(e._contentFlyoutInterior),h._reparentChildren(e._chosenCommand.element,e._contentFlyoutInterior)},this._contentFlyout.onafterhide=function(){h._reparentChildren(e._contentFlyoutInterior,e._chosenCommand.element)});var d=!1,m=[];if(o.forEach(function(t){t.type===a.typeToggle&&(d=!0),m.push(e._projectAsMenuCommand(t))}),o.length>0&&t.length>0){var p=new u._MenuCommand(null,{type:a.typeSeparator});m.push(p)}t.forEach(function(t){t.type===a.typeToggle&&(d=!0),m.push(e._projectAsMenuCommand(t))}),this._hideSeparatorsIfNeeded(m),m.forEach(function(t){e._dom.overflowArea.appendChild(t.element)}),this._menuCommandProjections=m,h[d?"addClass":"removeClass"](this._dom.overflowArea,a.ClassNames.menuContainsToggleCommandClass),m.length>0&&this._dom.overflowArea.appendChild(this._dom.overflowAreaSpacer);var g=this._needsOverflowButton(i.length>0,m.length>0);return this._dom.overflowButton.style.display=g?"":"none",this._writeProfilerMark("_layoutCommands,StopTM"),!0},e.prototype._getVisiblePrimaryCommandsInfo=function(e){for(var t=0,n=[],i=0,o=0,r=e.length-1;r>=0;r--){var s=e[r];i=void 0===s.priority?o--:s.priority,t=this._getCommandWidth(s),n.unshift({command:s,width:t,priority:i})}return n},e.prototype._getVisiblePrimaryCommandsLocation=function(e,t){for(var n=[],i=[],o=this._getVisiblePrimaryCommandsInfo(e),r=o.slice(0).sort(function(e,t){return e.priority-t.priority}),s=Number.MAX_VALUE,a=this._cachedMeasurements.actionAreaContentBoxWidth,l=this._needsOverflowButton(e.length>0,t),u=0,c=r.length;u<c;u++){a-=r[u].width;var d=l||u!==c-1?this._cachedMeasurements.overflowButtonWidth:0;if(a<d){s=r[u].priority-1;break}}return o.forEach(function(e){e.priority<=s?n.push(e.command):i.push(e.command)}),{commandsForActionArea:n,commandsForOverflowArea:i}},e.prototype._needsOverflowButton=function(e,t){return!!t||!(!this._hasExpandableActionArea()||!e)},e.prototype._minimalLayout=function(){if(this.closedDisplayMode===M.minimal){var e=function(e){return!e.hidden},t=this.data.some(e);this._dom.overflowButton.style.display=t?"":"none"}},e.prototype._commandUniqueId=function(e){return h._uniqueID(e.element)},e.prototype._getCommandWidth=function(e){return e.type===a.typeContent?this._cachedMeasurements.contentCommandWidths[this._commandUniqueId(e)]:e.type===a.typeSeparator?this._cachedMeasurements.separatorWidth:this._cachedMeasurements.standardCommandWidth},e.prototype._projectAsMenuCommand=function(e){var t=this,n=new u._MenuCommand(null,{label:e.label,type:(e.type===a.typeContent?a.typeFlyout:e.type)||a.typeButton,disabled:e.disabled,flyout:e.flyout,beforeInvoke:function(){t._chosenCommand=n._originalICommand,t._chosenCommand.type===a.typeToggle&&(t._chosenCommand.selected=!t._chosenCommand.selected)}});return e.selected&&(n.selected=!0),e.extraClass&&(n.extraClass=e.extraClass),e.type===a.typeContent?(n.label||(n.label=a.contentMenuCommandDefaultLabel),n.flyout=this._contentFlyout):n.onclick=e.onclick,n._originalICommand=e,n},e.prototype._hideSeparatorsIfNeeded=function(e){var t,n=a.typeSeparator,i=e.length;e.forEach(function(e){e.type===a.typeSeparator&&n===a.typeSeparator&&h.addClass(e.element,a.ClassNames.commandSeparatorHiddenPolicyClass),n=e.type});for(var o=i-1;o>=0&&(t=e[o],t.type===a.typeSeparator);o--)h.addClass(t.element,a.ClassNames.commandSeparatorHiddenPolicyClass)},e.prototype._hasExpandableActionArea=function(){switch(this.closedDisplayMode){case M.none:case M.minimal:case M.compact:return!0;case M.full:default:return!1}},e.prototype._clearAnimation=function(){var e=o._browserStyleEquivalents.transform.scriptName;this._dom.actionAreaContainer.style[e]="",this._dom.actionArea.style[e]="",this._dom.overflowAreaContainer.style[e]="",this._dom.overflowArea.style[e]=""},e.ClosedDisplayMode=M,e.OverflowDirection=O,e.supportedForProcessing=!0,e}();t._CommandingSurface=L,i.Class.mix(L,p.createEventProperties(a.EventNames.beforeOpen,a.EventNames.afterOpen,a.EventNames.beforeClose,a.EventNames.afterClose)),i.Class.mix(L,c.DOMEventMixin)}),i("WinJS/Controls/CommandingSurface",["require","exports"],function(e,t){function n(){return i||e(["./CommandingSurface/_CommandingSurface"],function(e){i=e}),i._CommandingSurface}var i=null,o=Object.create({},{_CommandingSurface:{get:function(){return n()}}});return o}),i("require-style!less/styles-toolbar",[],function(){}),i("WinJS/Controls/ToolBar/_ToolBar",["require","exports","../../Core/_Base","../ToolBar/_Constants","../CommandingSurface","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../_LightDismissService","../../Core/_Resources","../../Utilities/_OpenCloseMachine","../../Core/_WriteProfilerMark"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p){function f(e,t){t&&a.addClass(e,t)}function _(e,t){t&&a.removeClass(e,t)}e(["require-style!less/styles-toolbar"]);var g={get ariaLabel(){return h._getWinJSString("ui/toolbarAriaLabel").value},get overflowButtonAriaLabel(){return h._getWinJSString("ui/toolbarOverflowButtonAriaLabel").value},get mustContainCommands(){return"The toolbar can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},v={compact:"compact",full:"full"},y={};y[v.compact]=i.ClassNames.compactClass,y[v.full]=i.ClassNames.fullClass;var b=function(){function e(e,t){var n=this;if(void 0===t&&(t={}),this._updateDomImpl_renderedState={isOpenedMode:void 0,closedDisplayMode:void 0,prevInlineWidth:void 0},this._writeProfilerMark("constructor,StartTM"),e&&e.winControl)throw new l("WinJS.UI.ToolBar.DuplicateConstruction",g.duplicateConstruction);this._initializeDom(e||c.document.createElement("div"));var s=new m.OpenCloseMachine({eventElement:this.element,onOpen:function(){var e=n._commandingSurface.createOpenAnimation(n._getClosedHeight());return n._synchronousOpen(),e.execute()},onClose:function(){var e=n._commandingSurface.createCloseAnimation(n._getClosedHeight());return e.execute().then(function(){n._synchronousClose()})},onUpdateDom:function(){n._updateDomImpl()},onUpdateDomWithIsOpened:function(e){n._isOpenedMode=e,n._updateDomImpl()}});this._handleShowingKeyboardBound=this._handleShowingKeyboard.bind(this),a._inputPaneListener.addEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),this._disposed=!1,this._cachedClosedHeight=null,this._commandingSurface=new o._CommandingSurface(this._dom.commandingSurfaceEl,{openCloseMachine:s}),f(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-actionarea"),i.ClassNames.actionAreaCssClass),f(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowarea"),i.ClassNames.overflowAreaCssClass),f(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowbutton"),i.ClassNames.overflowButtonCssClass),f(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-ellipsis"),i.ClassNames.ellipsisCssClass),this._isOpenedMode=i.defaultOpened,this._dismissable=new d.LightDismissableElement({element:this._dom.root,tabIndex:this._dom.root.hasAttribute("tabIndex")?this._dom.root.tabIndex:-1,onLightDismiss:function(){n.close()},onTakeFocus:function(e){n._dismissable.restoreFocus()||n._commandingSurface.takeFocus(e)}}),this.closedDisplayMode=i.defaultClosedDisplayMode,this.opened=this._isOpenedMode,r.setOptions(this,t),a._inDom(this.element).then(function(){return n._commandingSurface.initialized}).then(function(){s.exitInit(),n._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._commandingSurface.data},set:function(e){this._commandingSurface.data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closedDisplayMode",{get:function(){return this._commandingSurface.closedDisplayMode},set:function(e){v[e]&&(this._commandingSurface.closedDisplayMode=e,this._cachedClosedHeight=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._commandingSurface.opened},set:function(e){this._commandingSurface.opened=e},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._commandingSurface.open()},e.prototype.close=function(){this._commandingSurface.close()},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,d.hidden(this._dismissable),this._commandingSurface.dispose(),
this._synchronousClose(),a._inputPaneListener.removeEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),s.disposeSubTree(this.element))},e.prototype.forceLayout=function(){this._commandingSurface.forceLayout()},e.prototype.getCommandById=function(e){return this._commandingSurface.getCommandById(e)},e.prototype.showOnlyCommands=function(e){return this._commandingSurface.showOnlyCommands(e)},e.prototype._writeProfilerMark=function(e){p("WinJS.UI.ToolBar:"+this._id+":"+e)},e.prototype._initializeDom=function(e){this._writeProfilerMark("_intializeDom,info"),e.winControl=this,this._id=e.id||a._uniqueID(e),a.addClass(e,i.ClassNames.controlCssClass),a.addClass(e,i.ClassNames.disposableCssClass);var t=e.getAttribute("role");t||e.setAttribute("role","menubar");var n=e.getAttribute("aria-label");n||e.setAttribute("aria-label",g.ariaLabel);var o=document.createElement("DIV");a._reparentChildren(e,o),e.appendChild(o);var r=c.document.createElement("DIV");a.addClass(r,i.ClassNames.placeHolderCssClass),s.markDisposable(r,this.dispose.bind(this)),this._dom={root:e,commandingSurfaceEl:o,placeHolder:r}},e.prototype._handleShowingKeyboard=function(e){this.close()},e.prototype._synchronousOpen=function(){this._isOpenedMode=!0,this._updateDomImpl()},e.prototype._synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl()},e.prototype._updateDomImpl=function(){var e=this._updateDomImpl_renderedState;e.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?this._updateDomImpl_renderOpened():this._updateDomImpl_renderClosed(),e.isOpenedMode=this._isOpenedMode),e.closedDisplayMode!==this.closedDisplayMode&&(_(this._dom.root,y[e.closedDisplayMode]),f(this._dom.root,y[this.closedDisplayMode]),e.closedDisplayMode=this.closedDisplayMode),this._commandingSurface.updateDom()},e.prototype._getClosedHeight=function(){if(null===this._cachedClosedHeight){var e=this._isOpenedMode;this._isOpenedMode&&this._synchronousClose(),this._cachedClosedHeight=this._commandingSurface.getBoundingRects().commandingSurface.height,e&&this._synchronousOpen()}return this._cachedClosedHeight},e.prototype._updateDomImpl_renderOpened=function(){var e=this;this._updateDomImpl_renderedState.prevInlineWidth=this._dom.root.style.width;var t=this._dom.root.getBoundingClientRect(),n=a._getPreciseContentWidth(this._dom.root),o=a._getPreciseContentHeight(this._dom.root),r=a._getComputedStyle(this._dom.root),s=a._convertToPrecisePixels(r.paddingTop),l=a._convertToPrecisePixels(r.borderTopWidth),u=a._getPreciseMargins(this._dom.root),h=t.top+l+s,m=h+o,p=this._dom.placeHolder,f=p.style;f.width=t.width+"px",f.height=t.height+"px",f.marginTop=u.top+"px",f.marginRight=u.right+"px",f.marginBottom=u.bottom+"px",f.marginLeft=u.left+"px",a._maintainFocus(function(){e._dom.root.parentElement.insertBefore(p,e._dom.root),c.document.body.appendChild(e._dom.root),e._dom.root.style.width=n+"px",e._dom.root.style.left=t.left-u.left+"px";var o=0,r=c.innerHeight,s=h-o,l=r-m;s>l?(e._commandingSurface.overflowDirection=i.OverflowDirection.top,e._dom.root.style.bottom=r-t.bottom-u.bottom+"px"):(e._commandingSurface.overflowDirection=i.OverflowDirection.bottom,e._dom.root.style.top=o+t.top-u.top+"px"),a.addClass(e._dom.root,i.ClassNames.openedClass),a.removeClass(e._dom.root,i.ClassNames.closedClass)}),this._commandingSurface.synchronousOpen(),d.shown(this._dismissable)},e.prototype._updateDomImpl_renderClosed=function(){var e=this;a._maintainFocus(function(){if(e._dom.placeHolder.parentElement){var t=e._dom.placeHolder;t.parentElement.insertBefore(e._dom.root,t),t.parentElement.removeChild(t)}e._dom.root.style.top="",e._dom.root.style.right="",e._dom.root.style.bottom="",e._dom.root.style.left="",e._dom.root.style.width=e._updateDomImpl_renderedState.prevInlineWidth,a.addClass(e._dom.root,i.ClassNames.closedClass),a.removeClass(e._dom.root,i.ClassNames.openedClass)}),this._commandingSurface.synchronousClose(),d.hidden(this._dismissable)},e.ClosedDisplayMode=v,e.supportedForProcessing=!0,e}();t.ToolBar=b,n.Class.mix(b,u.createEventProperties(i.EventNames.beforeOpen,i.EventNames.afterOpen,i.EventNames.beforeClose,i.EventNames.afterClose)),n.Class.mix(b,r.DOMEventMixin)}),i("WinJS/Controls/ToolBar",["require","exports","../Core/_Base"],function(e,t,n){var i=null;n.Namespace.define("WinJS.UI",{ToolBar:{get:function(){return i||e(["./ToolBar/_ToolBar"],function(e){i=e}),i.ToolBar}}})}),i("WinJS/Controls/_LegacyAppBar/_Layouts",["exports","../../Animations/_TransitionAnimation","../../BindingList","../../Core/_BaseUtils","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Controls/ToolBar","../../Controls/ToolBar/_Constants","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../AppBar/_Command","./_Constants"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g){"use strict";r.Namespace._moduleDefine(e,"WinJS.UI",{_AppBarBaseLayout:r.Namespace._lazy(function(){var e=g.appBarLayoutCustom,t={get nullCommand(){return"Invalid argument: command must not be null"}},n=r.Class.define(function(e,t){this._disposed=!1,t=t||{},m.setOptions(this,t),e&&this.connect(e)},{className:{get:function(){return this._className}},type:{get:function(){return this._type||e}},commandsInOrder:{get:function(){var e=this.appBarEl.querySelectorAll("."+g.appBarCommandClass);return Array.prototype.map.call(e,function(e){return e.winControl})}},connect:function(e){this.className&&f.addClass(e,this.className),this.appBarEl=e},disconnect:function(){this.className&&f.removeClass(this.appBarEl,this.className),this.appBarEl=null,this.dispose()},layout:function(e){for(var t=e.length,n=0;n<t;n++){var i=this.sanitizeCommand(e[n]);this.appBarEl.appendChild(i._element)}},showCommands:function(e){this.appBarEl.winControl._showCommands(e)},showOnlyCommands:function(e){this.appBarEl.winControl._showOnlyCommands(e)},hideCommands:function(e){this.appBarEl.winControl._hideCommands(e)},sanitizeCommand:function(e){if(!e)throw new s("WinJS.UI.AppBar.NullCommand",t.nullCommand);return e=e.winControl||e,e._element||(e=new _.AppBarCommand(null,e)),e._element.parentElement&&e._element.parentElement.removeChild(e._element),e},dispose:function(){this._disposed=!0},disposeChildren:function(){var e=this.appBarEl.querySelectorAll("."+g.firstDivClass);e=e.length>=1?e[0]:null;var t=this.appBarEl.querySelectorAll("."+g.finalDivClass);t=t.length>=1?t[0]:null;for(var n=this.appBarEl.children,i=n.length,o=0;o<i;o++){var r=n[o];r!==e&&r!==t&&p.disposeSubTree(r)}},handleKeyDown:function(){},commandsUpdated:function(){},beginAnimateCommands:function(){},endAnimateCommands:function(){},scale:function(){},resize:function(){},positionChanging:function(e,t){return d.wrap()},setFocusOnShow:function(){this.appBarEl.winControl._setFocusToAppBar()}});return n})}),r.Namespace._moduleDefine(e,"WinJS.UI",{_AppBarCommandsLayout:r.Namespace._lazy(function(){var t=g.commandLayoutClass,n=g.appBarLayoutCommands,i=r.Class.derive(e._AppBarBaseLayout,function(i){e._AppBarBaseLayout.call(this,i,{_className:t,_type:n}),this._commandLayoutsInit(i)},{commandsInOrder:{get:function(){return this._originalCommands.filter(function(e){return this.appBarEl.contains(e.element)},this)}},layout:function(e){f.empty(this._primaryCommands),f.empty(this._secondaryCommands),this._originalCommands=[];for(var t=0,n=e.length;t<n;t++){var i=this.sanitizeCommand(e[t]);this._originalCommands.push(i),"primary"===i.section||"global"===i.section?this._primaryCommands.appendChild(i._element):this._secondaryCommands.appendChild(i._element)}this.appBarEl.appendChild(this._secondaryCommands),this.appBarEl.appendChild(this._primaryCommands),this._needToMeasureNewCommands=!0,h.schedule(function(){this._needToMeasureNewCommands&&!this._disposed&&this.scale()}.bind(this),h.Priority.idle,this,"WinJS._commandLayoutsMixin._scaleNewCommands")},disposeChildren:function(){p.disposeSubTree(this._primaryCommands),p.disposeSubTree(this._secondaryCommands)},handleKeyDown:function(e){var t=f.Key;if(!f._matchesSelector(e.target,".win-interactive, .win-interactive *")){var n="rtl"===f._getComputedStyle(this.appBarEl).direction,i=n?t.rightArrow:t.leftArrow,r=n?t.leftArrow:t.rightArrow;if(e.keyCode===i||e.keyCode===r||e.keyCode===t.home||e.keyCode===t.end){var s,a=this._primaryCommands.contains(o.document.activeElement),l=this._getFocusableCommandsInLogicalOrder(a);if(l.length)switch(e.keyCode){case i:var u=Math.max(-1,l.focusedIndex-1)+l.length;s=l[u%l.length].winControl.lastElementFocus;break;case r:var u=l.focusedIndex+1+l.length;s=l[u%l.length].winControl.firstElementFocus;break;case t.home:var u=0;s=l[u].winControl.firstElementFocus;break;case t.end:var u=l.length-1;s=l[u].winControl.lastElementFocus}s&&s!==o.document.activeElement&&(s.focus(),e.preventDefault())}}},commandsUpdated:function(e){var t=e?e:this.commandsInOrder.filter(function(e){return!e.hidden});this._fullSizeWidthOfLastKnownVisibleCommands=this._getWidthOfFullSizeCommands(t)},beginAnimateCommands:function(e,t,n){this._scaleAfterAnimations=!1;var i=this._getWidthOfFullSizeCommands(e)-this._getWidthOfFullSizeCommands(t);if(i>0){var o=n.concat(e);this.commandsUpdated(o),this.scale()}else i<0&&(this._scaleAfterAnimations=!0)},endAnimateCommands:function(){this._scaleAfterAnimations&&(this.commandsUpdated(),this.scale())},resize:function(){this._disposed||(this._appBarTotalKnownWidth=null,this.appBarEl.winControl.opened&&this.scale())},disconnect:function(){e._AppBarBaseLayout.prototype.disconnect.call(this)},_getWidthOfFullSizeCommands:function(e){this._needToMeasureNewCommands&&this._measureContentCommands();var t=0,n=0,i=0;if(!e)return this._fullSizeWidthOfLastKnownVisibleCommands;for(var o,r=0,s=e.length;r<s;r++)o=e[r].winControl||e[r],o._type===g.typeSeparator?n++:o._type!==g.typeContent?i++:t+=o._fullSizeWidth;return t+=n*g.separatorWidth+i*g.buttonWidth},_getFocusableCommandsInLogicalOrder:function(){var e=this._secondaryCommands.children,t=this._primaryCommands.children,n=-1,i=function(e){for(var t=[],i=0,r=e.length;i<r;i++){var s=e[i];if(f.hasClass(s,g.appBarCommandClass)&&s.winControl){var a=s.contains(o.document.activeElement);(s.winControl._isFocusable()||a)&&(t.push(s),a&&(n=t.length-1))}}return t},r=Array.prototype.slice.call(e).concat(Array.prototype.slice.call(t)),s=i(r);return s.focusedIndex=n,s},_commandLayoutsInit:function(){this._primaryCommands=o.document.createElement("DIV"),this._secondaryCommands=o.document.createElement("DIV"),f.addClass(this._primaryCommands,g.primaryCommandsClass),f.addClass(this._secondaryCommands,g.secondaryCommandsClass)},_scaleHelper:function(){var e="minimal"===this.appBarEl.winControl.closedDisplayMode?g.appBarInvokeButtonWidth:0;return o.document.documentElement.clientWidth-e},_measureContentCommands:function(){if(o.document.body.contains(this.appBarEl)){this._needToMeasureNewCommands=!1;var e=f.hasClass(this.appBarEl,"win-navbar-closed");f.removeClass(this.appBarEl,"win-navbar-closed");var t=this.appBarEl.style.display;this.appBarEl.style.display="";for(var n,i,r=this.appBarEl.querySelectorAll("div."+g.appBarCommandClass),s=0,a=r.length;s<a;s++)i=r[s],i.winControl&&i.winControl._type===g.typeContent&&(n=i.style.display,i.style.display="",i.winControl._fullSizeWidth=f.getTotalWidth(i)||0,i.style.display=n);this.appBarEl.style.display=t,e&&f.addClass(this.appBarEl,"win-navbar-closed"),this.commandsUpdated()}}});return i})}),r.Namespace._moduleDefine(e,"WinJS.UI",{_AppBarMenuLayout:r.Namespace._lazy(function(){function s(e,n){var r=n.duration*t._animationFactor,s=i._browserStyleEquivalents.transition.scriptName;e.style[s]=r+"ms "+y.cssName+" "+n.timing,e.style[y.scriptName]=n.to;var a;return new d(function(t){var n=function(t){t.target===e&&t.propertyName===y.cssName&&a()},l=!1;a=function(){l||(o.clearTimeout(u),e.removeEventListener(i._browserEventEquivalents.transitionEnd,n),e.style[s]="",l=!0),t()};var u=o.setTimeout(function(){u=o.setTimeout(a,r)},50);e.addEventListener(i._browserEventEquivalents.transitionEnd,n)},function(){a()})}function a(e,t,n){var i=n.anchorTrailingEdge?n.to.total-n.from.total:n.from.total-n.to.total,o="width"===n.dimension?"translateX":"translateY",r=n.dimension,a=n.duration||367,l=n.timing||"cubic-bezier(0.1, 0.9, 0.2, 1)";e.style[r]=n.to.total+"px",e.style[y.scriptName]=o+"("+i+"px)",t.style[r]=n.to.content+"px",t.style[y.scriptName]=o+"("+-i+"px)",f._getComputedStyle(e).opacity,f._getComputedStyle(t).opacity;var u={duration:a,timing:l,to:""};return d.join([s(e,u),s(t,u)])}function h(e,t,n){var o=n.anchorTrailingEdge?n.from.total-n.to.total:n.to.total-n.from.total,r="width"===n.dimension?"translateX":"translateY",a=n.duration||367,l=n.timing||"cubic-bezier(0.1, 0.9, 0.2, 1)";e.style[y.scriptName]="",t.style[y.scriptName]="",f._getComputedStyle(e).opacity,f._getComputedStyle(t).opacity;var u={duration:a,timing:l},c=i._merge(u,{to:r+"("+o+"px)"}),h=i._merge(u,{to:r+"("+-o+"px)"});return d.join([s(e,c),s(t,h)])}function m(e,t,n){return n.to.total>n.from.total?a(e,t,n):n.to.total<n.from.total?h(e,t,n):d.as()}var _=g.menuLayoutClass,v=g.appBarLayoutMenu,y=i._browserStyleEquivalents.transform,b=r.Class.derive(e._AppBarBaseLayout,function(t){e._AppBarBaseLayout.call(this,t,{_className:_,_type:v}),this._tranformNames=i._browserStyleEquivalents.transform,this._animationCompleteBound=this._animationComplete.bind(this),this._positionToolBarBound=this._positionToolBar.bind(this)},{commandsInOrder:{get:function(){return this._originalCommands}},layout:function(e){this._writeProfilerMark("layout,info"),e=e||[],this._originalCommands=[];var t=this;e.forEach(function(e){t._originalCommands.push(t.sanitizeCommand(e))}),this._displayedCommands=this._originalCommands.slice(0),this._menu?f.empty(this._menu):(this._menu=o.document.createElement("div"),f.addClass(this._menu,g.menuContainerClass)),this.appBarEl.appendChild(this._menu),this._toolbarEl=o.document.createElement("div"),this._menu.appendChild(this._toolbarEl),this._createToolBar(e)},showCommands:function(e){var t=this._getCommandsElements(e),n=[],i=[],o=this;this._originalCommands.forEach(function(e){(t.indexOf(e.element)>=0||o._displayedCommands.indexOf(e)>=0)&&(i.push(e),n.push(e))}),this._displayedCommands=i,this._updateData(n)},showOnlyCommands:function(e){this._displayedCommands=[],this.showCommands(e)},hideCommands:function(e){var t=this._getCommandsElements(e),n=[],i=[],o=this;this._originalCommands.forEach(function(e){t.indexOf(e.element)===-1&&o._displayedCommands.indexOf(e)>=0&&(i.push(e),n.push(e))}),this._displayedCommands=i,this._updateData(n)},connect:function(t){this._writeProfilerMark("connect,info"),e._AppBarBaseLayout.prototype.connect.call(this,t),this._id=f._uniqueID(t)},resize:function(){this._writeProfilerMark("resize,info"),this._initialized&&(this._forceLayoutPending=!0)},positionChanging:function(e,t){return this._writeProfilerMark("positionChanging from:"+e+" to: "+t+",info"),this._animationPromise=this._animationPromise||d.wrap(),this._animating&&this._animationPromise.cancel(),this._animating=!0,"shown"===t||"shown"!==e&&"compact"===t?(this._positionToolBar(),this._animationPromise=this._animateToolBarEntrance()):"minimal"===e||"compact"===e||"hidden"===e?this._animationPromise=d.wrap():this._animationPromise=this._animateToolBarExit(),this._animationPromise.then(this._animationCompleteBound,this._animationCompleteBound),this._animationPromise},disposeChildren:function(){this._writeProfilerMark("disposeChildren,info"),this._toolbar&&p.disposeSubTree(this._toolbarEl),this._originalCommands=[],this._displayedCommands=[]},setFocusOnShow:function(){this.appBarEl.winControl._setFocusToAppBar(!0,this._menu)},_updateData:function(e){var t=f.hasClass(this.appBarEl,"win-navbar-closed"),i=f.hasClass(this.appBarEl,"win-navbar-opened");f.removeClass(this.appBarEl,"win-navbar-closed");var o=this.appBarEl.style.display;this.appBarEl.style.display="",this._toolbar.data=new n.List(e),t&&this._positionToolBar(),this.appBarEl.style.display=o,t&&f.addClass(this.appBarEl,"win-navbar-closed"),i&&(this._positionToolBar(),this._animateToolBarEntrance())},_getCommandsElements:function(e){if(!e)return[];"string"!=typeof e&&e&&e.length||(e=[e]);for(var t=[],n=0,i=e.length;n<i;n++)if(e[n])if("string"==typeof e[n]){var r=o.document.getElementById(e[n]);if(r)t.push(r);else for(var s=0,a=this._originalCommands.length;s<a;s++){var r=this._originalCommands[s].element;r.id===e[n]&&t.push(r)}}else e[n].element?t.push(e[n].element):t.push(e[n]);return t},_animationComplete:function(){this._disposed||(this._animating=!1)},_createToolBar:function(e){this._writeProfilerMark("_createToolBar,info");var t=f.hasClass(this.appBarEl,"win-navbar-closed");f.removeClass(this.appBarEl,"win-navbar-closed");var i=this.appBarEl.style.display;this.appBarEl.style.display="",this._toolbar=new u.ToolBar(this._toolbarEl,{data:new n.List(this._originalCommands),shownDisplayMode:"full"});var o=this;this._appbarInvokeButton=this.appBarEl.querySelector("."+g.invokeButtonClass),this._overflowButton=this._toolbarEl.querySelector("."+c.overflowButtonCssClass),this._overflowButton.addEventListener("click",function(){o._appbarInvokeButton.click()}),this._positionToolBar(),this.appBarEl.style.display=i,t&&f.addClass(this.appBarEl,"win-navbar-closed")},_positionToolBar:function(){this._disposed||(this._writeProfilerMark("_positionToolBar,info"),this._initialized=!0)},_animateToolBarEntrance:function(){this._writeProfilerMark("_animateToolBarEntrance,info"),this._forceLayoutPending&&(this._forceLayoutPending=!1,this._toolbar.forceLayout(),this._positionToolBar());var e=this._isMinimal()?0:this.appBarEl.offsetHeight;if(this._isBottom()){var t=this._menu.offsetHeight-e;return this._executeTranslate(this._menu,"translateY("+-t+"px)")}return m(this._menu,this._toolbarEl,{from:{content:e,total:e},to:{content:this._menu.offsetHeight,total:this._menu.offsetHeight},dimension:"height",duration:400,timing:"ease-in"})},_animateToolBarExit:function(){this._writeProfilerMark("_animateToolBarExit,info");var e=this._isMinimal()?0:this.appBarEl.offsetHeight;return this._isBottom()?this._executeTranslate(this._menu,"none"):m(this._menu,this._toolbarEl,{from:{content:this._menu.offsetHeight,total:this._menu.offsetHeight},to:{content:e,total:e},dimension:"height",duration:400,timing:"ease-in"})},_executeTranslate:function(e,n){return t.executeTransition(e,{property:this._tranformNames.cssName,delay:0,duration:400,timing:"ease-in",to:n})},_isMinimal:function(){return"minimal"===this.appBarEl.winControl.closedDisplayMode},_isBottom:function(){return"bottom"===this.appBarEl.winControl.placement},_writeProfilerMark:function(e){l("WinJS.UI._AppBarMenuLayout:"+this._id+":"+e)}});return b})})}),i("WinJS/Controls/_LegacyAppBar",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Promise","../Scheduler","../_LightDismissService","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","./_LegacyAppBar/_Constants","./_LegacyAppBar/_Layouts","./AppBar/_Command","./AppBar/_Icon","./Flyout/_Overlay","../Application"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C,E){"use strict";i.Namespace._moduleDefine(e,"WinJS.UI",{_LegacyAppBar:i.Namespace._lazy(function(){function e(e){var n=t.document.querySelectorAll("."+v.appBarClass);if(n)for(var i=n.length,o=0;o<i;o++){var r=n[o],s=r.winControl;s&&!r.disabled&&s._manipulationChanged(e)}}var _={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},b=s._createEventProperty,w={none:0,hidden:0,minimal:25,compact:48},E={none:"hidden",hidden:"hidden",minimal:"minimal",shown:"shown",compact:"compact"},S={none:"none",minimal:"minimal",compact:"compact"},I="shown",x="hidden",j=!1,k={get ariaLabel(){return a._getWinJSString("ui/appBarAriaLabel").value},get requiresCommands(){return"Invalid argument: commands must not be empty"},get cannotChangePlacementWhenVisible(){return"Invalid argument: The placement property cannot be set when the AppBar is visible, call hide() first"},get cannotChangeLayoutWhenVisible(){return"Invalid argument: The layout property cannot be set when the AppBar is visible, call hide() first"}},P=i.Class.derive(C._Overlay,function(n,i){this._initializing=!0,i=i||{},this._element=n||t.document.createElement("div"),this._id=this._element.id||f._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),f.addClass(this._element,v.appBarClass);var o=this;this._dismissable=new h.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){o.close()},onTakeFocus:function(e){o._dismissable.restoreFocus()||o._layoutImpl.setFocusOnShow()}});var r=this._element.getAttribute("role");r||this._element.setAttribute("role","menubar");var s=this._element.getAttribute("aria-label");s||this._element.setAttribute("aria-label",k.ariaLabel),this._baseOverlayConstructor(this._element),this._lastPositionVisited=E.none,f.addClass(this._element,v.hiddenClass),this._invokeButton=t.document.createElement("button"),this._invokeButton.tabIndex=0,this._invokeButton.setAttribute("type","button"),this._invokeButton.innerHTML="<span class='"+v.ellipsisClass+"'></span>",f.addClass(this._invokeButton,v.invokeButtonClass),this._element.appendChild(this._invokeButton),this._invokeButton.addEventListener("click",function(){o.opened?o._hide():o._show()},!1),this._layout=v.appBarLayoutCustom,delete i._layout,this.placement=i.placement||v.appBarPlacementBottom,this.closedDisplayMode=i.closedDisplayMode||S.compact,m.setOptions(this,i);var a=this._commandsUpdated.bind(this);return this._element.addEventListener(v.commandVisibilityChanged,function(e){o._disposed||(o.opened&&e.preventDefault(),a())}),this._initializing=!1,this._setFocusToAppBarBound=this._setFocusToAppBar.bind(this),this._element.addEventListener("keydown",this._handleKeyDown.bind(this),!1),j||(t.document.addEventListener("MSManipulationStateChanged",e,!1),j=!0),this.closedDisplayMode===S.none&&this.layout===v.appBarLayoutCommands&&(this._element.style.display="none"),this._winKeyboard=new g._WinKeyboard(this._element),this._writeProfilerMark("constructor,StopTM"),this},{placement:{get:function(){return this._placement},set:function(e){var t=!1;if(n.Windows.ApplicationModel.DesignMode.designModeEnabled&&(this._hide(),t=!0),this.opened)throw new r("WinJS.UI._LegacyAppBar.CannotChangePlacementWhenVisible",k.cannotChangePlacementWhenVisible);this._placement=e===v.appBarPlacementTop?v.appBarPlacementTop:v.appBarPlacementBottom,this._placement===v.appBarPlacementTop?(f.addClass(this._element,v.topClass),f.removeClass(this._element,v.bottomClass)):this._placement===v.appBarPlacementBottom&&(f.removeClass(this._element,v.topClass),f.addClass(this._element,v.bottomClass)),this._ensurePosition(),t&&this._show()}},_layout:{get:function(){return this._layoutImpl.type},set:function(e){e!==v.appBarLayoutCommands&&e!==v.appBarLayoutCustom&&e!==v.appBarLayoutMenu;var t=!1;if(n.Windows.ApplicationModel.DesignMode.designModeEnabled&&(this._hide(),t=!0),this.opened)throw new r("WinJS.UI._LegacyAppBar.CannotChangeLayoutWhenVisible",k.cannotChangeLayoutWhenVisible);var i;this._initializing||(i=this._layoutImpl.commandsInOrder,this._layoutImpl.disconnect()),e===v.appBarLayoutCommands?this._layoutImpl=new y._AppBarCommandsLayout:e===v.appBarLayoutMenu?this._layoutImpl=new y._AppBarMenuLayout:this._layoutImpl=new y._AppBarBaseLayout,this._layoutImpl.connect(this._element),i&&i.length&&this._layoutCommands(i),t&&this._show()},configurable:!0},commands:{set:function(e){if(this.opened)throw new r("WinJS.UI._LegacyAppBar.CannotChangeCommandsWhenVisible",a._formatString(C._Overlay.commonstrings.cannotChangeCommandsWhenVisible,"_LegacyAppBar"));this._initializing||this._disposeChildren(),this._layoutCommands(e)}},_layoutCommands:function(e){f.empty(this._element),this._element.appendChild(this._invokeButton),Array.isArray(e)||(e=[e]),this._layoutImpl.layout(e)},closedDisplayMode:{get:function(){return this._closedDisplayMode},set:function(e){var t=this._closedDisplayMode;if(t!==e){var n=f.hasClass(this._element,v.hiddenClass)||f.hasClass(this._element,v.hidingClass);e===S.none?(this._closedDisplayMode=S.none,n&&t||(f.removeClass(this._element,v.minimalClass),f.removeClass(this._element,v.compactClass))):e===S.minimal?(this._closedDisplayMode=S.minimal,n&&t&&t!==S.none||(f.addClass(this._element,v.minimalClass),f.removeClass(this._element,v.compactClass))):(this._closedDisplayMode=S.compact,f.addClass(this._element,v.compactClass),f.removeClass(this._element,v.minimalClass)),this._layoutImpl.resize(),n&&this._changeVisiblePosition(E[this._closedDisplayMode])}}},opened:{get:function(){return!f.hasClass(this._element,v.hiddenClass)&&!f.hasClass(this._element,v.hidingClass)&&this._doNext!==E.minimal&&this._doNext!==E.compact&&this._doNext!==E.none},set:function(e){var t=this.opened;e&&!t?this._show():!e&&t&&this._hide()}},onbeforeopen:b(_.beforeOpen),onafteropen:b(_.afterOpen),onbeforeclose:b(_.beforeClose),onafterclose:b(_.afterClose),getCommandById:function(e){var t=this._layoutImpl.commandsInOrder.filter(function(t){return t.id===e||t.element.id===e});return 1===t.length?t[0]:0===t.length?null:t},showCommands:function(e){if(!e)throw new r("WinJS.UI._LegacyAppBar.RequiresCommands",k.requiresCommands);this._layoutImpl.showCommands(e)},hideCommands:function(e){if(!e)throw new r("WinJS.UI._LegacyAppBar.RequiresCommands",k.requiresCommands);this._layoutImpl.hideCommands(e)},showOnlyCommands:function(e){if(!e)throw new r("WinJS.UI._LegacyAppBar.RequiresCommands",k.requiresCommands);this._layoutImpl.showOnlyCommands(e)},open:function(){this._writeProfilerMark("show,StartTM"),this._show()},_show:function(){var e=E.shown,t=null;this.disabled||!f.hasClass(this._element,v.hiddenClass)&&!f.hasClass(this._element,v.hidingClass)||(t=I),this._changeVisiblePosition(e,t),t&&(this._updateFirstAndFinalDiv(),h.shown(this._dismissable))},close:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(e){var e=e||E[this.closedDisplayMode],t=null;f.hasClass(this._element,v.hiddenClass)||f.hasClass(this._element,v.hidingClass)||(t=x),this._changeVisiblePosition(e,t)},_dispose:function(){p.disposeSubTree(this.element),h.hidden(this._dismissable),this._layoutImpl.dispose(),this.disabled=!0,this.close()},_disposeChildren:function(){this._layoutImpl.disposeChildren()},_handleKeyDown:function(e){this._invokeButton.contains(t.document.activeElement)||this._layoutImpl.handleKeyDown(e)},_visiblePixels:{get:function(){return{hidden:w.hidden,minimal:w.minimal,compact:Math.max(this._heightWithoutLabels||0,w.compact),shown:this._element.offsetHeight}}},_visiblePosition:{get:function(){return this._animating&&E[this._element.winAnimating]?this._element.winAnimating:this._lastPositionVisited}},_visible:{get:function(){return this._visiblePosition!==E.none}},_changeVisiblePosition:function(e,t){if(this._visiblePosition===e&&!this._keyboardObscured||this.disabled&&e!==E.disabled)this._afterPositionChange(null);else if(this._animating||this._needToHandleShowingKeyboard||this._needToHandleHidingKeyboard)this._doNext=e,this._afterPositionChange(null);else{this._element.winAnimating=e;var n=!this._initializing,i=this._lastPositionVisited;this._element.style.display="";var o=e===E.hidden;this._keyboardObscured&&(o?n=!1:i=E.hidden,this._keyboardObscured=!1),t===I?this._beforeShow():t===x&&this._beforeHide(),this._ensurePosition(),this._element.style.opacity=1,this._element.style.visibility="visible",this._animationPromise=n?this._animatePositionChange(i,e):c.wrap(),this._animationPromise.then(function(){this._afterPositionChange(e,t)}.bind(this),function(){this._afterPositionChange(e,t)}.bind(this))}},_afterPositionChange:function(e,t){if(!this._disposed){if(e){e===E.minimal&&(f.addClass(this._element,v.minimalClass),f.removeClass(this._element,v.compactClass)),e===E.hidden&&this.closedDisplayMode===S.none&&(f.removeClass(this._element,v.minimalClass),f.removeClass(this._element,v.compactClass)),this._element.winAnimating="",this._lastPositionVisited=e,this._doNext===this._lastPositionVisited&&(this._doNext=""),t===x&&h.hidden(this._dismissable),e===E.hidden&&(this._element.style.visibility="hidden",this._element.style.display="none");var n=o._browserStyleEquivalents.transform.scriptName;this._element.style[n]="",t===I?this._afterShow():t===x&&this._afterHide(),d.schedule(this._checkDoNext,d.Priority.normal,this,"WinJS.UI._LegacyAppBar._checkDoNext")}this._afterPositionChangeCallBack()}},_afterPositionChangeCallBack:function(){},_beforeShow:function(){this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),this._layoutImpl.scale(),this.closedDisplayMode===S.compact&&(this._heightWithoutLabels=this._element.offsetHeight),f.removeClass(this._element,v.hiddenClass),f.addClass(this._element,v.showingClass),this._sendEvent(_.beforeOpen)},_afterShow:function(){f.removeClass(this._element,v.showingClass),f.addClass(this._element,v.shownClass),this._sendEvent(_.afterOpen),this._writeProfilerMark("show,StopTM")},_beforeHide:function(){f.removeClass(this._element,v.shownClass),f.addClass(this._element,v.hidingClass),this._sendEvent(_.beforeClose)},_afterHide:function(){this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),f.removeClass(this._element,v.hidingClass),f.addClass(this._element,v.hiddenClass),this._sendEvent(_.afterClose),this._writeProfilerMark("hide,StopTM")},_animatePositionChange:function(e,t){var n,i=this._layoutImpl.positionChanging(e,t),o=this._visiblePixels[e],r=this._visiblePixels[t],s=Math.abs(r-o),a=this._placement===v.appBarPlacementTop?-s:s;if(this._placement===v.appBarPlacementTop&&(e===E.shown&&t===E.compact||e===E.compact&&t===E.shown)&&(a=0),r>o){var l={top:a+"px",left:"0px"};n=u.showEdgeUI(this._element,l,{mechanism:"transition"})}else{var d={top:a+"px",left:"0px"};n=u.hideEdgeUI(this._element,d,{mechanism:"transition"})}return c.join([i,n])},_checkDoNext:function(){this._animating||this._needToHandleShowingKeyboard||this._needToHandleHidingKeyboard||this._disposed||(this._doNext===E.disabled||this._doNext===E.hidden||this._doNext===E.minimal||this._doNext===E.compact?(this._hide(this._doNext),this._doNext=""):this._queuedCommandAnimation?this._showAndHideQueue():this._doNext===E.shown&&(this._show(),this._doNext=""))},_setFocusToAppBar:function(e,t){this._focusOnFirstFocusableElement(e,t)||C._Overlay._trySetActive(this._element,t)},_commandsUpdated:function(){this._initializing||(this._layoutImpl.commandsUpdated(),this._layoutImpl.scale())},_beginAnimateCommands:function(e,t,n){this._layoutImpl.beginAnimateCommands(e,t,n)},_endAnimateCommands:function(){this._layoutImpl.endAnimateCommands(),this._endAnimateCommandsCallBack()},_endAnimateCommandsCallBack:function(){},_getTopOfVisualViewport:function(){return C._Overlay._keyboardInfo._visibleDocTop},_getAdjustedBottom:function(){return C._Overlay._keyboardInfo._visibleDocBottomOffset},_showingKeyboard:function(e){if(this._keyboardObscured=!1,this._needToHandleHidingKeyboard=!1,!C._Overlay._keyboardInfo._visible||!this._alreadyInPlace()){this._needToHandleShowingKeyboard=!0,this.opened&&this._element.contains(t.document.activeElement)&&(e.ensuredFocusedElementInView=!0),this._visible&&this._placement!==v.appBarPlacementTop&&C._Overlay._isFlyoutVisible()?this._keyboardObscured=!0:this._scrollHappened=!1;var n=this;t.setTimeout(function(e){n._checkKeyboardTimer(e)},C._Overlay._keyboardInfo._animationShowLength+C._Overlay._scrollTimeout);
}},_hidingKeyboard:function(){this._keyboardObscured=!1,this._needToHandleShowingKeyboard=!1,this._needToHandleHidingKeyboard=!0,C._Overlay._keyboardInfo._isResized||((this._visible||this._animating)&&(this._checkScrollPosition(),this._element.style.display=""),this._needToHandleHidingKeyboard=!1)},_resize:function(e){this._needToHandleShowingKeyboard?this._visible&&(this._placement===v.appBarPlacementTop||this._keyboardObscured||(this._element.style.display="none")):this._needToHandleHidingKeyboard&&(this._needToHandleHidingKeyboard=!1,(this._visible||this._animating)&&(this._checkScrollPosition(),this._element.style.display="")),this._initializing||this._layoutImpl.resize(e)},_checkKeyboardTimer:function(){this._scrollHappened||this._mayEdgeBackIn()},_manipulationChanged:function(e){0===e.currentState&&this._scrollHappened&&this._mayEdgeBackIn()},_mayEdgeBackIn:function(){if(this._needToHandleShowingKeyboard)if(this._needToHandleShowingKeyboard=!1,this._keyboardObscured||this._placement===v.appBarPlacementTop&&0===C._Overlay._keyboardInfo._visibleDocTop)this._checkDoNext();else{var e=this._visiblePosition;this._lastPositionVisited=E.hidden,this._changeVisiblePosition(e,!1)}this._scrollHappened=!1},_ensurePosition:function(){var e=this._computePositionOffset();this._element.style.bottom=e.bottom,this._element.style.top=e.top},_computePositionOffset:function(){var e={};return this._placement===v.appBarPlacementBottom?(e.bottom=this._getAdjustedBottom()+"px",e.top=""):this._placement===v.appBarPlacementTop&&(e.bottom="",e.top=this._getTopOfVisualViewport()+"px"),e},_checkScrollPosition:function(){return this._needToHandleShowingKeyboard?void(this._scrollHappened=!0):void((this._visible||this._animating)&&(this._ensurePosition(),this._checkDoNext()))},_alreadyInPlace:function(){var e=this._computePositionOffset();return e.top===this._element.style.top&&e.bottom===this._element.style.bottom},_updateFirstAndFinalDiv:function(){var e=this._element.querySelectorAll("."+v.firstDivClass);e=e.length>=1?e[0]:null;var n=this._element.querySelectorAll("."+v.finalDivClass);n=n.length>=1?n[0]:null,e&&this._element.children[0]!==e&&(e.parentNode.removeChild(e),e=null),n&&this._element.children[this._element.children.length-1]!==n&&(n.parentNode.removeChild(n),n=null),e||(e=t.document.createElement("div"),e.style.display="inline",e.className=v.firstDivClass,e.tabIndex=-1,e.setAttribute("aria-hidden","true"),f._addEventListener(e,"focusin",this._focusOnLastFocusableElementOrThis.bind(this),!1),this._element.children[0]?this._element.insertBefore(e,this._element.children[0]):this._element.appendChild(e)),n||(n=t.document.createElement("div"),n.style.display="inline",n.className=v.finalDivClass,n.tabIndex=-1,n.setAttribute("aria-hidden","true"),f._addEventListener(n,"focusin",this._focusOnFirstFocusableElementOrThis.bind(this),!1),this._element.appendChild(n)),this._element.children[this._element.children.length-2]!==this._invokeButton&&this._element.insertBefore(this._invokeButton,n);var i=this._element.getElementsByTagName("*"),o=f._getHighestTabIndexInList(i);this._invokeButton.tabIndex=o,e&&(e.tabIndex=f._getLowestTabIndexInList(i)),n&&(n.tabIndex=o)},_writeProfilerMark:function(e){l("WinJS.UI._LegacyAppBar:"+this._id+":"+e)}},{_Events:_});return P})})}),i("WinJS/Controls/Menu",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","./_LegacyAppBar/_Constants","./Flyout","./Flyout/_Overlay","./Menu/_Command"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{Menu:n.Namespace._lazy(function(){function e(e){var t=e.element||e;return l._matchesSelector(t,"."+d.menuClass+" ."+d.menuCommandClass)}var u=l.Key,f={get ariaLabel(){return r._getWinJSString("ui/menuAriaLabel").value},get requiresCommands(){return"Invalid argument: commands must not be empty"},get nullCommand(){return"Invalid argument: command must not be null"}},_=n.Class.derive(h.Flyout,function(e,n){n=n||{},this._element=e||t.document.createElement("div"),this._id=this._element.id||l._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),!n.commands&&this._element&&(n=i._shallowCopy(n),n.commands=this._verifyCommandsOnly(this._element,"WinJS.UI.MenuCommand"));var o="menu",r=null;this._element&&(o=this._element.getAttribute("role")||o,r=this._element.getAttribute("aria-label")||r),this._baseFlyoutConstructor(this._element,n),this._element.setAttribute("role",o),this._element.setAttribute("aria-label",r),this._element.addEventListener("keydown",this._handleKeyDown.bind(this),!0),this._element.addEventListener(d._menuCommandInvokedEvent,this._handleCommandInvoked.bind(this),!1),this._element.addEventListener("mouseover",this._handleMouseOver.bind(this),!1),this._element.addEventListener("mouseout",this._handleMouseOut.bind(this),!1),l.addClass(this._element,d.menuClass),this._winKeyboard=new c._WinKeyboard(this._element),this.hide(),this._writeProfilerMark("constructor,StopTM")},{commands:{set:function(e){if(!this.hidden)throw new o("WinJS.UI.Menu.CannotChangeCommandsWhenVisible",r._formatString(m._Overlay.commonstrings.cannotChangeCommandsWhenVisible,"Menu"));l.empty(this._element),Array.isArray(e)||(e=[e]);for(var t=e.length,n=0;n<t;n++)this._addCommand(e[n])}},getCommandById:function(e){for(var t=this.element.querySelectorAll("#"+e),n=[],i=0,o=t.length;i<o;i++)t[i].winControl&&n.push(t[i].winControl);return 1===n.length?n[0]:0===n.length?null:n},showCommands:function(e){if(!e)throw new o("WinJS.UI.Menu.RequiresCommands",f.requiresCommands);this._showCommands(e,!0)},hideCommands:function(e){if(!e)throw new o("WinJS.UI.Menu.RequiresCommands",f.requiresCommands);this._hideCommands(e,!0)},showOnlyCommands:function(e){if(!e)throw new o("WinJS.UI.Menu.RequiresCommands",f.requiresCommands);this._showOnlyCommands(e,!0)},_hide:function(){this._hoverPromise&&this._hoverPromise.cancel(),h.Flyout.prototype._hide.call(this)},_afterHide:function(){l.removeClass(this.element,d.menuMouseSpacingClass),l.removeClass(this.element,d.menuTouchSpacingClass)},_beforeShow:function(){l.hasClass(this.element,d.menuMouseSpacingClass)||l.hasClass(this.element,d.menuTouchSpacingClass)||l.addClass(this.element,h.Flyout._cascadeManager.inputType===c._InputTypes.mouse||h.Flyout._cascadeManager.inputType===c._InputTypes.keyboard?d.menuMouseSpacingClass:d.menuTouchSpacingClass),this._checkMenuCommands()},_addCommand:function(e){if(!e)throw new o("WinJS.UI.Menu.NullCommand",f.nullCommand);e._element||(e=new p.MenuCommand(null,e)),e._element.parentElement&&e._element.parentElement.removeChild(e._element),this._element.appendChild(e._element)},_dispose:function(){this._hoverPromise&&this._hoverPromise.cancel(),h.Flyout.prototype._dispose.call(this)},_commandsUpdated:function(){this.hidden||this._checkMenuCommands()},_checkMenuCommands:function(){var e=this._element.querySelectorAll(".win-command"),t=!1,n=!1;if(e)for(var i=0,o=e.length;i<o;i++){var r=e[i].winControl;r&&!r.hidden&&(t||r.type!==d.typeToggle||(t=!0),n||r.type!==d.typeFlyout||(n=!0))}l[t?"addClass":"removeClass"](this._element,d.menuContainsToggleCommandClass),l[n?"addClass":"removeClass"](this._element,d.menuContainsFlyoutCommandClass)},_handleKeyDown:function(e){e.keyCode===u.upArrow?(_._focusOnPreviousElement(this.element),e.preventDefault()):e.keyCode===u.downArrow?(_._focusOnNextElement(this.element),e.preventDefault()):e.keyCode!==u.space&&e.keyCode!==u.enter||this.element!==t.document.activeElement?e.keyCode===u.tab&&e.preventDefault():(e.preventDefault(),this.hide())},_handleFocusIn:function(t){var n=t.target;if(e(n)){var i=n.winControl;if(l.hasClass(i.element,d.menuCommandFlyoutActivatedClass))i.flyout.element.focus();else{var o=this.element.querySelector("."+d.menuCommandFlyoutActivatedClass);o&&p.MenuCommand._deactivateFlyoutCommand(o)}}else n===this.element&&h.Flyout.prototype._handleFocusIn.call(this,t)},_handleCommandInvoked:function(e){this._hoverPromise&&this._hoverPromise.cancel();var t=e.detail.command;t._type!==d.typeFlyout&&t._type!==d.typeSeparator&&this._lightDismiss()},_hoverPromise:null,_handleMouseOver:function(t){var n=t.target;if(e(n)){var i=n.winControl,o=this;n.focus&&(n.focus(),l.removeClass(n,"win-keyboard"),i.type===d.typeFlyout&&i.flyout&&i.flyout.hidden&&(this._hoverPromise=this._hoverPromise||a.timeout(d.menuCommandHoverDelay).then(function(){o.hidden||o._disposed||i._invoke(t),o._hoverPromise=null},function(){o._hoverPromise=null})))}},_handleMouseOut:function(n){var i=n.target;e(i)&&!i.contains(n.relatedTarget)&&(i===t.document.activeElement&&this.element.focus(),this._hoverPromise&&this._hoverPromise.cancel())},_writeProfilerMark:function(e){s("WinJS.UI.Menu:"+this._id+":"+e)}});return _._focusOnNextElement=function(e){var n=t.document.activeElement;do n=n===e?n.firstElementChild:n.nextElementSibling,n?n.focus():n=e;while(n!==t.document.activeElement)},_._focusOnPreviousElement=function(e){var n=t.document.activeElement;do n=n===e?n.lastElementChild:n.previousElementSibling,n?n.focus():n=e;while(n!==t.document.activeElement)},_})})}),i("WinJS/Controls/AutoSuggestBox/_SearchSuggestionManagerShim",["exports","../../_Signal","../../Core/_Base","../../Core/_BaseUtils","../../Core/_Events","../../BindingList"],function(e,t,n,i,o,r){"use strict";var s={reset:0,itemInserted:1,itemRemoved:2,itemChanged:3},a={Query:0,Result:1,Separator:2},l=n.Class.derive(Array,function(){},{reset:function(){this.length=0,this.dispatchEvent("vectorchanged",{collectionChange:s.reset,index:0})},insert:function(e,t){this.splice(e,0,t),this.dispatchEvent("vectorchanged",{collectionChange:s.itemInserted,index:e})},remove:function(e){this.splice(e,1),this.dispatchEvent("vectorchanged",{collectionChange:s.itemRemoved,index:e})}});n.Class.mix(l,o.eventMixin);var u=n.Class.define(function(){this._data=[]},{size:{get:function(){return this._data.length}},appendQuerySuggestion:function(e){this._data.push({kind:a.Query,text:e})},appendQuerySuggestions:function(e){e.forEach(this.appendQuerySuggestion.bind(this))},appendResultSuggestion:function(e,t,n,i,o){this._data.push({kind:a.Result,text:e,detailText:t,tag:n,imageUrl:i,imageAlternateText:o,image:null})},appendSearchSeparator:function(e){this._data.push({kind:a.Separator,text:e})}}),c=n.Class.define(function(e,t,n){this._queryText=e,this._language=t,this._linguisticDetails=n,this._searchSuggestionCollection=new u},{language:{get:function(){return this._language}},linguisticDetails:{get:function(){return this._linguisticDetails}},queryText:{get:function(){return this._queryText}},searchSuggestionCollection:{get:function(){return this._searchSuggestionCollection}},getDeferral:function(){return this._deferralSignal||(this._deferralSignal=new t)},_deferralSignal:null}),d=n.Class.define(function(){this._updateVector=this._updateVector.bind(this),this._suggestionVector=new l,this._query="",this._history={"":[]},this._dataSource=[],this.searchHistoryContext="",this.searchHistoryEnabled=!0},{addToHistory:function(e){if(e&&e.trim()){for(var t=this._history[this.searchHistoryContext],n=-1,i=0,o=t.length;i<o;i++){var r=t[i];if(r.text.toLowerCase()===e.toLowerCase()){n=i;break}}n>=0&&t.splice(n,1),t.splice(0,0,{text:e,kind:a.Query}),this._updateVector()}},clearHistory:function(){this._history[this.searchHistoryContext]=[],this._updateVector()},setLocalContentSuggestionSettings:function(e){},setQuery:function(e){function t(e){n._dataSource=e,n._updateVector()}var n=this;this._query=e;var i=new c(e);this.dispatchEvent("suggestionsrequested",{request:i}),i._deferralSignal?i._deferralSignal.promise.then(t.bind(this,i.searchSuggestionCollection._data)):t(i.searchSuggestionCollection._data)},searchHistoryContext:{get:function(){return""+this._searchHistoryContext},set:function(e){e=""+e,this._history[e]||(this._history[e]=[]),this._searchHistoryContext=e}},searchHistoryEnabled:{get:function(){return this._searchHistoryEnabled},set:function(e){this._searchHistoryEnabled=e}},suggestions:{get:function(){return this._suggestionVector}},_updateVector:function(){for(this.suggestions.insert(this.suggestions.length,{text:"",kind:a.Query});this.suggestions.length>1;)this.suggestions.remove(0);var e=0,t={};if(this.searchHistoryEnabled){var n=this._query.toLowerCase();this._history[this.searchHistoryContext].forEach(function(i){var o=i.text.toLowerCase();0===o.indexOf(n)&&(this.suggestions.insert(e,i),t[o]=!0,e++)},this)}this._dataSource.forEach(function(n){n.kind===a.Query?t[n.text.toLowerCase()]||(this.suggestions.insert(e,n),e++):(this.suggestions.insert(e,n),e++)},this),this.suggestions.remove(this.suggestions.length-1)}});n.Class.mix(d,o.eventMixin),n.Namespace._moduleDefine(e,null,{_CollectionChange:s,_SearchSuggestionKind:a,_SearchSuggestionManagerShim:d})}),i("require-style!less/styles-autosuggestbox",[],function(){}),i("require-style!less/colors-autosuggestbox",[],function(){}),i("WinJS/Controls/AutoSuggestBox",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementListUtilities","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../_Accents","../Animations","../BindingList","../Promise","./Repeater","./AutoSuggestBox/_SearchSuggestionManagerShim","require-style!less/styles-autosuggestbox","require-style!less/colors-autosuggestbox"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_){"use strict";d.createAccentRule("html.win-hoverable .win-autosuggestbox .win-autosuggestbox-suggestion-selected:hover",[{name:"background-color",value:d.ColorTypes.listSelectHover}]),d.createAccentRule(".win-autosuggestbox .win-autosuggestbox-suggestion-selected",[{name:"background-color",value:d.ColorTypes.listSelectRest}]),d.createAccentRule(".win-autosuggestbox .win-autosuggestbox-suggestion-selected.win-autosuggestbox-suggestion-selected:hover:active",[{name:"background-color",value:d.ColorTypes.listSelectPress}]);var g={asb:"win-autosuggestbox",asbDisabled:"win-autosuggestbox-disabled",asbFlyout:"win-autosuggestbox-flyout",asbFlyoutAbove:"win-autosuggestbox-flyout-above",asbBoxFlyoutHighlightText:"win-autosuggestbox-flyout-highlighttext",asbHitHighlightSpan:"win-autosuggestbox-hithighlight-span",asbInput:"win-autosuggestbox-input",asbInputFocus:"win-autosuggestbox-input-focus",asbSuggestionQuery:"win-autosuggestbox-suggestion-query",asbSuggestionResult:"win-autosuggestbox-suggestion-result",asbSuggestionResultText:"win-autosuggestbox-suggestion-result-text",asbSuggestionResultDetailedText:"win-autosuggestbox-suggestion-result-detailed-text",asbSuggestionSelected:"win-autosuggestbox-suggestion-selected",asbSuggestionSeparator:"win-autosuggestbox-suggestion-separator"};i.Namespace._moduleDefine(e,"WinJS.UI",{AutoSuggestBox:i.Namespace._lazy(function(){function e(e,n,i,o){function r(e,n,i){var o=t.document.createElement("span");return o.textContent=n,o.setAttribute("aria-hidden","true"),o.classList.add(g.asbHitHighlightSpan),e.insertBefore(o,i),o}if(i){l.query("."+g.asbHitHighlightSpan,e).forEach(function(e){e.parentNode.removeChild(e)});var s=e.firstChild,a=n.hits;!a&&o&&n.kind!==_._SearchSuggestionKind.Separator&&(a=o.find(i));for(var c=E._sortAndMergeHits(a),d=0,h=0;h<c.length;h++){var m=c[h];r(e,i.substring(d,m.startPosition),s),d=m.startPosition+m.length;var p=r(e,i.substring(m.startPosition,d),s);u.addClass(p,g.asbBoxFlyoutHighlightText)}d<i.length&&r(e,i.substring(d),s)}}function c(e){var t={ctrlKey:1,altKey:2,shiftKey:4},n=0;return e.ctrlKey&&(n|=t.ctrlKey),e.altKey&&(n|=t.altKey),e.shiftKey&&(n|=t.shiftKey),n}function d(n,i){function o(e){n._internalFocusMove=!0,n._inputElement.focus(),n._processSuggestionChosen(i,e)}var r=t.document.createElement("div"),a=new t.Image;a.style.opacity=0;var l=function(e){function t(){a.removeEventListener("load",t,!1),h.fadeIn(a)}a.addEventListener("load",t,!1),a.src=e};null!==i.image?i.image.openReadAsync().then(function(e){null!==e&&l(t.URL.createObjectURL(e,{oneTimeOnly:!0}))}):null!==i.imageUrl&&l(i.imageUrl),a.setAttribute("aria-hidden","true"),r.appendChild(a);var c=t.document.createElement("div");u.addClass(c,g.asbSuggestionResultText),e(c,i,i.text),c.title=i.text,c.setAttribute("aria-hidden","true"),r.appendChild(c);var d=t.document.createElement("br");c.appendChild(d);var m=t.document.createElement("span");u.addClass(m,g.asbSuggestionResultDetailedText),e(m,i,i.detailText),m.title=i.detailText,m.setAttribute("aria-hidden","true"),c.appendChild(m),u.addClass(r,g.asbSuggestionResult),u._addEventListener(r,"click",function(e){n._isFlyoutPointerDown||o(e)}),u._addEventListener(r,"pointerup",o),r.setAttribute("role","option");var p=s._formatString(C.ariaLabelResult,i.text,i.detailText);return r.setAttribute("aria-label",p),r}function v(n,i){function o(e){n._internalFocusMove=!0,n._inputElement.focus(),n._processSuggestionChosen(i,e)}var r=t.document.createElement("div");e(r,i,i.text),r.title=i.text,r.classList.add(g.asbSuggestionQuery),u._addEventListener(r,"click",function(e){n._isFlyoutPointerDown||o(e)}),u._addEventListener(r,"pointerup",o);var a=s._formatString(C.ariaLabelQuery,i.text);return r.setAttribute("role","option"),r.setAttribute("aria-label",a),r}function y(e){var n=t.document.createElement("div");if(e.text.length>0){var i=t.document.createElement("div");i.textContent=e.text,i.title=e.text,i.setAttribute("aria-hidden","true"),n.appendChild(i)}n.insertAdjacentHTML("beforeend","<hr/>"),u.addClass(n,g.asbSuggestionSeparator),n.setAttribute("role","separator");var o=s._formatString(C.ariaLabelSeparator,e.text);return n.setAttribute("aria-label",o),n}var b=u.Key,w={querychanged:"querychanged",querysubmitted:"querysubmitted",resultsuggestionchosen:"resultsuggestionchosen",suggestionsrequested:"suggestionsrequested"},C={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get invalidSuggestionKind(){return"Error: Invalid suggestion kind."},get ariaLabel(){return s._getWinJSString("ui/autoSuggestBoxAriaLabel").value},get ariaLabelInputNoPlaceHolder(){return s._getWinJSString("ui/autoSuggestBoxAriaLabelInputNoPlaceHolder").value},get ariaLabelInputPlaceHolder(){return s._getWinJSString("ui/autoSuggestBoxAriaLabelInputPlaceHolder").value},get ariaLabelQuery(){return s._getWinJSString("ui/autoSuggestBoxAriaLabelQuery").value},get ariaLabelResult(){return s._getWinJSString("ui/autoSuggestBoxAriaLabelResult").value},get ariaLabelSeparator(){return s._getWinJSString("ui/autoSuggestBoxAriaLabelSeparator").value}},E=i.Class.define(function(e,n){if(e=e||t.document.createElement("div"),n=n||{},e.winControl)throw new o("WinJS.UI.AutoSuggestBox.DuplicateConstruction",C.duplicateConstruction);this._suggestionsChangedHandler=this._suggestionsChangedHandler.bind(this),this._suggestionsRequestedHandler=this._suggestionsRequestedHandler.bind(this),this._element=e,e.winControl=this,e.classList.add(g.asb),e.classList.add("win-disposable"),this._setupDOM(),this._setupSSM(),this._chooseSuggestionOnEnter=!1,this._currentFocusedIndex=-1,this._currentSelectedIndex=-1,this._flyoutOpenPromise=p.wrap(),this._lastKeyPressLanguage="",this._prevLinguisticDetails=this._getLinguisticDetails(),this._prevQueryText="",a.setOptions(this,n),this._hideFlyout()},{onresultsuggestionchosen:r._createEventProperty(w.resultsuggestionchosen),onquerychanged:r._createEventProperty(w.querychanged),onquerysubmitted:r._createEventProperty(w.querysubmitted),onsuggestionsrequested:r._createEventProperty(w.suggestionsrequested),element:{get:function(){return this._element}},chooseSuggestionOnEnter:{get:function(){return this._chooseSuggestionOnEnter},set:function(e){this._chooseSuggestionOnEnter=!!e}},disabled:{get:function(){return this._inputElement.disabled},set:function(e){this._inputElement.disabled!==!!e&&(e?this._disableControl():this._enableControl())}},placeholderText:{get:function(){return this._inputElement.placeholder},set:function(e){this._inputElement.placeholder=e,this._updateInputElementAriaLabel()}},queryText:{get:function(){return this._inputElement.value},set:function(e){this._inputElement.value="",this._inputElement.value=e}},searchHistoryDisabled:{get:function(){return!this._suggestionManager.searchHistoryEnabled},set:function(e){this._suggestionManager.searchHistoryEnabled=!e}},searchHistoryContext:{get:function(){return this._suggestionManager.searchHistoryContext},set:function(e){this._suggestionManager.searchHistoryContext=e}},dispose:function(){this._disposed||(this._flyoutOpenPromise.cancel(),this._suggestions.removeEventListener("vectorchanged",this._suggestionsChangedHandler),this._suggestionManager.removeEventListener("suggestionsrequested",this._suggestionsRequestedHandler),this._suggestionManager=null,this._suggestions=null,this._hitFinder=null,this._disposed=!0)},setLocalContentSuggestionSettings:function(e){this._suggestionManager.setLocalContentSuggestionSettings(e)},_setupDOM:function(){function e(e){return r._renderSuggestion(e)}var n=this._flyoutPointerReleasedHandler.bind(this),i=this._inputOrImeChangeHandler.bind(this);this._element.getAttribute("aria-label")||this._element.setAttribute("aria-label",C.ariaLabel),this._element.setAttribute("role","group"),this._inputElement=t.document.createElement("input"),this._inputElement.autocorrect="off",this._inputElement.type="search",this._inputElement.classList.add(g.asbInput),this._inputElement.classList.add("win-textbox"),this._inputElement.setAttribute("role","textbox"),this._inputElement.addEventListener("keydown",this._keyDownHandler.bind(this)),this._inputElement.addEventListener("keypress",this._keyPressHandler.bind(this)),this._inputElement.addEventListener("keyup",this._keyUpHandler.bind(this)),this._inputElement.addEventListener("focus",this._inputFocusHandler.bind(this)),this._inputElement.addEventListener("blur",this._inputBlurHandler.bind(this)),this._inputElement.addEventListener("input",i),this._inputElement.addEventListener("compositionstart",i),this._inputElement.addEventListener("compositionupdate",i),this._inputElement.addEventListener("compositionend",i),u._addEventListener(this._inputElement,"pointerdown",this._inputPointerDownHandler.bind(this)),this._updateInputElementAriaLabel(),this._element.appendChild(this._inputElement);var o=this._tryGetInputContext();o&&(o.addEventListener("MSCandidateWindowShow",this._msCandidateWindowShowHandler.bind(this)),o.addEventListener("MSCandidateWindowHide",this._msCandidateWindowHideHandler.bind(this))),this._flyoutElement=t.document.createElement("div"),this._flyoutElement.classList.add(g.asbFlyout),this._flyoutElement.addEventListener("blur",this._flyoutBlurHandler.bind(this)),u._addEventListener(this._flyoutElement,"pointerup",n),u._addEventListener(this._flyoutElement,"pointercancel",n),u._addEventListener(this._flyoutElement,"pointerout",n),u._addEventListener(this._flyoutElement,"pointerdown",this._flyoutPointerDownHandler.bind(this)),this._element.appendChild(this._flyoutElement);var r=this;this._suggestionsData=new m.List,this._repeaterElement=t.document.createElement("div"),this._repeater=new f.Repeater(this._repeaterElement,{data:this._suggestionsData,template:e}),u._ensureId(this._repeaterElement),this._repeaterElement.setAttribute("role","listbox"),this._repeaterElement.setAttribute("aria-live","polite"),this._flyoutElement.appendChild(this._repeaterElement)},_setupSSM:function(){this._suggestionManager=new _._SearchSuggestionManagerShim,this._suggestions=this._suggestionManager.suggestions,this._suggestions.addEventListener("vectorchanged",this._suggestionsChangedHandler),this._suggestionManager.addEventListener("suggestionsrequested",this._suggestionsRequestedHandler)},_hideFlyout:function(){this._isFlyoutShown()&&(this._flyoutElement.style.display="none")},_showFlyout:function(){var e=this._prevNumSuggestions||0;if(this._prevNumSuggestions=this._suggestionsData.length,(!this._isFlyoutShown()||e!==this._suggestionsData.length)&&0!==this._suggestionsData.length){this._flyoutElement.style.display="block";var n=this._inputElement.getBoundingClientRect(),i=this._flyoutElement.getBoundingClientRect(),o=t.document.documentElement.clientWidth,r=n.top,s=t.document.documentElement.clientHeight-n.bottom;this._flyoutBelowInput=s>=r,this._flyoutBelowInput?(this._flyoutElement.classList.remove(g.asbFlyoutAbove),this._flyoutElement.scrollTop=0):(this._flyoutElement.classList.add(g.asbFlyoutAbove),this._flyoutElement.scrollTop=this._flyoutElement.scrollHeight-this._flyoutElement.clientHeight),this._addFlyoutIMEPaddingIfRequired();var a;a="rtl"===u._getComputedStyle(this._flyoutElement).direction?n.right-i.width>=0||n.left+i.width>o:n.left+i.width>o&&n.right-i.width>=0,a?this._flyoutElement.style.left=n.width-i.width-this._element.clientLeft+"px":this._flyoutElement.style.left="-"+this._element.clientLeft+"px",this._flyoutElement.style.touchAction=this._flyoutElement.scrollHeight>i.height?"pan-y":"none",this._flyoutOpenPromise.cancel();var l=this._flyoutBelowInput?"WinJS-flyoutBelowASB-showPopup":"WinJS-flyoutAboveASB-showPopup";this._flyoutOpenPromise=h.showPopup(this._flyoutElement,{top:"0px",left:"0px",keyframe:l})}},_addFlyoutIMEPaddingIfRequired:function(){var e=this._tryGetInputContext();if(e&&this._isFlyoutShown()&&this._flyoutBelowInput){var t=this._flyoutElement.getBoundingClientRect(),n=e.getCandidateWindowClientRect(),i=this._inputElement.getBoundingClientRect(),o=i.bottom,r=i.bottom+t.height;if(!(n.top>r||n.bottom<o)){var s=h.createRepositionAnimation(this._flyoutElement);n.width<.45*i.width?this._flyoutElement.style.marginLeft=n.width+"px":this._flyoutElement.style.marginTop=n.bottom-n.top+4+"px",s.execute()}}},_findNextSuggestionElementIndex:function(e){for(var t=e<0?0:e+1,n=t;n<this._suggestionsData.length;n++)if(this._repeater.elementFromIndex(n)&&this._isSuggestionSelectable(this._suggestionsData.getAt(n)))return n;return-1},_findPreviousSuggestionElementIndex:function(e){for(var t=e>=this._suggestionsData.length?this._suggestionsData.length-1:e-1,n=t;n>=0;n--)if(this._repeater.elementFromIndex(n)&&this._isSuggestionSelectable(this._suggestionsData.getAt(n)))return n;return-1},_isFlyoutShown:function(){return"none"!==this._flyoutElement.style.display},_isSuggestionSelectable:function(e){return e.kind===_._SearchSuggestionKind.Query||e.kind===_._SearchSuggestionKind.Result},_processSuggestionChosen:function(e,t){this.queryText=e.text,e.kind===_._SearchSuggestionKind.Query?this._submitQuery(e.text,!1,t):e.kind===_._SearchSuggestionKind.Result&&this._fireEvent(w.resultsuggestionchosen,{tag:e.tag,keyModifiers:c(t),storageFile:null}),this._hideFlyout()},_selectSuggestionAtIndex:function(e){function t(e){var t=n._flyoutElement.getBoundingClientRect().bottom-n._flyoutElement.getBoundingClientRect().top;if(e.offsetTop+e.offsetHeight>n._flyoutElement.scrollTop+t){var i=e.offsetTop+e.offsetHeight-(n._flyoutElement.scrollTop+t);u._zoomTo(n._flyoutElement,{contentX:0,contentY:n._flyoutElement.scrollTop+i,viewportX:0,viewportY:0})}else e.offsetTop<n._flyoutElement.scrollTop&&u._zoomTo(n._flyoutElement,{contentX:0,contentY:e.offsetTop,viewportX:0,viewportY:0})}for(var n=this,i=null,o=0;o<this._suggestionsData.length;o++)i=this._repeater.elementFromIndex(o),o!==e?(i.classList.remove(g.asbSuggestionSelected),i.setAttribute("aria-selected","false")):(i.classList.add(g.asbSuggestionSelected),t(i),i.setAttribute("aria-selected","true"));this._currentSelectedIndex=e,i?this._inputElement.setAttribute("aria-activedescendant",this._repeaterElement.id+e):this._inputElement.hasAttribute("aria-activedescendant")&&this._inputElement.removeAttribute("aria-activedescendant")},_updateFakeFocus:function(){var e;e=this._isFlyoutShown()&&this._chooseSuggestionOnEnter?this._findNextSuggestionElementIndex(-1):-1,this._selectSuggestionAtIndex(e)},_updateQueryTextWithSuggestionText:function(e){e>=0&&e<this._suggestionsData.length&&(this.queryText=this._suggestionsData.getAt(e).text)},_disableControl:function(){this._isFlyoutShown()&&this._hideFlyout(),this._element.disabled=!0,this._element.classList.add(g.asbDisabled),this._inputElement.disabled=!0},_enableControl:function(){this._element.disabled=!1,this._element.classList.remove(g.asbDisabled),this._inputElement.disabled=!1,t.document.activeElement===this._element&&u._setActive(this._inputElement)},_fireEvent:function(e,n){var i=t.document.createEvent("CustomEvent");return i.initCustomEvent(e,!0,!0,n),this._element.dispatchEvent(i)},_getLinguisticDetails:function(e,t){function i(e,t,i,o,r){for(var s=null,a=[],l=0;l<e.length;l++)a[l]=o+e[l]+r;if(n.Windows.ApplicationModel.Search.SearchQueryLinguisticDetails)try{s=new n.Windows.ApplicationModel.Search.SearchQueryLinguisticDetails(a,t,i)}catch(e){}return s||(s={queryTextAlternatives:a,queryTextCompositionStart:t,queryTextCompositionLength:i}),s}var o=null;if(this._inputElement.value===this._prevQueryText&&e&&this._prevLinguisticDetails&&t)o=this._prevLinguisticDetails;else{var r=[],s=0,a=0,l="",u="";if(t){var c=this._tryGetInputContext();c&&c.getCompositionAlternatives&&(r=c.getCompositionAlternatives(),s=c.compositionStartOffset,a=c.compositionEndOffset-c.compositionStartOffset,this._inputElement.value!==this._prevQueryText||0===this._prevCompositionLength||a>0?(l=this._inputElement.value.substring(0,s),u=this._inputElement.value.substring(s+a)):(l=this._inputElement.value.substring(0,this._prevCompositionStart),u=this._inputElement.value.substring(this._prevCompositionStart+this._prevCompositionLength)))}o=i(r,s,a,l,u)}return o},_isElementInSearchControl:function(e){return this.element.contains(e)||this.element===e},_renderSuggestion:function(e){var t=null;if(!e)return t;if(e.kind===_._SearchSuggestionKind.Query)t=v(this,e);else if(e.kind===_._SearchSuggestionKind.Separator)t=y(e);else{if(e.kind!==_._SearchSuggestionKind.Result)throw new o("WinJS.UI.AutoSuggestBox.invalidSuggestionKind",C.invalidSuggestionKind);t=d(this,e)}return t},_shouldIgnoreInput:function(){var e=this._isProcessingDownKey||this._isProcessingUpKey||this._isProcessingTabKey||this._isProcessingEnterKey;return e||this._isFlyoutPointerDown},_submitQuery:function(e,t,i){this._disposed||(n.Windows.Globalization.Language&&(this._lastKeyPressLanguage=n.Windows.Globalization.Language.currentInputMethodLanguageTag),this._fireEvent(w.querysubmitted,{language:this._lastKeyPressLanguage,linguisticDetails:this._getLinguisticDetails(!0,t),queryText:e,keyModifiers:c(i)}),this._suggestionManager&&this._suggestionManager.addToHistory(this._inputElement.value,this._lastKeyPressLanguage))},_tryGetInputContext:function(){if(this._inputElement.msGetInputContext)try{return this._inputElement.msGetInputContext()}catch(e){return null}return null},_updateInputElementAriaLabel:function(){this._inputElement.setAttribute("aria-label",this._inputElement.placeholder?s._formatString(C.ariaLabelInputPlaceHolder,this._inputElement.placeholder):C.ariaLabelInputNoPlaceHolder)},_flyoutBlurHandler:function(e){this._isElementInSearchControl(t.document.activeElement)?this._internalFocusMove=!0:(this._element.classList.remove(g.asbInputFocus),this._hideFlyout())},_flyoutPointerDownHandler:function(e){function t(){if(i)for(var e=0;e<n._suggestionsData.length;e++)if(n._repeater.elementFromIndex(e)===i)return e;return-1}var n=this,i=e.target;for(this._isFlyoutPointerDown=!0;i&&i.parentNode!==this._repeaterElement;)i=i.parentNode;var o=t();o>=0&&o<this._suggestionsData.length&&this._currentFocusedIndex!==o&&this._isSuggestionSelectable(this._suggestionsData.getAt(o))&&(this._currentFocusedIndex=o,this._selectSuggestionAtIndex(o),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)),e.preventDefault()},_flyoutPointerReleasedHandler:function(){if(this._isFlyoutPointerDown=!1,this._reflowImeOnPointerRelease){this._reflowImeOnPointerRelease=!1;
var e=h.createRepositionAnimation(this._flyoutElement);this._flyoutElement.style.marginTop="",this._flyoutElement.style.marginLeft="",e.execute()}},_inputBlurHandler:function(e){this._isElementInSearchControl(t.document.activeElement)||(this._element.classList.remove(g.asbInputFocus),this._hideFlyout()),this.queryText=this._prevQueryText,this._isProcessingDownKey=!1,this._isProcessingUpKey=!1,this._isProcessingTabKey=!1,this._isProcessingEnterKey=!1},_inputFocusHandler:function(e){this._inputElement.value!==this._prevQueryText&&n.Windows.Data.Text.SemanticTextQuery&&(""!==this._inputElement.value?this._hitFinder=new n.Windows.Data.Text.SemanticTextQuery(this._inputElement.value,this._inputElement.lang):this._hitFinder=null),e.target!==this._inputElement||this._internalFocusMove||(this._showFlyout(),this._currentFocusedIndex!==-1?this._selectSuggestionAtIndex(this._currentFocusedIndex):this._updateFakeFocus(),this._suggestionManager.setQuery(this._inputElement.value,this._lastKeyPressLanguage,this._getLinguisticDetails(!0,!0))),this._internalFocusMove=!1,this._element.classList.add(g.asbInputFocus)},_inputOrImeChangeHandler:function(){function e(e){var n=!1;return t._prevLinguisticDetails.queryTextCompositionStart===e.queryTextCompositionStart&&t._prevLinguisticDetails.queryTextCompositionLength===e.queryTextCompositionLength&&t._prevLinguisticDetails.queryTextAlternatives.length===e.queryTextAlternatives.length||(n=!0),t._prevLinguisticDetails=e,n}var t=this;if(!this._shouldIgnoreInput()){var i=this._getLinguisticDetails(!1,!0),e=e(i);if((this._inputElement.value!==this._prevQueryText||0===this._prevCompositionLength||i.queryTextCompositionLength>0)&&(this._prevCompositionStart=i.queryTextCompositionStart,this._prevCompositionLength=i.queryTextCompositionLength),this._prevQueryText===this._inputElement.value&&!e)return;this._prevQueryText=this._inputElement.value,n.Windows.Globalization.Language&&(this._lastKeyPressLanguage=n.Windows.Globalization.Language.currentInputMethodLanguageTag),n.Windows.Data.Text.SemanticTextQuery&&(""!==this._inputElement.value?this._hitFinder=new n.Windows.Data.Text.SemanticTextQuery(this._inputElement.value,this._lastKeyPressLanguage):this._hitFinder=null),this._fireEvent(w.querychanged,{language:this._lastKeyPressLanguage,queryText:this._inputElement.value,linguisticDetails:i}),this._suggestionManager.setQuery(this._inputElement.value,this._lastKeyPressLanguage,i)}},_inputPointerDownHandler:function(){t.document.activeElement===this._inputElement&&this._currentSelectedIndex!==-1&&(this._currentFocusedIndex=-1,this._selectSuggestionAtIndex(this._currentFocusedIndex))},_keyDownHandler:function(e){function t(t){n._currentFocusedIndex=t,n._selectSuggestionAtIndex(t),e.preventDefault(),e.stopPropagation()}var n=this;if(this._lastKeyPressLanguage=e.locale,e.keyCode===b.tab?this._isProcessingTabKey=!0:e.keyCode===b.upArrow?this._isProcessingUpKey=!0:e.keyCode===b.downArrow?this._isProcessingDownKey=!0:e.keyCode===b.enter&&"ko"===e.locale&&(this._isProcessingEnterKey=!0),e.keyCode!==b.IME)if(e.keyCode===b.tab){var i=!0;e.shiftKey?this._currentFocusedIndex!==-1&&(t(-1),i=!1):this._currentFocusedIndex===-1&&(this._currentFocusedIndex=this._flyoutBelowInput?this._findNextSuggestionElementIndex(this._currentFocusedIndex):this._findPreviousSuggestionElementIndex(this._suggestionsData.length),this._currentFocusedIndex!==-1&&(t(this._currentFocusedIndex),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex),i=!1)),i&&this._hideFlyout()}else if(e.keyCode===b.escape)this._currentFocusedIndex!==-1?(this.queryText=this._prevQueryText,t(-1)):""!==this.queryText&&(this.queryText="",this._inputOrImeChangeHandler(null),e.preventDefault(),e.stopPropagation());else if(this._flyoutBelowInput&&e.keyCode===b.upArrow||!this._flyoutBelowInput&&e.keyCode===b.downArrow){var o;this._currentSelectedIndex!==-1?(o=this._findPreviousSuggestionElementIndex(this._currentSelectedIndex),o===-1&&(this.queryText=this._prevQueryText)):o=this._findPreviousSuggestionElementIndex(this._suggestionsData.length),t(o),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)}else if(this._flyoutBelowInput&&e.keyCode===b.downArrow||!this._flyoutBelowInput&&e.keyCode===b.upArrow){var r=this._findNextSuggestionElementIndex(this._currentSelectedIndex);this._currentSelectedIndex!==-1&&r===-1&&(this.queryText=this._prevQueryText),t(r),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)}else e.keyCode===b.enter&&(this._currentSelectedIndex===-1?this._submitQuery(this._inputElement.value,!0,e):this._processSuggestionChosen(this._suggestionsData.getAt(this._currentSelectedIndex),e),this._hideFlyout())},_keyUpHandler:function(e){e.keyCode===b.tab?this._isProcessingTabKey=!1:e.keyCode===b.upArrow?this._isProcessingUpKey=!1:e.keyCode===b.downArrow?this._isProcessingDownKey=!1:e.keyCode===b.enter&&(this._isProcessingEnterKey=!1)},_keyPressHandler:function(e){this._lastKeyPressLanguage=e.locale},_msCandidateWindowHideHandler:function(){if(this._isFlyoutPointerDown)this._reflowImeOnPointerRelease=!0;else{var e=h.createRepositionAnimation(this._flyoutElement);this._flyoutElement.style.marginTop="",this._flyoutElement.style.marginLeft="",e.execute()}},_msCandidateWindowShowHandler:function(){this._addFlyoutIMEPaddingIfRequired(),this._reflowImeOnPointerRelease=!1},_suggestionsChangedHandler:function(n){var i=n.collectionChange||n.detail.collectionChange,o=+n.index===n.index?n.index:n.detail.index,r=_._CollectionChange;if(i===r.reset)this._isFlyoutShown()&&this._hideFlyout(),this._suggestionsData.splice(0,this._suggestionsData.length);else if(i===r.itemInserted){var s=this._suggestions[o];this._suggestionsData.splice(o,0,s),this._showFlyout()}else if(i===r.itemRemoved)1===this._suggestionsData.length&&(u._setActive(this._inputElement),this._hideFlyout()),this._suggestionsData.splice(o,1);else if(i===r.itemChanged){var s=this._suggestions[o];if(s!==this._suggestionsData.getAt(o))this._suggestionsData.setAt(o,s);else{var a=this._repeater.elementFromIndex(o);if(u.hasClass(a,g.asbSuggestionQuery))e(a,s,s.text);else{var l=a.querySelector("."+g.asbSuggestionResultText);if(l){e(l,s,s.text);var c=a.querySelector("."+g.asbSuggestionResultDetailedText);c&&e(c,s,s.detailText)}}}}t.document.activeElement===this._inputElement&&this._updateFakeFocus()},_suggestionsRequestedHandler:function(e){n.Windows.Globalization.Language&&(this._lastKeyPressLanguage=n.Windows.Globalization.Language.currentInputMethodLanguageTag);var t,i=e.request||e.detail.request;this._fireEvent(w.suggestionsrequested,{setPromise:function(e){t=i.getDeferral(),e.then(function(){t.complete()})},searchSuggestionCollection:i.searchSuggestionCollection,language:this._lastKeyPressLanguage,linguisticDetails:this._getLinguisticDetails(!0,!0),queryText:this._inputElement.value})}},{createResultSuggestionImage:function(e){return n.Windows.Foundation.Uri&&n.Windows.Storage.Streams.RandomAccessStreamReference?n.Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new n.Windows.Foundation.Uri(e)):e},_EventNames:w,_sortAndMergeHits:function(e){function t(e,t){var n=0;return e.startPosition<t.startPosition?n=-1:e.startPosition>t.startPosition&&(n=1),n}function n(e,t,n){if(0===n)e.push(t);else{var i=e[e.length-1],o=i.startPosition+i.length;if(t.startPosition<=o){var r=t.startPosition+t.length;r>o&&(i.length=r-i.startPosition)}else e.push(t)}return e}var i=[];if(e){for(var o=new Array(e.length),r=0;r<e.length;r++)o.push({startPosition:e[r].startPosition,length:e[r].length});o.sort(t),o.reduce(n,i)}return i}});return i.Class.mix(E,a.DOMEventMixin),E})}),e.ClassNames=g}),i("require-style!less/styles-searchbox",[],function(){}),i("require-style!less/colors-searchbox",[],function(){}),i("WinJS/Controls/SearchBox",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","./AutoSuggestBox","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","./AutoSuggestBox/_SearchSuggestionManagerShim","../Application","require-style!less/styles-searchbox","require-style!less/colors-searchbox"],function(e,t,n,i,o,r,s,a,l,u,c,d){"use strict";a.createAccentRule("html.win-hoverable .win-searchbox-button:not(.win-searchbox-button-disabled):hover",[{name:"color",value:a.ColorTypes.accent}]),a.createAccentRule(".win-searchbox-button.win-searchbox-button:not(.win-searchbox-button-disabled):hover:active",[{name:"background-color",value:a.ColorTypes.accent}]),n.Namespace.define("WinJS.UI",{SearchBox:n.Namespace._lazy(function(){var i={searchBox:"win-searchbox",searchBoxDisabled:"win-searchbox-disabled",searchBoxInput:"win-searchbox-input",searchBoxInputFocus:"win-searchbox-input-focus",searchBoxButton:"win-searchbox-button",searchBoxFlyout:"win-searchbox-flyout",searchBoxFlyoutHighlightText:"win-searchbox-flyout-highlighttext",searchBoxHitHighlightSpan:"win-searchbox-hithighlight-span",searchBoxSuggestionResult:"win-searchbox-suggestion-result",searchBoxSuggestionResultText:"win-searchbox-suggestion-result-text",searchBoxSuggestionResultDetailedText:"win-searchbox-suggestion-result-detailed-text",searchBoxSuggestionSelected:"win-searchbox-suggestion-selected",searchBoxSuggestionQuery:"win-searchbox-suggestion-query",searchBoxSuggestionSeparator:"win-searchbox-suggestion-separator",searchBoxButtonInputFocus:"win-searchbox-button-input-focus",searchBoxButtonDisabled:"win-searchbox-button-disabled"},o={receivingfocusonkeyboardinput:"receivingfocusonkeyboardinput"},a={get invalidSearchBoxSuggestionKind(){return"Error: Invalid search suggestion kind."},get ariaLabel(){return r._getWinJSString("ui/searchBoxAriaLabel").value},get ariaLabelInputNoPlaceHolder(){return r._getWinJSString("ui/searchBoxAriaLabelInputNoPlaceHolder").value},get ariaLabelInputPlaceHolder(){return r._getWinJSString("ui/searchBoxAriaLabelInputPlaceHolder").value},get searchBoxDeprecated(){return"SearchBox is deprecated and may not be available in future releases. Instead use AutoSuggestBox."}},h=n.Class.derive(s.AutoSuggestBox,function(t,n){u._deprecated(a.searchBoxDeprecated),this._requestingFocusOnKeyboardInputHandlerBind=this._requestingFocusOnKeyboardInputHandler.bind(this),this._buttonElement=e.document.createElement("div"),this._focusOnKeyboardInput=!1,s.AutoSuggestBox.call(this,t,n),this.element.classList.add(i.searchBox),this._flyoutElement.classList.add(i.searchBoxFlyout),this._inputElement.classList.add(i.searchBoxInput),this._inputElement.addEventListener("blur",this._searchboxInputBlurHandler.bind(this)),this._inputElement.addEventListener("focus",this._searchboxInputFocusHandler.bind(this)),this._buttonElement.tabIndex=-1,this._buttonElement.classList.add(i.searchBoxButton),this._buttonElement.addEventListener("click",this._buttonClickHandler.bind(this)),u._addEventListener(this._buttonElement,"pointerdown",this._buttonPointerDownHandler.bind(this)),this.element.appendChild(this._buttonElement)},{focusOnKeyboardInput:{get:function(){return this._focusOnKeyboardInput},set:function(e){this._focusOnKeyboardInput&&!e?d._applicationListener.removeEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind):!this._focusOnKeyboardInput&&e&&d._applicationListener.addEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind),this._focusOnKeyboardInput=!!e}},dispose:function(){this._disposed||(s.AutoSuggestBox.prototype.dispose.call(this),this._focusOnKeyboardInput&&d._applicationListener.removeEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind))},_disableControl:function(){s.AutoSuggestBox.prototype._disableControl.call(this),this._buttonElement.disabled=!0,this._buttonElement.classList.add(i.searchBoxButtonDisabled),this.element.classList.add(i.searchBoxDisabled)},_enableControl:function(){s.AutoSuggestBox.prototype._enableControl.call(this),this._buttonElement.disabled=!1,this._buttonElement.classList.remove(i.searchBoxButtonDisabled),this.element.classList.remove(i.searchBoxDisabled)},_renderSuggestion:function(e){var t=s.AutoSuggestBox.prototype._renderSuggestion.call(this,e);if(e.kind===c._SearchSuggestionKind.Query)t.classList.add(i.searchBoxSuggestionQuery);else if(e.kind===c._SearchSuggestionKind.Separator)t.classList.add(i.searchBoxSuggestionSeparator);else{t.classList.add(i.searchBoxSuggestionResult);var n=t.querySelector("."+s.ClassNames.asbSuggestionResultText);n.classList.add(i.searchBoxSuggestionResultText);var o=t.querySelector("."+s.ClassNames.asbSuggestionResultDetailedText);o.classList.add(i.searchBoxSuggestionResultDetailedText);for(var r=t.querySelectorAll("."+s.ClassNames.asbHitHighlightSpan),a=0,l=r.length;a<l;a++)r[a].classList.add(i.searchBoxHitHighlightSpan);for(var u=t.querySelectorAll("."+s.ClassNames.asbBoxFlyoutHighlightText),a=0,l=u.length;a<l;a++)u[a].classList.add(i.searchBoxFlyoutHighlightText)}return t},_selectSuggestionAtIndex:function(e){s.AutoSuggestBox.prototype._selectSuggestionAtIndex.call(this,e);var t=this.element.querySelector("."+i.searchBoxSuggestionSelected);t&&t.classList.remove(i.searchBoxSuggestionSelected);var n=this.element.querySelector("."+s.ClassNames.asbSuggestionSelected);n&&n.classList.add(i.searchBoxSuggestionSelected)},_shouldIgnoreInput:function(){var e=s.AutoSuggestBox.prototype._shouldIgnoreInput(),t=u._matchesSelector(this._buttonElement,":active");return e||t},_updateInputElementAriaLabel:function(){this._inputElement.setAttribute("aria-label",this._inputElement.placeholder?r._formatString(a.ariaLabelInputPlaceHolder,this._inputElement.placeholder):a.ariaLabelInputNoPlaceHolder)},_buttonPointerDownHandler:function(e){this._inputElement.focus(),e.preventDefault()},_buttonClickHandler:function(e){this._inputElement.focus(),this._submitQuery(this._inputElement.value,!0,e),this._hideFlyout()},_searchboxInputBlurHandler:function(){u.removeClass(this.element,i.searchBoxInputFocus),u.removeClass(this._buttonElement,i.searchBoxButtonInputFocus)},_searchboxInputFocusHandler:function(){u.addClass(this.element,i.searchBoxInputFocus),u.addClass(this._buttonElement,i.searchBoxButtonInputFocus)},_requestingFocusOnKeyboardInputHandler:function(){if(this._fireEvent(o.receivingfocusonkeyboardinput,null),e.document.activeElement!==this._inputElement)try{this._inputElement.focus()}catch(e){}}},{createResultSuggestionImage:function(e){return u._deprecated(a.searchBoxDeprecated),t.Windows.Foundation.Uri&&t.Windows.Storage.Streams.RandomAccessStreamReference?t.Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new t.Windows.Foundation.Uri(e)):e},_getKeyModifiers:function(e){var t={ctrlKey:1,altKey:2,shiftKey:4},n=0;return e.ctrlKey&&(n|=t.ctrlKey),e.altKey&&(n|=t.altKey),e.shiftKey&&(n|=t.shiftKey),n},_isTypeToSearchKey:function(e){return!(e.shiftKey||e.ctrlKey||e.altKey)}});return n.Class.mix(h,l.DOMEventMixin),h})})}),i("WinJS/Controls/SettingsFlyout",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Pages","../Promise","../_LightDismissService","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_ElementListUtilities","../Utilities/_Hoverable","./_LegacyAppBar/_Constants","./Flyout/_Overlay"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g){"use strict";n.Namespace.define("WinJS.UI",{SettingsFlyout:n.Namespace._lazy(function(){function i(){if(t.Windows.UI.ApplicationSettings.SettingsEdgeLocation){var e=t.Windows.UI.ApplicationSettings;return e.SettingsPane.edge===e.SettingsEdgeLocation.left}return!1}function f(e,t){for(var n,i,o=e.querySelectorAll("."+_.settingsFlyoutClass),r=0;r<o.length;r++)if(i=o[r].winControl){if(i.settingsCommandId===t){n=i;break}o[r].id===t&&(n=n||i)}return n}var v,y=m.Key,b=r._createEventProperty,w="narrow",C="wide",E=n.Class.derive(g._Overlay,function(t,n){m._deprecated(I.settingsFlyoutIsDeprecated),this._element=t||e.document.createElement("div"),this._id=this._element.id||m._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),this._baseOverlayConstructor(this._element,n),this._addFirstDiv(),this._addFinalDiv(),this._element.addEventListener("keydown",this._handleKeyDown,!0),this._element.style.visibilty="hidden",this._element.style.display="none",m.addClass(this._element,_.settingsFlyoutClass);var i=this;this._dismissable=new d.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){i.hide()},onTakeFocus:function(e){if(!i._dismissable.restoreFocus()){var t=i.element.querySelector("."+_.firstDivClass);t&&(t.msSettingsFlyoutFocusOut||(m._addEventListener(t,"focusout",function(){v=1},!1),t.msSettingsFlyoutFocusOut=!0),v=0,m._tryFocus(t,e))}}}),p.query("div.win-content",this._element).forEach(function(e){m._matchesSelector(e,".win-ui-dark, .win-ui-dark *")||m.addClass(e,_.flyoutLightClass)});var o=this._element.getAttribute("role");null!==o&&""!==o&&void 0!==o||this._element.setAttribute("role","dialog");var r=this._element.getAttribute("aria-label");null!==r&&""!==r&&void 0!==r||this._element.setAttribute("aria-label",I.ariaLabel),this._currentAnimateIn=this._animateSlideIn,this._currentAnimateOut=this._animateSlideOut,this._writeProfilerMark("constructor,StopTM")},{width:{get:function(){return this._width},set:function(e){m._deprecated(I.widthDeprecationMessage),e!==this._width&&(this._width===w?m.removeClass(this._element,_.narrowClass):this._width===C&&m.removeClass(this._element,_.wideClass),this._width=e,this._width===w?m.addClass(this._element,_.narrowClass):this._width===C&&m.addClass(this._element,_.wideClass))}},settingsCommandId:{get:function(){return this._settingsCommandId},set:function(e){this._settingsCommandId=e}},disabled:{get:function(){return!!this._element.disabled},set:function(e){e=!!e;var t=!!this._element.disabled;t!==e&&(this._element.disabled=e,!this.hidden&&this._element.disabled&&this._dismiss())}},onbeforeshow:b(g._Overlay.beforeShow),onaftershow:b(g._Overlay.afterShow),onbeforehide:b(g._Overlay.beforeHide),onafterhide:b(g._Overlay.afterHide),show:function(){this.disabled||(this._writeProfilerMark("show,StartTM"),this._show())},_dispose:function(){d.hidden(this._dismissable),h.disposeSubTree(this.element),this._dismiss()},_show:function(){if(this._baseShow()){if(!m.hasClass(this.element.children[0],_.firstDivClass)){var e=this.element.querySelectorAll("."+_.firstDivClass);e&&e.length>0&&e.item(0).parentNode.removeChild(e.item(0)),this._addFirstDiv()}if(!m.hasClass(this.element.children[this.element.children.length-1],_.finalDivClass)){var t=this.element.querySelectorAll("."+_.finalDivClass);t&&t.length>0&&t.item(0).parentNode.removeChild(t.item(0)),this._addFinalDiv()}this._setBackButtonsAriaLabel(),d.shown(this._dismissable)}},_setBackButtonsAriaLabel:function(){for(var e,t=this.element.querySelectorAll(".win-backbutton"),n=0;n<t.length;n++)e=t[n].getAttribute("aria-label"),null!==e&&""!==e&&void 0!==e||t[n].setAttribute("aria-label",I.backbuttonAriaLabel)},hide:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(){this._baseHide()},_beforeEndHide:function(){d.hidden(this._dismissable)},_animateSlideIn:function(){var e=i(),t=e?"-100px":"100px";p.query("div.win-content",this._element).forEach(function(e){l.enterPage(e,{left:t})});var n,o=this._element.offsetWidth;return e?(n={top:"0px",left:"-"+o+"px"},this._element.style.right="auto",this._element.style.left="0px"):(n={top:"0px",left:o+"px"},this._element.style.right="0px",this._element.style.left="auto"),this._element.style.opacity=1,this._element.style.visibility="visible",l.showPanel(this._element,n)},_animateSlideOut:function(){var e,t=this._element.offsetWidth;return i()?(e={top:"0px",left:t+"px"},this._element.style.right="auto",this._element.style.left="-"+t+"px"):(e={top:"0px",left:"-"+t+"px"},this._element.style.right="-"+t+"px",this._element.style.left="auto"),l.showPanel(this._element,e)},_fragmentDiv:{get:function(){return this._fragDiv},set:function(e){this._fragDiv=e}},_unloadPage:function(t){var n=t.currentTarget.winControl;n.removeEventListener(g._Overlay.afterHide,this._unloadPage,!1),c.as().then(function(){n._fragmentDiv&&(e.document.body.removeChild(n._fragmentDiv),n._fragmentDiv=null)})},_dismiss:function(){this.addEventListener(g._Overlay.afterHide,this._unloadPage,!1),this._hide()},_handleKeyDown:function(t){if(t.keyCode!==y.space&&t.keyCode!==y.enter||this.children[0]!==e.document.activeElement){if(t.shiftKey&&t.keyCode===y.tab&&this.children[0]===e.document.activeElement){t.preventDefault(),t.stopPropagation();for(var n=this.getElementsByTagName("*"),i=n.length-2;i>=0&&(n[i].focus(),n[i]!==e.document.activeElement);i--);}}else t.preventDefault(),t.stopPropagation(),this.winControl._dismiss()},_focusOnLastFocusableElementFromParent:function(){var t=e.document.activeElement;if(v&&t&&m.hasClass(t,_.firstDivClass)){var n=this.parentElement.getElementsByTagName("*");if(!(n.length<=2)){var i,o=n[n.length-1].tabIndex;if(o){for(i=n.length-2;i>0;i--)if(n[i].tabIndex===o){n[i].focus();break}}else for(i=n.length-2;i>0&&("DIV"===n[i].tagName&&null===n[i].getAttribute("tabIndex")||(n[i].focus(),n[i]!==e.document.activeElement));i--);}}},_focusOnFirstFocusableElementFromParent:function(){var t=e.document.activeElement;if(t&&m.hasClass(t,_.finalDivClass)){var n=this.parentElement.getElementsByTagName("*");if(!(n.length<=2)){var i,o=n[0].tabIndex;if(o){for(i=1;i<n.length-1;i++)if(n[i].tabIndex===o){n[i].focus();break}}else for(i=1;i<n.length-1&&("DIV"===n[i].tagName&&null===n[i].getAttribute("tabIndex")||(n[i].focus(),n[i]!==e.document.activeElement));i++);}}},_addFirstDiv:function(){for(var t=this._element.getElementsByTagName("*"),n=0,i=0;i<t.length;i++)0<t[i].tabIndex&&(0===n||t[i].tabIndex<n)&&(n=t[i].tabIndex);var o=e.document.createElement("div");o.className=_.firstDivClass,o.style.display="inline",o.setAttribute("role","menuitem"),o.setAttribute("aria-hidden","true"),o.tabIndex=n,m._addEventListener(o,"focusin",this._focusOnLastFocusableElementFromParent,!1),this._element.children[0]?this._element.insertBefore(o,this._element.children[0]):this._element.appendChild(o)},_addFinalDiv:function(){for(var t=this._element.getElementsByTagName("*"),n=0,i=0;i<t.length;i++)t[i].tabIndex>n&&(n=t[i].tabIndex);var o=e.document.createElement("div");o.className=_.finalDivClass,o.style.display="inline",o.setAttribute("role","menuitem"),o.setAttribute("aria-hidden","true"),o.tabIndex=n,m._addEventListener(o,"focusin",this._focusOnFirstFocusableElementFromParent,!1),this._element.appendChild(o)},_writeProfilerMark:function(e){a("WinJS.UI.SettingsFlyout:"+this._id+":"+e)}});E.show=function(){t.Windows.UI.ApplicationSettings.SettingsPane&&t.Windows.UI.ApplicationSettings.SettingsPane.show();for(var n=e.document.querySelectorAll('div[data-win-control="WinJS.UI.SettingsFlyout"]'),i=n.length,o=0;o<i;o++){var r=n[o].winControl;r&&r._dismiss()}};var S={event:void 0};E.populateSettings=function(e){if(S.event=e.detail,S.event.applicationcommands){var n=t.Windows.UI.ApplicationSettings;Object.keys(S.event.applicationcommands).forEach(function(e){var t=S.event.applicationcommands[e];t.title||(t.title=e);var i=new n.SettingsCommand(e,t.title,E._onSettingsCommand);S.event.e.request.applicationCommands.append(i)})}},E._onSettingsCommand=function(e){var t=e.id;S.event.applicationcommands&&S.event.applicationcommands[t]&&E.showSettings(t,S.event.applicationcommands[t].href)},E.showSettings=function(t,n){var i=f(e.document,t);if(i)i.show();else{if(!n)throw new o("WinJS.UI.SettingsFlyout.BadReference",I.badReference);var r=e.document.createElement("div");r=e.document.body.appendChild(r),u.render(n,r).then(function(){i=f(r,t),i?(i._fragmentDiv=r,i.show()):e.document.body.removeChild(r)})}};var I={get ariaLabel(){return s._getWinJSString("ui/settingsFlyoutAriaLabel").value},get badReference(){return"Invalid argument: Invalid href to settings flyout fragment"},get backbuttonAriaLabel(){return s._getWinJSString("ui/backbuttonarialabel").value},get widthDeprecationMessage(){return"SettingsFlyout.width may be altered or unavailable in future versions. Instead, style the CSS width property on elements with the .win-settingsflyout class."},get settingsFlyoutIsDeprecated(){return"SettingsFlyout is deprecated and may not be available in future releases. Instead, put settings on their own page within the app."}};return E})})}),i("require-style!less/styles-splitviewcommand",[],function(){}),i("require-style!less/colors-splitviewcommand",[],function(){}),i("WinJS/Controls/SplitView/Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Events","../../ControlProcessor","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior","../AppBar/_Icon","require-style!less/styles-splitviewcommand","require-style!less/colors-splitviewcommand"],function(e,t,n,i,o,r,s,a,l,u){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{_WinPressed:n.Namespace._lazy(function(){var e=n.Class.define(function(e){this._element=e,a._addEventListener(this._element,"pointerdown",this._MSPointerDownButtonHandler.bind(this))},{_MSPointerDownButtonHandler:function(n){this._pointerUpBound||(this._pointerUpBound=this._MSPointerUpHandler.bind(this),this._pointerCancelBound=this._MSPointerCancelHandler.bind(this),this._pointerOverBound=this._MSPointerOverHandler.bind(this),this._pointerOutBound=this._MSPointerOutHandler.bind(this)),n.isPrimary&&(this._pointerId&&this._resetPointer(),a._matchesSelector(n.target,".win-interactive, .win-interactive *")||(this._pointerId=n.pointerId,a._addEventListener(t,"pointerup",this._pointerUpBound,!0),a._addEventListener(t,"pointercancel",this._pointerCancelBound),!0,a._addEventListener(this._element,"pointerover",this._pointerOverBound,!0),a._addEventListener(this._element,"pointerout",this._pointerOutBound,!0),a.addClass(this._element,e.winPressed)))},_MSPointerOverHandler:function(t){this._pointerId===t.pointerId&&a.addClass(this._element,e.winPressed)},_MSPointerOutHandler:function(t){this._pointerId===t.pointerId&&a.removeClass(this._element,e.winPressed)},_MSPointerCancelHandler:function(e){this._pointerId===e.pointerId&&this._resetPointer()},_MSPointerUpHandler:function(e){this._pointerId===e.pointerId&&this._resetPointer()},_resetPointer:function(){this._pointerId=null,a._removeEventListener(t,"pointerup",this._pointerUpBound,!0),a._removeEventListener(t,"pointercancel",this._pointerCancelBound,!0),a._removeEventListener(this._element,"pointerover",this._pointerOverBound,!0),a._removeEventListener(this._element,"pointerout",this._pointerOutBound,!0),a.removeClass(this._element,e.winPressed)},dispose:function(){this._disposed||(this._disposed=!0,this._resetPointer())}},{winPressed:"win-pressed"});return e}),SplitViewCommand:n.Namespace._lazy(function(){var c=a.Key,d={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},h={command:"win-splitviewcommand",commandButton:"win-splitviewcommand-button",commandButtonContent:"win-splitviewcommand-button-content",commandSplitButton:"win-splitviewcommand-splitbutton",commandSplitButtonOpened:"win-splitviewcommand-splitbutton-opened",commandIcon:"win-splitviewcommand-icon",commandLabel:"win-splitviewcommand-label"},m={invoked:"invoked",_splitToggle:"_splittoggle"},p=o._createEventProperty,f=n.Class.define(function(e,n){if(e=e||t.document.createElement("DIV"),n=n||{},e.winControl)throw new i("WinJS.UI.SplitViewCommand.DuplicateConstruction",d.duplicateConstruction);this._winKeyboard=new l._WinKeyboard(e),this._baseConstructor(e,n)},{_baseConstructor:function(e,t,n){this._classNames=n||h,e.winControl=this,this._element=e,a.addClass(this.element,this._classNames.command),a.addClass(this.element,"win-disposable"),this._tooltip=null,this._splitOpened=!1,this._buildDom(),e.addEventListener("keydown",this._keydownHandler.bind(this)),s.setOptions(this,t)},element:{get:function(){return this._element}},label:{get:function(){return this._label},set:function(e){this._label=e,this._labelEl.textContent=e}},tooltip:{get:function(){return this._tooltip},set:function(e){this._tooltip=e,this._tooltip||""===this._tooltip?this._element.setAttribute("title",this._tooltip):this._element.removeAttribute("title")}},icon:{get:function(){return this._icon},set:function(e){this._icon=u[e]||e,this._icon&&1===this._icon.length?(this._imageSpan.textContent=this._icon,this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",this._imageSpan.style.display=""):this._icon&&this._icon.length>1?(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage=this._icon,this._imageSpan.style.msHighContrastAdjust="none",this._imageSpan.style.display=""):(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",this._imageSpan.style.display="none")}},oninvoked:p(m.invoked),_toggleSplit:function(){this._splitOpened=!this._splitOpened,this._splitOpened?(a.addClass(this._splitButtonEl,this._classNames.commandSplitButtonOpened),this._splitButtonEl.setAttribute("aria-expanded","true")):(a.removeClass(this._splitButtonEl,this._classNames.commandSplitButtonOpened),this._splitButtonEl.setAttribute("aria-expanded","false")),this._fireEvent(f._EventName._splitToggle)},_rtl:{get:function(){return"rtl"===a._getComputedStyle(this.element).direction}},_keydownHandler:function(e){if(!a._matchesSelector(e.target,".win-interactive, .win-interactive *")){var t=this._rtl?c.rightArrow:c.leftArrow,n=this._rtl?c.leftArrow:c.rightArrow;e.altKey||e.keyCode!==t&&e.keyCode!==c.home&&e.keyCode!==c.end||e.target!==this._splitButtonEl?e.altKey||e.keyCode!==n||!this.splitButton||e.target!==this._buttonEl&&!this._buttonEl.contains(e.target)?e.keyCode!==c.space&&e.keyCode!==c.enter||e.target!==this._buttonEl&&!this._buttonEl.contains(e.target)?e.keyCode!==c.space&&e.keyCode!==c.enter||e.target!==this._splitButtonEl||this._toggleSplit():this._invoke():(a._setActive(this._splitButtonEl),e.keyCode===n&&e.stopPropagation(),e.preventDefault()):(a._setActive(this._buttonEl),e.keyCode===t&&e.stopPropagation(),e.preventDefault())}},_getFocusInto:function(e){var t=this._rtl?c.rightArrow:c.leftArrow;return e===t&&this.splitButton?this._splitButtonEl:this._buttonEl},_buildDom:function(){var t='<div tabindex="0" role="button" class="'+this._classNames.commandButton+'"><div class="'+this._classNames.commandButtonContent+'"><div class="'+this._classNames.commandIcon+'"></div><div class="'+this._classNames.commandLabel+'"></div></div></div><div tabindex="-1" aria-expanded="false" class="'+this._classNames.commandSplitButton+'"></div>';this.element.insertAdjacentHTML("afterBegin",t),this._buttonEl=this.element.firstElementChild,this._buttonPressedBehavior=new e._WinPressed(this._buttonEl),this._contentEl=this._buttonEl.firstElementChild,this._imageSpan=this._contentEl.firstElementChild,this._imageSpan.style.display="none",this._labelEl=this._imageSpan.nextElementSibling,this._splitButtonEl=this._buttonEl.nextElementSibling,this._splitButtonPressedBehavior=new e._WinPressed(this._splitButtonEl),this._splitButtonEl.style.display="none",a._ensureId(this._buttonEl),this._splitButtonEl.setAttribute("aria-labelledby",this._buttonEl.id),this._buttonEl.addEventListener("click",this._handleButtonClick.bind(this));var n=new a._MutationObserver(this._splitButtonAriaExpandedPropertyChangeHandler.bind(this));n.observe(this._splitButtonEl,{attributes:!0,attributeFilter:["aria-expanded"]}),this._splitButtonEl.addEventListener("click",this._handleSplitButtonClick.bind(this));for(var i=this._splitButtonEl.nextSibling;i;)this._buttonEl.insertBefore(i,this._contentEl),
"#text"!==i.nodeName&&r.processAll(i),i=this._splitButtonEl.nextSibling},_handleButtonClick:function(e){var t=e.target;a._matchesSelector(t,".win-interactive, .win-interactive *")||this._invoke()},_splitButtonAriaExpandedPropertyChangeHandler:function(){"true"===this._splitButtonEl.getAttribute("aria-expanded")!==this._splitOpened&&this._toggleSplit()},_handleSplitButtonClick:function(){this._toggleSplit()},_invoke:function(){this._fireEvent(f._EventName.invoked)},_fireEvent:function(e,n){var i=t.document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!1,n),this.element.dispatchEvent(i)},dispose:function(){this._disposed||(this._disposed=!0,this._buttonPressedBehavior.dispose(),this._splitButtonPressedBehavior.dispose())}},{_ClassName:h,_EventName:m});return n.Class.mix(f,s.DOMEventMixin),f})})}),i("WinJS/Controls/NavBar/_Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Navigation","../../Utilities/_ElementUtilities","../SplitView/Command"],function(e,t,n,i,o,r,s){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{NavBarCommand:n.Namespace._lazy(function(){var e={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get navBarCommandDeprecated(){return"NavBarCommand is deprecated and may not be available in future releases. If you were using a NavBarCommand inside of a SplitView, use SplitViewCommand instead."}},a={command:"win-navbarcommand",commandButton:"win-navbarcommand-button",commandButtonContent:"win-navbarcommand-button-content",commandSplitButton:"win-navbarcommand-splitbutton",commandSplitButtonOpened:"win-navbarcommand-splitbutton-opened",commandIcon:"win-navbarcommand-icon",commandLabel:"win-navbarcommand-label"},l=s.SplitViewCommand.prototype,u=n.Class.derive(s.SplitViewCommand,function(n,o){if(r._deprecated(e.navBarCommandDeprecated),n=n||t.document.createElement("DIV"),o=o||{},n.winControl)throw new i("WinJS.UI.NavBarCommand.DuplicateConstruction",e.duplicateConstruction);this._baseConstructor(n,o,a)},{element:{get:function(){return Object.getOwnPropertyDescriptor(l,"element").get.call(this)}},label:{get:function(){return Object.getOwnPropertyDescriptor(l,"label").get.call(this)},set:function(e){return Object.getOwnPropertyDescriptor(l,"label").set.call(this,e)}},tooltip:{get:function(){return Object.getOwnPropertyDescriptor(l,"tooltip").get.call(this)},set:function(e){return Object.getOwnPropertyDescriptor(l,"tooltip").set.call(this,e)}},icon:{get:function(){return Object.getOwnPropertyDescriptor(l,"icon").get.call(this)},set:function(e){return Object.getOwnPropertyDescriptor(l,"icon").set.call(this,e)}},location:{get:function(){return this._location},set:function(e){this._location=e}},oninvoked:{get:function(){},enumerable:!1},state:{get:function(){return this._state},set:function(e){this._state=e}},splitButton:{get:function(){return this._split},set:function(e){this._split=e,this._split?this._splitButtonEl.style.display="":this._splitButtonEl.style.display="none"}},splitOpened:{get:function(){return this._splitOpened},set:function(e){this._splitOpened!==!!e&&this._toggleSplit()}},dispose:function(){l.dispose.call(this)},_invoke:function(){this.location&&o.navigate(this.location,this.state),this._fireEvent(u._EventName._invoked)}},{_ClassName:a,_EventName:{_invoked:"_invoked",_splitToggle:"_splittoggle"}});return u})})}),i("WinJS/Controls/NavBar/_Container",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Log","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations","../../Animations/_TransitionAnimation","../../BindingList","../../ControlProcessor","../../Navigation","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior","../../Utilities/_UI","../_LegacyAppBar/_Constants","../Repeater","./_Command"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g,v,y,b,w,C){"use strict";function E(){return null===t.document.activeElement||t.document.activeElement===t.document.body}n.Namespace._moduleDefine(e,"WinJS.UI",{NavBarContainer:n.Namespace._lazy(function(){var e=g.Key,S=3e3,I=g._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",x=0,j=r._createEventProperty,k={invoked:"invoked",splittoggle:"splittoggle"},P={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get navBarContainerViewportAriaLabel(){return a._getWinJSString("ui/navBarContainerViewportAriaLabel").value},get navBarContainerIsDeprecated(){return"NavBarContainer is deprecated and may not be available in future releases. Instead, use a WinJS SplitView to display navigation targets within the app."}},T=n.Class.define(function(e,n){if(g._deprecated(P.navBarContainerIsDeprecated),e=e||t.document.createElement("DIV"),this._id=e.id||g._uniqueID(e),this._writeProfilerMark("constructor,StartTM"),n=n||{},e.winControl)throw new o("WinJS.UI.NavBarContainer.DuplicateConstruction",P.duplicateConstruction);e.winControl=this,this._element=e,g.addClass(this.element,T._ClassName.navbarcontainer),g.addClass(this.element,"win-disposable"),e.getAttribute("tabIndex")||(e.tabIndex=-1),this._focusCurrentItemPassivelyBound=this._focusCurrentItemPassively.bind(this),this._closeSplitAndResetBound=this._closeSplitAndReset.bind(this),this._currentManipulationState=x,this._panningDisabled=!g._supportsSnapPoints,this._fixedSize=!1,this._maxRows=1,this._sizes={},this._setupTree(),this._duringConstructor=!0,this._dataChangingBound=this._dataChanging.bind(this),this._dataChangedBound=this._dataChanged.bind(this),m.addEventListener("navigated",this._closeSplitAndResetBound),this.layout=n.layout||y.Orientation.horizontal,n.maxRows&&(this.maxRows=n.maxRows),n.template&&(this.template=n.template),n.data&&(this.data=n.data),n.fixedSize&&(this.fixedSize=n.fixedSize),_._setOptions(this,n,!0),this._duringConstructor=!1,n.currentIndex&&(this.currentIndex=n.currentIndex),this._updatePageUI(),f.schedule(function(){this._updateAppBarReference()},f.Priority.normal,this,"WinJS.UI.NavBarContainer_async_initialize"),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},template:{get:function(){return this._template},set:function(e){if(this._template=e,this._repeater){var n=this.element.contains(t.document.activeElement);this._duringConstructor||this._closeSplitIfOpen(),this._repeater.template=this._repeater.template,this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._reset(),n&&this._keyboardBehavior._focus(0))}}},_render:function(e){var n=t.document.createElement("div"),i=this._template;i&&(i.render?i.render(e,n):i.winControl&&i.winControl.render?i.winControl.render(e,n):n.appendChild(i(e)));var o=new C.NavBarCommand(n,e);return o._element},data:{get:function(){return this._repeater&&this._repeater.data},set:function(e){e||(e=new d.List),this._duringConstructor||this._closeSplitIfOpen(),this._removeDataChangingEvents(),this._removeDataChangedEvents();var n=this.element.contains(t.document.activeElement);this._repeater||(this._surfaceEl.innerHTML="",this._repeater=new w.Repeater(this._surfaceEl,{template:this._render.bind(this)})),this._addDataChangingEvents(e),this._repeater.data=e,this._addDataChangedEvents(e),this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._reset(),n&&this._keyboardBehavior._focus(0))}},maxRows:{get:function(){return this._maxRows},set:function(e){e=+e===e?e:1,this._maxRows=Math.max(1,e),this._duringConstructor||(this._closeSplitIfOpen(),this._measured=!1,this._reset())}},layout:{get:function(){return this._layout},set:function(e){e===y.Orientation.vertical?(this._layout=y.Orientation.vertical,g.removeClass(this.element,T._ClassName.horizontal),g.addClass(this.element,T._ClassName.vertical)):(this._layout=y.Orientation.horizontal,g.removeClass(this.element,T._ClassName.vertical),g.addClass(this.element,T._ClassName.horizontal)),this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI(),this._closeSplitIfOpen())}},currentIndex:{get:function(){return this._keyboardBehavior.currentIndex},set:function(e){if(e===+e){var n=this.element.contains(t.document.activeElement);this._keyboardBehavior.currentIndex=e,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),n&&this._keyboardBehavior._focus()}}},fixedSize:{get:function(){return this._fixedSize},set:function(e){this._fixedSize=!!e,this._duringConstructor||(this._closeSplitIfOpen(),this._measured?this._surfaceEl.children.length>0&&this._updateGridStyles():this._measure())}},oninvoked:j(k.invoked),onsplittoggle:j(k.splittoggle),forceLayout:function(){this._resizeHandler(),this._measured&&(this._scrollPosition=g.getScrollPosition(this._viewportEl)[this.layout===y.Orientation.horizontal?"scrollLeft":"scrollTop"]),this._duringForceLayout=!0,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI(),this._duringForceLayout=!1},_updateAppBarReference:function(){if(!this._appBarEl||!this._appBarEl.contains(this.element)){this._appBarEl&&(this._appBarEl.removeEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound),this._appBarEl.removeEventListener("afteropen",this._focusCurrentItemPassivelyBound));for(var e=this.element.parentNode;e&&!g.hasClass(e,b.appBarClass);)e=e.parentNode;this._appBarEl=e,this._appBarEl&&(this._appBarEl.addEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.addEventListener("afteropen",this._focusCurrentItemPassivelyBound))}},_closeSplitAndReset:function(){this._closeSplitIfOpen(),this._reset()},_dataChanging:function(e){this._elementHadFocus=t.document.activeElement,this._currentSplitNavItem&&this._currentSplitNavItem.splitOpened&&("itemremoved"===e.type?this._surfaceEl.children[e.detail.index].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"itemchanged"===e.type?this._surfaceEl.children[e.detail.index].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"itemmoved"===e.type?this._surfaceEl.children[e.detail.oldIndex].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"reload"===e.type&&this._closeSplitIfOpen())},_dataChanged:function(e){this._measured=!1,"itemremoved"===e.type?e.detail.index<this._keyboardBehavior.currentIndex?this._keyboardBehavior.currentIndex--:e.detail.index===this._keyboardBehavior.currentIndex&&(this._keyboardBehavior.currentIndex=this._keyboardBehavior.currentIndex,E()&&this._elementHadFocus&&this._keyboardBehavior._focus()):"itemchanged"===e.type?e.detail.index===this._keyboardBehavior.currentIndex&&E()&&this._elementHadFocus&&this._keyboardBehavior._focus():"iteminserted"===e.type?e.detail.index<=this._keyboardBehavior.currentIndex&&this._keyboardBehavior.currentIndex++:"itemmoved"===e.type?e.detail.oldIndex===this._keyboardBehavior.currentIndex&&(this._keyboardBehavior.currentIndex=e.detail.newIndex,E()&&this._elementHadFocus&&this._keyboardBehavior._focus()):"reload"===e.type&&(this._keyboardBehavior.currentIndex=0,E()&&this._elementHadFocus&&this._keyboardBehavior._focus()),this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI()},_focusCurrentItemPassively:function(){this.element.contains(t.document.activeElement)&&this._keyboardBehavior._focus()},_reset:function(){this._keyboardBehavior.currentIndex=0,this.element.contains(t.document.activeElement)&&this._keyboardBehavior._focus(0),this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._ensureVisible(0,!0),this._updatePageUI()},_removeDataChangedEvents:function(){this._repeater&&(this._repeater.data.removeEventListener("itemchanged",this._dataChangedBound),this._repeater.data.removeEventListener("iteminserted",this._dataChangedBound),this._repeater.data.removeEventListener("itemmoved",this._dataChangedBound),this._repeater.data.removeEventListener("itemremoved",this._dataChangedBound),this._repeater.data.removeEventListener("reload",this._dataChangedBound))},_addDataChangedEvents:function(){this._repeater&&(this._repeater.data.addEventListener("itemchanged",this._dataChangedBound),this._repeater.data.addEventListener("iteminserted",this._dataChangedBound),this._repeater.data.addEventListener("itemmoved",this._dataChangedBound),this._repeater.data.addEventListener("itemremoved",this._dataChangedBound),this._repeater.data.addEventListener("reload",this._dataChangedBound))},_removeDataChangingEvents:function(){this._repeater&&(this._repeater.data.removeEventListener("itemchanged",this._dataChangingBound),this._repeater.data.removeEventListener("iteminserted",this._dataChangingBound),this._repeater.data.removeEventListener("itemmoved",this._dataChangingBound),this._repeater.data.removeEventListener("itemremoved",this._dataChangingBound),this._repeater.data.removeEventListener("reload",this._dataChangingBound))},_addDataChangingEvents:function(e){e.addEventListener("itemchanged",this._dataChangingBound),e.addEventListener("iteminserted",this._dataChangingBound),e.addEventListener("itemmoved",this._dataChangingBound),e.addEventListener("itemremoved",this._dataChangingBound),e.addEventListener("reload",this._dataChangingBound)},_mouseleave:function(){this._mouseInViewport&&(this._mouseInViewport=!1,this._updateArrows())},_MSPointerDown:function(e){e.pointerType===I&&this._mouseInViewport&&(this._mouseInViewport=!1,this._updateArrows())},_MSPointerMove:function(e){e.pointerType!==I&&(this._mouseInViewport||(this._mouseInViewport=!0,this._updateArrows()))},_setupTree:function(){this._animateNextPreviousButtons=p.wrap(),this._element.addEventListener("mouseleave",this._mouseleave.bind(this)),g._addEventListener(this._element,"pointerdown",this._MSPointerDown.bind(this)),g._addEventListener(this._element,"pointermove",this._MSPointerMove.bind(this)),g._addEventListener(this._element,"focusin",this._focusHandler.bind(this),!1),this._pageindicatorsEl=t.document.createElement("div"),g.addClass(this._pageindicatorsEl,T._ClassName.pageindicators),this._element.appendChild(this._pageindicatorsEl),this._ariaStartMarker=t.document.createElement("div"),this._element.appendChild(this._ariaStartMarker),this._viewportEl=t.document.createElement("div"),g.addClass(this._viewportEl,T._ClassName.viewport),this._element.appendChild(this._viewportEl),this._viewportEl.setAttribute("role","group"),this._viewportEl.setAttribute("aria-label",P.navBarContainerViewportAriaLabel),this._boundResizeHandler=this._resizeHandler.bind(this),g._resizeNotifier.subscribe(this._element,this._boundResizeHandler),this._viewportEl.addEventListener("mselementresize",this._resizeHandler.bind(this)),this._viewportEl.addEventListener("scroll",this._scrollHandler.bind(this)),this._viewportEl.addEventListener("MSManipulationStateChanged",this._MSManipulationStateChangedHandler.bind(this)),this._ariaEndMarker=t.document.createElement("div"),this._element.appendChild(this._ariaEndMarker),this._surfaceEl=t.document.createElement("div"),g.addClass(this._surfaceEl,T._ClassName.surface),this._viewportEl.appendChild(this._surfaceEl),this._surfaceEl.addEventListener(C.NavBarCommand._EventName._invoked,this._navbarCommandInvokedHandler.bind(this)),this._surfaceEl.addEventListener(C.NavBarCommand._EventName._splitToggle,this._navbarCommandSplitToggleHandler.bind(this)),g._addEventListener(this._surfaceEl,"focusin",this._itemsFocusHandler.bind(this),!1),this._surfaceEl.addEventListener("keydown",this._keyDownHandler.bind(this));for(var e=this.element.firstElementChild;e!==this._pageindicatorsEl;)this._surfaceEl.appendChild(e),h.process(e),e=this.element.firstElementChild;this._leftArrowEl=t.document.createElement("div"),g.addClass(this._leftArrowEl,T._ClassName.navleftarrow),g.addClass(this._leftArrowEl,T._ClassName.navarrow),this._element.appendChild(this._leftArrowEl),this._leftArrowEl.addEventListener("click",this._goLeft.bind(this)),this._leftArrowEl.style.opacity=0,this._leftArrowEl.style.visibility="hidden",this._leftArrowFadeOut=p.wrap(),this._rightArrowEl=t.document.createElement("div"),g.addClass(this._rightArrowEl,T._ClassName.navrightarrow),g.addClass(this._rightArrowEl,T._ClassName.navarrow),this._element.appendChild(this._rightArrowEl),this._rightArrowEl.addEventListener("click",this._goRight.bind(this)),this._rightArrowEl.style.opacity=0,this._rightArrowEl.style.visibility="hidden",this._rightArrowFadeOut=p.wrap(),this._keyboardBehavior=new v._KeyboardBehavior(this._surfaceEl,{scroller:this._viewportEl}),this._winKeyboard=new v._WinKeyboard(this._surfaceEl)},_goRight:function(){this._sizes.rtl?this._goPrev():this._goNext()},_goLeft:function(){this._sizes.rtl?this._goNext():this._goPrev()},_goNext:function(){this._measure();var e=this._sizes.rowsPerPage*this._sizes.columnsPerPage,t=Math.min(Math.floor(this._keyboardBehavior.currentIndex/e)+1,this._sizes.pages-1);this._keyboardBehavior.currentIndex=Math.min(e*t,this._surfaceEl.children.length),this._keyboardBehavior._focus()},_goPrev:function(){this._measure();var e=this._sizes.rowsPerPage*this._sizes.columnsPerPage,t=Math.max(0,Math.floor(this._keyboardBehavior.currentIndex/e)-1);this._keyboardBehavior.currentIndex=Math.max(e*t,0),this._keyboardBehavior._focus()},_currentPage:{get:function(){return this.layout===y.Orientation.horizontal&&(this._measure(),this._sizes.viewportOffsetWidth>0)?Math.min(this._sizes.pages-1,Math.round(this._scrollPosition/this._sizes.viewportOffsetWidth)):0}},_resizeHandler:function(){if(!this._disposed&&this._measured){var e=this.layout===y.Orientation.horizontal?this._sizes.viewportOffsetWidth!==parseFloat(g._getComputedStyle(this._viewportEl).width):this._sizes.viewportOffsetHeight!==parseFloat(g._getComputedStyle(this._viewportEl).height);e&&(this._measured=!1,this._pendingResize||(this._pendingResize=!0,this._resizeImplBound=this._resizeImplBound||this._resizeImpl.bind(this),this._updateAppBarReference(),this._appBarEl&&this._appBarEl.winControl&&!this._appBarEl.winControl.opened?(f.schedule(this._resizeImplBound,f.Priority.idle,null,"WinJS.UI.NavBarContainer._resizeImpl"),this._appBarEl.addEventListener("beforeopen",this._resizeImplBound)):this._resizeImpl()))}},_resizeImpl:function(){!this._disposed&&this._pendingResize&&(this._pendingResize=!1,this._appBarEl&&this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound),this._keyboardBehavior.currentIndex=0,this.element.contains(t.document.activeElement)&&this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex),this._closeSplitIfOpen(),this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI())},_keyDownHandler:function(n){var i=n.keyCode;if(!n.altKey&&(i===e.pageUp||i===e.pageDown)){var o=n.target;if(g._matchesSelector(o,".win-interactive, .win-interactive *"))return;var r=this._keyboardBehavior.currentIndex;this._measure();var s=this._sizes,a=Math.floor(r/(s.columnsPerPage*s.rowsPerPage)),l=null;if(i===e.pageUp){if(this.layout===y.Orientation.horizontal){var u=a*s.columnsPerPage*s.rowsPerPage;r===u&&this._surfaceEl.children[r].winControl._buttonEl===t.document.activeElement?r-=s.columnsPerPage*s.rowsPerPage:r=u}else{var c=this._surfaceEl.children[r],d=c.offsetTop,h=d+c.offsetHeight,m=this._zooming?this._zoomPosition:this._scrollPosition;if(d>=m&&h<m+s.viewportOffsetHeight)for(;r>0&&this._surfaceEl.children[r-1].offsetTop>m;)r--;if(this._keyboardBehavior.currentIndex===r){var p=h-s.viewportOffsetHeight;for(r=Math.max(0,r-1);r>0&&this._surfaceEl.children[r-1].offsetTop>p;)r--;l=r>0?this._surfaceEl.children[r].offsetTop-this._sizes.itemMarginTop:0}}r=Math.max(r,0),this._keyboardBehavior.currentIndex=r;var f=this._surfaceEl.children[r].winControl._buttonEl;null!==l&&this._scrollTo(l),g._setActive(f,this._viewportEl)}else{if(this.layout===y.Orientation.horizontal){var _=(a+1)*s.columnsPerPage*s.rowsPerPage-1;r===_?r+=s.columnsPerPage*s.rowsPerPage:r=_}else{var c=this._surfaceEl.children[this._keyboardBehavior.currentIndex],d=c.offsetTop,h=d+c.offsetHeight,m=this._zooming?this._zoomPosition:this._scrollPosition;if(d>=m&&h<m+s.viewportOffsetHeight)for(;r<this._surfaceEl.children.length-1&&this._surfaceEl.children[r+1].offsetTop+this._surfaceEl.children[r+1].offsetHeight<m+s.viewportOffsetHeight;)r++;if(r===this._keyboardBehavior.currentIndex){var v=d+s.viewportOffsetHeight;for(r=Math.min(this._surfaceEl.children.length-1,r+1);r<this._surfaceEl.children.length-1&&this._surfaceEl.children[r+1].offsetTop+this._surfaceEl.children[r+1].offsetHeight<v;)r++;l=r<this._surfaceEl.children.length-1?this._surfaceEl.children[r+1].offsetTop-this._sizes.viewportOffsetHeight:this._scrollLength-this._sizes.viewportOffsetHeight}}r=Math.min(r,this._surfaceEl.children.length-1),this._keyboardBehavior.currentIndex=r;var f=this._surfaceEl.children[r].winControl._buttonEl;null!==l&&this._scrollTo(l);try{g._setActive(f,this._viewportEl)}catch(e){}}}},_focusHandler:function(e){var t=e.target;this._surfaceEl.contains(t)||(this._skipEnsureVisible=!0,this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex))},_itemsFocusHandler:function(e){var t=e.target;if(t!==this._surfaceEl){for(;t.parentNode!==this._surfaceEl;)t=t.parentNode;for(var n=-1;t;)n++,t=t.previousSibling;this._skipEnsureVisible?this._skipEnsureVisible=!1:this._ensureVisible(n)}},_ensureVisible:function(e,t){if(this._measure(),this.layout===y.Orientation.horizontal){var n=Math.floor(e/(this._sizes.rowsPerPage*this._sizes.columnsPerPage));this._scrollTo(n*this._sizes.viewportOffsetWidth,t)}else{var i,o=this._surfaceEl.children[e];i=e>0?o.offsetTop-this._sizes.itemMarginTop:0;var r;r=e<this._surfaceEl.children.length-1?this._surfaceEl.children[e+1].offsetTop-this._sizes.viewportOffsetHeight:this._scrollLength-this._sizes.viewportOffsetHeight;var s=this._zooming?this._zoomPosition:this._scrollPosition;s=Math.max(s,r),s=Math.min(s,i),this._scrollTo(s,t)}},_scrollTo:function(e,t){if(this._measure(),e=this.layout===y.Orientation.horizontal?Math.max(0,Math.min(this._scrollLength-this._sizes.viewportOffsetWidth,e)):Math.max(0,Math.min(this._scrollLength-this._sizes.viewportOffsetHeight,e)),t){if(Math.abs(this._scrollPosition-e)>1){this._zooming=!1,this._scrollPosition=e,this._updatePageUI(),this._duringForceLayout||this._closeSplitIfOpen();var n={};n[this.layout===y.Orientation.horizontal?"scrollLeft":"scrollTop"]=e,g.setScrollPosition(this._viewportEl,n)}}else(!this._zooming&&Math.abs(this._scrollPosition-e)>1||this._zooming&&Math.abs(this._zoomPosition-e)>1)&&(this._zoomPosition=e,this._zooming=!0,this.layout===y.Orientation.horizontal?(this._viewportEl.style.msScrollSnapType="none",g._zoomTo(this._viewportEl,{contentX:e,contentY:0,viewportX:0,viewportY:0})):g._zoomTo(this._viewportEl,{contentX:0,contentY:e,viewportX:0,viewportY:0}),this._closeSplitIfOpen())},_MSManipulationStateChangedHandler:function(e){this._currentManipulationState=e.currentState,e.currentState===e.MS_MANIPULATION_STATE_ACTIVE&&(this._viewportEl.style.msScrollSnapType="",this._zooming=!1),t.clearTimeout(this._manipulationStateTimeoutId),e.currentState===e.MS_MANIPULATION_STATE_STOPPED&&(this._manipulationStateTimeoutId=t.setTimeout(function(){this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._updateCurrentIndexIfPageChanged()}.bind(this),100))},_scrollHandler:function(){if(!this._disposed&&(this._measured=!1,!this._checkingScroll)){var e=this;this._checkingScroll=i._requestAnimationFrame(function(){if(!e._disposed){e._checkingScroll=null;var t=g.getScrollPosition(e._viewportEl)[e.layout===y.Orientation.horizontal?"scrollLeft":"scrollTop"];t!==e._scrollPosition&&(e._scrollPosition=t,e._closeSplitIfOpen()),e._updatePageUI(),e._zooming||e._currentManipulationState!==x||e._updateCurrentIndexIfPageChanged()}})}},_updateCurrentIndexIfPageChanged:function(){if(this.layout===y.Orientation.horizontal){this._measure();var e=this._currentPage,n=e*this._sizes.rowsPerPage*this._sizes.columnsPerPage,i=(e+1)*this._sizes.rowsPerPage*this._sizes.columnsPerPage-1;(this._keyboardBehavior.currentIndex<n||this._keyboardBehavior.currentIndex>i)&&(this._keyboardBehavior.currentIndex=n,this.element.contains(t.document.activeElement)&&this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex))}},_measure:function(){if(!this._measured){this._resizeImpl(),this._writeProfilerMark("measure,StartTM");var e=this._sizes;e.rtl="rtl"===g._getComputedStyle(this._element).direction;var t=this._surfaceEl.children.length;if(t>0){if(!this._sizes.itemMeasured){this._writeProfilerMark("measureItem,StartTM");var n=this._surfaceEl.firstElementChild;n.style.margin="",n.style.width="";var i=g._getComputedStyle(n);e.itemOffsetWidth=parseFloat(g._getComputedStyle(n).width),0===n.offsetWidth&&(e.itemOffsetWidth=0),e.itemMarginLeft=parseFloat(i.marginLeft),e.itemMarginRight=parseFloat(i.marginRight),e.itemWidth=e.itemOffsetWidth+e.itemMarginLeft+e.itemMarginRight,e.itemOffsetHeight=parseFloat(g._getComputedStyle(n).height),0===n.offsetHeight&&(e.itemOffsetHeight=0),e.itemMarginTop=parseFloat(i.marginTop),e.itemMarginBottom=parseFloat(i.marginBottom),e.itemHeight=e.itemOffsetHeight+e.itemMarginTop+e.itemMarginBottom,e.itemOffsetWidth>0&&e.itemOffsetHeight>0&&(e.itemMeasured=!0),this._writeProfilerMark("measureItem,StopTM")}if(e.viewportOffsetWidth=parseFloat(g._getComputedStyle(this._viewportEl).width),0===this._viewportEl.offsetWidth&&(e.viewportOffsetWidth=0),e.viewportOffsetHeight=parseFloat(g._getComputedStyle(this._viewportEl).height),0===this._viewportEl.offsetHeight&&(e.viewportOffsetHeight=0),0===e.viewportOffsetWidth||0===e.itemOffsetHeight?this._measured=!1:this._measured=!0,this.layout===y.Orientation.horizontal){this._scrollPosition=g.getScrollPosition(this._viewportEl).scrollLeft,e.leadingEdge=this._leftArrowEl.offsetWidth+parseInt(g._getComputedStyle(this._leftArrowEl).marginLeft)+parseInt(g._getComputedStyle(this._leftArrowEl).marginRight);var o=e.viewportOffsetWidth-2*e.leadingEdge;e.maxColumns=e.itemWidth?Math.max(1,Math.floor(o/e.itemWidth)):1,e.rowsPerPage=Math.min(this.maxRows,Math.ceil(t/e.maxColumns)),e.columnsPerPage=Math.min(e.maxColumns,t),e.pages=Math.ceil(t/(e.columnsPerPage*e.rowsPerPage)),e.trailingEdge=e.leadingEdge,e.extraSpace=o-e.columnsPerPage*e.itemWidth,this._scrollLength=e.viewportOffsetWidth*e.pages,this._keyboardBehavior.fixedSize=e.rowsPerPage,this._keyboardBehavior.fixedDirection=v._KeyboardBehavior.FixedDirection.height,this._surfaceEl.style.height=e.itemHeight*e.rowsPerPage+"px",this._surfaceEl.style.width=this._scrollLength+"px"}else this._scrollPosition=this._viewportEl.scrollTop,e.leadingEdge=0,e.rowsPerPage=t,e.columnsPerPage=1,e.pages=1,e.trailingEdge=0,this._scrollLength=this._viewportEl.scrollHeight,this._keyboardBehavior.fixedSize=e.columnsPerPage,this._keyboardBehavior.fixedDirection=v._KeyboardBehavior.FixedDirection.width,this._surfaceEl.style.height="",this._surfaceEl.style.width="";this._updateGridStyles()}else e.pages=1,this._hasPreviousContent=!1,this._hasNextContent=!1,this._surfaceEl.style.height="",this._surfaceEl.style.width="";this._writeProfilerMark("measure,StopTM")}},_updateGridStyles:function(){for(var e=this._sizes,t=this._surfaceEl.children.length,n=0;n<t;n++){var i,o,r=this._surfaceEl.children[n],s="";if(this.layout===y.Orientation.horizontal){var a=Math.floor(n/e.rowsPerPage),l=a%e.columnsPerPage===0,u=a%e.columnsPerPage===e.columnsPerPage-1,c=e.trailingEdge;if(this.fixedSize)c+=e.extraSpace;else{var d=e.extraSpace-(e.maxColumns-e.columnsPerPage)*e.itemWidth;s=e.itemOffsetWidth+d/e.maxColumns+"px"}var h,m;e.rtl?(h=l?e.leadingEdge:0,m=u?c:0):(h=u?c:0,m=l?e.leadingEdge:0),i=h+e.itemMarginRight+"px",o=m+e.itemMarginLeft+"px"}else i="",o="";r.style.marginRight!==i&&(r.style.marginRight=i),r.style.marginLeft!==o&&(r.style.marginLeft=o),r.style.width!==s&&(r.style.width=s)}},_updatePageUI:function(){this._measure();var e=this._currentPage;this._hasPreviousContent=0!==e,this._hasNextContent=e<this._sizes.pages-1,this._updateArrows(),this._indicatorCount!==this._sizes.pages&&(this._indicatorCount=this._sizes.pages,this._pageindicatorsEl.innerHTML=new Array(this._sizes.pages+1).join('<span class="'+T._ClassName.indicator+'"></span>'));for(var t=0;t<this._pageindicatorsEl.children.length;t++)t===e?g.addClass(this._pageindicatorsEl.children[t],T._ClassName.currentindicator):g.removeClass(this._pageindicatorsEl.children[t],T._ClassName.currentindicator);if(this._sizes.pages>1?(this._viewportEl.style.overflowX=this._panningDisabled?"hidden":"",this._pageindicatorsEl.style.visibility=""):(this._viewportEl.style.overflowX="hidden",this._pageindicatorsEl.style.visibility="hidden"),this._sizes.pages<=1||this._layout!==y.Orientation.horizontal)this._ariaStartMarker.removeAttribute("aria-flowto"),this._ariaEndMarker.removeAttribute("x-ms-aria-flowfrom");else{var n=e*this._sizes.rowsPerPage*this._sizes.columnsPerPage,i=this._surfaceEl.children[n].winControl._buttonEl;g._ensureId(i),this._ariaStartMarker.setAttribute("aria-flowto",i.id);var o=Math.min(this._surfaceEl.children.length-1,(e+1)*this._sizes.rowsPerPage*this._sizes.columnsPerPage-1),r=this._surfaceEl.children[o].winControl._buttonEl;g._ensureId(r),this._ariaEndMarker.setAttribute("x-ms-aria-flowfrom",r.id)}},_closeSplitIfOpen:function(){this._currentSplitNavItem&&(this._currentSplitNavItem.splitOpened&&this._currentSplitNavItem._toggleSplit(),this._currentSplitNavItem=null)},_updateArrows:function(){var e=this._sizes.rtl?this._hasNextContent:this._hasPreviousContent,t=this._sizes.rtl?this._hasPreviousContent:this._hasNextContent,n=this;(this._mouseInViewport||this._panningDisabled)&&e?(this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),this._leftArrowWaitingToFadeOut=null,this._leftArrowFadeOut&&this._leftArrowFadeOut.cancel(),this._leftArrowFadeOut=null,this._leftArrowEl.style.visibility="",this._leftArrowFadeIn=this._leftArrowFadeIn||u.fadeIn(this._leftArrowEl)):(e?this._leftArrowWaitingToFadeOut=this._leftArrowWaitingToFadeOut||p.timeout(c._animationTimeAdjustment(S)):(this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),this._leftArrowWaitingToFadeOut=p.wrap()),this._leftArrowWaitingToFadeOut.then(function(){this._leftArrowFadeIn&&this._leftArrowFadeIn.cancel(),this._leftArrowFadeIn=null,this._leftArrowFadeOut=this._leftArrowFadeOut||u.fadeOut(this._leftArrowEl).then(function(){n._leftArrowEl.style.visibility="hidden"})}.bind(this))),(this._mouseInViewport||this._panningDisabled)&&t?(this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowWaitingToFadeOut=null,this._rightArrowFadeOut&&this._rightArrowFadeOut.cancel(),this._rightArrowFadeOut=null,this._rightArrowEl.style.visibility="",this._rightArrowFadeIn=this._rightArrowFadeIn||u.fadeIn(this._rightArrowEl)):(t?this._rightArrowWaitingToFadeOut=this._rightArrowWaitingToFadeOut||p.timeout(c._animationTimeAdjustment(S)):(this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowWaitingToFadeOut=p.wrap()),this._rightArrowWaitingToFadeOut.then(function(){this._rightArrowFadeIn&&this._rightArrowFadeIn.cancel(),this._rightArrowFadeIn=null,this._rightArrowFadeOut=this._rightArrowFadeOut||u.fadeOut(this._rightArrowEl).then(function(){n._rightArrowEl.style.visibility="hidden"})}.bind(this)))},_navbarCommandInvokedHandler:function(e){for(var t=e.target,n=-1;t;)n++,t=t.previousSibling;this._fireEvent(T._EventName.invoked,{index:n,navbarCommand:e.target.winControl,data:this._repeater?this._repeater.data.getAt(n):null})},_navbarCommandSplitToggleHandler:function(e){for(var t=e.target,n=-1;t;)n++,t=t.previousSibling;var i=e.target.winControl;this._closeSplitIfOpen(),i.splitOpened&&(this._currentSplitNavItem=i),this._fireEvent(T._EventName.splitToggle,{
opened:i.splitOpened,index:n,navbarCommand:i,data:this._repeater?this._repeater.data.getAt(n):null})},_fireEvent:function(e,n){var i=t.document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!1,n),this.element.dispatchEvent(i)},_writeProfilerMark:function(e){var t="WinJS.UI.NavBarContainer:"+this._id+":"+e;l(t),s.log&&s.log(t,null,"navbarcontainerprofiler")},dispose:function(){this._disposed||(this._disposed=!0,this._appBarEl&&(this._appBarEl.removeEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound)),m.removeEventListener("navigated",this._closeSplitAndResetBound),this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),this._leftArrowFadeOut&&this._leftArrowFadeOut.cancel(),this._leftArrowFadeIn&&this._leftArrowFadeIn.cancel(),this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowFadeOut&&this._rightArrowFadeOut.cancel(),this._rightArrowFadeIn&&this._rightArrowFadeIn.cancel(),g._resizeNotifier.unsubscribe(this._element,this._boundResizeHandler),this._removeDataChangingEvents(),this._removeDataChangedEvents())}},{_ClassName:{navbarcontainer:"win-navbarcontainer",pageindicators:"win-navbarcontainer-pageindicator-box",indicator:"win-navbarcontainer-pageindicator",currentindicator:"win-navbarcontainer-pageindicator-current",vertical:"win-navbarcontainer-vertical",horizontal:"win-navbarcontainer-horizontal",viewport:"win-navbarcontainer-viewport",surface:"win-navbarcontainer-surface",navarrow:"win-navbarcontainer-navarrow",navleftarrow:"win-navbarcontainer-navleft",navrightarrow:"win-navbarcontainer-navright"},_EventName:{invoked:k.invoked,splitToggle:k.splittoggle}});return n.Class.mix(T,_.DOMEventMixin),T})})}),i("require-style!less/styles-navbar",[],function(){}),i("require-style!less/colors-navbar",[],function(){}),i("WinJS/Controls/NavBar",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_WriteProfilerMark","../Promise","../Scheduler","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../_Accents","./_LegacyAppBar","./NavBar/_Command","./NavBar/_Container","require-style!less/styles-navbar","require-style!less/colors-navbar"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m){"use strict";c.createAccentRule("html.win-hoverable .win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened:hover",[{name:"background-color",value:c.ColorTypes.listSelectHover}]),c.createAccentRule("html.win-hoverable .win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened:hover.win-pressed",[{name:"background-color",value:c.ColorTypes.listSelectPress}]),c.createAccentRule(".win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened",[{name:"background-color",value:c.ColorTypes.listSelectRest}]),c.createAccentRule(".win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened.win-pressed",[{name:"background-color",value:c.ColorTypes.listSelectPress}]);var p="custom";n.Namespace.define("WinJS.UI",{NavBar:n.Namespace._lazy(function(){var u="childrenprocessed",c=o._createEventProperty,h=n.Class.derive(d._LegacyAppBar,function(e,n){l._deprecated(m.navBarIsDeprecated),n=n||{},n=i._shallowCopy(n),n.placement=n.placement||"top",n.layout=p,n.closedDisplayMode=n.closedDisplayMode||"minimal",d._LegacyAppBar.call(this,e,n),this._element.addEventListener("beforeopen",this._handleBeforeShow.bind(this)),l.addClass(this.element,h._ClassName.navbar),t.Windows.ApplicationModel.DesignMode.designModeEnabled?this._processChildren():a.schedule(this._processChildren.bind(this),a.Priority.idle,null,"WinJS.UI.NavBar.processChildren")},{closedDisplayMode:{get:function(){return this._closedDisplayMode},set:function(e){var t="none"===e?"none":"minimal";Object.getOwnPropertyDescriptor(d._LegacyAppBar.prototype,"closedDisplayMode").set.call(this,t),this._closedDisplayMode=t}},onchildrenprocessed:c(u),_processChildren:function(){if(!this._processed){this._processed=!0,this._writeProfilerMark("processChildren,StartTM");var e=this,t=s.as();return this._processors&&this._processors.forEach(function(n){for(var i=0,o=e.element.children.length;i<o;i++)!function(e){t=t.then(function(){n(e)})}(e.element.children[i])}),t.then(function(){e._writeProfilerMark("processChildren,StopTM"),e._fireEvent(h._EventName.childrenProcessed)},function(){e._writeProfilerMark("processChildren,StopTM"),e._fireEvent(h._EventName.childrenProcessed)})}return s.wrap()},_show:function(){if(!this.disabled){var e=this;this._processChildren().then(function(){d._LegacyAppBar.prototype._show.call(e)})}},_handleBeforeShow:function(){if(!this._disposed)for(var e=this.element.querySelectorAll(".win-navbarcontainer"),t=0;t<e.length;t++)e[t].winControl.forceLayout()},_fireEvent:function(t,n){var i=e.document.createEvent("CustomEvent");i.initCustomEvent(t,!0,!1,n||{}),this.element.dispatchEvent(i)},_writeProfilerMark:function(e){r("WinJS.UI.NavBar:"+this._id+":"+e)}},{_ClassName:{navbar:"win-navbar"},_EventName:{childrenProcessed:u},isDeclarativeControlContainer:i.markSupportedForProcessing(function(e,t){if(e._processed)for(var n=0,i=e.element.children.length;n<i;n++)t(e.element.children[n]);else e._processors=e._processors||[],e._processors.push(t)})}),m={get navBarIsDeprecated(){return"NavBar is deprecated and may not be available in future releases. Instead, use a WinJS SplitView to display navigation targets within the app."}};return h})})}),i("require-style!less/styles-viewbox",[],function(){}),i("WinJS/Controls/ViewBox",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","./ElementResizeInstrument","require-style!less/styles-viewbox"],function(e,t,n,i,o,r,s,a,l,u,c){"use strict";t.Namespace.define("WinJS.UI",{ViewBox:t.Namespace._lazy(function(){var o={get invalidViewBoxChildren(){return"ViewBox expects to be provided with only one child element"}},u=t.Class.define(function(t){this._disposed=!1,this._element=t||e.document.createElement("div");var n=this.element;n.winControl=this,l.addClass(n,"win-disposable"),l.addClass(n,"win-viewbox"),this._handleResizeBound=this._handleResize.bind(this),l._resizeNotifier.subscribe(n,this._handleResizeBound),this._elementResizeInstrument=new c._ElementResizeInstrument,n.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._handleResizeBound);var i=this;l._inDom(n).then(function(){i._disposed||i._elementResizeInstrument.addedToDom()}),this.forceLayout()},{_sizer:null,_element:null,element:{get:function(){return this._element}},_rtl:{get:function(){return"rtl"===l._getComputedStyle(this.element).direction}},_initialize:function(){var e=this.element,t=Array.prototype.slice.call(e.children);t.indexOf(this._elementResizeInstrument.element)===-1&&e.appendChild(this._elementResizeInstrument.element);var s=this;if(t.indexOf(this._sizer)===-1){var a=t.filter(function(e){return e!==s._elementResizeInstrument.element});if(n.validation&&1!==a.length)throw new i("WinJS.UI.ViewBox.InvalidChildren",o.invalidViewBoxChildren);this._sizer&&(this._sizer.onresize=null);var l=a[0];if(this._sizer=l,0===e.clientWidth&&0===e.clientHeight){var s=this;r.schedule(function(){s._updateLayout()},r.Priority.normal,null,"WinJS.UI.ViewBox._updateLayout")}}},_updateLayout:function(){var e=this._sizer;if(e){var t=this.element,i=e.clientWidth,o=e.clientHeight,r=t.clientWidth,s=t.clientHeight,a=r/i,l=s/o,u=Math.min(a,l),c=Math.abs(r-i*u)/2,d=Math.abs(s-o*u)/2,h=this._rtl;this._sizer.style[n._browserStyleEquivalents.transform.scriptName]="translate("+(h?"-":"")+c+"px,"+d+"px) scale("+u+")",this._sizer.style[n._browserStyleEquivalents["transform-origin"].scriptName]=h?"top right":"top left"}this._layoutCompleteCallback()},_handleResize:function(){if(!this._resizing){this._resizing=this._resizing||0,this._resizing++;try{this._updateLayout()}finally{this._resizing--}}},_layoutCompleteCallback:function(){},dispose:function(){this._disposed||(this.element&&l._resizeNotifier.unsubscribe(this.element,this._handleResizeBound),this._elementResizeInstrument.dispose(),this._disposed=!0,a.disposeSubTree(this._element))},forceLayout:function(){this._initialize(),this._updateLayout()}});return t.Class.mix(u,s.DOMEventMixin),u})})}),i("require-style!less/styles-contentdialog",[],function(){}),i("require-style!less/colors-contentdialog",[],function(){}),i("WinJS/Controls/ContentDialog",["../Application","../Utilities/_Dispose","../_Accents","../Promise","../_Signal","../_LightDismissService","../Core/_BaseUtils","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_Events","../Core/_ErrorFromName","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_KeyboardInfo","../Utilities/_Hoverable","../Animations","require-style!less/styles-contentdialog","require-style!less/colors-contentdialog"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_,g){"use strict";n.createAccentRule(".win-contentdialog-dialog",[{name:"outline-color",value:n.ColorTypes.accent}]),u.Namespace.define("WinJS.UI",{ContentDialog:u.Namespace._lazy(function(){function e(e){if("undefined"==typeof b){var t=a.document.createElement("div");t.style.position="-ms-device-fixed",b="-ms-device-fixed"===p._getComputedStyle(t).position}return b}function n(e){return i._cancelBlocker(e,function(){e.cancel()})}function l(e){e.ensuredFocusedElementInView=!0,this.dialog._renderForInputPane(e.occludedRect.height)}function h(){this.dialog._clearInputPaneRendering()}function _(){}function v(e,t){e._interruptibleWorkPromises=e._interruptibleWorkPromises||[];var n=new o;e._interruptibleWorkPromises.push(t(e,n.promise)),n.complete()}function y(){(this._interruptibleWorkPromises||[]).forEach(function(e){e.cancel()})}var b,w={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get controlDisposed(){return"Cannot interact with the control after it has been disposed"},get contentDialogAlreadyShowing(){return"Cannot show a ContentDialog if there is already a ContentDialog that is showing"}},C={none:"none",primary:"primary",secondary:"secondary"},E={contentDialog:"win-contentdialog",backgroundOverlay:"win-contentdialog-backgroundoverlay",dialog:"win-contentdialog-dialog",title:"win-contentdialog-title",content:"win-contentdialog-content",commands:"win-contentdialog-commands",primaryCommand:"win-contentdialog-primarycommand",secondaryCommand:"win-contentdialog-secondarycommand",_verticalAlignment:"win-contentdialog-verticalalignment",_scroller:"win-contentdialog-scroller",_column0or1:"win-contentdialog-column0or1",_visible:"win-contentdialog-visible",_tabStop:"win-contentdialog-tabstop",_commandSpacer:"win-contentdialog-commandspacer",_deviceFixedSupported:"win-contentdialog-devicefixedsupported"},S={beforeShow:"beforeshow",afterShow:"aftershow",beforeHide:"beforehide",afterHide:"afterhide"},I={Init:u.Class.define(null,{name:"Init",hidden:!0,enter:function(){var e=this.dialog;e._dismissable=new r.ModalElement({element:e._dom.root,tabIndex:e._dom.root.hasAttribute("tabIndex")?e._dom.root.tabIndex:-1,onLightDismiss:function(){e.hide(C.none)},onTakeFocus:function(t){e._dismissable.restoreFocus()||p._tryFocusOnAnyElement(e._dom.dialog,t)}}),this.dialog._dismissedSignal=null,this.dialog._setState(I.Hidden,!1)},exit:_,show:function(){throw"It's illegal to call show on the Init state"},hide:_,onCommandClicked:_,onInputPaneShown:_,onInputPaneHidden:_}),Hidden:u.Class.define(null,{name:"Hidden",hidden:!0,enter:function(e){e&&this.show()},exit:_,show:function(){var e=this.dialog._dismissedSignal=new o;return this.dialog._setState(I.BeforeShow),e.promise},hide:_,onCommandClicked:_,onInputPaneShown:_,onInputPaneHidden:_}),BeforeShow:u.Class.define(null,{name:"BeforeShow",hidden:!0,enter:function(){v(this,function(e,t){return t.then(function(){return e.dialog._fireBeforeShow()}).then(function(t){return t||e.dialog._cancelDismissalPromise(null),t}).then(function(t){t?e.dialog._setState(I.Showing):e.dialog._setState(I.Hidden,!1)})})},exit:y,show:function(){return i.wrapError(new d("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",w.contentDialogAlreadyShowing))},hide:_,onCommandClicked:_,onInputPaneShown:_,onInputPaneHidden:_}),Showing:u.Class.define(null,{name:"Showing",hidden:{get:function(){return!!this._pendingHide}},enter:function(){v(this,function(e,t){return t.then(function(){return e._pendingHide=null,p.addClass(e.dialog._dom.root,E._visible),e.dialog._addExternalListeners(),f._KeyboardInfo._visible&&e.dialog._renderForInputPane(),r.shown(e.dialog._dismissable),e.dialog._playEntranceAnimation()}).then(function(){e.dialog._fireEvent(S.afterShow)}).then(function(){e.dialog._setState(I.Shown,e._pendingHide)})})},exit:y,show:function(){if(this._pendingHide){var e=this._pendingHide.dismissalResult;return this._pendingHide=null,this.dialog._resetDismissalPromise(e,new o).promise}return i.wrapError(new d("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",w.contentDialogAlreadyShowing))},hide:function(e){this._pendingHide={dismissalResult:e}},onCommandClicked:_,onInputPaneShown:l,onInputPaneHidden:h}),Shown:u.Class.define(null,{name:"Shown",hidden:!1,enter:function(e){e&&this.hide(e.dismissalResult)},exit:_,show:function(){return i.wrapError(new d("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",w.contentDialogAlreadyShowing))},hide:function(e){this.dialog._setState(I.BeforeHide,e)},onCommandClicked:function(e){this.hide(e)},onInputPaneShown:l,onInputPaneHidden:h}),BeforeHide:u.Class.define(null,{name:"BeforeHide",hidden:!1,enter:function(e){v(this,function(t,n){return n.then(function(){return t.dialog._fireBeforeHide(e)}).then(function(n){n?t.dialog._setState(I.Hiding,e):t.dialog._setState(I.Shown,null)})})},exit:y,show:function(){return i.wrapError(new d("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",w.contentDialogAlreadyShowing))},hide:_,onCommandClicked:_,onInputPaneShown:l,onInputPaneHidden:h}),Hiding:u.Class.define(null,{name:"Hiding",hidden:{get:function(){return!this._showIsPending}},enter:function(e){v(this,function(t,n){return n.then(function(){t._showIsPending=!1,t.dialog._resetDismissalPromise(e,null)}).then(function(){return t.dialog._playExitAnimation()}).then(function(){t.dialog._removeExternalListeners(),r.hidden(t.dialog._dismissable),p.removeClass(t.dialog._dom.root,E._visible),t.dialog._clearInputPaneRendering(),t.dialog._fireAfterHide(e)}).then(function(){t.dialog._setState(I.Hidden,t._showIsPending)})})},exit:y,show:function(){return this._showIsPending?i.wrapError(new d("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",w.contentDialogAlreadyShowing)):(this._showIsPending=!0,this.dialog._dismissedSignal=new o,this.dialog._dismissedSignal.promise)},hide:function(e){this._showIsPending&&(this._showIsPending=!1,this.dialog._resetDismissalPromise(e,null))},onCommandClicked:_,onInputPaneShown:_,onInputPaneHidden:_}),Disposed:u.Class.define(null,{name:"Disposed",hidden:!0,enter:function(){r.hidden(this.dialog._dismissable),this.dialog._removeExternalListeners(),this.dialog._dismissedSignal&&this.dialog._dismissedSignal.error(new d("WinJS.UI.ContentDialog.ControlDisposed",w.controlDisposed))},exit:_,show:function(){return i.wrapError(new d("WinJS.UI.ContentDialog.ControlDisposed",w.controlDisposed))},hide:_,onCommandClicked:_,onInputPaneShown:_,onInputPaneHidden:_})},x=u.Class.define(function(e,t){if(e&&e.winControl)throw new d("WinJS.UI.ContentDialog.DuplicateConstruction",w.duplicateConstruction);t=t||{},this._onInputPaneShownBound=this._onInputPaneShown.bind(this),this._onInputPaneHiddenBound=this._onInputPaneHidden.bind(this),this._onUpdateInputPaneRenderingBound=this._onUpdateInputPaneRendering.bind(this),this._disposed=!1,this._currentFocus=null,this._rendered={registeredForResize:!1,resizedForInputPane:!1,top:"",bottom:""},this._initializeDom(e||a.document.createElement("div")),this._setState(I.Init),this.title="",this.primaryCommandText="",this.primaryCommandDisabled=!1,this.secondaryCommandText="",this.secondaryCommandDisabled=!1,m.setOptions(this,t)},{element:{get:function(){return this._dom.root}},title:{get:function(){return this._title},set:function(e){e=e||"",this._title!==e&&(this._title=e,this._dom.title.textContent=e,this._dom.title.style.display=e?"":"none")}},primaryCommandText:{get:function(){return this._primaryCommandText},set:function(e){e=e||"",this._primaryCommandText!==e&&(this._primaryCommandText=e,this._dom.commands[0].textContent=e,this._updateCommandsUI())}},secondaryCommandText:{get:function(){return this._secondaryCommandText},set:function(e){e=e||"",this._secondaryCommandText!==e&&(this._secondaryCommandText=e,this._dom.commands[1].textContent=e,this._updateCommandsUI())}},primaryCommandDisabled:{get:function(){return this._primaryCommandDisabled},set:function(e){e=!!e,this._primaryCommandDisabled!==e&&(this._primaryCommandDisabled=e,this._dom.commands[0].disabled=e)}},secondaryCommandDisabled:{get:function(){return this._secondaryCommandDisabled},set:function(e){e=!!e,this._secondaryCommandDisabled!==e&&(this._secondaryCommandDisabled=e,this._dom.commands[1].disabled=e)}},hidden:{get:function(){return this._state.hidden},set:function(e){if(!e&&this._state.hidden){var t=function(){};this.show().done(t,t)}else e&&!this._state.hidden&&this.hide(C.none)}},dispose:function(){this._disposed||(this._setState(I.Disposed),this._disposed=!0,p._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),t._disposeElement(this._dom.content))},show:function(){return this._state.show()},hide:function(e){this._state.hide(void 0===e?C.none:e)},_initializeDom:function(t){var n=a.document.createElement("div");n.className=E.content,p._reparentChildren(t,n),t.winControl=this,p.addClass(t,E.contentDialog),p.addClass(t,E._verticalAlignment),p.addClass(t,"win-disposable"),t.innerHTML='<div class="'+E.backgroundOverlay+'"></div><div class="'+E._tabStop+'"></div><div tabindex="-1" role="dialog" class="'+E.dialog+'"><h2 class="'+E.title+'" role="heading"></h2><div class="'+E._scroller+'"></div><div class="'+E.commands+'"><button type="button" class="'+E._commandSpacer+' win-button"></button><button type="button" class="'+E.primaryCommand+' win-button"></button><button type="button" class="'+E.secondaryCommand+' win-button"></button></div></div><div class="'+E._tabStop+'"></div><div class="'+E._column0or1+'"></div>';var i={};i.root=t,i.backgroundOverlay=i.root.firstElementChild,i.startBodyTab=i.backgroundOverlay.nextElementSibling,i.dialog=i.startBodyTab.nextElementSibling,i.title=i.dialog.firstElementChild,i.scroller=i.title.nextElementSibling,i.commandContainer=i.scroller.nextElementSibling,i.commandSpacer=i.commandContainer.firstElementChild,i.commands=[],i.commands.push(i.commandSpacer.nextElementSibling),i.commands.push(i.commands[0].nextElementSibling),i.endBodyTab=i.dialog.nextElementSibling,i.content=n,this._dom=i,i.scroller.appendChild(i.content),p._ensureId(i.title),p._ensureId(i.startBodyTab),p._ensureId(i.endBodyTab),i.dialog.setAttribute("aria-labelledby",i.title.id),i.startBodyTab.setAttribute("x-ms-aria-flowfrom",i.endBodyTab.id),i.endBodyTab.setAttribute("aria-flowto",i.startBodyTab.id),this._updateTabIndices(),i.root.addEventListener("keydown",this._onKeyDownEnteringElement.bind(this),!0),p._addEventListener(i.root,"pointerdown",this._onPointerDown.bind(this)),p._addEventListener(i.root,"pointerup",this._onPointerUp.bind(this)),i.root.addEventListener("click",this._onClick.bind(this)),p._addEventListener(i.startBodyTab,"focusin",this._onStartBodyTabFocusIn.bind(this)),p._addEventListener(i.endBodyTab,"focusin",this._onEndBodyTabFocusIn.bind(this)),i.commands[0].addEventListener("click",this._onCommandClicked.bind(this,C.primary)),i.commands[1].addEventListener("click",this._onCommandClicked.bind(this,C.secondary)),e()&&p.addClass(i.root,E._deviceFixedSupported)},_updateCommandsUI:function(){this._dom.commands[0].style.display=this.primaryCommandText?"":"none",this._dom.commands[1].style.display=this.secondaryCommandText?"":"none",this._dom.commandSpacer.style.display=this.primaryCommandText&&!this.secondaryCommandText||!this.primaryCommandText&&this.secondaryCommandText?"":"none"},_updateTabIndices:function(){this._updateTabIndicesThrottled||(this._updateTabIndicesThrottled=s._throttledFunction(100,this._updateTabIndicesImpl.bind(this))),this._updateTabIndicesThrottled()},_updateTabIndicesImpl:function(){var e=p._getHighAndLowTabIndices(this._dom.content);this._dom.startBodyTab.tabIndex=e.lowest,this._dom.commands[0].tabIndex=e.highest,this._dom.commands[1].tabIndex=e.highest,this._dom.endBodyTab.tabIndex=e.highest},_elementInDialog:function(e){return this._dom.dialog.contains(e)||e===this._dom.startBodyTab||e===this._dom.endBodyTab},_onCommandClicked:function(e){this._state.onCommandClicked(e)},_onPointerDown:function(e){e.stopPropagation(),this._elementInDialog(e.target)||e.preventDefault()},_onPointerUp:function(e){e.stopPropagation(),this._elementInDialog(e.target)||e.preventDefault()},_onClick:function(e){e.stopPropagation(),this._elementInDialog(e.target)||e.preventDefault()},_onKeyDownEnteringElement:function(e){e.keyCode===p.Key.tab&&this._updateTabIndices()},_onStartBodyTabFocusIn:function(){p._focusLastFocusableElement(this._dom.dialog)},_onEndBodyTabFocusIn:function(){p._focusFirstFocusableElement(this._dom.dialog)},_onInputPaneShown:function(e){this._state.onInputPaneShown(e.detail.originalEvent)},_onInputPaneHidden:function(){this._state.onInputPaneHidden()},_onUpdateInputPaneRendering:function(){this._renderForInputPane()},_setState:function(e,t){this._disposed||(this._state&&this._state.exit(),this._state=new e,this._state.dialog=this,this._state.enter(t))},_resetDismissalPromise:function(e,t){var n=this._dismissedSignal,i=this._dismissedSignal=t;return n.complete({result:e}),i},_cancelDismissalPromise:function(e){var t=this._dismissedSignal,n=this._dismissedSignal=e;return t.cancel(),n},_fireEvent:function(e,t){t=t||{};var n=t.detail||null,i=!!t.cancelable,o=a.document.createEvent("CustomEvent");return o.initCustomEvent(e,!0,i,n),this._dom.root.dispatchEvent(o)},_fireBeforeShow:function(){return this._fireEvent(S.beforeShow,{cancelable:!0})},_fireBeforeHide:function(e){return this._fireEvent(S.beforeHide,{detail:{result:e},cancelable:!0})},_fireAfterHide:function(e){this._fireEvent(S.afterHide,{detail:{result:e}})},_playEntranceAnimation:function(){return n(g.fadeIn(this._dom.root))},_playExitAnimation:function(){return n(g.fadeOut(this._dom.root))},_addExternalListeners:function(){p._inputPaneListener.addEventListener(this._dom.root,"showing",this._onInputPaneShownBound),p._inputPaneListener.addEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_removeExternalListeners:function(){p._inputPaneListener.removeEventListener(this._dom.root,"showing",this._onInputPaneShownBound),p._inputPaneListener.removeEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_shouldResizeForInputPane:function(){if(this._rendered.resizedForInputPane)return!0;var e=this._dom.dialog.getBoundingClientRect(),t=f._KeyboardInfo._visibleDocTop>e.top||f._KeyboardInfo._visibleDocBottom<e.bottom;return t},_renderForInputPane:function(){var e=this._rendered;if(e.registeredForResize||(p._resizeNotifier.subscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),e.registeredForResize=!0),this._shouldResizeForInputPane()){var t=f._KeyboardInfo._visibleDocTop+"px",n=f._KeyboardInfo._visibleDocBottomOffset+"px";if(e.top!==t&&(this._dom.root.style.top=t,e.top=t),e.bottom!==n&&(this._dom.root.style.bottom=n,e.bottom=n),!e.resizedForInputPane){this._dom.scroller.insertBefore(this._dom.title,this._dom.content),this._dom.root.style.height="auto";var i=a.document.activeElement;i&&this._dom.scroller.contains(i)&&i.scrollIntoView(),e.resizedForInputPane=!0}}},_clearInputPaneRendering:function(){var e=this._rendered;e.registeredForResize&&(p._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),e.registeredForResize=!1),""!==e.top&&(this._dom.root.style.top="",e.top=""),""!==e.bottom&&(this._dom.root.style.bottom="",e.bottom=""),e.resizedForInputPane&&(this._dom.dialog.insertBefore(this._dom.title,this._dom.scroller),this._dom.root.style.height="",e.resizedForInputPane=!1)}},{DismissalResult:C,_ClassNames:E});return u.Class.mix(x,c.createEventProperties("beforeshow","aftershow","beforehide","afterhide")),u.Class.mix(x,m.DOMEventMixin),x})})}),i("require-style!less/styles-splitview",[],function(){}),i("require-style!less/colors-splitview",[],function(){}),i("WinJS/Controls/SplitView/_SplitView",["require","exports","../../Animations","../../Core/_Base","../../Core/_BaseUtils","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../_LightDismissService","../../Utilities/_OpenCloseMachine"],function(e,t,n,i,o,r,s,a,l,u,c,d,h){function m(e,t){t&&a.addClass(e,t)}function p(e,t){t&&a.removeClass(e,t)}function f(e,t){return t===b.width?{content:e.contentWidth,total:e.totalWidth}:{content:e.contentHeight,total:e.totalHeight}}e(["require-style!less/styles-splitview"]),e(["require-style!less/colors-splitview"]);var _=o._browserStyleEquivalents.transform,g={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},v={splitView:"win-splitview",pane:"win-splitview-pane",content:"win-splitview-content",paneClosed:"win-splitview-pane-closed",paneOpened:"win-splitview-pane-opened",_panePlaceholder:"win-splitview-paneplaceholder",_paneOutline:"win-splitview-paneoutline",_tabStop:"win-splitview-tabstop",_paneWrapper:"win-splitview-panewrapper",_contentWrapper:"win-splitview-contentwrapper",_animating:"win-splitview-animating",_placementLeft:"win-splitview-placementleft",_placementRight:"win-splitview-placementright",_placementTop:"win-splitview-placementtop",_placementBottom:"win-splitview-placementbottom",_closedDisplayNone:"win-splitview-closeddisplaynone",_closedDisplayInline:"win-splitview-closeddisplayinline",_openedDisplayInline:"win-splitview-openeddisplayinline",_openedDisplayOverlay:"win-splitview-openeddisplayoverlay"},y={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},b={width:"width",height:"height"},w={none:"none",inline:"inline"},C={inline:"inline",overlay:"overlay"},E={left:"left",right:"right",top:"top",bottom:"bottom"},S={};S[w.none]=v._closedDisplayNone,S[w.inline]=v._closedDisplayInline;var I={};I[C.overlay]=v._openedDisplayOverlay,I[C.inline]=v._openedDisplayInline;var x={};x[E.left]=v._placementLeft,x[E.right]=v._placementRight,x[E.top]=v._placementTop,x[E.bottom]=v._placementBottom;var j=function(){function e(e,t){var n=this;if(void 0===t&&(t={}),this._updateDomImpl_rendered={paneIsFirst:void 0,isOpenedMode:void 0,closedDisplayMode:void 0,openedDisplayMode:void 0,panePlacement:void 0,panePlaceholderWidth:void 0,panePlaceholderHeight:void 0,isOverlayShown:void 0,startPaneTabIndex:void 0,endPaneTabIndex:void 0},e&&e.winControl)throw new l("WinJS.UI.SplitView.DuplicateConstruction",g.duplicateConstruction);this._initializeDom(e||c.document.createElement("div")),this._machine=new h.OpenCloseMachine({eventElement:this._dom.root,onOpen:function(){n._cachedHiddenPaneThickness=null;var e=n._getHiddenPaneThickness();return n._isOpenedMode=!0,n._updateDomImpl(),a.addClass(n._dom.root,v._animating),n._playShowAnimation(e).then(function(){a.removeClass(n._dom.root,v._animating)})},onClose:function(){return a.addClass(n._dom.root,v._animating),n._playHideAnimation(n._getHiddenPaneThickness()).then(function(){a.removeClass(n._dom.root,v._animating),n._isOpenedMode=!1,n._updateDomImpl()})},onUpdateDom:function(){n._updateDomImpl()},onUpdateDomWithIsOpened:function(e){n._isOpenedMode=e,n._updateDomImpl()}}),this._disposed=!1,this._dismissable=new d.LightDismissableElement({element:this._dom.paneWrapper,tabIndex:-1,onLightDismiss:function(){n.closePane()},onTakeFocus:function(e){n._dismissable.restoreFocus()||a._tryFocusOnAnyElement(n._dom.pane,e)}}),this._cachedHiddenPaneThickness=null,this.paneOpened=!1,this.closedDisplayMode=w.inline,this.openedDisplayMode=C.overlay,this.panePlacement=E.left,r.setOptions(this,t),a._inDom(this._dom.root).then(function(){n._rtl="rtl"===a._getComputedStyle(n._dom.root).direction,n._updateTabIndices(),n._machine.exitInit()})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paneElement",{get:function(){return this._dom.pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){return this._dom.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closedDisplayMode",{get:function(){return this._closedDisplayMode},set:function(e){w[e]&&this._closedDisplayMode!==e&&(this._closedDisplayMode=e,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openedDisplayMode",{get:function(){return this._openedDisplayMode},set:function(e){C[e]&&this._openedDisplayMode!==e&&(this._openedDisplayMode=e,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panePlacement",{get:function(){return this._panePlacement},set:function(e){E[e]&&this._panePlacement!==e&&(this._panePlacement=e,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paneOpened",{get:function(){return this._machine.opened},set:function(e){this._machine.opened=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._machine.dispose(),d.hidden(this._dismissable),s._disposeElement(this._dom.pane),s._disposeElement(this._dom.content))},e.prototype.openPane=function(){this._machine.open()},e.prototype.closePane=function(){this._machine.close()},e.prototype._initializeDom=function(e){var t=e.firstElementChild||c.document.createElement("div");a.addClass(t,v.pane),t.hasAttribute("tabIndex")||(t.tabIndex=-1);var n=c.document.createElement("div");a.addClass(n,v.content);for(var i=t.nextSibling;i;){var o=i.nextSibling;n.appendChild(i),i=o}var r=c.document.createElement("div");r.className=v._tabStop,a._ensureId(r);var s=c.document.createElement("div");s.className=v._tabStop,a._ensureId(s);var l=c.document.createElement("div");l.className=v._paneOutline;var u=c.document.createElement("div");u.className=v._paneWrapper,u.appendChild(r),u.appendChild(t),u.appendChild(l),u.appendChild(s);var d=c.document.createElement("div");d.className=v._panePlaceholder;var h=c.document.createElement("div");h.className=v._contentWrapper,h.appendChild(n),e.winControl=this,a.addClass(e,v.splitView),a.addClass(e,"win-disposable"),this._dom={root:e,pane:t,startPaneTab:r,endPaneTab:s,paneOutline:l,paneWrapper:u,panePlaceholder:d,content:n,contentWrapper:h},a._addEventListener(t,"keydown",this._onKeyDown.bind(this)),a._addEventListener(r,"focusin",this._onStartPaneTabFocusIn.bind(this)),a._addEventListener(s,"focusin",this._onEndPaneTabFocusIn.bind(this))},e.prototype._onKeyDown=function(e){e.keyCode===a.Key.tab&&this._updateTabIndices()},e.prototype._onStartPaneTabFocusIn=function(e){a._focusLastFocusableElement(this._dom.pane)},e.prototype._onEndPaneTabFocusIn=function(e){a._focusFirstFocusableElement(this._dom.pane)},e.prototype._measureElement=function(e){var t=a._getComputedStyle(e),n=a._getPositionRelativeTo(e,this._dom.root),i=parseInt(t.marginLeft,10),o=parseInt(t.marginTop,10);return{left:n.left-i,top:n.top-o,
contentWidth:a.getContentWidth(e),contentHeight:a.getContentHeight(e),totalWidth:a.getTotalWidth(e),totalHeight:a.getTotalHeight(e)}},e.prototype._setContentRect=function(e){var t=this._dom.contentWrapper.style;t.left=e.left+"px",t.top=e.top+"px",t.height=e.contentHeight+"px",t.width=e.contentWidth+"px"},e.prototype._prepareAnimation=function(e,t){var n=this._dom.paneWrapper.style;n.position="absolute",n.left=e.left+"px",n.top=e.top+"px",n.height=e.totalHeight+"px",n.width=e.totalWidth+"px";var i=this._dom.contentWrapper.style;i.position="absolute",this._setContentRect(t)},e.prototype._clearAnimation=function(){var e=this._dom.paneWrapper.style;e.position="",e.left="",e.top="",e.height="",e.width="",e[_.scriptName]="";var t=this._dom.contentWrapper.style;t.position="",t.left="",t.top="",t.height="",t.width="",t[_.scriptName]="";var n=this._dom.pane.style;n.height="",n.width="",n[_.scriptName]=""},e.prototype._getHiddenContentRect=function(e,t,n){if(this.openedDisplayMode===C.overlay)return e;var i=this._rtl?E.left:E.right,o=this.panePlacement===i||this.panePlacement===E.bottom?0:1,r={content:n.content-t.content,total:n.total-t.total};return this._horizontal?{left:e.left-o*r.total,top:e.top,contentWidth:e.contentWidth+r.content,contentHeight:e.contentHeight,totalWidth:e.totalWidth+r.total,totalHeight:e.totalHeight}:{left:e.left,top:e.top-o*r.total,contentWidth:e.contentWidth,contentHeight:e.contentHeight+r.content,totalWidth:e.totalWidth,totalHeight:e.totalHeight+r.total}},Object.defineProperty(e.prototype,"_horizontal",{get:function(){return this.panePlacement===E.left||this.panePlacement===E.right},enumerable:!0,configurable:!0}),e.prototype._getHiddenPaneThickness=function(){if(null===this._cachedHiddenPaneThickness)if(this._closedDisplayMode===w.none)this._cachedHiddenPaneThickness={content:0,total:0};else{this._isOpenedMode&&(a.removeClass(this._dom.root,v.paneOpened),a.addClass(this._dom.root,v.paneClosed));var e=this._measureElement(this._dom.pane);this._cachedHiddenPaneThickness=f(e,this._horizontal?b.width:b.height),this._isOpenedMode&&(a.removeClass(this._dom.root,v.paneClosed),a.addClass(this._dom.root,v.paneOpened))}return this._cachedHiddenPaneThickness},e.prototype._playShowAnimation=function(e){var t=this,i=this._horizontal?b.width:b.height,o=this._measureElement(this._dom.pane),r=this._measureElement(this._dom.content),s=f(o,i),a=this._getHiddenContentRect(r,e,s);this._prepareAnimation(o,a);var l=function(){var o=t._rtl?E.left:E.right,r=.3,a=e.total+r*(s.total-e.total);return n._resizeTransition(t._dom.paneWrapper,t._dom.pane,{from:a,to:s.total,actualSize:s.total,dimension:i,anchorTrailingEdge:t.panePlacement===o||t.panePlacement===E.bottom})},u=function(){return t.openedDisplayMode===C.inline&&t._setContentRect(r),l()};return u().then(function(){t._clearAnimation()})},e.prototype._playHideAnimation=function(e){var t=this,i=this._horizontal?b.width:b.height,o=this._measureElement(this._dom.pane),r=this._measureElement(this._dom.content),s=f(o,i),a=this._getHiddenContentRect(r,e,s);this._prepareAnimation(o,r);var l=function(){var o=t._rtl?E.left:E.right,r=.3,a=s.total-r*(s.total-e.total);return n._resizeTransition(t._dom.paneWrapper,t._dom.pane,{from:a,to:e.total,actualSize:s.total,dimension:i,anchorTrailingEdge:t.panePlacement===o||t.panePlacement===E.bottom})},u=function(){return t.openedDisplayMode===C.inline&&t._setContentRect(a),l()};return u().then(function(){t._clearAnimation()})},e.prototype._updateTabIndices=function(){this._updateTabIndicesThrottled||(this._updateTabIndicesThrottled=o._throttledFunction(100,this._updateTabIndicesImpl.bind(this))),this._updateTabIndicesThrottled()},e.prototype._updateTabIndicesImpl=function(){var e=a._getHighAndLowTabIndices(this._dom.pane);this._highestPaneTabIndex=e.highest,this._lowestPaneTabIndex=e.lowest,this._machine.updateDom()},e.prototype._updateDomImpl=function(){var e=this._updateDomImpl_rendered,t=this.panePlacement===E.left||this.panePlacement===E.top;t!==e.paneIsFirst&&(t?(this._dom.root.appendChild(this._dom.panePlaceholder),this._dom.root.appendChild(this._dom.paneWrapper),this._dom.root.appendChild(this._dom.contentWrapper)):(this._dom.root.appendChild(this._dom.contentWrapper),this._dom.root.appendChild(this._dom.paneWrapper),this._dom.root.appendChild(this._dom.panePlaceholder))),e.paneIsFirst=t,e.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?(a.removeClass(this._dom.root,v.paneClosed),a.addClass(this._dom.root,v.paneOpened)):(a.removeClass(this._dom.root,v.paneOpened),a.addClass(this._dom.root,v.paneClosed))),e.isOpenedMode=this._isOpenedMode,e.panePlacement!==this.panePlacement&&(p(this._dom.root,x[e.panePlacement]),m(this._dom.root,x[this.panePlacement]),e.panePlacement=this.panePlacement),e.closedDisplayMode!==this.closedDisplayMode&&(p(this._dom.root,S[e.closedDisplayMode]),m(this._dom.root,S[this.closedDisplayMode]),e.closedDisplayMode=this.closedDisplayMode),e.openedDisplayMode!==this.openedDisplayMode&&(p(this._dom.root,I[e.openedDisplayMode]),m(this._dom.root,I[this.openedDisplayMode]),e.openedDisplayMode=this.openedDisplayMode);var n=this._isOpenedMode&&this.openedDisplayMode===C.overlay,i=n?this._lowestPaneTabIndex:-1,o=n?this._highestPaneTabIndex:-1;e.startPaneTabIndex!==i&&(this._dom.startPaneTab.tabIndex=i,i===-1?this._dom.startPaneTab.removeAttribute("x-ms-aria-flowfrom"):this._dom.startPaneTab.setAttribute("x-ms-aria-flowfrom",this._dom.endPaneTab.id),e.startPaneTabIndex=i),e.endPaneTabIndex!==o&&(this._dom.endPaneTab.tabIndex=o,o===-1?this._dom.endPaneTab.removeAttribute("aria-flowto"):this._dom.endPaneTab.setAttribute("aria-flowto",this._dom.startPaneTab.id),e.endPaneTabIndex=o);var r,s;if(n){var l=this._getHiddenPaneThickness();this._horizontal?(r=l.total+"px",s=""):(r="",s=l.total+"px")}else r="",s="";if(e.panePlaceholderWidth!==r||e.panePlaceholderHeight!==s){var u=this._dom.panePlaceholder.style;u.width=r,u.height=s,e.panePlaceholderWidth=r,e.panePlaceholderHeight=s}e.isOverlayShown!==n&&(n?d.shown(this._dismissable):d.hidden(this._dismissable),e.isOverlayShown=n)},e.ClosedDisplayMode=w,e.OpenedDisplayMode=C,e.PanePlacement=E,e.supportedForProcessing=!0,e._ClassNames=v,e}();t.SplitView=j,i.Class.mix(j,u.createEventProperties(y.beforeOpen,y.afterOpen,y.beforeClose,y.afterClose)),i.Class.mix(j,r.DOMEventMixin)}),i("WinJS/Controls/SplitView",["require","exports","../Core/_Base"],function(e,t,n){var i=null;n.Namespace.define("WinJS.UI",{SplitView:{get:function(){return i||e(["./SplitView/_SplitView"],function(e){i=e}),i.SplitView}}})}),i("require-style!less/styles-splitviewpanetoggle",[],function(){}),i("require-style!less/colors-splitviewpanetoggle",[],function(){}),i("WinJS/Controls/SplitViewPaneToggle/_SplitViewPaneToggle",["require","exports","../../Core/_Base","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../Utilities/_KeyboardBehavior","../../Utilities/_Hoverable"],function(e,t,n,i,o,r,s,a,l,u){function c(e){return e&&e.winControl}function d(e){var t=c(e);return!!t&&t.paneOpened}u.isHoverable,e(["require-style!less/styles-splitviewpanetoggle"]),e(["require-style!less/colors-splitviewpanetoggle"]);var h={splitViewPaneToggle:"win-splitviewpanetoggle"},m={invoked:"invoked"},p={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badButtonElement(){return"Invalid argument: The SplitViewPaneToggle's element must be a button element"}},f=function(){function e(e,t){if(void 0===t&&(t={}),this._updateDom_rendered={splitView:void 0},e&&e.winControl)throw new r("WinJS.UI.SplitViewPaneToggle.DuplicateConstruction",p.duplicateConstruction);this._onPaneStateSettledBound=this._onPaneStateSettled.bind(this),this._ariaExpandedMutationObserver=new o._MutationObserver(this._onAriaExpandedPropertyChanged.bind(this)),this._initializeDom(e||a.document.createElement("button")),this._disposed=!1,this.splitView=null,i.setOptions(this,t),this._initialized=!0,this._updateDom()}return Object.defineProperty(e.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"splitView",{get:function(){return this._splitView},set:function(e){this._splitView=e,e&&(this._opened=d(e)),this._updateDom()},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._splitView&&this._removeListeners(this._splitView))},e.prototype._initializeDom=function(e){if("BUTTON"!==e.tagName)throw new r("WinJS.UI.SplitViewPaneToggle.BadButtonElement",p.badButtonElement);e.winControl=this,o.addClass(e,h.splitViewPaneToggle),o.addClass(e,"win-disposable"),e.hasAttribute("type")||(e.type="button"),new l._WinKeyboard(e),e.addEventListener("click",this._onClick.bind(this)),this._dom={root:e}},e.prototype._updateDom=function(){if(this._initialized&&!this._disposed){var e=this._updateDom_rendered;if(this._splitView!==e.splitView&&(e.splitView&&(this._dom.root.removeAttribute("aria-controls"),this._removeListeners(e.splitView)),this._splitView&&(o._ensureId(this._splitView),this._dom.root.setAttribute("aria-controls",this._splitView.id),this._addListeners(this._splitView)),e.splitView=this._splitView),this._splitView){var t=this._opened?"true":"false";o._setAttribute(this._dom.root,"aria-expanded",t);var n=c(this._splitView);n&&(n.paneOpened=this._opened)}}},e.prototype._addListeners=function(e){e.addEventListener("_openCloseStateSettled",this._onPaneStateSettledBound),this._ariaExpandedMutationObserver.observe(this._dom.root,{attributes:!0,attributeFilter:["aria-expanded"]})},e.prototype._removeListeners=function(e){e.removeEventListener("_openCloseStateSettled",this._onPaneStateSettledBound),this._ariaExpandedMutationObserver.disconnect()},e.prototype._fireEvent=function(e){var t=a.document.createEvent("CustomEvent");return t.initCustomEvent(e,!0,!1,null),this._dom.root.dispatchEvent(t)},e.prototype._onPaneStateSettled=function(e){e.target===this._splitView&&(this._opened=d(this._splitView),this._updateDom())},e.prototype._onAriaExpandedPropertyChanged=function(e){var t="true"===this._dom.root.getAttribute("aria-expanded");this._opened=t,this._updateDom()},e.prototype._onClick=function(e){this._invoked()},e.prototype._invoked=function(){this._disposed||(this._splitView&&(this._opened=!this._opened,this._updateDom()),this._fireEvent(m.invoked))},e._ClassNames=h,e.supportedForProcessing=!0,e}();t.SplitViewPaneToggle=f,n.Class.mix(f,s.createEventProperties(m.invoked)),n.Class.mix(f,i.DOMEventMixin)}),i("WinJS/Controls/SplitViewPaneToggle",["require","exports","../Core/_Base"],function(e,t,n){var i=null;n.Namespace.define("WinJS.UI",{SplitViewPaneToggle:{get:function(){return i||e(["./SplitViewPaneToggle/_SplitViewPaneToggle"],function(e){i=e}),i.SplitViewPaneToggle}}})}),i("WinJS/Controls/AppBar/_Constants",["require","exports","../CommandingSurface/_Constants"],function(e,t,n){t.ClassNames={controlCssClass:"win-appbar",disposableCssClass:"win-disposable",actionAreaCssClass:"win-appbar-actionarea",overflowButtonCssClass:"win-appbar-overflowbutton",spacerCssClass:"win-appbar-spacer",ellipsisCssClass:"win-appbar-ellipsis",overflowAreaCssClass:"win-appbar-overflowarea",contentFlyoutCssClass:"win-appbar-contentflyout",emptyappbarCssClass:"win-appbar-empty",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",openedClass:"win-appbar-opened",closedClass:"win-appbar-closed",noneClass:"win-appbar-closeddisplaynone",minimalClass:"win-appbar-closeddisplayminimal",compactClass:"win-appbar-closeddisplaycompact",fullClass:"win-appbar-closeddisplayfull",placementTopClass:"win-appbar-top",placementBottomClass:"win-appbar-bottom"},t.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",commandPropertyMutated:"_commandpropertymutated"},t.controlMinWidth=n.controlMinWidth,t.defaultClosedDisplayMode="compact",t.defaultOpened=!1,t.defaultPlacement="bottom",t.typeSeparator="separator",t.typeContent="content",t.typeButton="button",t.typeToggle="toggle",t.typeFlyout="flyout",t.commandSelector=".win-command",t.primaryCommandSection="primary",t.secondaryCommandSection="secondary"}),i("require-style!less/styles-appbar",[],function(){}),i("WinJS/Controls/AppBar/_AppBar",["require","exports","../../Core/_Base","../AppBar/_Constants","../CommandingSurface","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../Utilities/_KeyboardInfo","../../_LightDismissService","../../Promise","../../Core/_Resources","../../Utilities/_OpenCloseMachine","../../Core/_WriteProfilerMark"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,m,p,f,_){function g(e,t){t&&a.addClass(e,t)}function v(e,t){t&&a.removeClass(e,t)}e(["require-style!less/styles-appbar"]);var y=d._KeyboardInfo,b={get ariaLabel(){return p._getWinJSString("ui/appBarAriaLabel").value},get overflowButtonAriaLabel(){return p._getWinJSString("ui/appBarOverflowButtonAriaLabel").value},get mustContainCommands(){return"The AppBar can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},w={none:"none",minimal:"minimal",compact:"compact",full:"full"},C={};C[w.none]=i.ClassNames.noneClass,C[w.minimal]=i.ClassNames.minimalClass,C[w.compact]=i.ClassNames.compactClass,C[w.full]=i.ClassNames.fullClass;var E={top:"top",bottom:"bottom"},S={};S[E.top]=i.ClassNames.placementTopClass,S[E.bottom]=i.ClassNames.placementBottomClass;var I=function(){function e(t,n){var s=this;if(void 0===n&&(n={}),this._updateDomImpl_renderedState={isOpenedMode:void 0,placement:void 0,closedDisplayMode:void 0,adjustedOffsets:{top:void 0,bottom:void 0}},this._writeProfilerMark("constructor,StartTM"),t&&t.winControl)throw new l("WinJS.UI.AppBar.DuplicateConstruction",b.duplicateConstruction);this._initializeDom(t||c.document.createElement("div"));var u=new f.OpenCloseMachine({eventElement:this.element,onOpen:function(){var t=s._commandingSurface.createOpenAnimation(s._getClosedHeight());return s.element.style.position="fixed",s._placement===e.Placement.top?s.element.style.top=d._KeyboardInfo._layoutViewportCoords.visibleDocTop+"px":s.element.style.bottom=d._KeyboardInfo._layoutViewportCoords.visibleDocBottom+"px",s._synchronousOpen(),t.execute().then(function(){s.element.style.position="",s.element.style.top=s._adjustedOffsets.top,s.element.style.bottom=s._adjustedOffsets.bottom})},onClose:function(){var t=s._commandingSurface.createCloseAnimation(s._getClosedHeight());return s.element.style.position="fixed",s._placement===e.Placement.top?s.element.style.top=d._KeyboardInfo._layoutViewportCoords.visibleDocTop+"px":s.element.style.bottom=d._KeyboardInfo._layoutViewportCoords.visibleDocBottom+"px",t.execute().then(function(){s._synchronousClose(),s.element.style.position="",s.element.style.top=s._adjustedOffsets.top,s.element.style.bottom=s._adjustedOffsets.bottom})},onUpdateDom:function(){s._updateDomImpl()},onUpdateDomWithIsOpened:function(e){s._isOpenedMode=e,s._updateDomImpl()}});this._handleShowingKeyboardBound=this._handleShowingKeyboard.bind(this),this._handleHidingKeyboardBound=this._handleHidingKeyboard.bind(this),a._inputPaneListener.addEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),a._inputPaneListener.addEventListener(this._dom.root,"hiding",this._handleHidingKeyboardBound),this._disposed=!1,this._cachedClosedHeight=null,this._commandingSurface=new o._CommandingSurface(this._dom.commandingSurfaceEl,{openCloseMachine:u}),g(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-actionarea"),i.ClassNames.actionAreaCssClass),g(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowarea"),i.ClassNames.overflowAreaCssClass),g(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowbutton"),i.ClassNames.overflowButtonCssClass),g(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-ellipsis"),i.ClassNames.ellipsisCssClass),this._isOpenedMode=i.defaultOpened,this._dismissable=new h.LightDismissableElement({element:this._dom.root,tabIndex:this._dom.root.hasAttribute("tabIndex")?this._dom.root.tabIndex:-1,onLightDismiss:function(){s.close()},onTakeFocus:function(e){s._dismissable.restoreFocus()||s._commandingSurface.takeFocus(e)}}),this.closedDisplayMode=i.defaultClosedDisplayMode,this.placement=i.defaultPlacement,this.opened=this._isOpenedMode,r.setOptions(this,n),a._inDom(this.element).then(function(){return s._commandingSurface.initialized}).then(function(){u.exitInit(),s._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(e.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._commandingSurface.data},set:function(e){this._commandingSurface.data=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closedDisplayMode",{get:function(){return this._commandingSurface.closedDisplayMode},set:function(e){w[e]&&(this._commandingSurface.closedDisplayMode=e,this._cachedClosedHeight=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placement",{get:function(){return this._placement},set:function(e){if(E[e]&&this._placement!==e){switch(this._placement=e,e){case E.top:this._commandingSurface.overflowDirection="bottom";break;case E.bottom:this._commandingSurface.overflowDirection="top"}this._adjustedOffsets=this._computeAdjustedOffsets(),this._commandingSurface.deferredDomUpate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._commandingSurface.opened},set:function(e){this._commandingSurface.opened=e},enumerable:!0,configurable:!0}),e.prototype.open=function(){this._commandingSurface.open()},e.prototype.close=function(){this._commandingSurface.close()},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,h.hidden(this._dismissable),this._commandingSurface.dispose(),a._inputPaneListener.removeEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),a._inputPaneListener.removeEventListener(this._dom.root,"hiding",this._handleHidingKeyboardBound),s.disposeSubTree(this.element))},e.prototype.forceLayout=function(){this._commandingSurface.forceLayout()},e.prototype.getCommandById=function(e){return this._commandingSurface.getCommandById(e)},e.prototype.showOnlyCommands=function(e){return this._commandingSurface.showOnlyCommands(e)},e.prototype._writeProfilerMark=function(e){_("WinJS.UI.AppBar:"+this._id+":"+e)},e.prototype._initializeDom=function(e){this._writeProfilerMark("_intializeDom,info"),e.winControl=this,this._id=e.id||a._uniqueID(e),a.addClass(e,i.ClassNames.controlCssClass),a.addClass(e,i.ClassNames.disposableCssClass);var t=e.getAttribute("role");t||e.setAttribute("role","menubar");var n=e.getAttribute("aria-label");n||e.setAttribute("aria-label",b.ariaLabel);var o=document.createElement("DIV");a._reparentChildren(e,o),e.appendChild(o),this._dom={root:e,commandingSurfaceEl:o}},e.prototype._handleShowingKeyboard=function(e){var t=this;if(this._dom.root.contains(c.document.activeElement)){var n=e.detail.originalEvent;n.ensuredFocusedElementInView=!0}var i=y._animationShowLength+y._scrollTimeout;return m.timeout(i).then(function(){t._shouldAdjustForShowingKeyboard()&&!t._disposed&&(t._adjustedOffsets=t._computeAdjustedOffsets(),t._commandingSurface.deferredDomUpate())})},e.prototype._shouldAdjustForShowingKeyboard=function(){return y._visible&&!y._isResized},e.prototype._handleHidingKeyboard=function(){this._adjustedOffsets=this._computeAdjustedOffsets(),this._commandingSurface.deferredDomUpate()},e.prototype._computeAdjustedOffsets=function(){var e={top:"",bottom:""};return this._placement===E.bottom?e.bottom=y._visibleDocBottomOffset+"px":this._placement===E.top&&(e.top=y._visibleDocTop+"px"),e},e.prototype._synchronousOpen=function(){this._isOpenedMode=!0,this._updateDomImpl()},e.prototype._synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl()},e.prototype._updateDomImpl=function(){var e=this._updateDomImpl_renderedState;e.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?this._updateDomImpl_renderOpened():this._updateDomImpl_renderClosed(),e.isOpenedMode=this._isOpenedMode),e.placement!==this.placement&&(v(this._dom.root,S[e.placement]),g(this._dom.root,S[this.placement]),e.placement=this.placement),e.closedDisplayMode!==this.closedDisplayMode&&(v(this._dom.root,C[e.closedDisplayMode]),g(this._dom.root,C[this.closedDisplayMode]),e.closedDisplayMode=this.closedDisplayMode),e.adjustedOffsets.top!==this._adjustedOffsets.top&&(this._dom.root.style.top=this._adjustedOffsets.top,e.adjustedOffsets.top=this._adjustedOffsets.top),e.adjustedOffsets.bottom!==this._adjustedOffsets.bottom&&(this._dom.root.style.bottom=this._adjustedOffsets.bottom,e.adjustedOffsets.bottom=this._adjustedOffsets.bottom),this._commandingSurface.updateDom()},e.prototype._getClosedHeight=function(){if(null===this._cachedClosedHeight){var e=this._isOpenedMode;this._isOpenedMode&&this._synchronousClose(),this._cachedClosedHeight=this._commandingSurface.getBoundingRects().commandingSurface.height,e&&this._synchronousOpen()}return this._cachedClosedHeight},e.prototype._updateDomImpl_renderOpened=function(){g(this._dom.root,i.ClassNames.openedClass),v(this._dom.root,i.ClassNames.closedClass),this._commandingSurface.synchronousOpen(),h.shown(this._dismissable)},e.prototype._updateDomImpl_renderClosed=function(){g(this._dom.root,i.ClassNames.closedClass),v(this._dom.root,i.ClassNames.openedClass),this._commandingSurface.synchronousClose(),h.hidden(this._dismissable)},e.ClosedDisplayMode=w,e.Placement=E,e.supportedForProcessing=!0,e}();t.AppBar=I,n.Class.mix(I,u.createEventProperties(i.EventNames.beforeOpen,i.EventNames.afterOpen,i.EventNames.beforeClose,i.EventNames.afterClose)),n.Class.mix(I,r.DOMEventMixin)}),i("WinJS/Controls/AppBar",["require","exports","../Core/_Base"],function(e,t,n){var i=null;n.Namespace.define("WinJS.UI",{AppBar:{get:function(){return i||e(["./AppBar/_AppBar"],function(e){i=e}),i.AppBar}}})}),i("ui",["WinJS/Core/_WinJS","WinJS/VirtualizedDataSource","WinJS/Vui","WinJS/Controls/IntrinsicControls","WinJS/Controls/ListView","WinJS/Controls/FlipView","WinJS/Controls/ItemContainer","WinJS/Controls/Repeater","WinJS/Controls/DatePicker","WinJS/Controls/TimePicker","WinJS/Controls/BackButton","WinJS/Controls/Rating","WinJS/Controls/ToggleSwitch","WinJS/Controls/SemanticZoom","WinJS/Controls/Pivot","WinJS/Controls/Hub","WinJS/Controls/Flyout","WinJS/Controls/_LegacyAppBar","WinJS/Controls/Menu","WinJS/Controls/SearchBox","WinJS/Controls/SettingsFlyout","WinJS/Controls/NavBar","WinJS/Controls/Tooltip","WinJS/Controls/ViewBox","WinJS/Controls/ContentDialog","WinJS/Controls/SplitView","WinJS/Controls/SplitViewPaneToggle","WinJS/Controls/SplitView/Command","WinJS/Controls/ToolBar","WinJS/Controls/AppBar"],function(e){"use strict";return e}),n(["WinJS/Core/_WinJS","ui"],function(t){l.WinJS=t,e.exports=t}),l.WinJS})}()}).call(t,n("./node_modules/webpack/buildin/global.js"))},0:function(e,t,n){n("./node_modules/babel-polyfill/lib/index.js"),e.exports=n("./src/index.js")}},[0]);